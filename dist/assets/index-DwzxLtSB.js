var eo=Object.defineProperty;var ki=U=>{throw TypeError(U)};var to=(U,G,Q)=>G in U?eo(U,G,{enumerable:!0,configurable:!0,writable:!0,value:Q}):U[G]=Q;var jt=(U,G,Q)=>to(U,typeof G!="symbol"?G+"":G,Q),Kn=(U,G,Q)=>G.has(U)||ki("Cannot "+Q);var Ue=(U,G,Q)=>(Kn(U,G,"read from private field"),Q?Q.call(U):G.get(U)),Pt=(U,G,Q)=>G.has(U)?ki("Cannot add the same private member more than once"):G instanceof WeakSet?G.add(U):G.set(U,Q),wt=(U,G,Q,q)=>(Kn(U,G,"write to private field"),q?q.call(U,Q):G.set(U,Q),Q),_t=(U,G,Q)=>(Kn(U,G,"access private method"),Q);var Sn=(U,G,Q,q)=>({set _(W){wt(U,G,W,Q)},get _(){return Ue(U,G,q)}});(function(){const G=document.createElement("link").relList;if(G&&G.supports&&G.supports("modulepreload"))return;for(const W of document.querySelectorAll('link[rel="modulepreload"]'))q(W);new MutationObserver(W=>{for(const J of W)if(J.type==="childList")for(const F of J.addedNodes)F.tagName==="LINK"&&F.rel==="modulepreload"&&q(F)}).observe(document,{childList:!0,subtree:!0});function Q(W){const J={};return W.integrity&&(J.integrity=W.integrity),W.referrerPolicy&&(J.referrerPolicy=W.referrerPolicy),W.crossOrigin==="use-credentials"?J.credentials="include":W.crossOrigin==="anonymous"?J.credentials="omit":J.credentials="same-origin",J}function q(W){if(W.ep)return;W.ep=!0;const J=Q(W);fetch(W.href,J)}})();const scriptRel="modulepreload",assetsURL=function(U){return"/"+U},seen={},__vitePreload=function(G,Q,q){let W=Promise.resolve();if(Q&&Q.length>0){document.getElementsByTagName("link");const F=document.querySelector("meta[property=csp-nonce]"),Y=(F==null?void 0:F.nonce)||(F==null?void 0:F.getAttribute("nonce"));W=Promise.allSettled(Q.map(X=>{if(X=assetsURL(X),X in seen)return;seen[X]=!0;const te=X.endsWith(".css"),re=te?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${X}"]${re}`))return;const ne=document.createElement("link");if(ne.rel=te?"stylesheet":scriptRel,te||(ne.as="script"),ne.crossOrigin="",ne.href=X,Y&&ne.setAttribute("nonce",Y),document.head.appendChild(ne),te)return new Promise((ie,oe)=>{ne.addEventListener("load",ie),ne.addEventListener("error",()=>oe(new Error(`Unable to preload CSS for ${X}`)))})}))}function J(F){const Y=new Event("vite:preloadError",{cancelable:!0});if(Y.payload=F,window.dispatchEvent(Y),!Y.defaultPrevented)throw F}return W.then(F=>{for(const Y of F||[])Y.status==="rejected"&&J(Y.reason);return G().catch(J)})};let commonjsGlobal,dataFromGraph,getDefaultExportFromCjs,makeNavId,randomGraphData,startWebscapeWanderer;(async()=>{function _mergeNamespaces(U,G){for(var Q=0;Q<G.length;Q++){const q=G[Q];if(typeof q!="string"&&!Array.isArray(q)){for(const W in q)if(W!=="default"&&!(W in U)){const J=Object.getOwnPropertyDescriptor(q,W);J&&Object.defineProperty(U,W,J.get?J:{enumerable:!0,get:()=>q[W]})}}}return Object.freeze(Object.defineProperty(U,Symbol.toStringTag,{value:"Module"}))}commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},getDefaultExportFromCjs=function(U){return U&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U};var moize$1={exports:{}},microMemoize={exports:{}},hasRequiredMicroMemoize;function requireMicroMemoize(){return hasRequiredMicroMemoize||(hasRequiredMicroMemoize=1,function(U,G){(function(Q,q){U.exports=q()})(commonjsGlobal,function(){var Q={isEqual:!0,isMatchingKey:!0,isPromise:!0,maxSize:!0,onCacheAdd:!0,onCacheChange:!0,onCacheHit:!0,transformKey:!0},q=Array.prototype.slice;function W(ne){var ie=ne.length;return ie?ie===1?[ne[0]]:ie===2?[ne[0],ne[1]]:ie===3?[ne[0],ne[1],ne[2]]:q.call(ne,0):[]}function J(ne){var ie={};for(var oe in ne)Q[oe]||(ie[oe]=ne[oe]);return ie}function F(ne){return typeof ne=="function"&&ne.isMemoized}function Y(ne,ie){return ne===ie||ne!==ne&&ie!==ie}function X(ne,ie){var oe={};for(var ae in ne)oe[ae]=ne[ae];for(var ae in ie)oe[ae]=ie[ae];return oe}var te=function(){function ne(ie){this.keys=[],this.values=[],this.options=ie;var oe=typeof ie.isMatchingKey=="function";oe?this.getKeyIndex=this._getKeyIndexFromMatchingKey:ie.maxSize>1?this.getKeyIndex=this._getKeyIndexForMany:this.getKeyIndex=this._getKeyIndexForSingle,this.canTransformKey=typeof ie.transformKey=="function",this.shouldCloneArguments=this.canTransformKey||oe,this.shouldUpdateOnAdd=typeof ie.onCacheAdd=="function",this.shouldUpdateOnChange=typeof ie.onCacheChange=="function",this.shouldUpdateOnHit=typeof ie.onCacheHit=="function"}return Object.defineProperty(ne.prototype,"size",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),Object.defineProperty(ne.prototype,"snapshot",{get:function(){return{keys:W(this.keys),size:this.size,values:W(this.values)}},enumerable:!1,configurable:!0}),ne.prototype._getKeyIndexFromMatchingKey=function(ie){var oe=this.options,ae=oe.isMatchingKey,ue=oe.maxSize,ce=this.keys,se=ce.length;if(!se)return-1;if(ae(ce[0],ie))return 0;if(ue>1){for(var le=1;le<se;le++)if(ae(ce[le],ie))return le}return-1},ne.prototype._getKeyIndexForMany=function(ie){var oe=this.options.isEqual,ae=this.keys,ue=ae.length;if(!ue)return-1;if(ue===1)return this._getKeyIndexForSingle(ie);var ce=ie.length,se,le;if(ce>1){for(var de=0;de<ue;de++)if(se=ae[de],se.length===ce){for(le=0;le<ce&&oe(se[le],ie[le]);le++);if(le===ce)return de}}else for(var de=0;de<ue;de++)if(se=ae[de],se.length===ce&&oe(se[0],ie[0]))return de;return-1},ne.prototype._getKeyIndexForSingle=function(ie){var oe=this.keys;if(!oe.length)return-1;var ae=oe[0],ue=ae.length;if(ie.length!==ue)return-1;var ce=this.options.isEqual;if(ue>1){for(var se=0;se<ue;se++)if(!ce(ae[se],ie[se]))return-1;return 0}return ce(ae[0],ie[0])?0:-1},ne.prototype.orderByLru=function(ie,oe,ae){for(var ue=this.keys,ce=this.values,se=ue.length,le=ae;le--;)ue[le+1]=ue[le],ce[le+1]=ce[le];ue[0]=ie,ce[0]=oe;var de=this.options.maxSize;se===de&&ae===se?(ue.pop(),ce.pop()):ae>=de&&(ue.length=ce.length=de)},ne.prototype.updateAsyncCache=function(ie){var oe=this,ae=this.options,ue=ae.onCacheChange,ce=ae.onCacheHit,se=this.keys[0],le=this.values[0];this.values[0]=le.then(function(de){return oe.shouldUpdateOnHit&&ce(oe,oe.options,ie),oe.shouldUpdateOnChange&&ue(oe,oe.options,ie),de},function(de){var he=oe.getKeyIndex(se);throw he!==-1&&(oe.keys.splice(he,1),oe.values.splice(he,1)),de})},ne}();function re(ne,ie){if(ie===void 0&&(ie={}),F(ne))return re(ne.fn,X(ne.options,ie));if(typeof ne!="function")throw new TypeError("You must pass a function to `memoize`.");var oe=ie.isEqual,ae=oe===void 0?Y:oe,ue=ie.isMatchingKey,ce=ie.isPromise,se=ce===void 0?!1:ce,le=ie.maxSize,de=le===void 0?1:le,he=ie.onCacheAdd,pe=ie.onCacheChange,ge=ie.onCacheHit,be=ie.transformKey,ve=X({isEqual:ae,isMatchingKey:ue,isPromise:se,maxSize:de,onCacheAdd:he,onCacheChange:pe,onCacheHit:ge,transformKey:be},J(ie)),Ee=new te(ve),ke=Ee.keys,Pe=Ee.values,Te=Ee.canTransformKey,xe=Ee.shouldCloneArguments,Ne=Ee.shouldUpdateOnAdd,Se=Ee.shouldUpdateOnChange,Ge=Ee.shouldUpdateOnHit,Ce=function(){var ze=xe?W(arguments):arguments;Te&&(ze=be(ze));var Ve=ke.length?Ee.getKeyIndex(ze):-1;if(Ve!==-1)Ge&&ge(Ee,ve,Ce),Ve&&(Ee.orderByLru(ke[Ve],Pe[Ve],Ve),Se&&pe(Ee,ve,Ce));else{var Ke=ne.apply(this,arguments),Ze=xe?ze:W(arguments);Ee.orderByLru(Ze,Ke,ke.length),se&&Ee.updateAsyncCache(Ce),Ne&&he(Ee,ve,Ce),Se&&pe(Ee,ve,Ce)}return Pe[0]};return Ce.cache=Ee,Ce.fn=ne,Ce.isMemoized=!0,Ce.options=ve,Ce}return re})}(microMemoize)),microMemoize.exports}var fastEquals={exports:{}},hasRequiredFastEquals;function requireFastEquals(){return hasRequiredFastEquals||(hasRequiredFastEquals=1,function(U,G){(function(Q,q){q(G)})(commonjsGlobal,function(Q){var q=typeof WeakMap=="function",W=Object.keys;function J(Pe,Te){return Pe===Te||Pe!==Pe&&Te!==Te}function F(Pe){return Pe.constructor===Object||Pe.constructor==null}function Y(Pe){return!!Pe&&typeof Pe.then=="function"}function X(Pe){return!!(Pe&&Pe.$$typeof)}function te(){var Pe=[];return{delete:function(Te){for(var xe=0;xe<Pe.length;++xe)if(Pe[xe][0]===Te){Pe.splice(xe,1);return}},get:function(Te){for(var xe=0;xe<Pe.length;++xe)if(Pe[xe][0]===Te)return Pe[xe][1]},set:function(Te,xe){for(var Ne=0;Ne<Pe.length;++Ne)if(Pe[Ne][0]===Te){Pe[Ne][1]=xe;return}Pe.push([Te,xe])}}}var re=function(Pe){return Pe?function(){return new WeakMap}:te}(q);function ne(Pe){return function(Te){var xe=Pe||Te;return function(Ne,Se,Ge,Ce,ze,Ve,Ke){Ke===void 0&&(Ke=re());var Ze=!!Ne&&typeof Ne=="object",et=!!Se&&typeof Se=="object";if(Ze!==et)return!1;if(!Ze&&!et)return xe(Ne,Se,Ke);var ot=Ke.get(Ne);if(ot&&Ke.get(Se))return ot===Se;Ke.set(Ne,Se),Ke.set(Se,Ne);var nt=xe(Ne,Se,Ke);return Ke.delete(Ne),Ke.delete(Se),nt}}}function ie(Pe,Te,xe,Ne){var Se=Pe.length;if(Te.length!==Se)return!1;for(;Se-- >0;)if(!xe(Pe[Se],Te[Se],Se,Se,Pe,Te,Ne))return!1;return!0}function oe(Pe,Te,xe,Ne){var Se=Pe.size===Te.size;if(Se&&Pe.size){var Ge={},Ce=0;Pe.forEach(function(ze,Ve){if(Se){var Ke=!1,Ze=0;Te.forEach(function(et,ot){!Ke&&!Ge[Ze]&&(Ke=xe(Ve,ot,Ce,Ze,Pe,Te,Ne)&&xe(ze,et,Ve,ot,Pe,Te,Ne),Ke&&(Ge[Ze]=!0)),Ze++}),Ce++,Se=Ke}})}return Se}var ae="_owner",ue=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function ce(Pe,Te,xe,Ne){var Se=W(Pe),Ge=Se.length;if(W(Te).length!==Ge)return!1;if(Ge)for(var Ce=void 0;Ge-- >0;){if(Ce=Se[Ge],Ce===ae){var ze=X(Pe),Ve=X(Te);if((ze||Ve)&&ze!==Ve)return!1}if(!ue(Te,Ce)||!xe(Pe[Ce],Te[Ce],Ce,Ce,Pe,Te,Ne))return!1}return!0}var se=function(){return/foo/g.flags==="g"?function(Pe,Te){return Pe.source===Te.source&&Pe.flags===Te.flags}:function(Pe,Te){return Pe.source===Te.source&&Pe.global===Te.global&&Pe.ignoreCase===Te.ignoreCase&&Pe.multiline===Te.multiline&&Pe.unicode===Te.unicode&&Pe.sticky===Te.sticky&&Pe.lastIndex===Te.lastIndex}}();function le(Pe,Te,xe,Ne){var Se=Pe.size===Te.size;if(Se&&Pe.size){var Ge={};Pe.forEach(function(Ce,ze){if(Se){var Ve=!1,Ke=0;Te.forEach(function(Ze,et){!Ve&&!Ge[Ke]&&(Ve=xe(Ce,Ze,ze,et,Pe,Te,Ne),Ve&&(Ge[Ke]=!0)),Ke++}),Se=Ve}})}return Se}var de=typeof Map=="function",he=typeof Set=="function",pe=Object.prototype.valueOf;function ge(Pe){var Te=typeof Pe=="function"?Pe(xe):function(Ne,Se,Ge,Ce,ze,Ve,Ke){return xe(Ne,Se,Ke)};function xe(Ne,Se,Ge){if(Ne===Se)return!0;if(Ne&&Se&&typeof Ne=="object"&&typeof Se=="object"){if(F(Ne)&&F(Se))return ce(Ne,Se,Te,Ge);var Ce=Array.isArray(Ne),ze=Array.isArray(Se);return Ce||ze?Ce===ze&&ie(Ne,Se,Te,Ge):(Ce=Ne instanceof Date,ze=Se instanceof Date,Ce||ze?Ce===ze&&J(Ne.getTime(),Se.getTime()):(Ce=Ne instanceof RegExp,ze=Se instanceof RegExp,Ce||ze?Ce===ze&&se(Ne,Se):Y(Ne)||Y(Se)?Ne===Se:de&&(Ce=Ne instanceof Map,ze=Se instanceof Map,Ce||ze)?Ce===ze&&oe(Ne,Se,Te,Ge):he&&(Ce=Ne instanceof Set,ze=Se instanceof Set,Ce||ze)?Ce===ze&&le(Ne,Se,Te,Ge):Ne.valueOf!==pe||Se.valueOf!==pe?J(Ne.valueOf(),Se.valueOf()):ce(Ne,Se,Te,Ge)))}return Ne!==Ne&&Se!==Se}return xe}var be=ge(),ve=ge(function(){return J}),Ee=ge(ne()),ke=ge(ne(J));Q.circularDeepEqual=Ee,Q.circularShallowEqual=ke,Q.createCustomEqual=ge,Q.deepEqual=be,Q.sameValueZeroEqual=J,Q.shallowEqual=ve,Object.defineProperty(Q,"__esModule",{value:!0})})}(fastEquals,fastEquals.exports)),fastEquals.exports}(function(U,G){(function(Q,q){U.exports=q(requireMicroMemoize(),requireFastEquals())})(commonjsGlobal,function(Q,q){function W(){return W=Object.assign?Object.assign.bind():function(_e){for(var Me=1;Me<arguments.length;Me++){var Ie=arguments[Me];for(var De in Ie)Object.prototype.hasOwnProperty.call(Ie,De)&&(_e[De]=Ie[De])}return _e},W.apply(this,arguments)}function J(_e,Me){if(_e==null)return{};var Ie={},De=Object.keys(_e),qe,Le;for(Le=0;Le<De.length;Le++)qe=De[Le],!(Me.indexOf(qe)>=0)&&(Ie[qe]=_e[qe]);return Ie}var F={isDeepEqual:!1,isPromise:!1,isReact:!1,isSerialized:!1,isShallowEqual:!1,matchesArg:void 0,matchesKey:void 0,maxAge:void 0,maxArgs:void 0,maxSize:1,onExpire:void 0,profileName:void 0,serializer:void 0,updateCacheForKey:void 0,transformArgs:void 0,updateExpire:!1};function Y(){for(var _e=arguments.length,Me=new Array(_e),Ie=0;Ie<_e;Ie++)Me[Ie]=arguments[Ie];return Me.reduce(function(De,qe){if(typeof De=="function")return typeof qe=="function"?function(){De.apply(this,arguments),qe.apply(this,arguments)}:De;if(typeof qe=="function")return qe})}function X(){for(var _e=arguments.length,Me=new Array(_e),Ie=0;Ie<_e;Ie++)Me[Ie]=arguments[Ie];return Me.reduce(function(De,qe){if(typeof De=="function")return typeof qe=="function"?function(){return De(qe.apply(this,arguments))}:De;if(typeof qe=="function")return qe})}function te(_e,Me){for(var Ie=0;Ie<_e.length;Ie++)if(_e[Ie].key===Me)return Ie;return-1}function re(_e,Me){var Ie=typeof Me=="function"?Me:function(De,qe){for(var Le=0;Le<qe.length;Le++)if(!_e(De[Le],qe[Le]))return!1;return!0};return function(De,qe){for(var Le=0;Le<De.length;Le++)if(De[Le].length===qe.length&&Ie(De[Le],qe))return Le;return-1}}function ne(_e,Me){return!Me||Me===F?_e:W({},_e,Me,{onCacheAdd:Y(_e.onCacheAdd,Me.onCacheAdd),onCacheChange:Y(_e.onCacheChange,Me.onCacheChange),onCacheHit:Y(_e.onCacheHit,Me.onCacheHit),transformArgs:X(_e.transformArgs,Me.transformArgs)})}function ie(_e){return typeof _e=="function"&&_e.isMoized}function oe(_e,Me,Ie){try{var De=Ie||Me||"anonymous";Object.defineProperty(_e,"name",{configurable:!0,enumerable:!1,value:"moized("+De+")",writable:!0})}catch{}}function ae(_e,Me,Ie){var De=te(_e,Me);De!==-1&&(clearTimeout(_e[De].timeoutId),Ie&&_e.splice(De,1))}function ue(_e,Me){var Ie=setTimeout(_e,Me);return typeof Ie.unref=="function"&&Ie.unref(),Ie}function ce(_e,Me,Ie,De){var qe=Me.maxAge;return function Le(Qe,We,$e){var Ye=Qe.keys[0];if(te(_e,Ye)===-1){var rt=function(){var at=re(Ie,De),me=at(Qe.keys,Ye),fe=Qe.values[me];~me&&(Qe.keys.splice(me,1),Qe.values.splice(me,1),typeof Me.onCacheChange=="function"&&Me.onCacheChange(Qe,We,$e)),ae(_e,Ye,!0),typeof Me.onExpire=="function"&&Me.onExpire(Ye)===!1&&(Qe.keys.unshift(Ye),Qe.values.unshift(fe),Le(Qe,We,$e),typeof Me.onCacheChange=="function"&&Me.onCacheChange(Qe,We,$e))};_e.push({expirationMethod:rt,key:Ye,timeoutId:ue(rt,qe)})}}}function se(_e,Me){return function(Ie){var De=Ie.keys[0],qe=te(_e,De);~qe&&(ae(_e,De,!1),_e[qe].timeoutId=ue(_e[qe].expirationMethod,Me.maxAge))}}function le(_e,Me,Ie,De){var qe=typeof Me.maxAge=="number"&&isFinite(Me.maxAge)?ce(_e,Me,Ie,De):void 0;return{onCacheAdd:qe,onCacheHit:qe&&Me.updateExpire?se(_e,Me):void 0}}var de={anonymousProfileNameCounter:1,isCollectingStats:!1,profiles:{}},he=!1;function pe(_e){_e?delete de.profiles[_e]:de.profiles={}}function ge(_e){_e===void 0&&(_e=!0),de.isCollectingStats=_e}function be(_e){var Me=_e.profileName;return function(){Me&&!de.profiles[Me]&&(de.profiles[Me]={calls:0,hits:0}),de.profiles[Me].calls++}}function ve(_e){return function(){var Me=de.profiles,Ie=_e.profileName;Me[Ie]||(Me[Ie]={calls:0,hits:0}),Me[Ie].calls++,Me[Ie].hits++}}function Ee(_e){return _e.displayName||_e.name||"Anonymous "+de.anonymousProfileNameCounter++}function ke(_e,Me){return _e?(Me/_e*100).toFixed(4)+"%":"0.0000%"}function Pe(_e){!de.isCollectingStats&&!he&&(console.warn('Stats are not currently being collected, please run "collectStats" to enable them.'),he=!0);var Me=de.profiles;if(_e){if(!Me[_e])return{calls:0,hits:0,usage:"0.0000%"};var Ie=Me[_e];return W({},Ie,{usage:ke(Ie.calls,Ie.hits)})}var De=Object.keys(de.profiles).reduce(function(qe,Le){return qe.calls+=Me[Le].calls,qe.hits+=Me[Le].hits,qe},{calls:0,hits:0});return W({},De,{profiles:Object.keys(Me).reduce(function(qe,Le){return qe[Le]=Pe(Le),qe},{}),usage:ke(De.calls,De.hits)})}function Te(_e){return de.isCollectingStats?{onCacheAdd:be(_e),onCacheHit:ve(_e)}:{}}var xe={arguments:!0,callee:!0,caller:!0,constructor:!0,length:!0,name:!0,prototype:!0};function Ne(_e,Me,Ie){Ie===void 0&&(Ie=[]),Object.getOwnPropertyNames(_e).forEach(function(De){if(!xe[De]&&Ie.indexOf(De)===-1){var qe=Object.getOwnPropertyDescriptor(_e,De);qe.get||qe.set?Object.defineProperty(Me,De,qe):Me[De]=_e[De]}})}function Se(_e,Me){var Ie=Me.expirations,De=_e.options,qe=re(De.isEqual,De.isMatchingKey),Le=_e;Le.clear=function(){var Qe=Le._microMemoizeOptions.onCacheChange,We=Le.cache;return We.keys.length=0,We.values.length=0,Qe&&Qe(We,Le.options,Le),!0},Le.clearStats=function(){pe(Le.options.profileName)},Le.get=function(Qe){var We=Le._microMemoizeOptions.transformKey,$e=Le.cache,Ye=We?We(Qe):Qe,rt=qe($e.keys,Ye);return rt!==-1?Le.apply(this,Qe):void 0},Le.getStats=function(){return Pe(Le.options.profileName)},Le.has=function(Qe){var We=Le._microMemoizeOptions.transformKey,$e=We?We(Qe):Qe;return qe(Le.cache.keys,$e)!==-1},Le.keys=function(){return Le.cacheSnapshot.keys},Le.remove=function(Qe){var We=Le._microMemoizeOptions,$e=We.onCacheChange,Ye=We.transformKey,rt=Le.cache,at=qe(rt.keys,Ye?Ye(Qe):Qe);if(at===-1)return!1;var me=rt.keys[at];return rt.keys.splice(at,1),rt.values.splice(at,1),$e&&$e(rt,Le.options,Le),ae(Ie,me,!0),!0},Le.set=function(Qe,We){var $e=Le._microMemoizeOptions,Ye=Le.cache,rt=Le.options,at=$e.onCacheAdd,me=$e.onCacheChange,fe=$e.transformKey,ye=fe?fe(Qe):Qe,Ae=qe(Ye.keys,ye);if(Ae===-1){var Be=rt.maxSize-1;Ye.size>Be&&(Ye.keys.length=Be,Ye.values.length=Be),Ye.keys.unshift(ye),Ye.values.unshift(We),rt.isPromise&&Ye.updateAsyncCache(Le),at&&at(Ye,rt,Le),me&&me(Ye,rt,Le)}else{var He=Ye.keys[Ae];Ye.values[Ae]=We,Ae>0&&Ye.orderByLru(He,We,Ae),rt.isPromise&&Ye.updateAsyncCache(Le),typeof me=="function"&&me(Ye,rt,Le)}},Le.values=function(){return Le.cacheSnapshot.values}}function Ge(_e,Me){var Ie=Me.expirations,De=Me.options,qe=Me.originalFunction,Le=_e.options;Object.defineProperties(_e,{_microMemoizeOptions:{configurable:!0,get:function(){return Le}},cacheSnapshot:{configurable:!0,get:function(){var We=_e.cache;return{keys:We.keys.slice(0),size:We.size,values:We.values.slice(0)}}},expirations:{configurable:!0,get:function(){return Ie}},expirationsSnapshot:{configurable:!0,get:function(){return Ie.slice(0)}},isMoized:{configurable:!0,get:function(){return!0}},options:{configurable:!0,get:function(){return De}},originalFunction:{configurable:!0,get:function(){return qe}}});var Qe=_e;Ne(qe,Qe)}function Ce(_e,Me){return Se(_e,Me),Ge(_e,Me),_e}var ze=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Ve(_e,Me,Ie){var De=_e(W({maxArgs:2,isShallowEqual:!0},Ie,{isReact:!1}));Me.displayName||(Me.displayName=Me.name||"Component");function qe(Le,Qe,We){this.props=Le,this.context=Qe,this.updater=We,this.MoizedComponent=De(Me)}return qe.prototype.isReactComponent={},qe.prototype.render=function(){return{$$typeof:ze,type:this.MoizedComponent,props:this.props,ref:null,key:null,_owner:null}},Ne(Me,qe,["contextType","contextTypes"]),qe.displayName="Moized("+(Me.displayName||Me.name||"Component")+")",oe(qe,Me.name,Ie.profileName),qe}function Ke(_e){return function(Me){if(_e>=Me.length)return Me;if(_e===0)return[];if(_e===1)return[Me[0]];if(_e===2)return[Me[0],Me[1]];if(_e===3)return[Me[0],Me[1],Me[2]];for(var Ie=[],De=0;De<_e;De++)Ie[De]=Me[De];return Ie}}function Ze(_e,Me){for(var Ie=_e.length,De=0;De<Ie;++De)if(_e[De]===Me)return De+1;return 0}function et(){var _e=[],Me=[];return function(Ie,De){var qe=typeof De;if(qe==="function"||qe==="symbol")return De.toString();if(typeof De=="object"){if(_e.length){var Le=Ze(_e,this);Le===0?_e[_e.length]=this:(_e.splice(Le),Me.splice(Le)),Me[Me.length]=Ie;var Qe=Ze(_e,De);if(Qe!==0)return"[ref="+(Me.slice(0,Qe).join(".")||".")+"]"}else _e[0]=De,Me[0]=Ie;return De}return""+De}}function ot(_e){var Me=typeof _e;return _e&&(Me==="object"||Me==="function")?JSON.stringify(_e,et()):_e}function nt(_e){for(var Me="|",Ie=0;Ie<_e.length;Ie++)Me+=ot(_e[Ie])+"|";return[Me]}function dt(_e){return typeof _e.serializer=="function"?_e.serializer:nt}function Fe(_e,Me){return _e[0]===Me[0]}function Xe(_e){if(typeof _e=="function")return function(Me,Ie,De){return _e(De.cache,De.options,De)}}function pt(_e){return _e.matchesArg||_e.isDeepEqual&&q.deepEqual||_e.isShallowEqual&&q.shallowEqual||q.sameValueZeroEqual}function yt(_e){return _e.matchesKey||_e.isSerialized&&Fe||void 0}function vt(_e){return X(_e.isSerialized&&dt(_e),typeof _e.transformArgs=="function"&&_e.transformArgs,typeof _e.maxArgs=="number"&&Ke(_e.maxArgs))}function mt(_e){var Me=_e.options.updateCacheForKey,Ie=function(){for(var De=arguments.length,qe=new Array(De),Le=0;Le<De;Le++)qe[Le]=arguments[Le];if(!Me(qe))return _e.apply(this,qe);var Qe=_e.fn.apply(this,qe);return _e.set(qe,Qe),Qe};return Ne(_e,Ie),Ie}var Tt=["matchesArg","isDeepEqual","isPromise","isReact","isSerialized","isShallowEqual","matchesKey","maxAge","maxArgs","maxSize","onCacheAdd","onCacheChange","onCacheHit","onExpire","profileName","serializer","updateCacheForKey","transformArgs","updateExpire"],we=function _e(Me,Ie){var De=Ie||F;if(ie(Me)){var qe=Me.originalFunction,Le=ne(Me.options,De);return _e(qe,Le)}if(typeof Me=="object")return function(bt,It){if(typeof bt=="function"){var Et=ne(Me,It);return _e(bt,Et)}var Vt=ne(Me,bt);return _e(Vt)};if(De.isReact)return Ve(_e,Me,De);var Qe=W({},F,De,{maxAge:typeof De.maxAge=="number"&&De.maxAge>=0?De.maxAge:F.maxAge,maxArgs:typeof De.maxArgs=="number"&&De.maxArgs>=0?De.maxArgs:F.maxArgs,maxSize:typeof De.maxSize=="number"&&De.maxSize>=0?De.maxSize:F.maxSize,profileName:De.profileName||Ee(Me)}),We=[];Qe.matchesArg,Qe.isDeepEqual;var $e=Qe.isPromise;Qe.isReact,Qe.isSerialized,Qe.isShallowEqual,Qe.matchesKey,Qe.maxAge,Qe.maxArgs;var Ye=Qe.maxSize,rt=Qe.onCacheAdd,at=Qe.onCacheChange,me=Qe.onCacheHit;Qe.onExpire,Qe.profileName,Qe.serializer;var fe=Qe.updateCacheForKey;Qe.transformArgs,Qe.updateExpire;var ye=J(Qe,Tt),Ae=pt(Qe),Be=yt(Qe),He=le(We,Qe,Ae,Be),Je=Te(Qe),st=vt(Qe),ut=W({},ye,{isEqual:Ae,isMatchingKey:Be,isPromise:$e,maxSize:Ye,onCacheAdd:Xe(Y(rt,He.onCacheAdd,Je.onCacheAdd)),onCacheChange:Xe(at),onCacheHit:Xe(Y(me,He.onCacheHit,Je.onCacheHit)),transformKey:st}),ft=Q(Me,ut),At=Ce(ft,{expirations:We,options:Qe,originalFunction:Me});return fe&&(At=mt(At)),oe(At,Me.name,De.profileName),At};we.clearStats=pe,we.collectStats=ge,we.compose=function(){return X.apply(void 0,arguments)||we},we.deep=we({isDeepEqual:!0}),we.getStats=Pe,we.infinite=we({maxSize:1/0}),we.isCollectingStats=function(){return de.isCollectingStats},we.isMoized=function(_e){return typeof _e=="function"&&!!_e.isMoized},we.matchesArg=function(_e){return we({matchesArg:_e})},we.matchesKey=function(_e){return we({matchesKey:_e})};function Re(_e,Me){if(Me===!0)return we({maxAge:_e,updateExpire:Me});if(typeof Me=="object"){var Ie=Me.onExpire,De=Me.updateExpire;return we({maxAge:_e,onExpire:Ie,updateExpire:De})}return we(typeof Me=="function"?{maxAge:_e,onExpire:Me,updateExpire:!0}:{maxAge:_e})}return we.maxAge=Re,we.maxArgs=function(_e){return we({maxArgs:_e})},we.maxSize=function(_e){return we({maxSize:_e})},we.profile=function(_e){return we({profileName:_e})},we.promise=we({isPromise:!0,updateExpire:!0}),we.react=we({isReact:!0}),we.serialize=we({isSerialized:!0}),we.serializeWith=function(_e){return we({isSerialized:!0,serializer:_e})},we.shallow=we({isShallowEqual:!0}),we.transformArgs=function(_e){return we({transformArgs:_e})},we.updateCacheForKey=function(_e){return we({updateCacheForKey:_e})},Object.defineProperty(we,"default",{configurable:!1,enumerable:!1,value:we,writable:!1}),we})})(moize$1);var moizeExports=moize$1.exports;const moize=getDefaultExportFromCjs(moizeExports),proxyMarker=Symbol("Comlink.proxy"),createEndpoint=Symbol("Comlink.endpoint"),releaseProxy=Symbol("Comlink.releaseProxy"),finalizer=Symbol("Comlink.finalizer"),throwMarker=Symbol("Comlink.thrown"),isObject$4=U=>typeof U=="object"&&U!==null||typeof U=="function",proxyTransferHandler={canHandle:U=>isObject$4(U)&&U[proxyMarker],serialize(U){const{port1:G,port2:Q}=new MessageChannel;return expose(U,G),[Q,[Q]]},deserialize(U){return U.start(),wrap$1(U)}},throwTransferHandler={canHandle:U=>isObject$4(U)&&throwMarker in U,serialize({value:U}){let G;return U instanceof Error?G={isError:!0,value:{message:U.message,name:U.name,stack:U.stack}}:G={isError:!1,value:U},[G,[]]},deserialize(U){throw U.isError?Object.assign(new Error(U.value.message),U.value):U.value}},transferHandlers=new Map([["proxy",proxyTransferHandler],["throw",throwTransferHandler]]);function isAllowedOrigin(U,G){for(const Q of U)if(G===Q||Q==="*"||Q instanceof RegExp&&Q.test(G))return!0;return!1}function expose(U,G=globalThis,Q=["*"]){G.addEventListener("message",function q(W){if(!W||!W.data)return;if(!isAllowedOrigin(Q,W.origin)){console.warn(`Invalid origin '${W.origin}' for comlink proxy`);return}const{id:J,type:F,path:Y}=Object.assign({path:[]},W.data),X=(W.data.argumentList||[]).map(fromWireValue);let te;try{const re=Y.slice(0,-1).reduce((ie,oe)=>ie[oe],U),ne=Y.reduce((ie,oe)=>ie[oe],U);switch(F){case"GET":te=ne;break;case"SET":re[Y.slice(-1)[0]]=fromWireValue(W.data.value),te=!0;break;case"APPLY":te=ne.apply(re,X);break;case"CONSTRUCT":{const ie=new ne(...X);te=proxy(ie)}break;case"ENDPOINT":{const{port1:ie,port2:oe}=new MessageChannel;expose(U,oe),te=transfer$1(ie,[ie])}break;case"RELEASE":te=void 0;break;default:return}}catch(re){te={value:re,[throwMarker]:0}}Promise.resolve(te).catch(re=>({value:re,[throwMarker]:0})).then(re=>{const[ne,ie]=toWireValue(re);G.postMessage(Object.assign(Object.assign({},ne),{id:J}),ie),F==="RELEASE"&&(G.removeEventListener("message",q),closeEndPoint(G),finalizer in U&&typeof U[finalizer]=="function"&&U[finalizer]())}).catch(re=>{const[ne,ie]=toWireValue({value:new TypeError("Unserializable return value"),[throwMarker]:0});G.postMessage(Object.assign(Object.assign({},ne),{id:J}),ie)})}),G.start&&G.start()}function isMessagePort(U){return U.constructor.name==="MessagePort"}function closeEndPoint(U){isMessagePort(U)&&U.close()}function wrap$1(U,G){return createProxy(U,[],G)}function throwIfProxyReleased(U){if(U)throw new Error("Proxy has been released and is not useable")}function releaseEndpoint(U){return requestResponseMessage(U,{type:"RELEASE"}).then(()=>{closeEndPoint(U)})}const proxyCounter=new WeakMap,proxyFinalizers="FinalizationRegistry"in globalThis&&new FinalizationRegistry(U=>{const G=(proxyCounter.get(U)||0)-1;proxyCounter.set(U,G),G===0&&releaseEndpoint(U)});function registerProxy(U,G){const Q=(proxyCounter.get(G)||0)+1;proxyCounter.set(G,Q),proxyFinalizers&&proxyFinalizers.register(U,G,U)}function unregisterProxy(U){proxyFinalizers&&proxyFinalizers.unregister(U)}function createProxy(U,G=[],Q=function(){}){let q=!1;const W=new Proxy(Q,{get(J,F){if(throwIfProxyReleased(q),F===releaseProxy)return()=>{unregisterProxy(W),releaseEndpoint(U),q=!0};if(F==="then"){if(G.length===0)return{then:()=>W};const Y=requestResponseMessage(U,{type:"GET",path:G.map(X=>X.toString())}).then(fromWireValue);return Y.then.bind(Y)}return createProxy(U,[...G,F])},set(J,F,Y){throwIfProxyReleased(q);const[X,te]=toWireValue(Y);return requestResponseMessage(U,{type:"SET",path:[...G,F].map(re=>re.toString()),value:X},te).then(fromWireValue)},apply(J,F,Y){throwIfProxyReleased(q);const X=G[G.length-1];if(X===createEndpoint)return requestResponseMessage(U,{type:"ENDPOINT"}).then(fromWireValue);if(X==="bind")return createProxy(U,G.slice(0,-1));const[te,re]=processArguments(Y);return requestResponseMessage(U,{type:"APPLY",path:G.map(ne=>ne.toString()),argumentList:te},re).then(fromWireValue)},construct(J,F){throwIfProxyReleased(q);const[Y,X]=processArguments(F);return requestResponseMessage(U,{type:"CONSTRUCT",path:G.map(te=>te.toString()),argumentList:Y},X).then(fromWireValue)}});return registerProxy(W,U),W}function myFlat(U){return Array.prototype.concat.apply([],U)}function processArguments(U){const G=U.map(toWireValue);return[G.map(Q=>Q[0]),myFlat(G.map(Q=>Q[1]))]}const transferCache=new WeakMap;function transfer$1(U,G){return transferCache.set(U,G),U}function proxy(U){return Object.assign(U,{[proxyMarker]:!0})}function toWireValue(U){for(const[G,Q]of transferHandlers)if(Q.canHandle(U)){const[q,W]=Q.serialize(U);return[{type:"HANDLER",name:G,value:q},W]}return[{type:"RAW",value:U},transferCache.get(U)||[]]}function fromWireValue(U){switch(U.type){case"HANDLER":return transferHandlers.get(U.name).deserialize(U.value);case"RAW":return U.value}}function requestResponseMessage(U,G,Q){return new Promise(q=>{const W=generateUUID$1();U.addEventListener("message",function J(F){!F.data||!F.data.id||F.data.id!==W||(U.removeEventListener("message",J),q(F.data))}),U.start&&U.start(),U.postMessage(Object.assign({id:W},G),Q)})}function generateUUID$1(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const REVISION="169",CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,PCFShadowMap$1=1,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,AgXToneMapping=6,NeutralToneMapping=7,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipmapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipmapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,UnsignedInt5999Type=35902,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBIntegerFormat=1032,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,RED_RGTC1_Format=36283,SIGNED_RED_RGTC1_Format=36284,RED_GREEN_RGTC2_Format=36285,SIGNED_RED_GREEN_RGTC2_Format=36286,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",DisplayP3ColorSpace="display-p3",LinearDisplayP3ColorSpace="display-p3-linear",LinearTransfer="linear",SRGBTransfer="srgb",Rec709Primaries="rec709",P3Primaries="p3",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,NeverCompare=512,LessCompare=513,EqualCompare=514,LessEqualCompare=515,GreaterCompare=516,NotEqualCompare=517,GreaterEqualCompare=518,AlwaysCompare=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,WebGLCoordinateSystem=2e3,WebGPUCoordinateSystem=2001;class EventDispatcher{addEventListener(G,Q){this._listeners===void 0&&(this._listeners={});const q=this._listeners;q[G]===void 0&&(q[G]=[]),q[G].indexOf(Q)===-1&&q[G].push(Q)}hasEventListener(G,Q){if(this._listeners===void 0)return!1;const q=this._listeners;return q[G]!==void 0&&q[G].indexOf(Q)!==-1}removeEventListener(G,Q){if(this._listeners===void 0)return;const q=this._listeners[G];if(q!==void 0){const W=q.indexOf(Q);W!==-1&&q.splice(W,1)}}dispatchEvent(G){if(this._listeners===void 0)return;const Q=this._listeners[G.type];if(Q!==void 0){G.target=this;const q=Q.slice(0);for(let W=0,J=q.length;W<J;W++)q[W].call(this,G);G.target=null}}}const _lut=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID(){const U=Math.random()*4294967295|0,G=Math.random()*4294967295|0,Q=Math.random()*4294967295|0,q=Math.random()*4294967295|0;return(_lut[U&255]+_lut[U>>8&255]+_lut[U>>16&255]+_lut[U>>24&255]+"-"+_lut[G&255]+_lut[G>>8&255]+"-"+_lut[G>>16&15|64]+_lut[G>>24&255]+"-"+_lut[Q&63|128]+_lut[Q>>8&255]+"-"+_lut[Q>>16&255]+_lut[Q>>24&255]+_lut[q&255]+_lut[q>>8&255]+_lut[q>>16&255]+_lut[q>>24&255]).toLowerCase()}function clamp$1(U,G,Q){return Math.max(G,Math.min(Q,U))}function euclideanModulo(U,G){return(U%G+G)%G}function mapLinear(U,G,Q,q,W){return q+(U-G)*(W-q)/(Q-G)}function inverseLerp(U,G,Q){return U!==G?(Q-U)/(G-U):0}function lerp(U,G,Q){return(1-Q)*U+Q*G}function damp(U,G,Q,q){return lerp(U,G,1-Math.exp(-Q*q))}function pingpong(U,G=1){return G-Math.abs(euclideanModulo(U,G*2)-G)}function smoothstep$1(U,G,Q){return U<=G?0:U>=Q?1:(U=(U-G)/(Q-G),U*U*(3-2*U))}function smootherstep(U,G,Q){return U<=G?0:U>=Q?1:(U=(U-G)/(Q-G),U*U*U*(U*(U*6-15)+10))}function randInt(U,G){return U+Math.floor(Math.random()*(G-U+1))}function randFloat(U,G){return U+Math.random()*(G-U)}function randFloatSpread(U){return U*(.5-Math.random())}function seededRandom(U){U!==void 0&&(_seed=U);let G=_seed+=1831565813;return G=Math.imul(G^G>>>15,G|1),G^=G+Math.imul(G^G>>>7,G|61),((G^G>>>14)>>>0)/4294967296}function degToRad(U){return U*DEG2RAD}function radToDeg(U){return U*RAD2DEG}function isPowerOfTwo(U){return(U&U-1)===0&&U!==0}function ceilPowerOfTwo(U){return Math.pow(2,Math.ceil(Math.log(U)/Math.LN2))}function floorPowerOfTwo(U){return Math.pow(2,Math.floor(Math.log(U)/Math.LN2))}function setQuaternionFromProperEuler(U,G,Q,q,W){const J=Math.cos,F=Math.sin,Y=J(Q/2),X=F(Q/2),te=J((G+q)/2),re=F((G+q)/2),ne=J((G-q)/2),ie=F((G-q)/2),oe=J((q-G)/2),ae=F((q-G)/2);switch(W){case"XYX":U.set(Y*re,X*ne,X*ie,Y*te);break;case"YZY":U.set(X*ie,Y*re,X*ne,Y*te);break;case"ZXZ":U.set(X*ne,X*ie,Y*re,Y*te);break;case"XZX":U.set(Y*re,X*ae,X*oe,Y*te);break;case"YXY":U.set(X*oe,Y*re,X*ae,Y*te);break;case"ZYZ":U.set(X*ae,X*oe,Y*re,Y*te);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+W)}}function denormalize(U,G){switch(G.constructor){case Float32Array:return U;case Uint32Array:return U/4294967295;case Uint16Array:return U/65535;case Uint8Array:return U/255;case Int32Array:return Math.max(U/2147483647,-1);case Int16Array:return Math.max(U/32767,-1);case Int8Array:return Math.max(U/127,-1);default:throw new Error("Invalid component type.")}}function normalize$1(U,G){switch(G.constructor){case Float32Array:return U;case Uint32Array:return Math.round(U*4294967295);case Uint16Array:return Math.round(U*65535);case Uint8Array:return Math.round(U*255);case Int32Array:return Math.round(U*2147483647);case Int16Array:return Math.round(U*32767);case Int8Array:return Math.round(U*127);default:throw new Error("Invalid component type.")}}const MathUtils={DEG2RAD,RAD2DEG,generateUUID,clamp:clamp$1,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep:smoothstep$1,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$1,denormalize};class Vector2{constructor(G=0,Q=0){Vector2.prototype.isVector2=!0,this.x=G,this.y=Q}get width(){return this.x}set width(G){this.x=G}get height(){return this.y}set height(G){this.y=G}set(G,Q){return this.x=G,this.y=Q,this}setScalar(G){return this.x=G,this.y=G,this}setX(G){return this.x=G,this}setY(G){return this.y=G,this}setComponent(G,Q){switch(G){case 0:this.x=Q;break;case 1:this.y=Q;break;default:throw new Error("index is out of range: "+G)}return this}getComponent(G){switch(G){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+G)}}clone(){return new this.constructor(this.x,this.y)}copy(G){return this.x=G.x,this.y=G.y,this}add(G){return this.x+=G.x,this.y+=G.y,this}addScalar(G){return this.x+=G,this.y+=G,this}addVectors(G,Q){return this.x=G.x+Q.x,this.y=G.y+Q.y,this}addScaledVector(G,Q){return this.x+=G.x*Q,this.y+=G.y*Q,this}sub(G){return this.x-=G.x,this.y-=G.y,this}subScalar(G){return this.x-=G,this.y-=G,this}subVectors(G,Q){return this.x=G.x-Q.x,this.y=G.y-Q.y,this}multiply(G){return this.x*=G.x,this.y*=G.y,this}multiplyScalar(G){return this.x*=G,this.y*=G,this}divide(G){return this.x/=G.x,this.y/=G.y,this}divideScalar(G){return this.multiplyScalar(1/G)}applyMatrix3(G){const Q=this.x,q=this.y,W=G.elements;return this.x=W[0]*Q+W[3]*q+W[6],this.y=W[1]*Q+W[4]*q+W[7],this}min(G){return this.x=Math.min(this.x,G.x),this.y=Math.min(this.y,G.y),this}max(G){return this.x=Math.max(this.x,G.x),this.y=Math.max(this.y,G.y),this}clamp(G,Q){return this.x=Math.max(G.x,Math.min(Q.x,this.x)),this.y=Math.max(G.y,Math.min(Q.y,this.y)),this}clampScalar(G,Q){return this.x=Math.max(G,Math.min(Q,this.x)),this.y=Math.max(G,Math.min(Q,this.y)),this}clampLength(G,Q){const q=this.length();return this.divideScalar(q||1).multiplyScalar(Math.max(G,Math.min(Q,q)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(G){return this.x*G.x+this.y*G.y}cross(G){return this.x*G.y-this.y*G.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(G){const Q=Math.sqrt(this.lengthSq()*G.lengthSq());if(Q===0)return Math.PI/2;const q=this.dot(G)/Q;return Math.acos(clamp$1(q,-1,1))}distanceTo(G){return Math.sqrt(this.distanceToSquared(G))}distanceToSquared(G){const Q=this.x-G.x,q=this.y-G.y;return Q*Q+q*q}manhattanDistanceTo(G){return Math.abs(this.x-G.x)+Math.abs(this.y-G.y)}setLength(G){return this.normalize().multiplyScalar(G)}lerp(G,Q){return this.x+=(G.x-this.x)*Q,this.y+=(G.y-this.y)*Q,this}lerpVectors(G,Q,q){return this.x=G.x+(Q.x-G.x)*q,this.y=G.y+(Q.y-G.y)*q,this}equals(G){return G.x===this.x&&G.y===this.y}fromArray(G,Q=0){return this.x=G[Q],this.y=G[Q+1],this}toArray(G=[],Q=0){return G[Q]=this.x,G[Q+1]=this.y,G}fromBufferAttribute(G,Q){return this.x=G.getX(Q),this.y=G.getY(Q),this}rotateAround(G,Q){const q=Math.cos(Q),W=Math.sin(Q),J=this.x-G.x,F=this.y-G.y;return this.x=J*q-F*W+G.x,this.y=J*W+F*q+G.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(G,Q,q,W,J,F,Y,X,te){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],G!==void 0&&this.set(G,Q,q,W,J,F,Y,X,te)}set(G,Q,q,W,J,F,Y,X,te){const re=this.elements;return re[0]=G,re[1]=W,re[2]=Y,re[3]=Q,re[4]=J,re[5]=X,re[6]=q,re[7]=F,re[8]=te,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(G){const Q=this.elements,q=G.elements;return Q[0]=q[0],Q[1]=q[1],Q[2]=q[2],Q[3]=q[3],Q[4]=q[4],Q[5]=q[5],Q[6]=q[6],Q[7]=q[7],Q[8]=q[8],this}extractBasis(G,Q,q){return G.setFromMatrix3Column(this,0),Q.setFromMatrix3Column(this,1),q.setFromMatrix3Column(this,2),this}setFromMatrix4(G){const Q=G.elements;return this.set(Q[0],Q[4],Q[8],Q[1],Q[5],Q[9],Q[2],Q[6],Q[10]),this}multiply(G){return this.multiplyMatrices(this,G)}premultiply(G){return this.multiplyMatrices(G,this)}multiplyMatrices(G,Q){const q=G.elements,W=Q.elements,J=this.elements,F=q[0],Y=q[3],X=q[6],te=q[1],re=q[4],ne=q[7],ie=q[2],oe=q[5],ae=q[8],ue=W[0],ce=W[3],se=W[6],le=W[1],de=W[4],he=W[7],pe=W[2],ge=W[5],be=W[8];return J[0]=F*ue+Y*le+X*pe,J[3]=F*ce+Y*de+X*ge,J[6]=F*se+Y*he+X*be,J[1]=te*ue+re*le+ne*pe,J[4]=te*ce+re*de+ne*ge,J[7]=te*se+re*he+ne*be,J[2]=ie*ue+oe*le+ae*pe,J[5]=ie*ce+oe*de+ae*ge,J[8]=ie*se+oe*he+ae*be,this}multiplyScalar(G){const Q=this.elements;return Q[0]*=G,Q[3]*=G,Q[6]*=G,Q[1]*=G,Q[4]*=G,Q[7]*=G,Q[2]*=G,Q[5]*=G,Q[8]*=G,this}determinant(){const G=this.elements,Q=G[0],q=G[1],W=G[2],J=G[3],F=G[4],Y=G[5],X=G[6],te=G[7],re=G[8];return Q*F*re-Q*Y*te-q*J*re+q*Y*X+W*J*te-W*F*X}invert(){const G=this.elements,Q=G[0],q=G[1],W=G[2],J=G[3],F=G[4],Y=G[5],X=G[6],te=G[7],re=G[8],ne=re*F-Y*te,ie=Y*X-re*J,oe=te*J-F*X,ae=Q*ne+q*ie+W*oe;if(ae===0)return this.set(0,0,0,0,0,0,0,0,0);const ue=1/ae;return G[0]=ne*ue,G[1]=(W*te-re*q)*ue,G[2]=(Y*q-W*F)*ue,G[3]=ie*ue,G[4]=(re*Q-W*X)*ue,G[5]=(W*J-Y*Q)*ue,G[6]=oe*ue,G[7]=(q*X-te*Q)*ue,G[8]=(F*Q-q*J)*ue,this}transpose(){let G;const Q=this.elements;return G=Q[1],Q[1]=Q[3],Q[3]=G,G=Q[2],Q[2]=Q[6],Q[6]=G,G=Q[5],Q[5]=Q[7],Q[7]=G,this}getNormalMatrix(G){return this.setFromMatrix4(G).invert().transpose()}transposeIntoArray(G){const Q=this.elements;return G[0]=Q[0],G[1]=Q[3],G[2]=Q[6],G[3]=Q[1],G[4]=Q[4],G[5]=Q[7],G[6]=Q[2],G[7]=Q[5],G[8]=Q[8],this}setUvTransform(G,Q,q,W,J,F,Y){const X=Math.cos(J),te=Math.sin(J);return this.set(q*X,q*te,-q*(X*F+te*Y)+F+G,-W*te,W*X,-W*(-te*F+X*Y)+Y+Q,0,0,1),this}scale(G,Q){return this.premultiply(_m3.makeScale(G,Q)),this}rotate(G){return this.premultiply(_m3.makeRotation(-G)),this}translate(G,Q){return this.premultiply(_m3.makeTranslation(G,Q)),this}makeTranslation(G,Q){return G.isVector2?this.set(1,0,G.x,0,1,G.y,0,0,1):this.set(1,0,G,0,1,Q,0,0,1),this}makeRotation(G){const Q=Math.cos(G),q=Math.sin(G);return this.set(Q,-q,0,q,Q,0,0,0,1),this}makeScale(G,Q){return this.set(G,0,0,0,Q,0,0,0,1),this}equals(G){const Q=this.elements,q=G.elements;for(let W=0;W<9;W++)if(Q[W]!==q[W])return!1;return!0}fromArray(G,Q=0){for(let q=0;q<9;q++)this.elements[q]=G[q+Q];return this}toArray(G=[],Q=0){const q=this.elements;return G[Q]=q[0],G[Q+1]=q[1],G[Q+2]=q[2],G[Q+3]=q[3],G[Q+4]=q[4],G[Q+5]=q[5],G[Q+6]=q[6],G[Q+7]=q[7],G[Q+8]=q[8],G}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32$1(U){for(let G=U.length-1;G>=0;--G)if(U[G]>=65535)return!0;return!1}function createElementNS(U){return document.createElementNS("http://www.w3.org/1999/xhtml",U)}function createCanvasElement(){const U=createElementNS("canvas");return U.style.display="block",U}const _cache$2={};function warnOnce(U){U in _cache$2||(_cache$2[U]=!0,console.warn(U))}const LINEAR_SRGB_TO_LINEAR_DISPLAY_P3=new Matrix3().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),LINEAR_DISPLAY_P3_TO_LINEAR_SRGB=new Matrix3().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),COLOR_SPACES={[LinearSRGBColorSpace]:{transfer:LinearTransfer,primaries:Rec709Primaries,luminanceCoefficients:[.2126,.7152,.0722],toReference:U=>U,fromReference:U=>U},[SRGBColorSpace]:{transfer:SRGBTransfer,primaries:Rec709Primaries,luminanceCoefficients:[.2126,.7152,.0722],toReference:U=>U.convertSRGBToLinear(),fromReference:U=>U.convertLinearToSRGB()},[LinearDisplayP3ColorSpace]:{transfer:LinearTransfer,primaries:P3Primaries,luminanceCoefficients:[.2289,.6917,.0793],toReference:U=>U.applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:U=>U.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3)},[DisplayP3ColorSpace]:{transfer:SRGBTransfer,primaries:P3Primaries,luminanceCoefficients:[.2289,.6917,.0793],toReference:U=>U.convertSRGBToLinear().applyMatrix3(LINEAR_DISPLAY_P3_TO_LINEAR_SRGB),fromReference:U=>U.applyMatrix3(LINEAR_SRGB_TO_LINEAR_DISPLAY_P3).convertLinearToSRGB()}},SUPPORTED_WORKING_COLOR_SPACES=new Set([LinearSRGBColorSpace,LinearDisplayP3ColorSpace]),ColorManagement={enabled:!0,_workingColorSpace:LinearSRGBColorSpace,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(U){if(!SUPPORTED_WORKING_COLOR_SPACES.has(U))throw new Error(`Unsupported working color space, "${U}".`);this._workingColorSpace=U},convert:function(U,G,Q){if(this.enabled===!1||G===Q||!G||!Q)return U;const q=COLOR_SPACES[G].toReference,W=COLOR_SPACES[Q].fromReference;return W(q(U))},fromWorkingColorSpace:function(U,G){return this.convert(U,this._workingColorSpace,G)},toWorkingColorSpace:function(U,G){return this.convert(U,G,this._workingColorSpace)},getPrimaries:function(U){return COLOR_SPACES[U].primaries},getTransfer:function(U){return U===NoColorSpace?LinearTransfer:COLOR_SPACES[U].transfer},getLuminanceCoefficients:function(U,G=this._workingColorSpace){return U.fromArray(COLOR_SPACES[G].luminanceCoefficients)}};function SRGBToLinear(U){return U<.04045?U*.0773993808:Math.pow(U*.9478672986+.0521327014,2.4)}function LinearToSRGB(U){return U<.0031308?U*12.92:1.055*Math.pow(U,.41666)-.055}let _canvas;class ImageUtils{static getDataURL(G){if(/^data:/i.test(G.src)||typeof HTMLCanvasElement>"u")return G.src;let Q;if(G instanceof HTMLCanvasElement)Q=G;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=G.width,_canvas.height=G.height;const q=_canvas.getContext("2d");G instanceof ImageData?q.putImageData(G,0,0):q.drawImage(G,0,0,G.width,G.height),Q=_canvas}return Q.width>2048||Q.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",G),Q.toDataURL("image/jpeg",.6)):Q.toDataURL("image/png")}static sRGBToLinear(G){if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap){const Q=createElementNS("canvas");Q.width=G.width,Q.height=G.height;const q=Q.getContext("2d");q.drawImage(G,0,0,G.width,G.height);const W=q.getImageData(0,0,G.width,G.height),J=W.data;for(let F=0;F<J.length;F++)J[F]=SRGBToLinear(J[F]/255)*255;return q.putImageData(W,0,0),Q}else if(G.data){const Q=G.data.slice(0);for(let q=0;q<Q.length;q++)Q instanceof Uint8Array||Q instanceof Uint8ClampedArray?Q[q]=Math.floor(SRGBToLinear(Q[q]/255)*255):Q[q]=SRGBToLinear(Q[q]);return{data:Q,width:G.width,height:G.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),G}}let _sourceId=0;class Source{constructor(G=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_sourceId++}),this.uuid=generateUUID(),this.data=G,this.dataReady=!0,this.version=0}set needsUpdate(G){G===!0&&this.version++}toJSON(G){const Q=G===void 0||typeof G=="string";if(!Q&&G.images[this.uuid]!==void 0)return G.images[this.uuid];const q={uuid:this.uuid,url:""},W=this.data;if(W!==null){let J;if(Array.isArray(W)){J=[];for(let F=0,Y=W.length;F<Y;F++)W[F].isDataTexture?J.push(serializeImage(W[F].image)):J.push(serializeImage(W[F]))}else J=serializeImage(W);q.url=J}return Q||(G.images[this.uuid]=q),q}}function serializeImage(U){return typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap?ImageUtils.getDataURL(U):U.data?{data:Array.from(U.data),width:U.width,height:U.height,type:U.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let _textureId=0;class Texture extends EventDispatcher{constructor(G=Texture.DEFAULT_IMAGE,Q=Texture.DEFAULT_MAPPING,q=ClampToEdgeWrapping,W=ClampToEdgeWrapping,J=LinearFilter,F=LinearMipmapLinearFilter,Y=RGBAFormat,X=UnsignedByteType,te=Texture.DEFAULT_ANISOTROPY,re=NoColorSpace){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:_textureId++}),this.uuid=generateUUID(),this.name="",this.source=new Source(G),this.mipmaps=[],this.mapping=Q,this.channel=0,this.wrapS=q,this.wrapT=W,this.magFilter=J,this.minFilter=F,this.anisotropy=te,this.format=Y,this.internalFormat=null,this.type=X,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=re,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(G=null){this.source.data=G}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(G){return this.name=G.name,this.source=G.source,this.mipmaps=G.mipmaps.slice(0),this.mapping=G.mapping,this.channel=G.channel,this.wrapS=G.wrapS,this.wrapT=G.wrapT,this.magFilter=G.magFilter,this.minFilter=G.minFilter,this.anisotropy=G.anisotropy,this.format=G.format,this.internalFormat=G.internalFormat,this.type=G.type,this.offset.copy(G.offset),this.repeat.copy(G.repeat),this.center.copy(G.center),this.rotation=G.rotation,this.matrixAutoUpdate=G.matrixAutoUpdate,this.matrix.copy(G.matrix),this.generateMipmaps=G.generateMipmaps,this.premultiplyAlpha=G.premultiplyAlpha,this.flipY=G.flipY,this.unpackAlignment=G.unpackAlignment,this.colorSpace=G.colorSpace,this.userData=JSON.parse(JSON.stringify(G.userData)),this.needsUpdate=!0,this}toJSON(G){const Q=G===void 0||typeof G=="string";if(!Q&&G.textures[this.uuid]!==void 0)return G.textures[this.uuid];const q={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(G).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(q.userData=this.userData),Q||(G.textures[this.uuid]=q),q}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(G){if(this.mapping!==UVMapping)return G;if(G.applyMatrix3(this.matrix),G.x<0||G.x>1)switch(this.wrapS){case RepeatWrapping:G.x=G.x-Math.floor(G.x);break;case ClampToEdgeWrapping:G.x=G.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(G.x)%2)===1?G.x=Math.ceil(G.x)-G.x:G.x=G.x-Math.floor(G.x);break}if(G.y<0||G.y>1)switch(this.wrapT){case RepeatWrapping:G.y=G.y-Math.floor(G.y);break;case ClampToEdgeWrapping:G.y=G.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(G.y)%2)===1?G.y=Math.ceil(G.y)-G.y:G.y=G.y-Math.floor(G.y);break}return this.flipY&&(G.y=1-G.y),G}set needsUpdate(G){G===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(G){G===!0&&this.pmremVersion++}}Texture.DEFAULT_IMAGE=null,Texture.DEFAULT_MAPPING=UVMapping,Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(G=0,Q=0,q=0,W=1){Vector4.prototype.isVector4=!0,this.x=G,this.y=Q,this.z=q,this.w=W}get width(){return this.z}set width(G){this.z=G}get height(){return this.w}set height(G){this.w=G}set(G,Q,q,W){return this.x=G,this.y=Q,this.z=q,this.w=W,this}setScalar(G){return this.x=G,this.y=G,this.z=G,this.w=G,this}setX(G){return this.x=G,this}setY(G){return this.y=G,this}setZ(G){return this.z=G,this}setW(G){return this.w=G,this}setComponent(G,Q){switch(G){case 0:this.x=Q;break;case 1:this.y=Q;break;case 2:this.z=Q;break;case 3:this.w=Q;break;default:throw new Error("index is out of range: "+G)}return this}getComponent(G){switch(G){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+G)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(G){return this.x=G.x,this.y=G.y,this.z=G.z,this.w=G.w!==void 0?G.w:1,this}add(G){return this.x+=G.x,this.y+=G.y,this.z+=G.z,this.w+=G.w,this}addScalar(G){return this.x+=G,this.y+=G,this.z+=G,this.w+=G,this}addVectors(G,Q){return this.x=G.x+Q.x,this.y=G.y+Q.y,this.z=G.z+Q.z,this.w=G.w+Q.w,this}addScaledVector(G,Q){return this.x+=G.x*Q,this.y+=G.y*Q,this.z+=G.z*Q,this.w+=G.w*Q,this}sub(G){return this.x-=G.x,this.y-=G.y,this.z-=G.z,this.w-=G.w,this}subScalar(G){return this.x-=G,this.y-=G,this.z-=G,this.w-=G,this}subVectors(G,Q){return this.x=G.x-Q.x,this.y=G.y-Q.y,this.z=G.z-Q.z,this.w=G.w-Q.w,this}multiply(G){return this.x*=G.x,this.y*=G.y,this.z*=G.z,this.w*=G.w,this}multiplyScalar(G){return this.x*=G,this.y*=G,this.z*=G,this.w*=G,this}applyMatrix4(G){const Q=this.x,q=this.y,W=this.z,J=this.w,F=G.elements;return this.x=F[0]*Q+F[4]*q+F[8]*W+F[12]*J,this.y=F[1]*Q+F[5]*q+F[9]*W+F[13]*J,this.z=F[2]*Q+F[6]*q+F[10]*W+F[14]*J,this.w=F[3]*Q+F[7]*q+F[11]*W+F[15]*J,this}divideScalar(G){return this.multiplyScalar(1/G)}setAxisAngleFromQuaternion(G){this.w=2*Math.acos(G.w);const Q=Math.sqrt(1-G.w*G.w);return Q<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=G.x/Q,this.y=G.y/Q,this.z=G.z/Q),this}setAxisAngleFromRotationMatrix(G){let Q,q,W,J;const F=G.elements,Y=F[0],X=F[4],te=F[8],re=F[1],ne=F[5],ie=F[9],oe=F[2],ae=F[6],ue=F[10];if(Math.abs(X-re)<.01&&Math.abs(te-oe)<.01&&Math.abs(ie-ae)<.01){if(Math.abs(X+re)<.1&&Math.abs(te+oe)<.1&&Math.abs(ie+ae)<.1&&Math.abs(Y+ne+ue-3)<.1)return this.set(1,0,0,0),this;Q=Math.PI;const se=(Y+1)/2,le=(ne+1)/2,de=(ue+1)/2,he=(X+re)/4,pe=(te+oe)/4,ge=(ie+ae)/4;return se>le&&se>de?se<.01?(q=0,W=.707106781,J=.707106781):(q=Math.sqrt(se),W=he/q,J=pe/q):le>de?le<.01?(q=.707106781,W=0,J=.707106781):(W=Math.sqrt(le),q=he/W,J=ge/W):de<.01?(q=.707106781,W=.707106781,J=0):(J=Math.sqrt(de),q=pe/J,W=ge/J),this.set(q,W,J,Q),this}let ce=Math.sqrt((ae-ie)*(ae-ie)+(te-oe)*(te-oe)+(re-X)*(re-X));return Math.abs(ce)<.001&&(ce=1),this.x=(ae-ie)/ce,this.y=(te-oe)/ce,this.z=(re-X)/ce,this.w=Math.acos((Y+ne+ue-1)/2),this}setFromMatrixPosition(G){const Q=G.elements;return this.x=Q[12],this.y=Q[13],this.z=Q[14],this.w=Q[15],this}min(G){return this.x=Math.min(this.x,G.x),this.y=Math.min(this.y,G.y),this.z=Math.min(this.z,G.z),this.w=Math.min(this.w,G.w),this}max(G){return this.x=Math.max(this.x,G.x),this.y=Math.max(this.y,G.y),this.z=Math.max(this.z,G.z),this.w=Math.max(this.w,G.w),this}clamp(G,Q){return this.x=Math.max(G.x,Math.min(Q.x,this.x)),this.y=Math.max(G.y,Math.min(Q.y,this.y)),this.z=Math.max(G.z,Math.min(Q.z,this.z)),this.w=Math.max(G.w,Math.min(Q.w,this.w)),this}clampScalar(G,Q){return this.x=Math.max(G,Math.min(Q,this.x)),this.y=Math.max(G,Math.min(Q,this.y)),this.z=Math.max(G,Math.min(Q,this.z)),this.w=Math.max(G,Math.min(Q,this.w)),this}clampLength(G,Q){const q=this.length();return this.divideScalar(q||1).multiplyScalar(Math.max(G,Math.min(Q,q)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(G){return this.x*G.x+this.y*G.y+this.z*G.z+this.w*G.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(G){return this.normalize().multiplyScalar(G)}lerp(G,Q){return this.x+=(G.x-this.x)*Q,this.y+=(G.y-this.y)*Q,this.z+=(G.z-this.z)*Q,this.w+=(G.w-this.w)*Q,this}lerpVectors(G,Q,q){return this.x=G.x+(Q.x-G.x)*q,this.y=G.y+(Q.y-G.y)*q,this.z=G.z+(Q.z-G.z)*q,this.w=G.w+(Q.w-G.w)*q,this}equals(G){return G.x===this.x&&G.y===this.y&&G.z===this.z&&G.w===this.w}fromArray(G,Q=0){return this.x=G[Q],this.y=G[Q+1],this.z=G[Q+2],this.w=G[Q+3],this}toArray(G=[],Q=0){return G[Q]=this.x,G[Q+1]=this.y,G[Q+2]=this.z,G[Q+3]=this.w,G}fromBufferAttribute(G,Q){return this.x=G.getX(Q),this.y=G.getY(Q),this.z=G.getZ(Q),this.w=G.getW(Q),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class RenderTarget extends EventDispatcher{constructor(G=1,Q=1,q={}){super(),this.isRenderTarget=!0,this.width=G,this.height=Q,this.depth=1,this.scissor=new Vector4(0,0,G,Q),this.scissorTest=!1,this.viewport=new Vector4(0,0,G,Q);const W={width:G,height:Q,depth:1};q=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:LinearFilter,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},q);const J=new Texture(W,q.mapping,q.wrapS,q.wrapT,q.magFilter,q.minFilter,q.format,q.type,q.anisotropy,q.colorSpace);J.flipY=!1,J.generateMipmaps=q.generateMipmaps,J.internalFormat=q.internalFormat,this.textures=[];const F=q.count;for(let Y=0;Y<F;Y++)this.textures[Y]=J.clone(),this.textures[Y].isRenderTargetTexture=!0;this.depthBuffer=q.depthBuffer,this.stencilBuffer=q.stencilBuffer,this.resolveDepthBuffer=q.resolveDepthBuffer,this.resolveStencilBuffer=q.resolveStencilBuffer,this.depthTexture=q.depthTexture,this.samples=q.samples}get texture(){return this.textures[0]}set texture(G){this.textures[0]=G}setSize(G,Q,q=1){if(this.width!==G||this.height!==Q||this.depth!==q){this.width=G,this.height=Q,this.depth=q;for(let W=0,J=this.textures.length;W<J;W++)this.textures[W].image.width=G,this.textures[W].image.height=Q,this.textures[W].image.depth=q;this.dispose()}this.viewport.set(0,0,G,Q),this.scissor.set(0,0,G,Q)}clone(){return new this.constructor().copy(this)}copy(G){this.width=G.width,this.height=G.height,this.depth=G.depth,this.scissor.copy(G.scissor),this.scissorTest=G.scissorTest,this.viewport.copy(G.viewport),this.textures.length=0;for(let q=0,W=G.textures.length;q<W;q++)this.textures[q]=G.textures[q].clone(),this.textures[q].isRenderTargetTexture=!0;const Q=Object.assign({},G.texture.image);return this.texture.source=new Source(Q),this.depthBuffer=G.depthBuffer,this.stencilBuffer=G.stencilBuffer,this.resolveDepthBuffer=G.resolveDepthBuffer,this.resolveStencilBuffer=G.resolveStencilBuffer,G.depthTexture!==null&&(this.depthTexture=G.depthTexture.clone()),this.samples=G.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class WebGLRenderTarget extends RenderTarget{constructor(G=1,Q=1,q={}){super(G,Q,q),this.isWebGLRenderTarget=!0}}class DataArrayTexture extends Texture{constructor(G=null,Q=1,q=1,W=1){super(null),this.isDataArrayTexture=!0,this.image={data:G,width:Q,height:q,depth:W},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(G){this.layerUpdates.add(G)}clearLayerUpdates(){this.layerUpdates.clear()}}class Quaternion{constructor(G=0,Q=0,q=0,W=1){this.isQuaternion=!0,this._x=G,this._y=Q,this._z=q,this._w=W}static slerpFlat(G,Q,q,W,J,F,Y){let X=q[W+0],te=q[W+1],re=q[W+2],ne=q[W+3];const ie=J[F+0],oe=J[F+1],ae=J[F+2],ue=J[F+3];if(Y===0){G[Q+0]=X,G[Q+1]=te,G[Q+2]=re,G[Q+3]=ne;return}if(Y===1){G[Q+0]=ie,G[Q+1]=oe,G[Q+2]=ae,G[Q+3]=ue;return}if(ne!==ue||X!==ie||te!==oe||re!==ae){let ce=1-Y;const se=X*ie+te*oe+re*ae+ne*ue,le=se>=0?1:-1,de=1-se*se;if(de>Number.EPSILON){const pe=Math.sqrt(de),ge=Math.atan2(pe,se*le);ce=Math.sin(ce*ge)/pe,Y=Math.sin(Y*ge)/pe}const he=Y*le;if(X=X*ce+ie*he,te=te*ce+oe*he,re=re*ce+ae*he,ne=ne*ce+ue*he,ce===1-Y){const pe=1/Math.sqrt(X*X+te*te+re*re+ne*ne);X*=pe,te*=pe,re*=pe,ne*=pe}}G[Q]=X,G[Q+1]=te,G[Q+2]=re,G[Q+3]=ne}static multiplyQuaternionsFlat(G,Q,q,W,J,F){const Y=q[W],X=q[W+1],te=q[W+2],re=q[W+3],ne=J[F],ie=J[F+1],oe=J[F+2],ae=J[F+3];return G[Q]=Y*ae+re*ne+X*oe-te*ie,G[Q+1]=X*ae+re*ie+te*ne-Y*oe,G[Q+2]=te*ae+re*oe+Y*ie-X*ne,G[Q+3]=re*ae-Y*ne-X*ie-te*oe,G}get x(){return this._x}set x(G){this._x=G,this._onChangeCallback()}get y(){return this._y}set y(G){this._y=G,this._onChangeCallback()}get z(){return this._z}set z(G){this._z=G,this._onChangeCallback()}get w(){return this._w}set w(G){this._w=G,this._onChangeCallback()}set(G,Q,q,W){return this._x=G,this._y=Q,this._z=q,this._w=W,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(G){return this._x=G.x,this._y=G.y,this._z=G.z,this._w=G.w,this._onChangeCallback(),this}setFromEuler(G,Q=!0){const q=G._x,W=G._y,J=G._z,F=G._order,Y=Math.cos,X=Math.sin,te=Y(q/2),re=Y(W/2),ne=Y(J/2),ie=X(q/2),oe=X(W/2),ae=X(J/2);switch(F){case"XYZ":this._x=ie*re*ne+te*oe*ae,this._y=te*oe*ne-ie*re*ae,this._z=te*re*ae+ie*oe*ne,this._w=te*re*ne-ie*oe*ae;break;case"YXZ":this._x=ie*re*ne+te*oe*ae,this._y=te*oe*ne-ie*re*ae,this._z=te*re*ae-ie*oe*ne,this._w=te*re*ne+ie*oe*ae;break;case"ZXY":this._x=ie*re*ne-te*oe*ae,this._y=te*oe*ne+ie*re*ae,this._z=te*re*ae+ie*oe*ne,this._w=te*re*ne-ie*oe*ae;break;case"ZYX":this._x=ie*re*ne-te*oe*ae,this._y=te*oe*ne+ie*re*ae,this._z=te*re*ae-ie*oe*ne,this._w=te*re*ne+ie*oe*ae;break;case"YZX":this._x=ie*re*ne+te*oe*ae,this._y=te*oe*ne+ie*re*ae,this._z=te*re*ae-ie*oe*ne,this._w=te*re*ne-ie*oe*ae;break;case"XZY":this._x=ie*re*ne-te*oe*ae,this._y=te*oe*ne-ie*re*ae,this._z=te*re*ae+ie*oe*ne,this._w=te*re*ne+ie*oe*ae;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+F)}return Q===!0&&this._onChangeCallback(),this}setFromAxisAngle(G,Q){const q=Q/2,W=Math.sin(q);return this._x=G.x*W,this._y=G.y*W,this._z=G.z*W,this._w=Math.cos(q),this._onChangeCallback(),this}setFromRotationMatrix(G){const Q=G.elements,q=Q[0],W=Q[4],J=Q[8],F=Q[1],Y=Q[5],X=Q[9],te=Q[2],re=Q[6],ne=Q[10],ie=q+Y+ne;if(ie>0){const oe=.5/Math.sqrt(ie+1);this._w=.25/oe,this._x=(re-X)*oe,this._y=(J-te)*oe,this._z=(F-W)*oe}else if(q>Y&&q>ne){const oe=2*Math.sqrt(1+q-Y-ne);this._w=(re-X)/oe,this._x=.25*oe,this._y=(W+F)/oe,this._z=(J+te)/oe}else if(Y>ne){const oe=2*Math.sqrt(1+Y-q-ne);this._w=(J-te)/oe,this._x=(W+F)/oe,this._y=.25*oe,this._z=(X+re)/oe}else{const oe=2*Math.sqrt(1+ne-q-Y);this._w=(F-W)/oe,this._x=(J+te)/oe,this._y=(X+re)/oe,this._z=.25*oe}return this._onChangeCallback(),this}setFromUnitVectors(G,Q){let q=G.dot(Q)+1;return q<Number.EPSILON?(q=0,Math.abs(G.x)>Math.abs(G.z)?(this._x=-G.y,this._y=G.x,this._z=0,this._w=q):(this._x=0,this._y=-G.z,this._z=G.y,this._w=q)):(this._x=G.y*Q.z-G.z*Q.y,this._y=G.z*Q.x-G.x*Q.z,this._z=G.x*Q.y-G.y*Q.x,this._w=q),this.normalize()}angleTo(G){return 2*Math.acos(Math.abs(clamp$1(this.dot(G),-1,1)))}rotateTowards(G,Q){const q=this.angleTo(G);if(q===0)return this;const W=Math.min(1,Q/q);return this.slerp(G,W),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(G){return this._x*G._x+this._y*G._y+this._z*G._z+this._w*G._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let G=this.length();return G===0?(this._x=0,this._y=0,this._z=0,this._w=1):(G=1/G,this._x=this._x*G,this._y=this._y*G,this._z=this._z*G,this._w=this._w*G),this._onChangeCallback(),this}multiply(G){return this.multiplyQuaternions(this,G)}premultiply(G){return this.multiplyQuaternions(G,this)}multiplyQuaternions(G,Q){const q=G._x,W=G._y,J=G._z,F=G._w,Y=Q._x,X=Q._y,te=Q._z,re=Q._w;return this._x=q*re+F*Y+W*te-J*X,this._y=W*re+F*X+J*Y-q*te,this._z=J*re+F*te+q*X-W*Y,this._w=F*re-q*Y-W*X-J*te,this._onChangeCallback(),this}slerp(G,Q){if(Q===0)return this;if(Q===1)return this.copy(G);const q=this._x,W=this._y,J=this._z,F=this._w;let Y=F*G._w+q*G._x+W*G._y+J*G._z;if(Y<0?(this._w=-G._w,this._x=-G._x,this._y=-G._y,this._z=-G._z,Y=-Y):this.copy(G),Y>=1)return this._w=F,this._x=q,this._y=W,this._z=J,this;const X=1-Y*Y;if(X<=Number.EPSILON){const oe=1-Q;return this._w=oe*F+Q*this._w,this._x=oe*q+Q*this._x,this._y=oe*W+Q*this._y,this._z=oe*J+Q*this._z,this.normalize(),this}const te=Math.sqrt(X),re=Math.atan2(te,Y),ne=Math.sin((1-Q)*re)/te,ie=Math.sin(Q*re)/te;return this._w=F*ne+this._w*ie,this._x=q*ne+this._x*ie,this._y=W*ne+this._y*ie,this._z=J*ne+this._z*ie,this._onChangeCallback(),this}slerpQuaternions(G,Q,q){return this.copy(G).slerp(Q,q)}random(){const G=2*Math.PI*Math.random(),Q=2*Math.PI*Math.random(),q=Math.random(),W=Math.sqrt(1-q),J=Math.sqrt(q);return this.set(W*Math.sin(G),W*Math.cos(G),J*Math.sin(Q),J*Math.cos(Q))}equals(G){return G._x===this._x&&G._y===this._y&&G._z===this._z&&G._w===this._w}fromArray(G,Q=0){return this._x=G[Q],this._y=G[Q+1],this._z=G[Q+2],this._w=G[Q+3],this._onChangeCallback(),this}toArray(G=[],Q=0){return G[Q]=this._x,G[Q+1]=this._y,G[Q+2]=this._z,G[Q+3]=this._w,G}fromBufferAttribute(G,Q){return this._x=G.getX(Q),this._y=G.getY(Q),this._z=G.getZ(Q),this._w=G.getW(Q),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(G){return this._onChangeCallback=G,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(G=0,Q=0,q=0){Vector3.prototype.isVector3=!0,this.x=G,this.y=Q,this.z=q}set(G,Q,q){return q===void 0&&(q=this.z),this.x=G,this.y=Q,this.z=q,this}setScalar(G){return this.x=G,this.y=G,this.z=G,this}setX(G){return this.x=G,this}setY(G){return this.y=G,this}setZ(G){return this.z=G,this}setComponent(G,Q){switch(G){case 0:this.x=Q;break;case 1:this.y=Q;break;case 2:this.z=Q;break;default:throw new Error("index is out of range: "+G)}return this}getComponent(G){switch(G){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+G)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(G){return this.x=G.x,this.y=G.y,this.z=G.z,this}add(G){return this.x+=G.x,this.y+=G.y,this.z+=G.z,this}addScalar(G){return this.x+=G,this.y+=G,this.z+=G,this}addVectors(G,Q){return this.x=G.x+Q.x,this.y=G.y+Q.y,this.z=G.z+Q.z,this}addScaledVector(G,Q){return this.x+=G.x*Q,this.y+=G.y*Q,this.z+=G.z*Q,this}sub(G){return this.x-=G.x,this.y-=G.y,this.z-=G.z,this}subScalar(G){return this.x-=G,this.y-=G,this.z-=G,this}subVectors(G,Q){return this.x=G.x-Q.x,this.y=G.y-Q.y,this.z=G.z-Q.z,this}multiply(G){return this.x*=G.x,this.y*=G.y,this.z*=G.z,this}multiplyScalar(G){return this.x*=G,this.y*=G,this.z*=G,this}multiplyVectors(G,Q){return this.x=G.x*Q.x,this.y=G.y*Q.y,this.z=G.z*Q.z,this}applyEuler(G){return this.applyQuaternion(_quaternion$4.setFromEuler(G))}applyAxisAngle(G,Q){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(G,Q))}applyMatrix3(G){const Q=this.x,q=this.y,W=this.z,J=G.elements;return this.x=J[0]*Q+J[3]*q+J[6]*W,this.y=J[1]*Q+J[4]*q+J[7]*W,this.z=J[2]*Q+J[5]*q+J[8]*W,this}applyNormalMatrix(G){return this.applyMatrix3(G).normalize()}applyMatrix4(G){const Q=this.x,q=this.y,W=this.z,J=G.elements,F=1/(J[3]*Q+J[7]*q+J[11]*W+J[15]);return this.x=(J[0]*Q+J[4]*q+J[8]*W+J[12])*F,this.y=(J[1]*Q+J[5]*q+J[9]*W+J[13])*F,this.z=(J[2]*Q+J[6]*q+J[10]*W+J[14])*F,this}applyQuaternion(G){const Q=this.x,q=this.y,W=this.z,J=G.x,F=G.y,Y=G.z,X=G.w,te=2*(F*W-Y*q),re=2*(Y*Q-J*W),ne=2*(J*q-F*Q);return this.x=Q+X*te+F*ne-Y*re,this.y=q+X*re+Y*te-J*ne,this.z=W+X*ne+J*re-F*te,this}project(G){return this.applyMatrix4(G.matrixWorldInverse).applyMatrix4(G.projectionMatrix)}unproject(G){return this.applyMatrix4(G.projectionMatrixInverse).applyMatrix4(G.matrixWorld)}transformDirection(G){const Q=this.x,q=this.y,W=this.z,J=G.elements;return this.x=J[0]*Q+J[4]*q+J[8]*W,this.y=J[1]*Q+J[5]*q+J[9]*W,this.z=J[2]*Q+J[6]*q+J[10]*W,this.normalize()}divide(G){return this.x/=G.x,this.y/=G.y,this.z/=G.z,this}divideScalar(G){return this.multiplyScalar(1/G)}min(G){return this.x=Math.min(this.x,G.x),this.y=Math.min(this.y,G.y),this.z=Math.min(this.z,G.z),this}max(G){return this.x=Math.max(this.x,G.x),this.y=Math.max(this.y,G.y),this.z=Math.max(this.z,G.z),this}clamp(G,Q){return this.x=Math.max(G.x,Math.min(Q.x,this.x)),this.y=Math.max(G.y,Math.min(Q.y,this.y)),this.z=Math.max(G.z,Math.min(Q.z,this.z)),this}clampScalar(G,Q){return this.x=Math.max(G,Math.min(Q,this.x)),this.y=Math.max(G,Math.min(Q,this.y)),this.z=Math.max(G,Math.min(Q,this.z)),this}clampLength(G,Q){const q=this.length();return this.divideScalar(q||1).multiplyScalar(Math.max(G,Math.min(Q,q)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(G){return this.x*G.x+this.y*G.y+this.z*G.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(G){return this.normalize().multiplyScalar(G)}lerp(G,Q){return this.x+=(G.x-this.x)*Q,this.y+=(G.y-this.y)*Q,this.z+=(G.z-this.z)*Q,this}lerpVectors(G,Q,q){return this.x=G.x+(Q.x-G.x)*q,this.y=G.y+(Q.y-G.y)*q,this.z=G.z+(Q.z-G.z)*q,this}cross(G){return this.crossVectors(this,G)}crossVectors(G,Q){const q=G.x,W=G.y,J=G.z,F=Q.x,Y=Q.y,X=Q.z;return this.x=W*X-J*Y,this.y=J*F-q*X,this.z=q*Y-W*F,this}projectOnVector(G){const Q=G.lengthSq();if(Q===0)return this.set(0,0,0);const q=G.dot(this)/Q;return this.copy(G).multiplyScalar(q)}projectOnPlane(G){return _vector$c.copy(this).projectOnVector(G),this.sub(_vector$c)}reflect(G){return this.sub(_vector$c.copy(G).multiplyScalar(2*this.dot(G)))}angleTo(G){const Q=Math.sqrt(this.lengthSq()*G.lengthSq());if(Q===0)return Math.PI/2;const q=this.dot(G)/Q;return Math.acos(clamp$1(q,-1,1))}distanceTo(G){return Math.sqrt(this.distanceToSquared(G))}distanceToSquared(G){const Q=this.x-G.x,q=this.y-G.y,W=this.z-G.z;return Q*Q+q*q+W*W}manhattanDistanceTo(G){return Math.abs(this.x-G.x)+Math.abs(this.y-G.y)+Math.abs(this.z-G.z)}setFromSpherical(G){return this.setFromSphericalCoords(G.radius,G.phi,G.theta)}setFromSphericalCoords(G,Q,q){const W=Math.sin(Q)*G;return this.x=W*Math.sin(q),this.y=Math.cos(Q)*G,this.z=W*Math.cos(q),this}setFromCylindrical(G){return this.setFromCylindricalCoords(G.radius,G.theta,G.y)}setFromCylindricalCoords(G,Q,q){return this.x=G*Math.sin(Q),this.y=q,this.z=G*Math.cos(Q),this}setFromMatrixPosition(G){const Q=G.elements;return this.x=Q[12],this.y=Q[13],this.z=Q[14],this}setFromMatrixScale(G){const Q=this.setFromMatrixColumn(G,0).length(),q=this.setFromMatrixColumn(G,1).length(),W=this.setFromMatrixColumn(G,2).length();return this.x=Q,this.y=q,this.z=W,this}setFromMatrixColumn(G,Q){return this.fromArray(G.elements,Q*4)}setFromMatrix3Column(G,Q){return this.fromArray(G.elements,Q*3)}setFromEuler(G){return this.x=G._x,this.y=G._y,this.z=G._z,this}setFromColor(G){return this.x=G.r,this.y=G.g,this.z=G.b,this}equals(G){return G.x===this.x&&G.y===this.y&&G.z===this.z}fromArray(G,Q=0){return this.x=G[Q],this.y=G[Q+1],this.z=G[Q+2],this}toArray(G=[],Q=0){return G[Q]=this.x,G[Q+1]=this.y,G[Q+2]=this.z,G}fromBufferAttribute(G,Q){return this.x=G.getX(Q),this.y=G.getY(Q),this.z=G.getZ(Q),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const G=Math.random()*Math.PI*2,Q=Math.random()*2-1,q=Math.sqrt(1-Q*Q);return this.x=q*Math.cos(G),this.y=Q,this.z=q*Math.sin(G),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(G=new Vector3(1/0,1/0,1/0),Q=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=G,this.max=Q}set(G,Q){return this.min.copy(G),this.max.copy(Q),this}setFromArray(G){this.makeEmpty();for(let Q=0,q=G.length;Q<q;Q+=3)this.expandByPoint(_vector$b.fromArray(G,Q));return this}setFromBufferAttribute(G){this.makeEmpty();for(let Q=0,q=G.count;Q<q;Q++)this.expandByPoint(_vector$b.fromBufferAttribute(G,Q));return this}setFromPoints(G){this.makeEmpty();for(let Q=0,q=G.length;Q<q;Q++)this.expandByPoint(G[Q]);return this}setFromCenterAndSize(G,Q){const q=_vector$b.copy(Q).multiplyScalar(.5);return this.min.copy(G).sub(q),this.max.copy(G).add(q),this}setFromObject(G,Q=!1){return this.makeEmpty(),this.expandByObject(G,Q)}clone(){return new this.constructor().copy(this)}copy(G){return this.min.copy(G.min),this.max.copy(G.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(G){return this.isEmpty()?G.set(0,0,0):G.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(G){return this.isEmpty()?G.set(0,0,0):G.subVectors(this.max,this.min)}expandByPoint(G){return this.min.min(G),this.max.max(G),this}expandByVector(G){return this.min.sub(G),this.max.add(G),this}expandByScalar(G){return this.min.addScalar(-G),this.max.addScalar(G),this}expandByObject(G,Q=!1){G.updateWorldMatrix(!1,!1);const q=G.geometry;if(q!==void 0){const J=q.getAttribute("position");if(Q===!0&&J!==void 0&&G.isInstancedMesh!==!0)for(let F=0,Y=J.count;F<Y;F++)G.isMesh===!0?G.getVertexPosition(F,_vector$b):_vector$b.fromBufferAttribute(J,F),_vector$b.applyMatrix4(G.matrixWorld),this.expandByPoint(_vector$b);else G.boundingBox!==void 0?(G.boundingBox===null&&G.computeBoundingBox(),_box$4.copy(G.boundingBox)):(q.boundingBox===null&&q.computeBoundingBox(),_box$4.copy(q.boundingBox)),_box$4.applyMatrix4(G.matrixWorld),this.union(_box$4)}const W=G.children;for(let J=0,F=W.length;J<F;J++)this.expandByObject(W[J],Q);return this}containsPoint(G){return G.x>=this.min.x&&G.x<=this.max.x&&G.y>=this.min.y&&G.y<=this.max.y&&G.z>=this.min.z&&G.z<=this.max.z}containsBox(G){return this.min.x<=G.min.x&&G.max.x<=this.max.x&&this.min.y<=G.min.y&&G.max.y<=this.max.y&&this.min.z<=G.min.z&&G.max.z<=this.max.z}getParameter(G,Q){return Q.set((G.x-this.min.x)/(this.max.x-this.min.x),(G.y-this.min.y)/(this.max.y-this.min.y),(G.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(G){return G.max.x>=this.min.x&&G.min.x<=this.max.x&&G.max.y>=this.min.y&&G.min.y<=this.max.y&&G.max.z>=this.min.z&&G.min.z<=this.max.z}intersectsSphere(G){return this.clampPoint(G.center,_vector$b),_vector$b.distanceToSquared(G.center)<=G.radius*G.radius}intersectsPlane(G){let Q,q;return G.normal.x>0?(Q=G.normal.x*this.min.x,q=G.normal.x*this.max.x):(Q=G.normal.x*this.max.x,q=G.normal.x*this.min.x),G.normal.y>0?(Q+=G.normal.y*this.min.y,q+=G.normal.y*this.max.y):(Q+=G.normal.y*this.max.y,q+=G.normal.y*this.min.y),G.normal.z>0?(Q+=G.normal.z*this.min.z,q+=G.normal.z*this.max.z):(Q+=G.normal.z*this.max.z,q+=G.normal.z*this.min.z),Q<=-G.constant&&q>=-G.constant}intersectsTriangle(G){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(G.a,_center),_v1$7.subVectors(G.b,_center),_v2$4.subVectors(G.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let Q=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(Q,_v0$2,_v1$7,_v2$4,_extents)||(Q=[1,0,0,0,1,0,0,0,1],!satForAxes(Q,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),Q=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(Q,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(G,Q){return Q.copy(G).clamp(this.min,this.max)}distanceToPoint(G){return this.clampPoint(G,_vector$b).distanceTo(G)}getBoundingSphere(G){return this.isEmpty()?G.makeEmpty():(this.getCenter(G.center),G.radius=this.getSize(_vector$b).length()*.5),G}intersect(G){return this.min.max(G.min),this.max.min(G.max),this.isEmpty()&&this.makeEmpty(),this}union(G){return this.min.min(G.min),this.max.max(G.max),this}applyMatrix4(G){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(G),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(G),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(G),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(G),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(G),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(G),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(G),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(G),this.setFromPoints(_points),this)}translate(G){return this.min.add(G),this.max.add(G),this}equals(G){return G.min.equals(this.min)&&G.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$4=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(U,G,Q,q,W){for(let J=0,F=U.length-3;J<=F;J+=3){_testAxis.fromArray(U,J);const Y=W.x*Math.abs(_testAxis.x)+W.y*Math.abs(_testAxis.y)+W.z*Math.abs(_testAxis.z),X=G.dot(_testAxis),te=Q.dot(_testAxis),re=q.dot(_testAxis);if(Math.max(-Math.max(X,te,re),Math.min(X,te,re))>Y)return!1}return!0}const _box$3=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(G=new Vector3,Q=-1){this.isSphere=!0,this.center=G,this.radius=Q}set(G,Q){return this.center.copy(G),this.radius=Q,this}setFromPoints(G,Q){const q=this.center;Q!==void 0?q.copy(Q):_box$3.setFromPoints(G).getCenter(q);let W=0;for(let J=0,F=G.length;J<F;J++)W=Math.max(W,q.distanceToSquared(G[J]));return this.radius=Math.sqrt(W),this}copy(G){return this.center.copy(G.center),this.radius=G.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(G){return G.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(G){return G.distanceTo(this.center)-this.radius}intersectsSphere(G){const Q=this.radius+G.radius;return G.center.distanceToSquared(this.center)<=Q*Q}intersectsBox(G){return G.intersectsSphere(this)}intersectsPlane(G){return Math.abs(G.distanceToPoint(this.center))<=this.radius}clampPoint(G,Q){const q=this.center.distanceToSquared(G);return Q.copy(G),q>this.radius*this.radius&&(Q.sub(this.center).normalize(),Q.multiplyScalar(this.radius).add(this.center)),Q}getBoundingBox(G){return this.isEmpty()?(G.makeEmpty(),G):(G.set(this.center,this.center),G.expandByScalar(this.radius),G)}applyMatrix4(G){return this.center.applyMatrix4(G),this.radius=this.radius*G.getMaxScaleOnAxis(),this}translate(G){return this.center.add(G),this}expandByPoint(G){if(this.isEmpty())return this.center.copy(G),this.radius=0,this;_v1$6.subVectors(G,this.center);const Q=_v1$6.lengthSq();if(Q>this.radius*this.radius){const q=Math.sqrt(Q),W=(q-this.radius)*.5;this.center.addScaledVector(_v1$6,W/q),this.radius+=W}return this}union(G){return G.isEmpty()?this:this.isEmpty()?(this.copy(G),this):(this.center.equals(G.center)===!0?this.radius=Math.max(this.radius,G.radius):(_v2$3.subVectors(G.center,this.center).setLength(G.radius),this.expandByPoint(_v1$6.copy(G.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(G.center).sub(_v2$3))),this)}equals(G){return G.center.equals(this.center)&&G.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$2=new Vector3;class Ray{constructor(G=new Vector3,Q=new Vector3(0,0,-1)){this.origin=G,this.direction=Q}set(G,Q){return this.origin.copy(G),this.direction.copy(Q),this}copy(G){return this.origin.copy(G.origin),this.direction.copy(G.direction),this}at(G,Q){return Q.copy(this.origin).addScaledVector(this.direction,G)}lookAt(G){return this.direction.copy(G).sub(this.origin).normalize(),this}recast(G){return this.origin.copy(this.at(G,_vector$a)),this}closestPointToPoint(G,Q){Q.subVectors(G,this.origin);const q=Q.dot(this.direction);return q<0?Q.copy(this.origin):Q.copy(this.origin).addScaledVector(this.direction,q)}distanceToPoint(G){return Math.sqrt(this.distanceSqToPoint(G))}distanceSqToPoint(G){const Q=_vector$a.subVectors(G,this.origin).dot(this.direction);return Q<0?this.origin.distanceToSquared(G):(_vector$a.copy(this.origin).addScaledVector(this.direction,Q),_vector$a.distanceToSquared(G))}distanceSqToSegment(G,Q,q,W){_segCenter.copy(G).add(Q).multiplyScalar(.5),_segDir.copy(Q).sub(G).normalize(),_diff.copy(this.origin).sub(_segCenter);const J=G.distanceTo(Q)*.5,F=-this.direction.dot(_segDir),Y=_diff.dot(this.direction),X=-_diff.dot(_segDir),te=_diff.lengthSq(),re=Math.abs(1-F*F);let ne,ie,oe,ae;if(re>0)if(ne=F*X-Y,ie=F*Y-X,ae=J*re,ne>=0)if(ie>=-ae)if(ie<=ae){const ue=1/re;ne*=ue,ie*=ue,oe=ne*(ne+F*ie+2*Y)+ie*(F*ne+ie+2*X)+te}else ie=J,ne=Math.max(0,-(F*ie+Y)),oe=-ne*ne+ie*(ie+2*X)+te;else ie=-J,ne=Math.max(0,-(F*ie+Y)),oe=-ne*ne+ie*(ie+2*X)+te;else ie<=-ae?(ne=Math.max(0,-(-F*J+Y)),ie=ne>0?-J:Math.min(Math.max(-J,-X),J),oe=-ne*ne+ie*(ie+2*X)+te):ie<=ae?(ne=0,ie=Math.min(Math.max(-J,-X),J),oe=ie*(ie+2*X)+te):(ne=Math.max(0,-(F*J+Y)),ie=ne>0?J:Math.min(Math.max(-J,-X),J),oe=-ne*ne+ie*(ie+2*X)+te);else ie=F>0?-J:J,ne=Math.max(0,-(F*ie+Y)),oe=-ne*ne+ie*(ie+2*X)+te;return q&&q.copy(this.origin).addScaledVector(this.direction,ne),W&&W.copy(_segCenter).addScaledVector(_segDir,ie),oe}intersectSphere(G,Q){_vector$a.subVectors(G.center,this.origin);const q=_vector$a.dot(this.direction),W=_vector$a.dot(_vector$a)-q*q,J=G.radius*G.radius;if(W>J)return null;const F=Math.sqrt(J-W),Y=q-F,X=q+F;return X<0?null:Y<0?this.at(X,Q):this.at(Y,Q)}intersectsSphere(G){return this.distanceSqToPoint(G.center)<=G.radius*G.radius}distanceToPlane(G){const Q=G.normal.dot(this.direction);if(Q===0)return G.distanceToPoint(this.origin)===0?0:null;const q=-(this.origin.dot(G.normal)+G.constant)/Q;return q>=0?q:null}intersectPlane(G,Q){const q=this.distanceToPlane(G);return q===null?null:this.at(q,Q)}intersectsPlane(G){const Q=G.distanceToPoint(this.origin);return Q===0||G.normal.dot(this.direction)*Q<0}intersectBox(G,Q){let q,W,J,F,Y,X;const te=1/this.direction.x,re=1/this.direction.y,ne=1/this.direction.z,ie=this.origin;return te>=0?(q=(G.min.x-ie.x)*te,W=(G.max.x-ie.x)*te):(q=(G.max.x-ie.x)*te,W=(G.min.x-ie.x)*te),re>=0?(J=(G.min.y-ie.y)*re,F=(G.max.y-ie.y)*re):(J=(G.max.y-ie.y)*re,F=(G.min.y-ie.y)*re),q>F||J>W||((J>q||isNaN(q))&&(q=J),(F<W||isNaN(W))&&(W=F),ne>=0?(Y=(G.min.z-ie.z)*ne,X=(G.max.z-ie.z)*ne):(Y=(G.max.z-ie.z)*ne,X=(G.min.z-ie.z)*ne),q>X||Y>W)||((Y>q||q!==q)&&(q=Y),(X<W||W!==W)&&(W=X),W<0)?null:this.at(q>=0?q:W,Q)}intersectsBox(G){return this.intersectBox(G,_vector$a)!==null}intersectTriangle(G,Q,q,W,J){_edge1.subVectors(Q,G),_edge2.subVectors(q,G),_normal$2.crossVectors(_edge1,_edge2);let F=this.direction.dot(_normal$2),Y;if(F>0){if(W)return null;Y=1}else if(F<0)Y=-1,F=-F;else return null;_diff.subVectors(this.origin,G);const X=Y*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(X<0)return null;const te=Y*this.direction.dot(_edge1.cross(_diff));if(te<0||X+te>F)return null;const re=-Y*_diff.dot(_normal$2);return re<0?null:this.at(re/F,J)}applyMatrix4(G){return this.origin.applyMatrix4(G),this.direction.transformDirection(G),this}equals(G){return G.origin.equals(this.origin)&&G.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(G,Q,q,W,J,F,Y,X,te,re,ne,ie,oe,ae,ue,ce){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],G!==void 0&&this.set(G,Q,q,W,J,F,Y,X,te,re,ne,ie,oe,ae,ue,ce)}set(G,Q,q,W,J,F,Y,X,te,re,ne,ie,oe,ae,ue,ce){const se=this.elements;return se[0]=G,se[4]=Q,se[8]=q,se[12]=W,se[1]=J,se[5]=F,se[9]=Y,se[13]=X,se[2]=te,se[6]=re,se[10]=ne,se[14]=ie,se[3]=oe,se[7]=ae,se[11]=ue,se[15]=ce,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(G){const Q=this.elements,q=G.elements;return Q[0]=q[0],Q[1]=q[1],Q[2]=q[2],Q[3]=q[3],Q[4]=q[4],Q[5]=q[5],Q[6]=q[6],Q[7]=q[7],Q[8]=q[8],Q[9]=q[9],Q[10]=q[10],Q[11]=q[11],Q[12]=q[12],Q[13]=q[13],Q[14]=q[14],Q[15]=q[15],this}copyPosition(G){const Q=this.elements,q=G.elements;return Q[12]=q[12],Q[13]=q[13],Q[14]=q[14],this}setFromMatrix3(G){const Q=G.elements;return this.set(Q[0],Q[3],Q[6],0,Q[1],Q[4],Q[7],0,Q[2],Q[5],Q[8],0,0,0,0,1),this}extractBasis(G,Q,q){return G.setFromMatrixColumn(this,0),Q.setFromMatrixColumn(this,1),q.setFromMatrixColumn(this,2),this}makeBasis(G,Q,q){return this.set(G.x,Q.x,q.x,0,G.y,Q.y,q.y,0,G.z,Q.z,q.z,0,0,0,0,1),this}extractRotation(G){const Q=this.elements,q=G.elements,W=1/_v1$5.setFromMatrixColumn(G,0).length(),J=1/_v1$5.setFromMatrixColumn(G,1).length(),F=1/_v1$5.setFromMatrixColumn(G,2).length();return Q[0]=q[0]*W,Q[1]=q[1]*W,Q[2]=q[2]*W,Q[3]=0,Q[4]=q[4]*J,Q[5]=q[5]*J,Q[6]=q[6]*J,Q[7]=0,Q[8]=q[8]*F,Q[9]=q[9]*F,Q[10]=q[10]*F,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,this}makeRotationFromEuler(G){const Q=this.elements,q=G.x,W=G.y,J=G.z,F=Math.cos(q),Y=Math.sin(q),X=Math.cos(W),te=Math.sin(W),re=Math.cos(J),ne=Math.sin(J);if(G.order==="XYZ"){const ie=F*re,oe=F*ne,ae=Y*re,ue=Y*ne;Q[0]=X*re,Q[4]=-X*ne,Q[8]=te,Q[1]=oe+ae*te,Q[5]=ie-ue*te,Q[9]=-Y*X,Q[2]=ue-ie*te,Q[6]=ae+oe*te,Q[10]=F*X}else if(G.order==="YXZ"){const ie=X*re,oe=X*ne,ae=te*re,ue=te*ne;Q[0]=ie+ue*Y,Q[4]=ae*Y-oe,Q[8]=F*te,Q[1]=F*ne,Q[5]=F*re,Q[9]=-Y,Q[2]=oe*Y-ae,Q[6]=ue+ie*Y,Q[10]=F*X}else if(G.order==="ZXY"){const ie=X*re,oe=X*ne,ae=te*re,ue=te*ne;Q[0]=ie-ue*Y,Q[4]=-F*ne,Q[8]=ae+oe*Y,Q[1]=oe+ae*Y,Q[5]=F*re,Q[9]=ue-ie*Y,Q[2]=-F*te,Q[6]=Y,Q[10]=F*X}else if(G.order==="ZYX"){const ie=F*re,oe=F*ne,ae=Y*re,ue=Y*ne;Q[0]=X*re,Q[4]=ae*te-oe,Q[8]=ie*te+ue,Q[1]=X*ne,Q[5]=ue*te+ie,Q[9]=oe*te-ae,Q[2]=-te,Q[6]=Y*X,Q[10]=F*X}else if(G.order==="YZX"){const ie=F*X,oe=F*te,ae=Y*X,ue=Y*te;Q[0]=X*re,Q[4]=ue-ie*ne,Q[8]=ae*ne+oe,Q[1]=ne,Q[5]=F*re,Q[9]=-Y*re,Q[2]=-te*re,Q[6]=oe*ne+ae,Q[10]=ie-ue*ne}else if(G.order==="XZY"){const ie=F*X,oe=F*te,ae=Y*X,ue=Y*te;Q[0]=X*re,Q[4]=-ne,Q[8]=te*re,Q[1]=ie*ne+ue,Q[5]=F*re,Q[9]=oe*ne-ae,Q[2]=ae*ne-oe,Q[6]=Y*re,Q[10]=ue*ne+ie}return Q[3]=0,Q[7]=0,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,this}makeRotationFromQuaternion(G){return this.compose(_zero,G,_one)}lookAt(G,Q,q){const W=this.elements;return _z.subVectors(G,Q),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(q,_z),_x.lengthSq()===0&&(Math.abs(q.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(q,_z)),_x.normalize(),_y.crossVectors(_z,_x),W[0]=_x.x,W[4]=_y.x,W[8]=_z.x,W[1]=_x.y,W[5]=_y.y,W[9]=_z.y,W[2]=_x.z,W[6]=_y.z,W[10]=_z.z,this}multiply(G){return this.multiplyMatrices(this,G)}premultiply(G){return this.multiplyMatrices(G,this)}multiplyMatrices(G,Q){const q=G.elements,W=Q.elements,J=this.elements,F=q[0],Y=q[4],X=q[8],te=q[12],re=q[1],ne=q[5],ie=q[9],oe=q[13],ae=q[2],ue=q[6],ce=q[10],se=q[14],le=q[3],de=q[7],he=q[11],pe=q[15],ge=W[0],be=W[4],ve=W[8],Ee=W[12],ke=W[1],Pe=W[5],Te=W[9],xe=W[13],Ne=W[2],Se=W[6],Ge=W[10],Ce=W[14],ze=W[3],Ve=W[7],Ke=W[11],Ze=W[15];return J[0]=F*ge+Y*ke+X*Ne+te*ze,J[4]=F*be+Y*Pe+X*Se+te*Ve,J[8]=F*ve+Y*Te+X*Ge+te*Ke,J[12]=F*Ee+Y*xe+X*Ce+te*Ze,J[1]=re*ge+ne*ke+ie*Ne+oe*ze,J[5]=re*be+ne*Pe+ie*Se+oe*Ve,J[9]=re*ve+ne*Te+ie*Ge+oe*Ke,J[13]=re*Ee+ne*xe+ie*Ce+oe*Ze,J[2]=ae*ge+ue*ke+ce*Ne+se*ze,J[6]=ae*be+ue*Pe+ce*Se+se*Ve,J[10]=ae*ve+ue*Te+ce*Ge+se*Ke,J[14]=ae*Ee+ue*xe+ce*Ce+se*Ze,J[3]=le*ge+de*ke+he*Ne+pe*ze,J[7]=le*be+de*Pe+he*Se+pe*Ve,J[11]=le*ve+de*Te+he*Ge+pe*Ke,J[15]=le*Ee+de*xe+he*Ce+pe*Ze,this}multiplyScalar(G){const Q=this.elements;return Q[0]*=G,Q[4]*=G,Q[8]*=G,Q[12]*=G,Q[1]*=G,Q[5]*=G,Q[9]*=G,Q[13]*=G,Q[2]*=G,Q[6]*=G,Q[10]*=G,Q[14]*=G,Q[3]*=G,Q[7]*=G,Q[11]*=G,Q[15]*=G,this}determinant(){const G=this.elements,Q=G[0],q=G[4],W=G[8],J=G[12],F=G[1],Y=G[5],X=G[9],te=G[13],re=G[2],ne=G[6],ie=G[10],oe=G[14],ae=G[3],ue=G[7],ce=G[11],se=G[15];return ae*(+J*X*ne-W*te*ne-J*Y*ie+q*te*ie+W*Y*oe-q*X*oe)+ue*(+Q*X*oe-Q*te*ie+J*F*ie-W*F*oe+W*te*re-J*X*re)+ce*(+Q*te*ne-Q*Y*oe-J*F*ne+q*F*oe+J*Y*re-q*te*re)+se*(-W*Y*re-Q*X*ne+Q*Y*ie+W*F*ne-q*F*ie+q*X*re)}transpose(){const G=this.elements;let Q;return Q=G[1],G[1]=G[4],G[4]=Q,Q=G[2],G[2]=G[8],G[8]=Q,Q=G[6],G[6]=G[9],G[9]=Q,Q=G[3],G[3]=G[12],G[12]=Q,Q=G[7],G[7]=G[13],G[13]=Q,Q=G[11],G[11]=G[14],G[14]=Q,this}setPosition(G,Q,q){const W=this.elements;return G.isVector3?(W[12]=G.x,W[13]=G.y,W[14]=G.z):(W[12]=G,W[13]=Q,W[14]=q),this}invert(){const G=this.elements,Q=G[0],q=G[1],W=G[2],J=G[3],F=G[4],Y=G[5],X=G[6],te=G[7],re=G[8],ne=G[9],ie=G[10],oe=G[11],ae=G[12],ue=G[13],ce=G[14],se=G[15],le=ne*ce*te-ue*ie*te+ue*X*oe-Y*ce*oe-ne*X*se+Y*ie*se,de=ae*ie*te-re*ce*te-ae*X*oe+F*ce*oe+re*X*se-F*ie*se,he=re*ue*te-ae*ne*te+ae*Y*oe-F*ue*oe-re*Y*se+F*ne*se,pe=ae*ne*X-re*ue*X-ae*Y*ie+F*ue*ie+re*Y*ce-F*ne*ce,ge=Q*le+q*de+W*he+J*pe;if(ge===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const be=1/ge;return G[0]=le*be,G[1]=(ue*ie*J-ne*ce*J-ue*W*oe+q*ce*oe+ne*W*se-q*ie*se)*be,G[2]=(Y*ce*J-ue*X*J+ue*W*te-q*ce*te-Y*W*se+q*X*se)*be,G[3]=(ne*X*J-Y*ie*J-ne*W*te+q*ie*te+Y*W*oe-q*X*oe)*be,G[4]=de*be,G[5]=(re*ce*J-ae*ie*J+ae*W*oe-Q*ce*oe-re*W*se+Q*ie*se)*be,G[6]=(ae*X*J-F*ce*J-ae*W*te+Q*ce*te+F*W*se-Q*X*se)*be,G[7]=(F*ie*J-re*X*J+re*W*te-Q*ie*te-F*W*oe+Q*X*oe)*be,G[8]=he*be,G[9]=(ae*ne*J-re*ue*J-ae*q*oe+Q*ue*oe+re*q*se-Q*ne*se)*be,G[10]=(F*ue*J-ae*Y*J+ae*q*te-Q*ue*te-F*q*se+Q*Y*se)*be,G[11]=(re*Y*J-F*ne*J-re*q*te+Q*ne*te+F*q*oe-Q*Y*oe)*be,G[12]=pe*be,G[13]=(re*ue*W-ae*ne*W+ae*q*ie-Q*ue*ie-re*q*ce+Q*ne*ce)*be,G[14]=(ae*Y*W-F*ue*W-ae*q*X+Q*ue*X+F*q*ce-Q*Y*ce)*be,G[15]=(F*ne*W-re*Y*W+re*q*X-Q*ne*X-F*q*ie+Q*Y*ie)*be,this}scale(G){const Q=this.elements,q=G.x,W=G.y,J=G.z;return Q[0]*=q,Q[4]*=W,Q[8]*=J,Q[1]*=q,Q[5]*=W,Q[9]*=J,Q[2]*=q,Q[6]*=W,Q[10]*=J,Q[3]*=q,Q[7]*=W,Q[11]*=J,this}getMaxScaleOnAxis(){const G=this.elements,Q=G[0]*G[0]+G[1]*G[1]+G[2]*G[2],q=G[4]*G[4]+G[5]*G[5]+G[6]*G[6],W=G[8]*G[8]+G[9]*G[9]+G[10]*G[10];return Math.sqrt(Math.max(Q,q,W))}makeTranslation(G,Q,q){return G.isVector3?this.set(1,0,0,G.x,0,1,0,G.y,0,0,1,G.z,0,0,0,1):this.set(1,0,0,G,0,1,0,Q,0,0,1,q,0,0,0,1),this}makeRotationX(G){const Q=Math.cos(G),q=Math.sin(G);return this.set(1,0,0,0,0,Q,-q,0,0,q,Q,0,0,0,0,1),this}makeRotationY(G){const Q=Math.cos(G),q=Math.sin(G);return this.set(Q,0,q,0,0,1,0,0,-q,0,Q,0,0,0,0,1),this}makeRotationZ(G){const Q=Math.cos(G),q=Math.sin(G);return this.set(Q,-q,0,0,q,Q,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(G,Q){const q=Math.cos(Q),W=Math.sin(Q),J=1-q,F=G.x,Y=G.y,X=G.z,te=J*F,re=J*Y;return this.set(te*F+q,te*Y-W*X,te*X+W*Y,0,te*Y+W*X,re*Y+q,re*X-W*F,0,te*X-W*Y,re*X+W*F,J*X*X+q,0,0,0,0,1),this}makeScale(G,Q,q){return this.set(G,0,0,0,0,Q,0,0,0,0,q,0,0,0,0,1),this}makeShear(G,Q,q,W,J,F){return this.set(1,q,J,0,G,1,F,0,Q,W,1,0,0,0,0,1),this}compose(G,Q,q){const W=this.elements,J=Q._x,F=Q._y,Y=Q._z,X=Q._w,te=J+J,re=F+F,ne=Y+Y,ie=J*te,oe=J*re,ae=J*ne,ue=F*re,ce=F*ne,se=Y*ne,le=X*te,de=X*re,he=X*ne,pe=q.x,ge=q.y,be=q.z;return W[0]=(1-(ue+se))*pe,W[1]=(oe+he)*pe,W[2]=(ae-de)*pe,W[3]=0,W[4]=(oe-he)*ge,W[5]=(1-(ie+se))*ge,W[6]=(ce+le)*ge,W[7]=0,W[8]=(ae+de)*be,W[9]=(ce-le)*be,W[10]=(1-(ie+ue))*be,W[11]=0,W[12]=G.x,W[13]=G.y,W[14]=G.z,W[15]=1,this}decompose(G,Q,q){const W=this.elements;let J=_v1$5.set(W[0],W[1],W[2]).length();const F=_v1$5.set(W[4],W[5],W[6]).length(),Y=_v1$5.set(W[8],W[9],W[10]).length();this.determinant()<0&&(J=-J),G.x=W[12],G.y=W[13],G.z=W[14],_m1$2.copy(this);const X=1/J,te=1/F,re=1/Y;return _m1$2.elements[0]*=X,_m1$2.elements[1]*=X,_m1$2.elements[2]*=X,_m1$2.elements[4]*=te,_m1$2.elements[5]*=te,_m1$2.elements[6]*=te,_m1$2.elements[8]*=re,_m1$2.elements[9]*=re,_m1$2.elements[10]*=re,Q.setFromRotationMatrix(_m1$2),q.x=J,q.y=F,q.z=Y,this}makePerspective(G,Q,q,W,J,F,Y=WebGLCoordinateSystem){const X=this.elements,te=2*J/(Q-G),re=2*J/(q-W),ne=(Q+G)/(Q-G),ie=(q+W)/(q-W);let oe,ae;if(Y===WebGLCoordinateSystem)oe=-(F+J)/(F-J),ae=-2*F*J/(F-J);else if(Y===WebGPUCoordinateSystem)oe=-F/(F-J),ae=-F*J/(F-J);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+Y);return X[0]=te,X[4]=0,X[8]=ne,X[12]=0,X[1]=0,X[5]=re,X[9]=ie,X[13]=0,X[2]=0,X[6]=0,X[10]=oe,X[14]=ae,X[3]=0,X[7]=0,X[11]=-1,X[15]=0,this}makeOrthographic(G,Q,q,W,J,F,Y=WebGLCoordinateSystem){const X=this.elements,te=1/(Q-G),re=1/(q-W),ne=1/(F-J),ie=(Q+G)*te,oe=(q+W)*re;let ae,ue;if(Y===WebGLCoordinateSystem)ae=(F+J)*ne,ue=-2*ne;else if(Y===WebGPUCoordinateSystem)ae=J*ne,ue=-1*ne;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+Y);return X[0]=2*te,X[4]=0,X[8]=0,X[12]=-ie,X[1]=0,X[5]=2*re,X[9]=0,X[13]=-oe,X[2]=0,X[6]=0,X[10]=ue,X[14]=-ae,X[3]=0,X[7]=0,X[11]=0,X[15]=1,this}equals(G){const Q=this.elements,q=G.elements;for(let W=0;W<16;W++)if(Q[W]!==q[W])return!1;return!0}fromArray(G,Q=0){for(let q=0;q<16;q++)this.elements[q]=G[q+Q];return this}toArray(G=[],Q=0){const q=this.elements;return G[Q]=q[0],G[Q+1]=q[1],G[Q+2]=q[2],G[Q+3]=q[3],G[Q+4]=q[4],G[Q+5]=q[5],G[Q+6]=q[6],G[Q+7]=q[7],G[Q+8]=q[8],G[Q+9]=q[9],G[Q+10]=q[10],G[Q+11]=q[11],G[Q+12]=q[12],G[Q+13]=q[13],G[Q+14]=q[14],G[Q+15]=q[15],G}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$2=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(G=0,Q=0,q=0,W=Euler.DEFAULT_ORDER){this.isEuler=!0,this._x=G,this._y=Q,this._z=q,this._order=W}get x(){return this._x}set x(G){this._x=G,this._onChangeCallback()}get y(){return this._y}set y(G){this._y=G,this._onChangeCallback()}get z(){return this._z}set z(G){this._z=G,this._onChangeCallback()}get order(){return this._order}set order(G){this._order=G,this._onChangeCallback()}set(G,Q,q,W=this._order){return this._x=G,this._y=Q,this._z=q,this._order=W,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(G){return this._x=G._x,this._y=G._y,this._z=G._z,this._order=G._order,this._onChangeCallback(),this}setFromRotationMatrix(G,Q=this._order,q=!0){const W=G.elements,J=W[0],F=W[4],Y=W[8],X=W[1],te=W[5],re=W[9],ne=W[2],ie=W[6],oe=W[10];switch(Q){case"XYZ":this._y=Math.asin(clamp$1(Y,-1,1)),Math.abs(Y)<.9999999?(this._x=Math.atan2(-re,oe),this._z=Math.atan2(-F,J)):(this._x=Math.atan2(ie,te),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$1(re,-1,1)),Math.abs(re)<.9999999?(this._y=Math.atan2(Y,oe),this._z=Math.atan2(X,te)):(this._y=Math.atan2(-ne,J),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$1(ie,-1,1)),Math.abs(ie)<.9999999?(this._y=Math.atan2(-ne,oe),this._z=Math.atan2(-F,te)):(this._y=0,this._z=Math.atan2(X,J));break;case"ZYX":this._y=Math.asin(-clamp$1(ne,-1,1)),Math.abs(ne)<.9999999?(this._x=Math.atan2(ie,oe),this._z=Math.atan2(X,J)):(this._x=0,this._z=Math.atan2(-F,te));break;case"YZX":this._z=Math.asin(clamp$1(X,-1,1)),Math.abs(X)<.9999999?(this._x=Math.atan2(-re,te),this._y=Math.atan2(-ne,J)):(this._x=0,this._y=Math.atan2(Y,oe));break;case"XZY":this._z=Math.asin(-clamp$1(F,-1,1)),Math.abs(F)<.9999999?(this._x=Math.atan2(ie,te),this._y=Math.atan2(Y,J)):(this._x=Math.atan2(-re,oe),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+Q)}return this._order=Q,q===!0&&this._onChangeCallback(),this}setFromQuaternion(G,Q,q){return _matrix$2.makeRotationFromQuaternion(G),this.setFromRotationMatrix(_matrix$2,Q,q)}setFromVector3(G,Q=this._order){return this.set(G.x,G.y,G.z,Q)}reorder(G){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,G)}equals(G){return G._x===this._x&&G._y===this._y&&G._z===this._z&&G._order===this._order}fromArray(G){return this._x=G[0],this._y=G[1],this._z=G[2],G[3]!==void 0&&(this._order=G[3]),this._onChangeCallback(),this}toArray(G=[],Q=0){return G[Q]=this._x,G[Q+1]=this._y,G[Q+2]=this._z,G[Q+3]=this._order,G}_onChange(G){return this._onChangeCallback=G,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Euler.DEFAULT_ORDER="XYZ";class Layers{constructor(){this.mask=1}set(G){this.mask=(1<<G|0)>>>0}enable(G){this.mask|=1<<G|0}enableAll(){this.mask=-1}toggle(G){this.mask^=1<<G|0}disable(G){this.mask&=~(1<<G|0)}disableAll(){this.mask=0}test(G){return(this.mask&G.mask)!==0}isEnabled(G){return(this.mask&(1<<G|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target$1=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"},_childaddedEvent={type:"childadded",child:null},_childremovedEvent={type:"childremoved",child:null};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DEFAULT_UP.clone();const G=new Vector3,Q=new Euler,q=new Quaternion,W=new Vector3(1,1,1);function J(){q.setFromEuler(Q,!1)}function F(){Q.setFromQuaternion(q,void 0,!1)}Q._onChange(J),q._onChange(F),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:G},rotation:{configurable:!0,enumerable:!0,value:Q},quaternion:{configurable:!0,enumerable:!0,value:q},scale:{configurable:!0,enumerable:!0,value:W},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(G){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(G),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(G){return this.quaternion.premultiply(G),this}setRotationFromAxisAngle(G,Q){this.quaternion.setFromAxisAngle(G,Q)}setRotationFromEuler(G){this.quaternion.setFromEuler(G,!0)}setRotationFromMatrix(G){this.quaternion.setFromRotationMatrix(G)}setRotationFromQuaternion(G){this.quaternion.copy(G)}rotateOnAxis(G,Q){return _q1.setFromAxisAngle(G,Q),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(G,Q){return _q1.setFromAxisAngle(G,Q),this.quaternion.premultiply(_q1),this}rotateX(G){return this.rotateOnAxis(_xAxis,G)}rotateY(G){return this.rotateOnAxis(_yAxis,G)}rotateZ(G){return this.rotateOnAxis(_zAxis,G)}translateOnAxis(G,Q){return _v1$4.copy(G).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(Q)),this}translateX(G){return this.translateOnAxis(_xAxis,G)}translateY(G){return this.translateOnAxis(_yAxis,G)}translateZ(G){return this.translateOnAxis(_zAxis,G)}localToWorld(G){return this.updateWorldMatrix(!0,!1),G.applyMatrix4(this.matrixWorld)}worldToLocal(G){return this.updateWorldMatrix(!0,!1),G.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(G,Q,q){G.isVector3?_target$1.copy(G):_target$1.set(G,Q,q);const W=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target$1,this.up):_m1$1.lookAt(_target$1,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),W&&(_m1$1.extractRotation(W.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(G){if(arguments.length>1){for(let Q=0;Q<arguments.length;Q++)this.add(arguments[Q]);return this}return G===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",G),this):(G&&G.isObject3D?(G.removeFromParent(),G.parent=this,this.children.push(G),G.dispatchEvent(_addedEvent),_childaddedEvent.child=G,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",G),this)}remove(G){if(arguments.length>1){for(let q=0;q<arguments.length;q++)this.remove(arguments[q]);return this}const Q=this.children.indexOf(G);return Q!==-1&&(G.parent=null,this.children.splice(Q,1),G.dispatchEvent(_removedEvent),_childremovedEvent.child=G,this.dispatchEvent(_childremovedEvent),_childremovedEvent.child=null),this}removeFromParent(){const G=this.parent;return G!==null&&G.remove(this),this}clear(){return this.remove(...this.children)}attach(G){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),G.parent!==null&&(G.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(G.parent.matrixWorld)),G.applyMatrix4(_m1$1),G.removeFromParent(),G.parent=this,this.children.push(G),G.updateWorldMatrix(!1,!0),G.dispatchEvent(_addedEvent),_childaddedEvent.child=G,this.dispatchEvent(_childaddedEvent),_childaddedEvent.child=null,this}getObjectById(G){return this.getObjectByProperty("id",G)}getObjectByName(G){return this.getObjectByProperty("name",G)}getObjectByProperty(G,Q){if(this[G]===Q)return this;for(let q=0,W=this.children.length;q<W;q++){const J=this.children[q].getObjectByProperty(G,Q);if(J!==void 0)return J}}getObjectsByProperty(G,Q,q=[]){this[G]===Q&&q.push(this);const W=this.children;for(let J=0,F=W.length;J<F;J++)W[J].getObjectsByProperty(G,Q,q);return q}getWorldPosition(G){return this.updateWorldMatrix(!0,!1),G.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(G){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,G,_scale$2),G}getWorldScale(G){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,G),G}getWorldDirection(G){this.updateWorldMatrix(!0,!1);const Q=this.matrixWorld.elements;return G.set(Q[8],Q[9],Q[10]).normalize()}raycast(){}traverse(G){G(this);const Q=this.children;for(let q=0,W=Q.length;q<W;q++)Q[q].traverse(G)}traverseVisible(G){if(this.visible===!1)return;G(this);const Q=this.children;for(let q=0,W=Q.length;q<W;q++)Q[q].traverseVisible(G)}traverseAncestors(G){const Q=this.parent;Q!==null&&(G(Q),Q.traverseAncestors(G))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(G){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||G)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,G=!0);const Q=this.children;for(let q=0,W=Q.length;q<W;q++)Q[q].updateMatrixWorld(G)}updateWorldMatrix(G,Q){const q=this.parent;if(G===!0&&q!==null&&q.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),Q===!0){const W=this.children;for(let J=0,F=W.length;J<F;J++)W[J].updateWorldMatrix(!1,!0)}}toJSON(G){const Q=G===void 0||typeof G=="string",q={};Q&&(G={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},q.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const W={};W.uuid=this.uuid,W.type=this.type,this.name!==""&&(W.name=this.name),this.castShadow===!0&&(W.castShadow=!0),this.receiveShadow===!0&&(W.receiveShadow=!0),this.visible===!1&&(W.visible=!1),this.frustumCulled===!1&&(W.frustumCulled=!1),this.renderOrder!==0&&(W.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(W.userData=this.userData),W.layers=this.layers.mask,W.matrix=this.matrix.toArray(),W.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(W.matrixAutoUpdate=!1),this.isInstancedMesh&&(W.type="InstancedMesh",W.count=this.count,W.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(W.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(W.type="BatchedMesh",W.perObjectFrustumCulled=this.perObjectFrustumCulled,W.sortObjects=this.sortObjects,W.drawRanges=this._drawRanges,W.reservedRanges=this._reservedRanges,W.visibility=this._visibility,W.active=this._active,W.bounds=this._bounds.map(Y=>({boxInitialized:Y.boxInitialized,boxMin:Y.box.min.toArray(),boxMax:Y.box.max.toArray(),sphereInitialized:Y.sphereInitialized,sphereRadius:Y.sphere.radius,sphereCenter:Y.sphere.center.toArray()})),W.maxInstanceCount=this._maxInstanceCount,W.maxVertexCount=this._maxVertexCount,W.maxIndexCount=this._maxIndexCount,W.geometryInitialized=this._geometryInitialized,W.geometryCount=this._geometryCount,W.matricesTexture=this._matricesTexture.toJSON(G),this._colorsTexture!==null&&(W.colorsTexture=this._colorsTexture.toJSON(G)),this.boundingSphere!==null&&(W.boundingSphere={center:W.boundingSphere.center.toArray(),radius:W.boundingSphere.radius}),this.boundingBox!==null&&(W.boundingBox={min:W.boundingBox.min.toArray(),max:W.boundingBox.max.toArray()}));function J(Y,X){return Y[X.uuid]===void 0&&(Y[X.uuid]=X.toJSON(G)),X.uuid}if(this.isScene)this.background&&(this.background.isColor?W.background=this.background.toJSON():this.background.isTexture&&(W.background=this.background.toJSON(G).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(W.environment=this.environment.toJSON(G).uuid);else if(this.isMesh||this.isLine||this.isPoints){W.geometry=J(G.geometries,this.geometry);const Y=this.geometry.parameters;if(Y!==void 0&&Y.shapes!==void 0){const X=Y.shapes;if(Array.isArray(X))for(let te=0,re=X.length;te<re;te++){const ne=X[te];J(G.shapes,ne)}else J(G.shapes,X)}}if(this.isSkinnedMesh&&(W.bindMode=this.bindMode,W.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(J(G.skeletons,this.skeleton),W.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const Y=[];for(let X=0,te=this.material.length;X<te;X++)Y.push(J(G.materials,this.material[X]));W.material=Y}else W.material=J(G.materials,this.material);if(this.children.length>0){W.children=[];for(let Y=0;Y<this.children.length;Y++)W.children.push(this.children[Y].toJSON(G).object)}if(this.animations.length>0){W.animations=[];for(let Y=0;Y<this.animations.length;Y++){const X=this.animations[Y];W.animations.push(J(G.animations,X))}}if(Q){const Y=F(G.geometries),X=F(G.materials),te=F(G.textures),re=F(G.images),ne=F(G.shapes),ie=F(G.skeletons),oe=F(G.animations),ae=F(G.nodes);Y.length>0&&(q.geometries=Y),X.length>0&&(q.materials=X),te.length>0&&(q.textures=te),re.length>0&&(q.images=re),ne.length>0&&(q.shapes=ne),ie.length>0&&(q.skeletons=ie),oe.length>0&&(q.animations=oe),ae.length>0&&(q.nodes=ae)}return q.object=W,q;function F(Y){const X=[];for(const te in Y){const re=Y[te];delete re.metadata,X.push(re)}return X}}clone(G){return new this.constructor().copy(this,G)}copy(G,Q=!0){if(this.name=G.name,this.up.copy(G.up),this.position.copy(G.position),this.rotation.order=G.rotation.order,this.quaternion.copy(G.quaternion),this.scale.copy(G.scale),this.matrix.copy(G.matrix),this.matrixWorld.copy(G.matrixWorld),this.matrixAutoUpdate=G.matrixAutoUpdate,this.matrixWorldAutoUpdate=G.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=G.matrixWorldNeedsUpdate,this.layers.mask=G.layers.mask,this.visible=G.visible,this.castShadow=G.castShadow,this.receiveShadow=G.receiveShadow,this.frustumCulled=G.frustumCulled,this.renderOrder=G.renderOrder,this.animations=G.animations.slice(),this.userData=JSON.parse(JSON.stringify(G.userData)),Q===!0)for(let q=0;q<G.children.length;q++){const W=G.children[q];this.add(W.clone())}return this}}Object3D.DEFAULT_UP=new Vector3(0,1,0),Object3D.DEFAULT_MATRIX_AUTO_UPDATE=!0,Object3D.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$2=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3,_v40=new Vector4,_v41=new Vector4,_v42=new Vector4;class Triangle{constructor(G=new Vector3,Q=new Vector3,q=new Vector3){this.a=G,this.b=Q,this.c=q}static getNormal(G,Q,q,W){W.subVectors(q,Q),_v0$1.subVectors(G,Q),W.cross(_v0$1);const J=W.lengthSq();return J>0?W.multiplyScalar(1/Math.sqrt(J)):W.set(0,0,0)}static getBarycoord(G,Q,q,W,J){_v0$1.subVectors(W,Q),_v1$3.subVectors(q,Q),_v2$2.subVectors(G,Q);const F=_v0$1.dot(_v0$1),Y=_v0$1.dot(_v1$3),X=_v0$1.dot(_v2$2),te=_v1$3.dot(_v1$3),re=_v1$3.dot(_v2$2),ne=F*te-Y*Y;if(ne===0)return J.set(0,0,0),null;const ie=1/ne,oe=(te*X-Y*re)*ie,ae=(F*re-Y*X)*ie;return J.set(1-oe-ae,ae,oe)}static containsPoint(G,Q,q,W){return this.getBarycoord(G,Q,q,W,_v3$2)===null?!1:_v3$2.x>=0&&_v3$2.y>=0&&_v3$2.x+_v3$2.y<=1}static getInterpolation(G,Q,q,W,J,F,Y,X){return this.getBarycoord(G,Q,q,W,_v3$2)===null?(X.x=0,X.y=0,"z"in X&&(X.z=0),"w"in X&&(X.w=0),null):(X.setScalar(0),X.addScaledVector(J,_v3$2.x),X.addScaledVector(F,_v3$2.y),X.addScaledVector(Y,_v3$2.z),X)}static getInterpolatedAttribute(G,Q,q,W,J,F){return _v40.setScalar(0),_v41.setScalar(0),_v42.setScalar(0),_v40.fromBufferAttribute(G,Q),_v41.fromBufferAttribute(G,q),_v42.fromBufferAttribute(G,W),F.setScalar(0),F.addScaledVector(_v40,J.x),F.addScaledVector(_v41,J.y),F.addScaledVector(_v42,J.z),F}static isFrontFacing(G,Q,q,W){return _v0$1.subVectors(q,Q),_v1$3.subVectors(G,Q),_v0$1.cross(_v1$3).dot(W)<0}set(G,Q,q){return this.a.copy(G),this.b.copy(Q),this.c.copy(q),this}setFromPointsAndIndices(G,Q,q,W){return this.a.copy(G[Q]),this.b.copy(G[q]),this.c.copy(G[W]),this}setFromAttributeAndIndices(G,Q,q,W){return this.a.fromBufferAttribute(G,Q),this.b.fromBufferAttribute(G,q),this.c.fromBufferAttribute(G,W),this}clone(){return new this.constructor().copy(this)}copy(G){return this.a.copy(G.a),this.b.copy(G.b),this.c.copy(G.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(G){return G.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(G){return Triangle.getNormal(this.a,this.b,this.c,G)}getPlane(G){return G.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(G,Q){return Triangle.getBarycoord(G,this.a,this.b,this.c,Q)}getInterpolation(G,Q,q,W,J){return Triangle.getInterpolation(G,this.a,this.b,this.c,Q,q,W,J)}containsPoint(G){return Triangle.containsPoint(G,this.a,this.b,this.c)}isFrontFacing(G){return Triangle.isFrontFacing(this.a,this.b,this.c,G)}intersectsBox(G){return G.intersectsTriangle(this)}closestPointToPoint(G,Q){const q=this.a,W=this.b,J=this.c;let F,Y;_vab.subVectors(W,q),_vac.subVectors(J,q),_vap.subVectors(G,q);const X=_vab.dot(_vap),te=_vac.dot(_vap);if(X<=0&&te<=0)return Q.copy(q);_vbp.subVectors(G,W);const re=_vab.dot(_vbp),ne=_vac.dot(_vbp);if(re>=0&&ne<=re)return Q.copy(W);const ie=X*ne-re*te;if(ie<=0&&X>=0&&re<=0)return F=X/(X-re),Q.copy(q).addScaledVector(_vab,F);_vcp.subVectors(G,J);const oe=_vab.dot(_vcp),ae=_vac.dot(_vcp);if(ae>=0&&oe<=ae)return Q.copy(J);const ue=oe*te-X*ae;if(ue<=0&&te>=0&&ae<=0)return Y=te/(te-ae),Q.copy(q).addScaledVector(_vac,Y);const ce=re*ae-oe*ne;if(ce<=0&&ne-re>=0&&oe-ae>=0)return _vbc.subVectors(J,W),Y=(ne-re)/(ne-re+(oe-ae)),Q.copy(W).addScaledVector(_vbc,Y);const se=1/(ce+ue+ie);return F=ue*se,Y=ie*se,Q.copy(q).addScaledVector(_vab,F).addScaledVector(_vac,Y)}equals(G){return G.a.equals(this.a)&&G.b.equals(this.b)&&G.c.equals(this.c)}}const _colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb(U,G,Q){return Q<0&&(Q+=1),Q>1&&(Q-=1),Q<1/6?U+(G-U)*6*Q:Q<1/2?G:Q<2/3?U+(G-U)*6*(2/3-Q):U}class Color{constructor(G,Q,q){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(G,Q,q)}set(G,Q,q){if(Q===void 0&&q===void 0){const W=G;W&&W.isColor?this.copy(W):typeof W=="number"?this.setHex(W):typeof W=="string"&&this.setStyle(W)}else this.setRGB(G,Q,q);return this}setScalar(G){return this.r=G,this.g=G,this.b=G,this}setHex(G,Q=SRGBColorSpace){return G=Math.floor(G),this.r=(G>>16&255)/255,this.g=(G>>8&255)/255,this.b=(G&255)/255,ColorManagement.toWorkingColorSpace(this,Q),this}setRGB(G,Q,q,W=ColorManagement.workingColorSpace){return this.r=G,this.g=Q,this.b=q,ColorManagement.toWorkingColorSpace(this,W),this}setHSL(G,Q,q,W=ColorManagement.workingColorSpace){if(G=euclideanModulo(G,1),Q=clamp$1(Q,0,1),q=clamp$1(q,0,1),Q===0)this.r=this.g=this.b=q;else{const J=q<=.5?q*(1+Q):q+Q-q*Q,F=2*q-J;this.r=hue2rgb(F,J,G+1/3),this.g=hue2rgb(F,J,G),this.b=hue2rgb(F,J,G-1/3)}return ColorManagement.toWorkingColorSpace(this,W),this}setStyle(G,Q=SRGBColorSpace){function q(J){J!==void 0&&parseFloat(J)<1&&console.warn("THREE.Color: Alpha component of "+G+" will be ignored.")}let W;if(W=/^(\w+)\(([^\)]*)\)/.exec(G)){let J;const F=W[1],Y=W[2];switch(F){case"rgb":case"rgba":if(J=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return q(J[4]),this.setRGB(Math.min(255,parseInt(J[1],10))/255,Math.min(255,parseInt(J[2],10))/255,Math.min(255,parseInt(J[3],10))/255,Q);if(J=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return q(J[4]),this.setRGB(Math.min(100,parseInt(J[1],10))/100,Math.min(100,parseInt(J[2],10))/100,Math.min(100,parseInt(J[3],10))/100,Q);break;case"hsl":case"hsla":if(J=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(Y))return q(J[4]),this.setHSL(parseFloat(J[1])/360,parseFloat(J[2])/100,parseFloat(J[3])/100,Q);break;default:console.warn("THREE.Color: Unknown color model "+G)}}else if(W=/^\#([A-Fa-f\d]+)$/.exec(G)){const J=W[1],F=J.length;if(F===3)return this.setRGB(parseInt(J.charAt(0),16)/15,parseInt(J.charAt(1),16)/15,parseInt(J.charAt(2),16)/15,Q);if(F===6)return this.setHex(parseInt(J,16),Q);console.warn("THREE.Color: Invalid hex color "+G)}else if(G&&G.length>0)return this.setColorName(G,Q);return this}setColorName(G,Q=SRGBColorSpace){const q=_colorKeywords[G.toLowerCase()];return q!==void 0?this.setHex(q,Q):console.warn("THREE.Color: Unknown color "+G),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(G){return this.r=G.r,this.g=G.g,this.b=G.b,this}copySRGBToLinear(G){return this.r=SRGBToLinear(G.r),this.g=SRGBToLinear(G.g),this.b=SRGBToLinear(G.b),this}copyLinearToSRGB(G){return this.r=LinearToSRGB(G.r),this.g=LinearToSRGB(G.g),this.b=LinearToSRGB(G.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(G=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(_color$1.copy(this),G),Math.round(clamp$1(_color$1.r*255,0,255))*65536+Math.round(clamp$1(_color$1.g*255,0,255))*256+Math.round(clamp$1(_color$1.b*255,0,255))}getHexString(G=SRGBColorSpace){return("000000"+this.getHex(G).toString(16)).slice(-6)}getHSL(G,Q=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(_color$1.copy(this),Q);const q=_color$1.r,W=_color$1.g,J=_color$1.b,F=Math.max(q,W,J),Y=Math.min(q,W,J);let X,te;const re=(Y+F)/2;if(Y===F)X=0,te=0;else{const ne=F-Y;switch(te=re<=.5?ne/(F+Y):ne/(2-F-Y),F){case q:X=(W-J)/ne+(W<J?6:0);break;case W:X=(J-q)/ne+2;break;case J:X=(q-W)/ne+4;break}X/=6}return G.h=X,G.s=te,G.l=re,G}getRGB(G,Q=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(_color$1.copy(this),Q),G.r=_color$1.r,G.g=_color$1.g,G.b=_color$1.b,G}getStyle(G=SRGBColorSpace){ColorManagement.fromWorkingColorSpace(_color$1.copy(this),G);const Q=_color$1.r,q=_color$1.g,W=_color$1.b;return G!==SRGBColorSpace?`color(${G} ${Q.toFixed(3)} ${q.toFixed(3)} ${W.toFixed(3)})`:`rgb(${Math.round(Q*255)},${Math.round(q*255)},${Math.round(W*255)})`}offsetHSL(G,Q,q){return this.getHSL(_hslA),this.setHSL(_hslA.h+G,_hslA.s+Q,_hslA.l+q)}add(G){return this.r+=G.r,this.g+=G.g,this.b+=G.b,this}addColors(G,Q){return this.r=G.r+Q.r,this.g=G.g+Q.g,this.b=G.b+Q.b,this}addScalar(G){return this.r+=G,this.g+=G,this.b+=G,this}sub(G){return this.r=Math.max(0,this.r-G.r),this.g=Math.max(0,this.g-G.g),this.b=Math.max(0,this.b-G.b),this}multiply(G){return this.r*=G.r,this.g*=G.g,this.b*=G.b,this}multiplyScalar(G){return this.r*=G,this.g*=G,this.b*=G,this}lerp(G,Q){return this.r+=(G.r-this.r)*Q,this.g+=(G.g-this.g)*Q,this.b+=(G.b-this.b)*Q,this}lerpColors(G,Q,q){return this.r=G.r+(Q.r-G.r)*q,this.g=G.g+(Q.g-G.g)*q,this.b=G.b+(Q.b-G.b)*q,this}lerpHSL(G,Q){this.getHSL(_hslA),G.getHSL(_hslB);const q=lerp(_hslA.h,_hslB.h,Q),W=lerp(_hslA.s,_hslB.s,Q),J=lerp(_hslA.l,_hslB.l,Q);return this.setHSL(q,W,J),this}setFromVector3(G){return this.r=G.x,this.g=G.y,this.b=G.z,this}applyMatrix3(G){const Q=this.r,q=this.g,W=this.b,J=G.elements;return this.r=J[0]*Q+J[3]*q+J[6]*W,this.g=J[1]*Q+J[4]*q+J[7]*W,this.b=J[2]*Q+J[5]*q+J[8]*W,this}equals(G){return G.r===this.r&&G.g===this.g&&G.b===this.b}fromArray(G,Q=0){return this.r=G[Q],this.g=G[Q+1],this.b=G[Q+2],this}toArray(G=[],Q=0){return G[Q]=this.r,G[Q+1]=this.g,G[Q+2]=this.b,G}fromBufferAttribute(G,Q){return this.r=G.getX(Q),this.g=G.getY(Q),this.b=G.getZ(Q),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _color$1=new Color;Color.NAMES=_colorKeywords;let _materialId=0;class Material extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_materialId++}),this.uuid=generateUUID(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Color(0,0,0),this.blendAlpha=0,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(G){this._alphaTest>0!=G>0&&this.version++,this._alphaTest=G}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(G){if(G!==void 0)for(const Q in G){const q=G[Q];if(q===void 0){console.warn(`THREE.Material: parameter '${Q}' has value of undefined.`);continue}const W=this[Q];if(W===void 0){console.warn(`THREE.Material: '${Q}' is not a property of THREE.${this.type}.`);continue}W&&W.isColor?W.set(q):W&&W.isVector3&&q&&q.isVector3?W.copy(q):this[Q]=q}}toJSON(G){const Q=G===void 0||typeof G=="string";Q&&(G={textures:{},images:{}});const q={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};q.uuid=this.uuid,q.type=this.type,this.name!==""&&(q.name=this.name),this.color&&this.color.isColor&&(q.color=this.color.getHex()),this.roughness!==void 0&&(q.roughness=this.roughness),this.metalness!==void 0&&(q.metalness=this.metalness),this.sheen!==void 0&&(q.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(q.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(q.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(q.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(q.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(q.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(q.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(q.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(q.shininess=this.shininess),this.clearcoat!==void 0&&(q.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(q.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(q.clearcoatMap=this.clearcoatMap.toJSON(G).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(q.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(G).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(q.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(G).uuid,q.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(q.dispersion=this.dispersion),this.iridescence!==void 0&&(q.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(q.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(q.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(q.iridescenceMap=this.iridescenceMap.toJSON(G).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(q.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(G).uuid),this.anisotropy!==void 0&&(q.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(q.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(q.anisotropyMap=this.anisotropyMap.toJSON(G).uuid),this.map&&this.map.isTexture&&(q.map=this.map.toJSON(G).uuid),this.matcap&&this.matcap.isTexture&&(q.matcap=this.matcap.toJSON(G).uuid),this.alphaMap&&this.alphaMap.isTexture&&(q.alphaMap=this.alphaMap.toJSON(G).uuid),this.lightMap&&this.lightMap.isTexture&&(q.lightMap=this.lightMap.toJSON(G).uuid,q.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(q.aoMap=this.aoMap.toJSON(G).uuid,q.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(q.bumpMap=this.bumpMap.toJSON(G).uuid,q.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(q.normalMap=this.normalMap.toJSON(G).uuid,q.normalMapType=this.normalMapType,q.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(q.displacementMap=this.displacementMap.toJSON(G).uuid,q.displacementScale=this.displacementScale,q.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(q.roughnessMap=this.roughnessMap.toJSON(G).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(q.metalnessMap=this.metalnessMap.toJSON(G).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(q.emissiveMap=this.emissiveMap.toJSON(G).uuid),this.specularMap&&this.specularMap.isTexture&&(q.specularMap=this.specularMap.toJSON(G).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(q.specularIntensityMap=this.specularIntensityMap.toJSON(G).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(q.specularColorMap=this.specularColorMap.toJSON(G).uuid),this.envMap&&this.envMap.isTexture&&(q.envMap=this.envMap.toJSON(G).uuid,this.combine!==void 0&&(q.combine=this.combine)),this.envMapRotation!==void 0&&(q.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(q.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(q.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(q.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(q.gradientMap=this.gradientMap.toJSON(G).uuid),this.transmission!==void 0&&(q.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(q.transmissionMap=this.transmissionMap.toJSON(G).uuid),this.thickness!==void 0&&(q.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(q.thicknessMap=this.thicknessMap.toJSON(G).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(q.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(q.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(q.size=this.size),this.shadowSide!==null&&(q.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(q.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(q.blending=this.blending),this.side!==FrontSide&&(q.side=this.side),this.vertexColors===!0&&(q.vertexColors=!0),this.opacity<1&&(q.opacity=this.opacity),this.transparent===!0&&(q.transparent=!0),this.blendSrc!==SrcAlphaFactor&&(q.blendSrc=this.blendSrc),this.blendDst!==OneMinusSrcAlphaFactor&&(q.blendDst=this.blendDst),this.blendEquation!==AddEquation&&(q.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(q.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(q.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(q.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(q.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(q.blendAlpha=this.blendAlpha),this.depthFunc!==LessEqualDepth&&(q.depthFunc=this.depthFunc),this.depthTest===!1&&(q.depthTest=this.depthTest),this.depthWrite===!1&&(q.depthWrite=this.depthWrite),this.colorWrite===!1&&(q.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(q.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AlwaysStencilFunc&&(q.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(q.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(q.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==KeepStencilOp&&(q.stencilFail=this.stencilFail),this.stencilZFail!==KeepStencilOp&&(q.stencilZFail=this.stencilZFail),this.stencilZPass!==KeepStencilOp&&(q.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(q.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(q.rotation=this.rotation),this.polygonOffset===!0&&(q.polygonOffset=!0),this.polygonOffsetFactor!==0&&(q.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(q.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(q.linewidth=this.linewidth),this.dashSize!==void 0&&(q.dashSize=this.dashSize),this.gapSize!==void 0&&(q.gapSize=this.gapSize),this.scale!==void 0&&(q.scale=this.scale),this.dithering===!0&&(q.dithering=!0),this.alphaTest>0&&(q.alphaTest=this.alphaTest),this.alphaHash===!0&&(q.alphaHash=!0),this.alphaToCoverage===!0&&(q.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(q.premultipliedAlpha=!0),this.forceSinglePass===!0&&(q.forceSinglePass=!0),this.wireframe===!0&&(q.wireframe=!0),this.wireframeLinewidth>1&&(q.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(q.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(q.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(q.flatShading=!0),this.visible===!1&&(q.visible=!1),this.toneMapped===!1&&(q.toneMapped=!1),this.fog===!1&&(q.fog=!1),Object.keys(this.userData).length>0&&(q.userData=this.userData);function W(J){const F=[];for(const Y in J){const X=J[Y];delete X.metadata,F.push(X)}return F}if(Q){const J=W(G.textures),F=W(G.images);J.length>0&&(q.textures=J),F.length>0&&(q.images=F)}return q}clone(){return new this.constructor().copy(this)}copy(G){this.name=G.name,this.blending=G.blending,this.side=G.side,this.vertexColors=G.vertexColors,this.opacity=G.opacity,this.transparent=G.transparent,this.blendSrc=G.blendSrc,this.blendDst=G.blendDst,this.blendEquation=G.blendEquation,this.blendSrcAlpha=G.blendSrcAlpha,this.blendDstAlpha=G.blendDstAlpha,this.blendEquationAlpha=G.blendEquationAlpha,this.blendColor.copy(G.blendColor),this.blendAlpha=G.blendAlpha,this.depthFunc=G.depthFunc,this.depthTest=G.depthTest,this.depthWrite=G.depthWrite,this.stencilWriteMask=G.stencilWriteMask,this.stencilFunc=G.stencilFunc,this.stencilRef=G.stencilRef,this.stencilFuncMask=G.stencilFuncMask,this.stencilFail=G.stencilFail,this.stencilZFail=G.stencilZFail,this.stencilZPass=G.stencilZPass,this.stencilWrite=G.stencilWrite;const Q=G.clippingPlanes;let q=null;if(Q!==null){const W=Q.length;q=new Array(W);for(let J=0;J!==W;++J)q[J]=Q[J].clone()}return this.clippingPlanes=q,this.clipIntersection=G.clipIntersection,this.clipShadows=G.clipShadows,this.shadowSide=G.shadowSide,this.colorWrite=G.colorWrite,this.precision=G.precision,this.polygonOffset=G.polygonOffset,this.polygonOffsetFactor=G.polygonOffsetFactor,this.polygonOffsetUnits=G.polygonOffsetUnits,this.dithering=G.dithering,this.alphaTest=G.alphaTest,this.alphaHash=G.alphaHash,this.alphaToCoverage=G.alphaToCoverage,this.premultipliedAlpha=G.premultipliedAlpha,this.forceSinglePass=G.forceSinglePass,this.visible=G.visible,this.toneMapped=G.toneMapped,this.userData=JSON.parse(JSON.stringify(G.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(G){G===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class MeshBasicMaterial extends Material{constructor(G){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(G)}copy(G){return super.copy(G),this.color.copy(G.color),this.map=G.map,this.lightMap=G.lightMap,this.lightMapIntensity=G.lightMapIntensity,this.aoMap=G.aoMap,this.aoMapIntensity=G.aoMapIntensity,this.specularMap=G.specularMap,this.alphaMap=G.alphaMap,this.envMap=G.envMap,this.envMapRotation.copy(G.envMapRotation),this.combine=G.combine,this.reflectivity=G.reflectivity,this.refractionRatio=G.refractionRatio,this.wireframe=G.wireframe,this.wireframeLinewidth=G.wireframeLinewidth,this.wireframeLinecap=G.wireframeLinecap,this.wireframeLinejoin=G.wireframeLinejoin,this.fog=G.fog,this}}const _tables=_generateTables();function _generateTables(){const U=new ArrayBuffer(4),G=new Float32Array(U),Q=new Uint32Array(U),q=new Uint32Array(512),W=new Uint32Array(512);for(let X=0;X<256;++X){const te=X-127;te<-27?(q[X]=0,q[X|256]=32768,W[X]=24,W[X|256]=24):te<-14?(q[X]=1024>>-te-14,q[X|256]=1024>>-te-14|32768,W[X]=-te-1,W[X|256]=-te-1):te<=15?(q[X]=te+15<<10,q[X|256]=te+15<<10|32768,W[X]=13,W[X|256]=13):te<128?(q[X]=31744,q[X|256]=64512,W[X]=24,W[X|256]=24):(q[X]=31744,q[X|256]=64512,W[X]=13,W[X|256]=13)}const J=new Uint32Array(2048),F=new Uint32Array(64),Y=new Uint32Array(64);for(let X=1;X<1024;++X){let te=X<<13,re=0;for(;!(te&8388608);)te<<=1,re-=8388608;te&=-8388609,re+=947912704,J[X]=te|re}for(let X=1024;X<2048;++X)J[X]=939524096+(X-1024<<13);for(let X=1;X<31;++X)F[X]=X<<23;F[31]=1199570944,F[32]=2147483648;for(let X=33;X<63;++X)F[X]=2147483648+(X-32<<23);F[63]=3347054592;for(let X=1;X<64;++X)X!==32&&(Y[X]=1024);return{floatView:G,uint32View:Q,baseTable:q,shiftTable:W,mantissaTable:J,exponentTable:F,offsetTable:Y}}function toHalfFloat(U){Math.abs(U)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),U=clamp$1(U,-65504,65504),_tables.floatView[0]=U;const G=_tables.uint32View[0],Q=G>>23&511;return _tables.baseTable[Q]+((G&8388607)>>_tables.shiftTable[Q])}function fromHalfFloat(U){const G=U>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[G]+(U&1023)]+_tables.exponentTable[G],_tables.floatView[0]}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(G,Q,q=!1){if(Array.isArray(G))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=G,this.itemSize=Q,this.count=G!==void 0?G.length/Q:0,this.normalized=q,this.usage=StaticDrawUsage,this.updateRanges=[],this.gpuType=FloatType,this.version=0}onUploadCallback(){}set needsUpdate(G){G===!0&&this.version++}setUsage(G){return this.usage=G,this}addUpdateRange(G,Q){this.updateRanges.push({start:G,count:Q})}clearUpdateRanges(){this.updateRanges.length=0}copy(G){return this.name=G.name,this.array=new G.array.constructor(G.array),this.itemSize=G.itemSize,this.count=G.count,this.normalized=G.normalized,this.usage=G.usage,this.gpuType=G.gpuType,this}copyAt(G,Q,q){G*=this.itemSize,q*=Q.itemSize;for(let W=0,J=this.itemSize;W<J;W++)this.array[G+W]=Q.array[q+W];return this}copyArray(G){return this.array.set(G),this}applyMatrix3(G){if(this.itemSize===2)for(let Q=0,q=this.count;Q<q;Q++)_vector2$1.fromBufferAttribute(this,Q),_vector2$1.applyMatrix3(G),this.setXY(Q,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let Q=0,q=this.count;Q<q;Q++)_vector$9.fromBufferAttribute(this,Q),_vector$9.applyMatrix3(G),this.setXYZ(Q,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(G){for(let Q=0,q=this.count;Q<q;Q++)_vector$9.fromBufferAttribute(this,Q),_vector$9.applyMatrix4(G),this.setXYZ(Q,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(G){for(let Q=0,q=this.count;Q<q;Q++)_vector$9.fromBufferAttribute(this,Q),_vector$9.applyNormalMatrix(G),this.setXYZ(Q,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(G){for(let Q=0,q=this.count;Q<q;Q++)_vector$9.fromBufferAttribute(this,Q),_vector$9.transformDirection(G),this.setXYZ(Q,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(G,Q=0){return this.array.set(G,Q),this}getComponent(G,Q){let q=this.array[G*this.itemSize+Q];return this.normalized&&(q=denormalize(q,this.array)),q}setComponent(G,Q,q){return this.normalized&&(q=normalize$1(q,this.array)),this.array[G*this.itemSize+Q]=q,this}getX(G){let Q=this.array[G*this.itemSize];return this.normalized&&(Q=denormalize(Q,this.array)),Q}setX(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.array[G*this.itemSize]=Q,this}getY(G){let Q=this.array[G*this.itemSize+1];return this.normalized&&(Q=denormalize(Q,this.array)),Q}setY(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.array[G*this.itemSize+1]=Q,this}getZ(G){let Q=this.array[G*this.itemSize+2];return this.normalized&&(Q=denormalize(Q,this.array)),Q}setZ(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.array[G*this.itemSize+2]=Q,this}getW(G){let Q=this.array[G*this.itemSize+3];return this.normalized&&(Q=denormalize(Q,this.array)),Q}setW(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.array[G*this.itemSize+3]=Q,this}setXY(G,Q,q){return G*=this.itemSize,this.normalized&&(Q=normalize$1(Q,this.array),q=normalize$1(q,this.array)),this.array[G+0]=Q,this.array[G+1]=q,this}setXYZ(G,Q,q,W){return G*=this.itemSize,this.normalized&&(Q=normalize$1(Q,this.array),q=normalize$1(q,this.array),W=normalize$1(W,this.array)),this.array[G+0]=Q,this.array[G+1]=q,this.array[G+2]=W,this}setXYZW(G,Q,q,W,J){return G*=this.itemSize,this.normalized&&(Q=normalize$1(Q,this.array),q=normalize$1(q,this.array),W=normalize$1(W,this.array),J=normalize$1(J,this.array)),this.array[G+0]=Q,this.array[G+1]=q,this.array[G+2]=W,this.array[G+3]=J,this}onUpload(G){return this.onUploadCallback=G,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const G={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(G.name=this.name),this.usage!==StaticDrawUsage&&(G.usage=this.usage),G}}class Uint16BufferAttribute extends BufferAttribute{constructor(G,Q,q){super(new Uint16Array(G),Q,q)}}class Uint32BufferAttribute extends BufferAttribute{constructor(G,Q,q){super(new Uint32Array(G),Q,q)}}class Float16BufferAttribute extends BufferAttribute{constructor(G,Q,q){super(new Uint16Array(G),Q,q),this.isFloat16BufferAttribute=!0}getX(G){let Q=fromHalfFloat(this.array[G*this.itemSize]);return this.normalized&&(Q=denormalize(Q,this.array)),Q}setX(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.array[G*this.itemSize]=toHalfFloat(Q),this}getY(G){let Q=fromHalfFloat(this.array[G*this.itemSize+1]);return this.normalized&&(Q=denormalize(Q,this.array)),Q}setY(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.array[G*this.itemSize+1]=toHalfFloat(Q),this}getZ(G){let Q=fromHalfFloat(this.array[G*this.itemSize+2]);return this.normalized&&(Q=denormalize(Q,this.array)),Q}setZ(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.array[G*this.itemSize+2]=toHalfFloat(Q),this}getW(G){let Q=fromHalfFloat(this.array[G*this.itemSize+3]);return this.normalized&&(Q=denormalize(Q,this.array)),Q}setW(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.array[G*this.itemSize+3]=toHalfFloat(Q),this}setXY(G,Q,q){return G*=this.itemSize,this.normalized&&(Q=normalize$1(Q,this.array),q=normalize$1(q,this.array)),this.array[G+0]=toHalfFloat(Q),this.array[G+1]=toHalfFloat(q),this}setXYZ(G,Q,q,W){return G*=this.itemSize,this.normalized&&(Q=normalize$1(Q,this.array),q=normalize$1(q,this.array),W=normalize$1(W,this.array)),this.array[G+0]=toHalfFloat(Q),this.array[G+1]=toHalfFloat(q),this.array[G+2]=toHalfFloat(W),this}setXYZW(G,Q,q,W,J){return G*=this.itemSize,this.normalized&&(Q=normalize$1(Q,this.array),q=normalize$1(q,this.array),W=normalize$1(W,this.array),J=normalize$1(J,this.array)),this.array[G+0]=toHalfFloat(Q),this.array[G+1]=toHalfFloat(q),this.array[G+2]=toHalfFloat(W),this.array[G+3]=toHalfFloat(J),this}}class Float32BufferAttribute extends BufferAttribute{constructor(G,Q,q){super(new Float32Array(G),Q,q)}}let _id$9=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$2=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$9++}),this.uuid=generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(G){return Array.isArray(G)?this.index=new(arrayNeedsUint32$1(G)?Uint32BufferAttribute:Uint16BufferAttribute)(G,1):this.index=G,this}getAttribute(G){return this.attributes[G]}setAttribute(G,Q){return this.attributes[G]=Q,this}deleteAttribute(G){return delete this.attributes[G],this}hasAttribute(G){return this.attributes[G]!==void 0}addGroup(G,Q,q=0){this.groups.push({start:G,count:Q,materialIndex:q})}clearGroups(){this.groups=[]}setDrawRange(G,Q){this.drawRange.start=G,this.drawRange.count=Q}applyMatrix4(G){const Q=this.attributes.position;Q!==void 0&&(Q.applyMatrix4(G),Q.needsUpdate=!0);const q=this.attributes.normal;if(q!==void 0){const J=new Matrix3().getNormalMatrix(G);q.applyNormalMatrix(J),q.needsUpdate=!0}const W=this.attributes.tangent;return W!==void 0&&(W.transformDirection(G),W.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(G){return _m1.makeRotationFromQuaternion(G),this.applyMatrix4(_m1),this}rotateX(G){return _m1.makeRotationX(G),this.applyMatrix4(_m1),this}rotateY(G){return _m1.makeRotationY(G),this.applyMatrix4(_m1),this}rotateZ(G){return _m1.makeRotationZ(G),this.applyMatrix4(_m1),this}translate(G,Q,q){return _m1.makeTranslation(G,Q,q),this.applyMatrix4(_m1),this}scale(G,Q,q){return _m1.makeScale(G,Q,q),this.applyMatrix4(_m1),this}lookAt(G){return _obj.lookAt(G),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(G){const Q=[];for(let q=0,W=G.length;q<W;q++){const J=G[q];Q.push(J.x,J.y,J.z||0)}return this.setAttribute("position",new Float32BufferAttribute(Q,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const G=this.attributes.position,Q=this.morphAttributes.position;if(G&&G.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(G!==void 0){if(this.boundingBox.setFromBufferAttribute(G),Q)for(let q=0,W=Q.length;q<W;q++){const J=Q[q];_box$2.setFromBufferAttribute(J),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$2.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$2.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$2.min),this.boundingBox.expandByPoint(_box$2.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const G=this.attributes.position,Q=this.morphAttributes.position;if(G&&G.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Vector3,1/0);return}if(G){const q=this.boundingSphere.center;if(_box$2.setFromBufferAttribute(G),Q)for(let J=0,F=Q.length;J<F;J++){const Y=Q[J];_boxMorphTargets.setFromBufferAttribute(Y),this.morphTargetsRelative?(_vector$8.addVectors(_box$2.min,_boxMorphTargets.min),_box$2.expandByPoint(_vector$8),_vector$8.addVectors(_box$2.max,_boxMorphTargets.max),_box$2.expandByPoint(_vector$8)):(_box$2.expandByPoint(_boxMorphTargets.min),_box$2.expandByPoint(_boxMorphTargets.max))}_box$2.getCenter(q);let W=0;for(let J=0,F=G.count;J<F;J++)_vector$8.fromBufferAttribute(G,J),W=Math.max(W,q.distanceToSquared(_vector$8));if(Q)for(let J=0,F=Q.length;J<F;J++){const Y=Q[J],X=this.morphTargetsRelative;for(let te=0,re=Y.count;te<re;te++)_vector$8.fromBufferAttribute(Y,te),X&&(_offset.fromBufferAttribute(G,te),_vector$8.add(_offset)),W=Math.max(W,q.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(W),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const G=this.index,Q=this.attributes;if(G===null||Q.position===void 0||Q.normal===void 0||Q.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const q=Q.position,W=Q.normal,J=Q.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*q.count),4));const F=this.getAttribute("tangent"),Y=[],X=[];for(let ve=0;ve<q.count;ve++)Y[ve]=new Vector3,X[ve]=new Vector3;const te=new Vector3,re=new Vector3,ne=new Vector3,ie=new Vector2,oe=new Vector2,ae=new Vector2,ue=new Vector3,ce=new Vector3;function se(ve,Ee,ke){te.fromBufferAttribute(q,ve),re.fromBufferAttribute(q,Ee),ne.fromBufferAttribute(q,ke),ie.fromBufferAttribute(J,ve),oe.fromBufferAttribute(J,Ee),ae.fromBufferAttribute(J,ke),re.sub(te),ne.sub(te),oe.sub(ie),ae.sub(ie);const Pe=1/(oe.x*ae.y-ae.x*oe.y);isFinite(Pe)&&(ue.copy(re).multiplyScalar(ae.y).addScaledVector(ne,-oe.y).multiplyScalar(Pe),ce.copy(ne).multiplyScalar(oe.x).addScaledVector(re,-ae.x).multiplyScalar(Pe),Y[ve].add(ue),Y[Ee].add(ue),Y[ke].add(ue),X[ve].add(ce),X[Ee].add(ce),X[ke].add(ce))}let le=this.groups;le.length===0&&(le=[{start:0,count:G.count}]);for(let ve=0,Ee=le.length;ve<Ee;++ve){const ke=le[ve],Pe=ke.start,Te=ke.count;for(let xe=Pe,Ne=Pe+Te;xe<Ne;xe+=3)se(G.getX(xe+0),G.getX(xe+1),G.getX(xe+2))}const de=new Vector3,he=new Vector3,pe=new Vector3,ge=new Vector3;function be(ve){pe.fromBufferAttribute(W,ve),ge.copy(pe);const Ee=Y[ve];de.copy(Ee),de.sub(pe.multiplyScalar(pe.dot(Ee))).normalize(),he.crossVectors(ge,Ee);const ke=he.dot(X[ve])<0?-1:1;F.setXYZW(ve,de.x,de.y,de.z,ke)}for(let ve=0,Ee=le.length;ve<Ee;++ve){const ke=le[ve],Pe=ke.start,Te=ke.count;for(let xe=Pe,Ne=Pe+Te;xe<Ne;xe+=3)be(G.getX(xe+0)),be(G.getX(xe+1)),be(G.getX(xe+2))}}computeVertexNormals(){const G=this.index,Q=this.getAttribute("position");if(Q!==void 0){let q=this.getAttribute("normal");if(q===void 0)q=new BufferAttribute(new Float32Array(Q.count*3),3),this.setAttribute("normal",q);else for(let ie=0,oe=q.count;ie<oe;ie++)q.setXYZ(ie,0,0,0);const W=new Vector3,J=new Vector3,F=new Vector3,Y=new Vector3,X=new Vector3,te=new Vector3,re=new Vector3,ne=new Vector3;if(G)for(let ie=0,oe=G.count;ie<oe;ie+=3){const ae=G.getX(ie+0),ue=G.getX(ie+1),ce=G.getX(ie+2);W.fromBufferAttribute(Q,ae),J.fromBufferAttribute(Q,ue),F.fromBufferAttribute(Q,ce),re.subVectors(F,J),ne.subVectors(W,J),re.cross(ne),Y.fromBufferAttribute(q,ae),X.fromBufferAttribute(q,ue),te.fromBufferAttribute(q,ce),Y.add(re),X.add(re),te.add(re),q.setXYZ(ae,Y.x,Y.y,Y.z),q.setXYZ(ue,X.x,X.y,X.z),q.setXYZ(ce,te.x,te.y,te.z)}else for(let ie=0,oe=Q.count;ie<oe;ie+=3)W.fromBufferAttribute(Q,ie+0),J.fromBufferAttribute(Q,ie+1),F.fromBufferAttribute(Q,ie+2),re.subVectors(F,J),ne.subVectors(W,J),re.cross(ne),q.setXYZ(ie+0,re.x,re.y,re.z),q.setXYZ(ie+1,re.x,re.y,re.z),q.setXYZ(ie+2,re.x,re.y,re.z);this.normalizeNormals(),q.needsUpdate=!0}}normalizeNormals(){const G=this.attributes.normal;for(let Q=0,q=G.count;Q<q;Q++)_vector$8.fromBufferAttribute(G,Q),_vector$8.normalize(),G.setXYZ(Q,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function G(Y,X){const te=Y.array,re=Y.itemSize,ne=Y.normalized,ie=new te.constructor(X.length*re);let oe=0,ae=0;for(let ue=0,ce=X.length;ue<ce;ue++){Y.isInterleavedBufferAttribute?oe=X[ue]*Y.data.stride+Y.offset:oe=X[ue]*re;for(let se=0;se<re;se++)ie[ae++]=te[oe++]}return new BufferAttribute(ie,re,ne)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const Q=new BufferGeometry,q=this.index.array,W=this.attributes;for(const Y in W){const X=W[Y],te=G(X,q);Q.setAttribute(Y,te)}const J=this.morphAttributes;for(const Y in J){const X=[],te=J[Y];for(let re=0,ne=te.length;re<ne;re++){const ie=te[re],oe=G(ie,q);X.push(oe)}Q.morphAttributes[Y]=X}Q.morphTargetsRelative=this.morphTargetsRelative;const F=this.groups;for(let Y=0,X=F.length;Y<X;Y++){const te=F[Y];Q.addGroup(te.start,te.count,te.materialIndex)}return Q}toJSON(){const G={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(G.uuid=this.uuid,G.type=this.type,this.name!==""&&(G.name=this.name),Object.keys(this.userData).length>0&&(G.userData=this.userData),this.parameters!==void 0){const X=this.parameters;for(const te in X)X[te]!==void 0&&(G[te]=X[te]);return G}G.data={attributes:{}};const Q=this.index;Q!==null&&(G.data.index={type:Q.array.constructor.name,array:Array.prototype.slice.call(Q.array)});const q=this.attributes;for(const X in q){const te=q[X];G.data.attributes[X]=te.toJSON(G.data)}const W={};let J=!1;for(const X in this.morphAttributes){const te=this.morphAttributes[X],re=[];for(let ne=0,ie=te.length;ne<ie;ne++){const oe=te[ne];re.push(oe.toJSON(G.data))}re.length>0&&(W[X]=re,J=!0)}J&&(G.data.morphAttributes=W,G.data.morphTargetsRelative=this.morphTargetsRelative);const F=this.groups;F.length>0&&(G.data.groups=JSON.parse(JSON.stringify(F)));const Y=this.boundingSphere;return Y!==null&&(G.data.boundingSphere={center:Y.center.toArray(),radius:Y.radius}),G}clone(){return new this.constructor().copy(this)}copy(G){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const Q={};this.name=G.name;const q=G.index;q!==null&&this.setIndex(q.clone(Q));const W=G.attributes;for(const te in W){const re=W[te];this.setAttribute(te,re.clone(Q))}const J=G.morphAttributes;for(const te in J){const re=[],ne=J[te];for(let ie=0,oe=ne.length;ie<oe;ie++)re.push(ne[ie].clone(Q));this.morphAttributes[te]=re}this.morphTargetsRelative=G.morphTargetsRelative;const F=G.groups;for(let te=0,re=F.length;te<re;te++){const ne=F[te];this.addGroup(ne.start,ne.count,ne.materialIndex)}const Y=G.boundingBox;Y!==null&&(this.boundingBox=Y.clone());const X=G.boundingSphere;return X!==null&&(this.boundingSphere=X.clone()),this.drawRange.start=G.drawRange.start,this.drawRange.count=G.drawRange.count,this.userData=G.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$3=new Matrix4,_ray$3=new Ray,_sphere$6=new Sphere,_sphereHitAt=new Vector3,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(G=new BufferGeometry,Q=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=G,this.material=Q,this.updateMorphTargets()}copy(G,Q){return super.copy(G,Q),G.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=G.morphTargetInfluences.slice()),G.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},G.morphTargetDictionary)),this.material=Array.isArray(G.material)?G.material.slice():G.material,this.geometry=G.geometry,this}updateMorphTargets(){const G=this.geometry.morphAttributes,Q=Object.keys(G);if(Q.length>0){const q=G[Q[0]];if(q!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let W=0,J=q.length;W<J;W++){const F=q[W].name||String(W);this.morphTargetInfluences.push(0),this.morphTargetDictionary[F]=W}}}}getVertexPosition(G,Q){const q=this.geometry,W=q.attributes.position,J=q.morphAttributes.position,F=q.morphTargetsRelative;Q.fromBufferAttribute(W,G);const Y=this.morphTargetInfluences;if(J&&Y){_morphA.set(0,0,0);for(let X=0,te=J.length;X<te;X++){const re=Y[X],ne=J[X];re!==0&&(_tempA.fromBufferAttribute(ne,G),F?_morphA.addScaledVector(_tempA,re):_morphA.addScaledVector(_tempA.sub(Q),re))}Q.add(_morphA)}return Q}raycast(G,Q){const q=this.geometry,W=this.material,J=this.matrixWorld;W!==void 0&&(q.boundingSphere===null&&q.computeBoundingSphere(),_sphere$6.copy(q.boundingSphere),_sphere$6.applyMatrix4(J),_ray$3.copy(G.ray).recast(G.near),!(_sphere$6.containsPoint(_ray$3.origin)===!1&&(_ray$3.intersectSphere(_sphere$6,_sphereHitAt)===null||_ray$3.origin.distanceToSquared(_sphereHitAt)>(G.far-G.near)**2))&&(_inverseMatrix$3.copy(J).invert(),_ray$3.copy(G.ray).applyMatrix4(_inverseMatrix$3),!(q.boundingBox!==null&&_ray$3.intersectsBox(q.boundingBox)===!1)&&this._computeIntersections(G,Q,_ray$3)))}_computeIntersections(G,Q,q){let W;const J=this.geometry,F=this.material,Y=J.index,X=J.attributes.position,te=J.attributes.uv,re=J.attributes.uv1,ne=J.attributes.normal,ie=J.groups,oe=J.drawRange;if(Y!==null)if(Array.isArray(F))for(let ae=0,ue=ie.length;ae<ue;ae++){const ce=ie[ae],se=F[ce.materialIndex],le=Math.max(ce.start,oe.start),de=Math.min(Y.count,Math.min(ce.start+ce.count,oe.start+oe.count));for(let he=le,pe=de;he<pe;he+=3){const ge=Y.getX(he),be=Y.getX(he+1),ve=Y.getX(he+2);W=checkGeometryIntersection(this,se,G,q,te,re,ne,ge,be,ve),W&&(W.faceIndex=Math.floor(he/3),W.face.materialIndex=ce.materialIndex,Q.push(W))}}else{const ae=Math.max(0,oe.start),ue=Math.min(Y.count,oe.start+oe.count);for(let ce=ae,se=ue;ce<se;ce+=3){const le=Y.getX(ce),de=Y.getX(ce+1),he=Y.getX(ce+2);W=checkGeometryIntersection(this,F,G,q,te,re,ne,le,de,he),W&&(W.faceIndex=Math.floor(ce/3),Q.push(W))}}else if(X!==void 0)if(Array.isArray(F))for(let ae=0,ue=ie.length;ae<ue;ae++){const ce=ie[ae],se=F[ce.materialIndex],le=Math.max(ce.start,oe.start),de=Math.min(X.count,Math.min(ce.start+ce.count,oe.start+oe.count));for(let he=le,pe=de;he<pe;he+=3){const ge=he,be=he+1,ve=he+2;W=checkGeometryIntersection(this,se,G,q,te,re,ne,ge,be,ve),W&&(W.faceIndex=Math.floor(he/3),W.face.materialIndex=ce.materialIndex,Q.push(W))}}else{const ae=Math.max(0,oe.start),ue=Math.min(X.count,oe.start+oe.count);for(let ce=ae,se=ue;ce<se;ce+=3){const le=ce,de=ce+1,he=ce+2;W=checkGeometryIntersection(this,F,G,q,te,re,ne,le,de,he),W&&(W.faceIndex=Math.floor(ce/3),Q.push(W))}}}}function checkIntersection$1(U,G,Q,q,W,J,F,Y){let X;if(G.side===BackSide?X=q.intersectTriangle(F,J,W,!0,Y):X=q.intersectTriangle(W,J,F,G.side===FrontSide,Y),X===null)return null;_intersectionPointWorld.copy(Y),_intersectionPointWorld.applyMatrix4(U.matrixWorld);const te=Q.ray.origin.distanceTo(_intersectionPointWorld);return te<Q.near||te>Q.far?null:{distance:te,point:_intersectionPointWorld.clone(),object:U}}function checkGeometryIntersection(U,G,Q,q,W,J,F,Y,X,te){U.getVertexPosition(Y,_vA$1),U.getVertexPosition(X,_vB$1),U.getVertexPosition(te,_vC$1);const re=checkIntersection$1(U,G,Q,q,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(re){const ne=new Vector3;Triangle.getBarycoord(_intersectionPoint,_vA$1,_vB$1,_vC$1,ne),W&&(re.uv=Triangle.getInterpolatedAttribute(W,Y,X,te,ne,new Vector2)),J&&(re.uv1=Triangle.getInterpolatedAttribute(J,Y,X,te,ne,new Vector2)),F&&(re.normal=Triangle.getInterpolatedAttribute(F,Y,X,te,ne,new Vector3),re.normal.dot(q.direction)>0&&re.normal.multiplyScalar(-1));const ie={a:Y,b:X,c:te,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,ie.normal),re.face=ie,re.barycoord=ne}return re}class BoxGeometry extends BufferGeometry{constructor(G=1,Q=1,q=1,W=1,J=1,F=1){super(),this.type="BoxGeometry",this.parameters={width:G,height:Q,depth:q,widthSegments:W,heightSegments:J,depthSegments:F};const Y=this;W=Math.floor(W),J=Math.floor(J),F=Math.floor(F);const X=[],te=[],re=[],ne=[];let ie=0,oe=0;ae("z","y","x",-1,-1,q,Q,G,F,J,0),ae("z","y","x",1,-1,q,Q,-G,F,J,1),ae("x","z","y",1,1,G,q,Q,W,F,2),ae("x","z","y",1,-1,G,q,-Q,W,F,3),ae("x","y","z",1,-1,G,Q,q,W,J,4),ae("x","y","z",-1,-1,G,Q,-q,W,J,5),this.setIndex(X),this.setAttribute("position",new Float32BufferAttribute(te,3)),this.setAttribute("normal",new Float32BufferAttribute(re,3)),this.setAttribute("uv",new Float32BufferAttribute(ne,2));function ae(ue,ce,se,le,de,he,pe,ge,be,ve,Ee){const ke=he/be,Pe=pe/ve,Te=he/2,xe=pe/2,Ne=ge/2,Se=be+1,Ge=ve+1;let Ce=0,ze=0;const Ve=new Vector3;for(let Ke=0;Ke<Ge;Ke++){const Ze=Ke*Pe-xe;for(let et=0;et<Se;et++){const ot=et*ke-Te;Ve[ue]=ot*le,Ve[ce]=Ze*de,Ve[se]=Ne,te.push(Ve.x,Ve.y,Ve.z),Ve[ue]=0,Ve[ce]=0,Ve[se]=ge>0?1:-1,re.push(Ve.x,Ve.y,Ve.z),ne.push(et/be),ne.push(1-Ke/ve),Ce+=1}}for(let Ke=0;Ke<ve;Ke++)for(let Ze=0;Ze<be;Ze++){const et=ie+Ze+Se*Ke,ot=ie+Ze+Se*(Ke+1),nt=ie+(Ze+1)+Se*(Ke+1),dt=ie+(Ze+1)+Se*Ke;X.push(et,ot,dt),X.push(ot,nt,dt),ze+=6}Y.addGroup(oe,ze,Ee),oe+=ze,ie+=Ce}}copy(G){return super.copy(G),this.parameters=Object.assign({},G.parameters),this}static fromJSON(G){return new BoxGeometry(G.width,G.height,G.depth,G.widthSegments,G.heightSegments,G.depthSegments)}}function cloneUniforms(U){const G={};for(const Q in U){G[Q]={};for(const q in U[Q]){const W=U[Q][q];W&&(W.isColor||W.isMatrix3||W.isMatrix4||W.isVector2||W.isVector3||W.isVector4||W.isTexture||W.isQuaternion)?W.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),G[Q][q]=null):G[Q][q]=W.clone():Array.isArray(W)?G[Q][q]=W.slice():G[Q][q]=W}}return G}function cloneUniformsGroups(U){const G=[];for(let Q=0;Q<U.length;Q++)G.push(U[Q].clone());return G}var default_vertex=`
void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}
`,default_fragment=`
void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}
`;class ShaderMaterial extends Material{constructor(G){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,G!==void 0&&this.setValues(G)}copy(G){return super.copy(G),this.fragmentShader=G.fragmentShader,this.vertexShader=G.vertexShader,this.uniforms=cloneUniforms(G.uniforms),this.uniformsGroups=cloneUniformsGroups(G.uniformsGroups),this.defines=Object.assign({},G.defines),this.wireframe=G.wireframe,this.wireframeLinewidth=G.wireframeLinewidth,this.fog=G.fog,this.lights=G.lights,this.clipping=G.clipping,this.extensions=Object.assign({},G.extensions),this.glslVersion=G.glslVersion,this}toJSON(G){const Q=super.toJSON(G);Q.glslVersion=this.glslVersion,Q.uniforms={};for(const W in this.uniforms){const J=this.uniforms[W].value;J&&J.isTexture?Q.uniforms[W]={type:"t",value:J.toJSON(G).uuid}:J&&J.isColor?Q.uniforms[W]={type:"c",value:J.getHex()}:J&&J.isVector2?Q.uniforms[W]={type:"v2",value:J.toArray()}:J&&J.isVector3?Q.uniforms[W]={type:"v3",value:J.toArray()}:J&&J.isVector4?Q.uniforms[W]={type:"v4",value:J.toArray()}:J&&J.isMatrix3?Q.uniforms[W]={type:"m3",value:J.toArray()}:J&&J.isMatrix4?Q.uniforms[W]={type:"m4",value:J.toArray()}:Q.uniforms[W]={value:J}}Object.keys(this.defines).length>0&&(Q.defines=this.defines),Q.vertexShader=this.vertexShader,Q.fragmentShader=this.fragmentShader,Q.lights=this.lights,Q.clipping=this.clipping;const q={};for(const W in this.extensions)this.extensions[W]===!0&&(q[W]=!0);return Object.keys(q).length>0&&(Q.extensions=q),Q}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4,this.coordinateSystem=WebGLCoordinateSystem}copy(G,Q){return super.copy(G,Q),this.matrixWorldInverse.copy(G.matrixWorldInverse),this.projectionMatrix.copy(G.projectionMatrix),this.projectionMatrixInverse.copy(G.projectionMatrixInverse),this.coordinateSystem=G.coordinateSystem,this}getWorldDirection(G){return super.getWorldDirection(G).negate()}updateMatrixWorld(G){super.updateMatrixWorld(G),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(G,Q){super.updateWorldMatrix(G,Q),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const _v3$1=new Vector3,_minTarget=new Vector2,_maxTarget=new Vector2;class PerspectiveCamera extends Camera{constructor(G=50,Q=1,q=.1,W=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=G,this.zoom=1,this.near=q,this.far=W,this.focus=10,this.aspect=Q,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(G,Q){return super.copy(G,Q),this.fov=G.fov,this.zoom=G.zoom,this.near=G.near,this.far=G.far,this.focus=G.focus,this.aspect=G.aspect,this.view=G.view===null?null:Object.assign({},G.view),this.filmGauge=G.filmGauge,this.filmOffset=G.filmOffset,this}setFocalLength(G){const Q=.5*this.getFilmHeight()/G;this.fov=RAD2DEG*2*Math.atan(Q),this.updateProjectionMatrix()}getFocalLength(){const G=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/G}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(G,Q,q){_v3$1.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),Q.set(_v3$1.x,_v3$1.y).multiplyScalar(-G/_v3$1.z),_v3$1.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),q.set(_v3$1.x,_v3$1.y).multiplyScalar(-G/_v3$1.z)}getViewSize(G,Q){return this.getViewBounds(G,_minTarget,_maxTarget),Q.subVectors(_maxTarget,_minTarget)}setViewOffset(G,Q,q,W,J,F){this.aspect=G/Q,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=G,this.view.fullHeight=Q,this.view.offsetX=q,this.view.offsetY=W,this.view.width=J,this.view.height=F,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const G=this.near;let Q=G*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,q=2*Q,W=this.aspect*q,J=-.5*W;const F=this.view;if(this.view!==null&&this.view.enabled){const X=F.fullWidth,te=F.fullHeight;J+=F.offsetX*W/X,Q-=F.offsetY*q/te,W*=F.width/X,q*=F.height/te}const Y=this.filmOffset;Y!==0&&(J+=G*Y/this.getFilmWidth()),this.projectionMatrix.makePerspective(J,J+W,Q,Q-q,G,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(G){const Q=super.toJSON(G);return Q.object.fov=this.fov,Q.object.zoom=this.zoom,Q.object.near=this.near,Q.object.far=this.far,Q.object.focus=this.focus,Q.object.aspect=this.aspect,this.view!==null&&(Q.object.view=Object.assign({},this.view)),Q.object.filmGauge=this.filmGauge,Q.object.filmOffset=this.filmOffset,Q}}const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(G,Q,q){super(),this.type="CubeCamera",this.renderTarget=q,this.coordinateSystem=null,this.activeMipmapLevel=0;const W=new PerspectiveCamera(fov,aspect,G,Q);W.layers=this.layers,this.add(W);const J=new PerspectiveCamera(fov,aspect,G,Q);J.layers=this.layers,this.add(J);const F=new PerspectiveCamera(fov,aspect,G,Q);F.layers=this.layers,this.add(F);const Y=new PerspectiveCamera(fov,aspect,G,Q);Y.layers=this.layers,this.add(Y);const X=new PerspectiveCamera(fov,aspect,G,Q);X.layers=this.layers,this.add(X);const te=new PerspectiveCamera(fov,aspect,G,Q);te.layers=this.layers,this.add(te)}updateCoordinateSystem(){const G=this.coordinateSystem,Q=this.children.concat(),[q,W,J,F,Y,X]=Q;for(const te of Q)this.remove(te);if(G===WebGLCoordinateSystem)q.up.set(0,1,0),q.lookAt(1,0,0),W.up.set(0,1,0),W.lookAt(-1,0,0),J.up.set(0,0,-1),J.lookAt(0,1,0),F.up.set(0,0,1),F.lookAt(0,-1,0),Y.up.set(0,1,0),Y.lookAt(0,0,1),X.up.set(0,1,0),X.lookAt(0,0,-1);else if(G===WebGPUCoordinateSystem)q.up.set(0,-1,0),q.lookAt(-1,0,0),W.up.set(0,-1,0),W.lookAt(1,0,0),J.up.set(0,0,1),J.lookAt(0,1,0),F.up.set(0,0,-1),F.lookAt(0,-1,0),Y.up.set(0,-1,0),Y.lookAt(0,0,1),X.up.set(0,-1,0),X.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+G);for(const te of Q)this.add(te),te.updateMatrixWorld()}update(G,Q){this.parent===null&&this.updateMatrixWorld();const{renderTarget:q,activeMipmapLevel:W}=this;this.coordinateSystem!==G.coordinateSystem&&(this.coordinateSystem=G.coordinateSystem,this.updateCoordinateSystem());const[J,F,Y,X,te,re]=this.children,ne=G.getRenderTarget(),ie=G.getActiveCubeFace(),oe=G.getActiveMipmapLevel(),ae=G.xr.enabled;G.xr.enabled=!1;const ue=q.texture.generateMipmaps;q.texture.generateMipmaps=!1,G.setRenderTarget(q,0,W),G.render(Q,J),G.setRenderTarget(q,1,W),G.render(Q,F),G.setRenderTarget(q,2,W),G.render(Q,Y),G.setRenderTarget(q,3,W),G.render(Q,X),G.setRenderTarget(q,4,W),G.render(Q,te),q.texture.generateMipmaps=ue,G.setRenderTarget(q,5,W),G.render(Q,re),G.setRenderTarget(ne,ie,oe),G.xr.enabled=ae,q.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(G,Q,q,W,J,F,Y,X,te,re){G=G!==void 0?G:[],Q=Q!==void 0?Q:CubeReflectionMapping,super(G,Q,q,W,J,F,Y,X,te,re),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(G){this.image=G}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(G=1,Q={}){super(G,G,Q),this.isWebGLCubeRenderTarget=!0;const q={width:G,height:G,depth:1},W=[q,q,q,q,q,q];this.texture=new CubeTexture(W,Q.mapping,Q.wrapS,Q.wrapT,Q.magFilter,Q.minFilter,Q.format,Q.type,Q.anisotropy,Q.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=Q.generateMipmaps!==void 0?Q.generateMipmaps:!1,this.texture.minFilter=Q.minFilter!==void 0?Q.minFilter:LinearFilter}fromEquirectangularTexture(G,Q){this.texture.type=Q.type,this.texture.colorSpace=Q.colorSpace,this.texture.generateMipmaps=Q.generateMipmaps,this.texture.minFilter=Q.minFilter,this.texture.magFilter=Q.magFilter;const q={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},W=new BoxGeometry(5,5,5),J=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(q.uniforms),vertexShader:q.vertexShader,fragmentShader:q.fragmentShader,side:BackSide,blending:NoBlending});J.uniforms.tEquirect.value=Q;const F=new Mesh(W,J),Y=Q.minFilter;return Q.minFilter===LinearMipmapLinearFilter&&(Q.minFilter=LinearFilter),new CubeCamera(1,10,this).update(G,F),Q.minFilter=Y,F.geometry.dispose(),F.material.dispose(),this}clear(G,Q,q,W){const J=G.getRenderTarget();for(let F=0;F<6;F++)G.setRenderTarget(this,F),G.clear(Q,q,W);G.setRenderTarget(J)}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Euler,this.environmentIntensity=1,this.environmentRotation=new Euler,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(G,Q){return super.copy(G,Q),G.background!==null&&(this.background=G.background.clone()),G.environment!==null&&(this.environment=G.environment.clone()),G.fog!==null&&(this.fog=G.fog.clone()),this.backgroundBlurriness=G.backgroundBlurriness,this.backgroundIntensity=G.backgroundIntensity,this.backgroundRotation.copy(G.backgroundRotation),this.environmentIntensity=G.environmentIntensity,this.environmentRotation.copy(G.environmentRotation),G.overrideMaterial!==null&&(this.overrideMaterial=G.overrideMaterial.clone()),this.matrixAutoUpdate=G.matrixAutoUpdate,this}toJSON(G){const Q=super.toJSON(G);return this.fog!==null&&(Q.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(Q.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(Q.object.backgroundIntensity=this.backgroundIntensity),Q.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(Q.object.environmentIntensity=this.environmentIntensity),Q.object.environmentRotation=this.environmentRotation.toArray(),Q}}class InterleavedBuffer{constructor(G,Q){this.isInterleavedBuffer=!0,this.array=G,this.stride=Q,this.count=G!==void 0?G.length/Q:0,this.usage=StaticDrawUsage,this.updateRanges=[],this.version=0,this.uuid=generateUUID()}onUploadCallback(){}set needsUpdate(G){G===!0&&this.version++}setUsage(G){return this.usage=G,this}addUpdateRange(G,Q){this.updateRanges.push({start:G,count:Q})}clearUpdateRanges(){this.updateRanges.length=0}copy(G){return this.array=new G.array.constructor(G.array),this.count=G.count,this.stride=G.stride,this.usage=G.usage,this}copyAt(G,Q,q){G*=this.stride,q*=Q.stride;for(let W=0,J=this.stride;W<J;W++)this.array[G+W]=Q.array[q+W];return this}set(G,Q=0){return this.array.set(G,Q),this}clone(G){G.arrayBuffers===void 0&&(G.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),G.arrayBuffers[this.array.buffer._uuid]===void 0&&(G.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const Q=new this.array.constructor(G.arrayBuffers[this.array.buffer._uuid]),q=new this.constructor(Q,this.stride);return q.setUsage(this.usage),q}onUpload(G){return this.onUploadCallback=G,this}toJSON(G){return G.arrayBuffers===void 0&&(G.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID()),G.arrayBuffers[this.array.buffer._uuid]===void 0&&(G.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$7=new Vector3;class InterleavedBufferAttribute{constructor(G,Q,q,W=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=G,this.itemSize=Q,this.offset=q,this.normalized=W}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(G){this.data.needsUpdate=G}applyMatrix4(G){for(let Q=0,q=this.data.count;Q<q;Q++)_vector$7.fromBufferAttribute(this,Q),_vector$7.applyMatrix4(G),this.setXYZ(Q,_vector$7.x,_vector$7.y,_vector$7.z);return this}applyNormalMatrix(G){for(let Q=0,q=this.count;Q<q;Q++)_vector$7.fromBufferAttribute(this,Q),_vector$7.applyNormalMatrix(G),this.setXYZ(Q,_vector$7.x,_vector$7.y,_vector$7.z);return this}transformDirection(G){for(let Q=0,q=this.count;Q<q;Q++)_vector$7.fromBufferAttribute(this,Q),_vector$7.transformDirection(G),this.setXYZ(Q,_vector$7.x,_vector$7.y,_vector$7.z);return this}getComponent(G,Q){let q=this.array[G*this.data.stride+this.offset+Q];return this.normalized&&(q=denormalize(q,this.array)),q}setComponent(G,Q,q){return this.normalized&&(q=normalize$1(q,this.array)),this.data.array[G*this.data.stride+this.offset+Q]=q,this}setX(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.data.array[G*this.data.stride+this.offset]=Q,this}setY(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.data.array[G*this.data.stride+this.offset+1]=Q,this}setZ(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.data.array[G*this.data.stride+this.offset+2]=Q,this}setW(G,Q){return this.normalized&&(Q=normalize$1(Q,this.array)),this.data.array[G*this.data.stride+this.offset+3]=Q,this}getX(G){let Q=this.data.array[G*this.data.stride+this.offset];return this.normalized&&(Q=denormalize(Q,this.array)),Q}getY(G){let Q=this.data.array[G*this.data.stride+this.offset+1];return this.normalized&&(Q=denormalize(Q,this.array)),Q}getZ(G){let Q=this.data.array[G*this.data.stride+this.offset+2];return this.normalized&&(Q=denormalize(Q,this.array)),Q}getW(G){let Q=this.data.array[G*this.data.stride+this.offset+3];return this.normalized&&(Q=denormalize(Q,this.array)),Q}setXY(G,Q,q){return G=G*this.data.stride+this.offset,this.normalized&&(Q=normalize$1(Q,this.array),q=normalize$1(q,this.array)),this.data.array[G+0]=Q,this.data.array[G+1]=q,this}setXYZ(G,Q,q,W){return G=G*this.data.stride+this.offset,this.normalized&&(Q=normalize$1(Q,this.array),q=normalize$1(q,this.array),W=normalize$1(W,this.array)),this.data.array[G+0]=Q,this.data.array[G+1]=q,this.data.array[G+2]=W,this}setXYZW(G,Q,q,W,J){return G=G*this.data.stride+this.offset,this.normalized&&(Q=normalize$1(Q,this.array),q=normalize$1(q,this.array),W=normalize$1(W,this.array),J=normalize$1(J,this.array)),this.data.array[G+0]=Q,this.data.array[G+1]=q,this.data.array[G+2]=W,this.data.array[G+3]=J,this}clone(G){if(G===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const Q=[];for(let q=0;q<this.count;q++){const W=q*this.data.stride+this.offset;for(let J=0;J<this.itemSize;J++)Q.push(this.data.array[W+J])}return new BufferAttribute(new this.array.constructor(Q),this.itemSize,this.normalized)}else return G.interleavedBuffers===void 0&&(G.interleavedBuffers={}),G.interleavedBuffers[this.data.uuid]===void 0&&(G.interleavedBuffers[this.data.uuid]=this.data.clone(G)),new InterleavedBufferAttribute(G.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(G){if(G===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const Q=[];for(let q=0;q<this.count;q++){const W=q*this.data.stride+this.offset;for(let J=0;J<this.itemSize;J++)Q.push(this.data.array[W+J])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:Q,normalized:this.normalized}}else return G.interleavedBuffers===void 0&&(G.interleavedBuffers={}),G.interleavedBuffers[this.data.uuid]===void 0&&(G.interleavedBuffers[this.data.uuid]=this.data.toJSON(G)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material{constructor(G){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(G)}copy(G){return super.copy(G),this.color.copy(G.color),this.map=G.map,this.alphaMap=G.alphaMap,this.rotation=G.rotation,this.sizeAttenuation=G.sizeAttenuation,this.fog=G.fog,this}}class DataTexture extends Texture{constructor(G=null,Q=1,q=1,W,J,F,Y,X,te=NearestFilter,re=NearestFilter,ne,ie){super(null,F,Y,X,te,re,W,J,ne,ie),this.isDataTexture=!0,this.image={data:G,width:Q,height:q},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class InstancedBufferAttribute extends BufferAttribute{constructor(G,Q,q,W=1){super(G,Q,q),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=W}copy(G){return super.copy(G),this.meshPerAttribute=G.meshPerAttribute,this}toJSON(){const G=super.toJSON();return G.meshPerAttribute=this.meshPerAttribute,G.isInstancedBufferAttribute=!0,G}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;class Plane{constructor(G=new Vector3(1,0,0),Q=0){this.isPlane=!0,this.normal=G,this.constant=Q}set(G,Q){return this.normal.copy(G),this.constant=Q,this}setComponents(G,Q,q,W){return this.normal.set(G,Q,q),this.constant=W,this}setFromNormalAndCoplanarPoint(G,Q){return this.normal.copy(G),this.constant=-Q.dot(this.normal),this}setFromCoplanarPoints(G,Q,q){const W=_vector1.subVectors(q,Q).cross(_vector2.subVectors(G,Q)).normalize();return this.setFromNormalAndCoplanarPoint(W,G),this}copy(G){return this.normal.copy(G.normal),this.constant=G.constant,this}normalize(){const G=1/this.normal.length();return this.normal.multiplyScalar(G),this.constant*=G,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(G){return this.normal.dot(G)+this.constant}distanceToSphere(G){return this.distanceToPoint(G.center)-G.radius}projectPoint(G,Q){return Q.copy(G).addScaledVector(this.normal,-this.distanceToPoint(G))}intersectLine(G,Q){const q=G.delta(_vector1),W=this.normal.dot(q);if(W===0)return this.distanceToPoint(G.start)===0?Q.copy(G.start):null;const J=-(G.start.dot(this.normal)+this.constant)/W;return J<0||J>1?null:Q.copy(G.start).addScaledVector(q,J)}intersectsLine(G){const Q=this.distanceToPoint(G.start),q=this.distanceToPoint(G.end);return Q<0&&q>0||q<0&&Q>0}intersectsBox(G){return G.intersectsPlane(this)}intersectsSphere(G){return G.intersectsPlane(this)}coplanarPoint(G){return G.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(G,Q){const q=Q||_normalMatrix.getNormalMatrix(G),W=this.coplanarPoint(_vector1).applyMatrix4(G),J=this.normal.applyMatrix3(q).normalize();return this.constant=-W.dot(J),this}translate(G){return this.constant-=G.dot(this.normal),this}equals(G){return G.normal.equals(this.normal)&&G.constant===this.constant}clone(){return new this.constructor().copy(this)}}const _sphere$3=new Sphere,_vector$6=new Vector3;class Frustum{constructor(G=new Plane,Q=new Plane,q=new Plane,W=new Plane,J=new Plane,F=new Plane){this.planes=[G,Q,q,W,J,F]}set(G,Q,q,W,J,F){const Y=this.planes;return Y[0].copy(G),Y[1].copy(Q),Y[2].copy(q),Y[3].copy(W),Y[4].copy(J),Y[5].copy(F),this}copy(G){const Q=this.planes;for(let q=0;q<6;q++)Q[q].copy(G.planes[q]);return this}setFromProjectionMatrix(G,Q=WebGLCoordinateSystem){const q=this.planes,W=G.elements,J=W[0],F=W[1],Y=W[2],X=W[3],te=W[4],re=W[5],ne=W[6],ie=W[7],oe=W[8],ae=W[9],ue=W[10],ce=W[11],se=W[12],le=W[13],de=W[14],he=W[15];if(q[0].setComponents(X-J,ie-te,ce-oe,he-se).normalize(),q[1].setComponents(X+J,ie+te,ce+oe,he+se).normalize(),q[2].setComponents(X+F,ie+re,ce+ae,he+le).normalize(),q[3].setComponents(X-F,ie-re,ce-ae,he-le).normalize(),q[4].setComponents(X-Y,ie-ne,ce-ue,he-de).normalize(),Q===WebGLCoordinateSystem)q[5].setComponents(X+Y,ie+ne,ce+ue,he+de).normalize();else if(Q===WebGPUCoordinateSystem)q[5].setComponents(Y,ne,ue,de).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+Q);return this}intersectsObject(G){if(G.boundingSphere!==void 0)G.boundingSphere===null&&G.computeBoundingSphere(),_sphere$3.copy(G.boundingSphere).applyMatrix4(G.matrixWorld);else{const Q=G.geometry;Q.boundingSphere===null&&Q.computeBoundingSphere(),_sphere$3.copy(Q.boundingSphere).applyMatrix4(G.matrixWorld)}return this.intersectsSphere(_sphere$3)}intersectsSprite(G){return _sphere$3.center.set(0,0,0),_sphere$3.radius=.7071067811865476,_sphere$3.applyMatrix4(G.matrixWorld),this.intersectsSphere(_sphere$3)}intersectsSphere(G){const Q=this.planes,q=G.center,W=-G.radius;for(let J=0;J<6;J++)if(Q[J].distanceToPoint(q)<W)return!1;return!0}intersectsBox(G){const Q=this.planes;for(let q=0;q<6;q++){const W=Q[q];if(_vector$6.x=W.normal.x>0?G.max.x:G.min.x,_vector$6.y=W.normal.y>0?G.max.y:G.min.y,_vector$6.z=W.normal.z>0?G.max.z:G.min.z,W.distanceToPoint(_vector$6)<0)return!1}return!0}containsPoint(G){const Q=this.planes;for(let q=0;q<6;q++)if(Q[q].distanceToPoint(G)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class LineBasicMaterial extends Material{constructor(G){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(G)}copy(G){return super.copy(G),this.color.copy(G.color),this.map=G.map,this.linewidth=G.linewidth,this.linecap=G.linecap,this.linejoin=G.linejoin,this.fog=G.fog,this}}const _vStart=new Vector3,_vEnd=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere,_intersectPointOnRay=new Vector3,_intersectPointOnSegment=new Vector3;class Line extends Object3D{constructor(G=new BufferGeometry,Q=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=G,this.material=Q,this.updateMorphTargets()}copy(G,Q){return super.copy(G,Q),this.material=Array.isArray(G.material)?G.material.slice():G.material,this.geometry=G.geometry,this}computeLineDistances(){const G=this.geometry;if(G.index===null){const Q=G.attributes.position,q=[0];for(let W=1,J=Q.count;W<J;W++)_vStart.fromBufferAttribute(Q,W-1),_vEnd.fromBufferAttribute(Q,W),q[W]=q[W-1],q[W]+=_vStart.distanceTo(_vEnd);G.setAttribute("lineDistance",new Float32BufferAttribute(q,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(G,Q){const q=this.geometry,W=this.matrixWorld,J=G.params.Line.threshold,F=q.drawRange;if(q.boundingSphere===null&&q.computeBoundingSphere(),_sphere$1.copy(q.boundingSphere),_sphere$1.applyMatrix4(W),_sphere$1.radius+=J,G.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(W).invert(),_ray$1.copy(G.ray).applyMatrix4(_inverseMatrix$1);const Y=J/((this.scale.x+this.scale.y+this.scale.z)/3),X=Y*Y,te=this.isLineSegments?2:1,re=q.index,ne=q.attributes.position;if(re!==null){const ie=Math.max(0,F.start),oe=Math.min(re.count,F.start+F.count);for(let ae=ie,ue=oe-1;ae<ue;ae+=te){const ce=re.getX(ae),se=re.getX(ae+1),le=checkIntersection(this,G,_ray$1,X,ce,se);le&&Q.push(le)}if(this.isLineLoop){const ae=re.getX(oe-1),ue=re.getX(ie),ce=checkIntersection(this,G,_ray$1,X,ae,ue);ce&&Q.push(ce)}}else{const ie=Math.max(0,F.start),oe=Math.min(ne.count,F.start+F.count);for(let ae=ie,ue=oe-1;ae<ue;ae+=te){const ce=checkIntersection(this,G,_ray$1,X,ae,ae+1);ce&&Q.push(ce)}if(this.isLineLoop){const ae=checkIntersection(this,G,_ray$1,X,oe-1,ie);ae&&Q.push(ae)}}}updateMorphTargets(){const G=this.geometry.morphAttributes,Q=Object.keys(G);if(Q.length>0){const q=G[Q[0]];if(q!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let W=0,J=q.length;W<J;W++){const F=q[W].name||String(W);this.morphTargetInfluences.push(0),this.morphTargetDictionary[F]=W}}}}}function checkIntersection(U,G,Q,q,W,J){const F=U.geometry.attributes.position;if(_vStart.fromBufferAttribute(F,W),_vEnd.fromBufferAttribute(F,J),Q.distanceSqToSegment(_vStart,_vEnd,_intersectPointOnRay,_intersectPointOnSegment)>q)return;_intersectPointOnRay.applyMatrix4(U.matrixWorld);const Y=G.ray.origin.distanceTo(_intersectPointOnRay);if(!(Y<G.near||Y>G.far))return{distance:Y,point:_intersectPointOnSegment.clone().applyMatrix4(U.matrixWorld),index:W,face:null,faceIndex:null,barycoord:null,object:U}}const _start$1=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(G,Q){super(G,Q),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const G=this.geometry;if(G.index===null){const Q=G.attributes.position,q=[];for(let W=0,J=Q.count;W<J;W+=2)_start$1.fromBufferAttribute(Q,W),_end.fromBufferAttribute(Q,W+1),q[W]=W===0?0:q[W-1],q[W+1]=q[W]+_start$1.distanceTo(_end);G.setAttribute("lineDistance",new Float32BufferAttribute(q,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class PointsMaterial extends Material{constructor(G){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(G)}copy(G){return super.copy(G),this.color.copy(G.color),this.map=G.map,this.alphaMap=G.alphaMap,this.size=G.size,this.sizeAttenuation=G.sizeAttenuation,this.fog=G.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(G=new BufferGeometry,Q=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=G,this.material=Q,this.updateMorphTargets()}copy(G,Q){return super.copy(G,Q),this.material=Array.isArray(G.material)?G.material.slice():G.material,this.geometry=G.geometry,this}raycast(G,Q){const q=this.geometry,W=this.matrixWorld,J=G.params.Points.threshold,F=q.drawRange;if(q.boundingSphere===null&&q.computeBoundingSphere(),_sphere.copy(q.boundingSphere),_sphere.applyMatrix4(W),_sphere.radius+=J,G.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(W).invert(),_ray.copy(G.ray).applyMatrix4(_inverseMatrix);const Y=J/((this.scale.x+this.scale.y+this.scale.z)/3),X=Y*Y,te=q.index,re=q.attributes.position;if(te!==null){const ne=Math.max(0,F.start),ie=Math.min(te.count,F.start+F.count);for(let oe=ne,ae=ie;oe<ae;oe++){const ue=te.getX(oe);_position$2.fromBufferAttribute(re,ue),testPoint(_position$2,ue,X,W,G,Q,this)}}else{const ne=Math.max(0,F.start),ie=Math.min(re.count,F.start+F.count);for(let oe=ne,ae=ie;oe<ae;oe++)_position$2.fromBufferAttribute(re,oe),testPoint(_position$2,oe,X,W,G,Q,this)}}updateMorphTargets(){const G=this.geometry.morphAttributes,Q=Object.keys(G);if(Q.length>0){const q=G[Q[0]];if(q!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let W=0,J=q.length;W<J;W++){const F=q[W].name||String(W);this.morphTargetInfluences.push(0),this.morphTargetDictionary[F]=W}}}}}function testPoint(U,G,Q,q,W,J,F){const Y=_ray.distanceSqToPoint(U);if(Y<Q){const X=new Vector3;_ray.closestPointToPoint(U,X),X.applyMatrix4(q);const te=W.ray.origin.distanceTo(X);if(te<W.near||te>W.far)return;J.push({distance:te,distanceToRay:Math.sqrt(Y),point:X,index:G,face:null,faceIndex:null,barycoord:null,object:F})}}class Group extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}}class FramebufferTexture extends Texture{constructor(G,Q){super({width:G,height:Q}),this.isFramebufferTexture=!0,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class DepthTexture extends Texture{constructor(G,Q,q,W,J,F,Y,X,te,re=DepthFormat){if(re!==DepthFormat&&re!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");q===void 0&&re===DepthFormat&&(q=UnsignedIntType),q===void 0&&re===DepthStencilFormat&&(q=UnsignedInt248Type),super(null,W,J,F,Y,X,re,q,te),this.isDepthTexture=!0,this.image={width:G,height:Q},this.magFilter=Y!==void 0?Y:NearestFilter,this.minFilter=X!==void 0?X:NearestFilter,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(G){return super.copy(G),this.compareFunction=G.compareFunction,this}toJSON(G){const Q=super.toJSON(G);return this.compareFunction!==null&&(Q.compareFunction=this.compareFunction),Q}}class CylinderGeometry extends BufferGeometry{constructor(G=1,Q=1,q=1,W=32,J=1,F=!1,Y=0,X=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:G,radiusBottom:Q,height:q,radialSegments:W,heightSegments:J,openEnded:F,thetaStart:Y,thetaLength:X};const te=this;W=Math.floor(W),J=Math.floor(J);const re=[],ne=[],ie=[],oe=[];let ae=0;const ue=[],ce=q/2;let se=0;le(),F===!1&&(G>0&&de(!0),Q>0&&de(!1)),this.setIndex(re),this.setAttribute("position",new Float32BufferAttribute(ne,3)),this.setAttribute("normal",new Float32BufferAttribute(ie,3)),this.setAttribute("uv",new Float32BufferAttribute(oe,2));function le(){const he=new Vector3,pe=new Vector3;let ge=0;const be=(Q-G)/q;for(let ve=0;ve<=J;ve++){const Ee=[],ke=ve/J,Pe=ke*(Q-G)+G;for(let Te=0;Te<=W;Te++){const xe=Te/W,Ne=xe*X+Y,Se=Math.sin(Ne),Ge=Math.cos(Ne);pe.x=Pe*Se,pe.y=-ke*q+ce,pe.z=Pe*Ge,ne.push(pe.x,pe.y,pe.z),he.set(Se,be,Ge).normalize(),ie.push(he.x,he.y,he.z),oe.push(xe,1-ke),Ee.push(ae++)}ue.push(Ee)}for(let ve=0;ve<W;ve++)for(let Ee=0;Ee<J;Ee++){const ke=ue[Ee][ve],Pe=ue[Ee+1][ve],Te=ue[Ee+1][ve+1],xe=ue[Ee][ve+1];G>0&&(re.push(ke,Pe,xe),ge+=3),Q>0&&(re.push(Pe,Te,xe),ge+=3)}te.addGroup(se,ge,0),se+=ge}function de(he){const pe=ae,ge=new Vector2,be=new Vector3;let ve=0;const Ee=he===!0?G:Q,ke=he===!0?1:-1;for(let Te=1;Te<=W;Te++)ne.push(0,ce*ke,0),ie.push(0,ke,0),oe.push(.5,.5),ae++;const Pe=ae;for(let Te=0;Te<=W;Te++){const xe=Te/W*X+Y,Ne=Math.cos(xe),Se=Math.sin(xe);be.x=Ee*Se,be.y=ce*ke,be.z=Ee*Ne,ne.push(be.x,be.y,be.z),ie.push(0,ke,0),ge.x=Ne*.5+.5,ge.y=Se*.5*ke+.5,oe.push(ge.x,ge.y),ae++}for(let Te=0;Te<W;Te++){const xe=pe+Te,Ne=Pe+Te;he===!0?re.push(Ne,Ne+1,xe):re.push(Ne+1,Ne,xe),ve+=3}te.addGroup(se,ve,he===!0?1:2),se+=ve}}copy(G){return super.copy(G),this.parameters=Object.assign({},G.parameters),this}static fromJSON(G){return new CylinderGeometry(G.radiusTop,G.radiusBottom,G.height,G.radialSegments,G.heightSegments,G.openEnded,G.thetaStart,G.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(G=1,Q=1,q=32,W=1,J=!1,F=0,Y=Math.PI*2){super(0,G,Q,q,W,J,F,Y),this.type="ConeGeometry",this.parameters={radius:G,height:Q,radialSegments:q,heightSegments:W,openEnded:J,thetaStart:F,thetaLength:Y}}static fromJSON(G){return new ConeGeometry(G.radius,G.height,G.radialSegments,G.heightSegments,G.openEnded,G.thetaStart,G.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(G=[],Q=[],q=1,W=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:G,indices:Q,radius:q,detail:W};const J=[],F=[];Y(W),te(q),re(),this.setAttribute("position",new Float32BufferAttribute(J,3)),this.setAttribute("normal",new Float32BufferAttribute(J.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(F,2)),W===0?this.computeVertexNormals():this.normalizeNormals();function Y(le){const de=new Vector3,he=new Vector3,pe=new Vector3;for(let ge=0;ge<Q.length;ge+=3)oe(Q[ge+0],de),oe(Q[ge+1],he),oe(Q[ge+2],pe),X(de,he,pe,le)}function X(le,de,he,pe){const ge=pe+1,be=[];for(let ve=0;ve<=ge;ve++){be[ve]=[];const Ee=le.clone().lerp(he,ve/ge),ke=de.clone().lerp(he,ve/ge),Pe=ge-ve;for(let Te=0;Te<=Pe;Te++)Te===0&&ve===ge?be[ve][Te]=Ee:be[ve][Te]=Ee.clone().lerp(ke,Te/Pe)}for(let ve=0;ve<ge;ve++)for(let Ee=0;Ee<2*(ge-ve)-1;Ee++){const ke=Math.floor(Ee/2);Ee%2===0?(ie(be[ve][ke+1]),ie(be[ve+1][ke]),ie(be[ve][ke])):(ie(be[ve][ke+1]),ie(be[ve+1][ke+1]),ie(be[ve+1][ke]))}}function te(le){const de=new Vector3;for(let he=0;he<J.length;he+=3)de.x=J[he+0],de.y=J[he+1],de.z=J[he+2],de.normalize().multiplyScalar(le),J[he+0]=de.x,J[he+1]=de.y,J[he+2]=de.z}function re(){const le=new Vector3;for(let de=0;de<J.length;de+=3){le.x=J[de+0],le.y=J[de+1],le.z=J[de+2];const he=ce(le)/2/Math.PI+.5,pe=se(le)/Math.PI+.5;F.push(he,1-pe)}ae(),ne()}function ne(){for(let le=0;le<F.length;le+=6){const de=F[le+0],he=F[le+2],pe=F[le+4],ge=Math.max(de,he,pe),be=Math.min(de,he,pe);ge>.9&&be<.1&&(de<.2&&(F[le+0]+=1),he<.2&&(F[le+2]+=1),pe<.2&&(F[le+4]+=1))}}function ie(le){J.push(le.x,le.y,le.z)}function oe(le,de){const he=le*3;de.x=G[he+0],de.y=G[he+1],de.z=G[he+2]}function ae(){const le=new Vector3,de=new Vector3,he=new Vector3,pe=new Vector3,ge=new Vector2,be=new Vector2,ve=new Vector2;for(let Ee=0,ke=0;Ee<J.length;Ee+=9,ke+=6){le.set(J[Ee+0],J[Ee+1],J[Ee+2]),de.set(J[Ee+3],J[Ee+4],J[Ee+5]),he.set(J[Ee+6],J[Ee+7],J[Ee+8]),ge.set(F[ke+0],F[ke+1]),be.set(F[ke+2],F[ke+3]),ve.set(F[ke+4],F[ke+5]),pe.copy(le).add(de).add(he).divideScalar(3);const Pe=ce(pe);ue(ge,ke+0,le,Pe),ue(be,ke+2,de,Pe),ue(ve,ke+4,he,Pe)}}function ue(le,de,he,pe){pe<0&&le.x===1&&(F[de]=le.x-1),he.x===0&&he.z===0&&(F[de]=pe/2/Math.PI+.5)}function ce(le){return Math.atan2(le.z,-le.x)}function se(le){return Math.atan2(-le.y,Math.sqrt(le.x*le.x+le.z*le.z))}}copy(G){return super.copy(G),this.parameters=Object.assign({},G.parameters),this}static fromJSON(G){return new PolyhedronGeometry(G.vertices,G.indices,G.radius,G.details)}}class IcosahedronGeometry extends PolyhedronGeometry{constructor(G=1,Q=0){const q=(1+Math.sqrt(5))/2,W=[-1,q,0,1,q,0,-1,-q,0,1,-q,0,0,-1,q,0,1,q,0,-1,-q,0,1,-q,q,0,-1,q,0,1,-q,0,-1,-q,0,1],J=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(W,J,G,Q),this.type="IcosahedronGeometry",this.parameters={radius:G,detail:Q}}static fromJSON(G){return new IcosahedronGeometry(G.radius,G.detail)}}class SphereGeometry extends BufferGeometry{constructor(G=1,Q=32,q=16,W=0,J=Math.PI*2,F=0,Y=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:G,widthSegments:Q,heightSegments:q,phiStart:W,phiLength:J,thetaStart:F,thetaLength:Y},Q=Math.max(3,Math.floor(Q)),q=Math.max(2,Math.floor(q));const X=Math.min(F+Y,Math.PI);let te=0;const re=[],ne=new Vector3,ie=new Vector3,oe=[],ae=[],ue=[],ce=[];for(let se=0;se<=q;se++){const le=[],de=se/q;let he=0;se===0&&F===0?he=.5/Q:se===q&&X===Math.PI&&(he=-.5/Q);for(let pe=0;pe<=Q;pe++){const ge=pe/Q;ne.x=-G*Math.cos(W+ge*J)*Math.sin(F+de*Y),ne.y=G*Math.cos(F+de*Y),ne.z=G*Math.sin(W+ge*J)*Math.sin(F+de*Y),ae.push(ne.x,ne.y,ne.z),ie.copy(ne).normalize(),ue.push(ie.x,ie.y,ie.z),ce.push(ge+he,1-de),le.push(te++)}re.push(le)}for(let se=0;se<q;se++)for(let le=0;le<Q;le++){const de=re[se][le+1],he=re[se][le],pe=re[se+1][le],ge=re[se+1][le+1];(se!==0||F>0)&&oe.push(de,he,ge),(se!==q-1||X<Math.PI)&&oe.push(he,pe,ge)}this.setIndex(oe),this.setAttribute("position",new Float32BufferAttribute(ae,3)),this.setAttribute("normal",new Float32BufferAttribute(ue,3)),this.setAttribute("uv",new Float32BufferAttribute(ce,2))}copy(G){return super.copy(G),this.parameters=Object.assign({},G.parameters),this}static fromJSON(G){return new SphereGeometry(G.radius,G.widthSegments,G.heightSegments,G.phiStart,G.phiLength,G.thetaStart,G.thetaLength)}}class TorusKnotGeometry extends BufferGeometry{constructor(G=1,Q=.4,q=64,W=8,J=2,F=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:G,tube:Q,tubularSegments:q,radialSegments:W,p:J,q:F},q=Math.floor(q),W=Math.floor(W);const Y=[],X=[],te=[],re=[],ne=new Vector3,ie=new Vector3,oe=new Vector3,ae=new Vector3,ue=new Vector3,ce=new Vector3,se=new Vector3;for(let de=0;de<=q;++de){const he=de/q*J*Math.PI*2;le(he,J,F,G,oe),le(he+.01,J,F,G,ae),ce.subVectors(ae,oe),se.addVectors(ae,oe),ue.crossVectors(ce,se),se.crossVectors(ue,ce),ue.normalize(),se.normalize();for(let pe=0;pe<=W;++pe){const ge=pe/W*Math.PI*2,be=-Q*Math.cos(ge),ve=Q*Math.sin(ge);ne.x=oe.x+(be*se.x+ve*ue.x),ne.y=oe.y+(be*se.y+ve*ue.y),ne.z=oe.z+(be*se.z+ve*ue.z),X.push(ne.x,ne.y,ne.z),ie.subVectors(ne,oe).normalize(),te.push(ie.x,ie.y,ie.z),re.push(de/q),re.push(pe/W)}}for(let de=1;de<=q;de++)for(let he=1;he<=W;he++){const pe=(W+1)*(de-1)+(he-1),ge=(W+1)*de+(he-1),be=(W+1)*de+he,ve=(W+1)*(de-1)+he;Y.push(pe,ge,ve),Y.push(ge,be,ve)}this.setIndex(Y),this.setAttribute("position",new Float32BufferAttribute(X,3)),this.setAttribute("normal",new Float32BufferAttribute(te,3)),this.setAttribute("uv",new Float32BufferAttribute(re,2));function le(de,he,pe,ge,be){const ve=Math.cos(de),Ee=Math.sin(de),ke=pe/he*de,Pe=Math.cos(ke);be.x=ge*(2+Pe)*.5*ve,be.y=ge*(2+Pe)*Ee*.5,be.z=ge*Math.sin(ke)*.5}}copy(G){return super.copy(G),this.parameters=Object.assign({},G.parameters),this}static fromJSON(G){return new TorusKnotGeometry(G.radius,G.tube,G.tubularSegments,G.radialSegments,G.p,G.q)}}class ShadowMaterial extends Material{constructor(G){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(G)}copy(G){return super.copy(G),this.color.copy(G.color),this.fog=G.fog,this}}class MeshStandardMaterial extends Material{constructor(G){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(G)}copy(G){return super.copy(G),this.defines={STANDARD:""},this.color.copy(G.color),this.roughness=G.roughness,this.metalness=G.metalness,this.map=G.map,this.lightMap=G.lightMap,this.lightMapIntensity=G.lightMapIntensity,this.aoMap=G.aoMap,this.aoMapIntensity=G.aoMapIntensity,this.emissive.copy(G.emissive),this.emissiveMap=G.emissiveMap,this.emissiveIntensity=G.emissiveIntensity,this.bumpMap=G.bumpMap,this.bumpScale=G.bumpScale,this.normalMap=G.normalMap,this.normalMapType=G.normalMapType,this.normalScale.copy(G.normalScale),this.displacementMap=G.displacementMap,this.displacementScale=G.displacementScale,this.displacementBias=G.displacementBias,this.roughnessMap=G.roughnessMap,this.metalnessMap=G.metalnessMap,this.alphaMap=G.alphaMap,this.envMap=G.envMap,this.envMapRotation.copy(G.envMapRotation),this.envMapIntensity=G.envMapIntensity,this.wireframe=G.wireframe,this.wireframeLinewidth=G.wireframeLinewidth,this.wireframeLinecap=G.wireframeLinecap,this.wireframeLinejoin=G.wireframeLinejoin,this.flatShading=G.flatShading,this.fog=G.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(G){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$1(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(Q){this.ior=(1+.4*Q)/(1-.4*Q)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(G)}get anisotropy(){return this._anisotropy}set anisotropy(G){this._anisotropy>0!=G>0&&this.version++,this._anisotropy=G}get clearcoat(){return this._clearcoat}set clearcoat(G){this._clearcoat>0!=G>0&&this.version++,this._clearcoat=G}get iridescence(){return this._iridescence}set iridescence(G){this._iridescence>0!=G>0&&this.version++,this._iridescence=G}get dispersion(){return this._dispersion}set dispersion(G){this._dispersion>0!=G>0&&this.version++,this._dispersion=G}get sheen(){return this._sheen}set sheen(G){this._sheen>0!=G>0&&this.version++,this._sheen=G}get transmission(){return this._transmission}set transmission(G){this._transmission>0!=G>0&&this.version++,this._transmission=G}copy(G){return super.copy(G),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=G.anisotropy,this.anisotropyRotation=G.anisotropyRotation,this.anisotropyMap=G.anisotropyMap,this.clearcoat=G.clearcoat,this.clearcoatMap=G.clearcoatMap,this.clearcoatRoughness=G.clearcoatRoughness,this.clearcoatRoughnessMap=G.clearcoatRoughnessMap,this.clearcoatNormalMap=G.clearcoatNormalMap,this.clearcoatNormalScale.copy(G.clearcoatNormalScale),this.dispersion=G.dispersion,this.ior=G.ior,this.iridescence=G.iridescence,this.iridescenceMap=G.iridescenceMap,this.iridescenceIOR=G.iridescenceIOR,this.iridescenceThicknessRange=[...G.iridescenceThicknessRange],this.iridescenceThicknessMap=G.iridescenceThicknessMap,this.sheen=G.sheen,this.sheenColor.copy(G.sheenColor),this.sheenColorMap=G.sheenColorMap,this.sheenRoughness=G.sheenRoughness,this.sheenRoughnessMap=G.sheenRoughnessMap,this.transmission=G.transmission,this.transmissionMap=G.transmissionMap,this.thickness=G.thickness,this.thicknessMap=G.thicknessMap,this.attenuationDistance=G.attenuationDistance,this.attenuationColor.copy(G.attenuationColor),this.specularIntensity=G.specularIntensity,this.specularIntensityMap=G.specularIntensityMap,this.specularColor.copy(G.specularColor),this.specularColorMap=G.specularColorMap,this}}class MeshPhongMaterial extends Material{constructor(G){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(G)}copy(G){return super.copy(G),this.color.copy(G.color),this.specular.copy(G.specular),this.shininess=G.shininess,this.map=G.map,this.lightMap=G.lightMap,this.lightMapIntensity=G.lightMapIntensity,this.aoMap=G.aoMap,this.aoMapIntensity=G.aoMapIntensity,this.emissive.copy(G.emissive),this.emissiveMap=G.emissiveMap,this.emissiveIntensity=G.emissiveIntensity,this.bumpMap=G.bumpMap,this.bumpScale=G.bumpScale,this.normalMap=G.normalMap,this.normalMapType=G.normalMapType,this.normalScale.copy(G.normalScale),this.displacementMap=G.displacementMap,this.displacementScale=G.displacementScale,this.displacementBias=G.displacementBias,this.specularMap=G.specularMap,this.alphaMap=G.alphaMap,this.envMap=G.envMap,this.envMapRotation.copy(G.envMapRotation),this.combine=G.combine,this.reflectivity=G.reflectivity,this.refractionRatio=G.refractionRatio,this.wireframe=G.wireframe,this.wireframeLinewidth=G.wireframeLinewidth,this.wireframeLinecap=G.wireframeLinecap,this.wireframeLinejoin=G.wireframeLinejoin,this.flatShading=G.flatShading,this.fog=G.fog,this}}class MeshToonMaterial extends Material{constructor(G){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(G)}copy(G){return super.copy(G),this.color.copy(G.color),this.map=G.map,this.gradientMap=G.gradientMap,this.lightMap=G.lightMap,this.lightMapIntensity=G.lightMapIntensity,this.aoMap=G.aoMap,this.aoMapIntensity=G.aoMapIntensity,this.emissive.copy(G.emissive),this.emissiveMap=G.emissiveMap,this.emissiveIntensity=G.emissiveIntensity,this.bumpMap=G.bumpMap,this.bumpScale=G.bumpScale,this.normalMap=G.normalMap,this.normalMapType=G.normalMapType,this.normalScale.copy(G.normalScale),this.displacementMap=G.displacementMap,this.displacementScale=G.displacementScale,this.displacementBias=G.displacementBias,this.alphaMap=G.alphaMap,this.wireframe=G.wireframe,this.wireframeLinewidth=G.wireframeLinewidth,this.wireframeLinecap=G.wireframeLinecap,this.wireframeLinejoin=G.wireframeLinejoin,this.fog=G.fog,this}}class MeshNormalMaterial extends Material{constructor(G){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(G)}copy(G){return super.copy(G),this.bumpMap=G.bumpMap,this.bumpScale=G.bumpScale,this.normalMap=G.normalMap,this.normalMapType=G.normalMapType,this.normalScale.copy(G.normalScale),this.displacementMap=G.displacementMap,this.displacementScale=G.displacementScale,this.displacementBias=G.displacementBias,this.wireframe=G.wireframe,this.wireframeLinewidth=G.wireframeLinewidth,this.flatShading=G.flatShading,this}}class MeshLambertMaterial extends Material{constructor(G){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Euler,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(G)}copy(G){return super.copy(G),this.color.copy(G.color),this.map=G.map,this.lightMap=G.lightMap,this.lightMapIntensity=G.lightMapIntensity,this.aoMap=G.aoMap,this.aoMapIntensity=G.aoMapIntensity,this.emissive.copy(G.emissive),this.emissiveMap=G.emissiveMap,this.emissiveIntensity=G.emissiveIntensity,this.bumpMap=G.bumpMap,this.bumpScale=G.bumpScale,this.normalMap=G.normalMap,this.normalMapType=G.normalMapType,this.normalScale.copy(G.normalScale),this.displacementMap=G.displacementMap,this.displacementScale=G.displacementScale,this.displacementBias=G.displacementBias,this.specularMap=G.specularMap,this.alphaMap=G.alphaMap,this.envMap=G.envMap,this.envMapRotation.copy(G.envMapRotation),this.combine=G.combine,this.reflectivity=G.reflectivity,this.refractionRatio=G.refractionRatio,this.wireframe=G.wireframe,this.wireframeLinewidth=G.wireframeLinewidth,this.wireframeLinecap=G.wireframeLinecap,this.wireframeLinejoin=G.wireframeLinejoin,this.flatShading=G.flatShading,this.fog=G.fog,this}}class MeshMatcapMaterial extends Material{constructor(G){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(G)}copy(G){return super.copy(G),this.defines={MATCAP:""},this.color.copy(G.color),this.matcap=G.matcap,this.map=G.map,this.bumpMap=G.bumpMap,this.bumpScale=G.bumpScale,this.normalMap=G.normalMap,this.normalMapType=G.normalMapType,this.normalScale.copy(G.normalScale),this.displacementMap=G.displacementMap,this.displacementScale=G.displacementScale,this.displacementBias=G.displacementBias,this.alphaMap=G.alphaMap,this.flatShading=G.flatShading,this.fog=G.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(G){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(G)}copy(G){return super.copy(G),this.scale=G.scale,this.dashSize=G.dashSize,this.gapSize=G.gapSize,this}}const Cache={enabled:!1,files:{},add:function(U,G){this.enabled!==!1&&(this.files[U]=G)},get:function(U){if(this.enabled!==!1)return this.files[U]},remove:function(U){delete this.files[U]},clear:function(){this.files={}}};class LoadingManager{constructor(G,Q,q){const W=this;let J=!1,F=0,Y=0,X;const te=[];this.onStart=void 0,this.onLoad=G,this.onProgress=Q,this.onError=q,this.itemStart=function(re){Y++,J===!1&&W.onStart!==void 0&&W.onStart(re,F,Y),J=!0},this.itemEnd=function(re){F++,W.onProgress!==void 0&&W.onProgress(re,F,Y),F===Y&&(J=!1,W.onLoad!==void 0&&W.onLoad())},this.itemError=function(re){W.onError!==void 0&&W.onError(re)},this.resolveURL=function(re){return X?X(re):re},this.setURLModifier=function(re){return X=re,this},this.addHandler=function(re,ne){return te.push(re,ne),this},this.removeHandler=function(re){const ne=te.indexOf(re);return ne!==-1&&te.splice(ne,2),this},this.getHandler=function(re){for(let ne=0,ie=te.length;ne<ie;ne+=2){const oe=te[ne],ae=te[ne+1];if(oe.global&&(oe.lastIndex=0),oe.test(re))return ae}return null}}}const DefaultLoadingManager=new LoadingManager;class Loader{constructor(G){this.manager=G!==void 0?G:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(G,Q){const q=this;return new Promise(function(W,J){q.load(G,W,Q,J)})}parse(){}setCrossOrigin(G){return this.crossOrigin=G,this}setWithCredentials(G){return this.withCredentials=G,this}setPath(G){return this.path=G,this}setResourcePath(G){return this.resourcePath=G,this}setRequestHeader(G){return this.requestHeader=G,this}}Loader.DEFAULT_MATERIAL_NAME="__DEFAULT";const loading={};class HttpError extends Error{constructor(G,Q){super(G),this.response=Q}}class FileLoader extends Loader{constructor(G){super(G)}load(G,Q,q,W){G===void 0&&(G=""),this.path!==void 0&&(G=this.path+G),G=this.manager.resolveURL(G);const J=Cache.get(G);if(J!==void 0)return this.manager.itemStart(G),setTimeout(()=>{Q&&Q(J),this.manager.itemEnd(G)},0),J;if(loading[G]!==void 0){loading[G].push({onLoad:Q,onProgress:q,onError:W});return}loading[G]=[],loading[G].push({onLoad:Q,onProgress:q,onError:W});const F=new Request(G,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),Y=this.mimeType,X=this.responseType;fetch(F).then(te=>{if(te.status===200||te.status===0){if(te.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||te.body===void 0||te.body.getReader===void 0)return te;const re=loading[G],ne=te.body.getReader(),ie=te.headers.get("X-File-Size")||te.headers.get("Content-Length"),oe=ie?parseInt(ie):0,ae=oe!==0;let ue=0;const ce=new ReadableStream({start(se){le();function le(){ne.read().then(({done:de,value:he})=>{if(de)se.close();else{ue+=he.byteLength;const pe=new ProgressEvent("progress",{lengthComputable:ae,loaded:ue,total:oe});for(let ge=0,be=re.length;ge<be;ge++){const ve=re[ge];ve.onProgress&&ve.onProgress(pe)}se.enqueue(he),le()}},de=>{se.error(de)})}}});return new Response(ce)}else throw new HttpError(`fetch for "${te.url}" responded with ${te.status}: ${te.statusText}`,te)}).then(te=>{switch(X){case"arraybuffer":return te.arrayBuffer();case"blob":return te.blob();case"document":return te.text().then(re=>new DOMParser().parseFromString(re,Y));case"json":return te.json();default:if(Y===void 0)return te.text();{const re=/charset="?([^;"\s]*)"?/i.exec(Y),ne=re&&re[1]?re[1].toLowerCase():void 0,ie=new TextDecoder(ne);return te.arrayBuffer().then(oe=>ie.decode(oe))}}}).then(te=>{Cache.add(G,te);const re=loading[G];delete loading[G];for(let ne=0,ie=re.length;ne<ie;ne++){const oe=re[ne];oe.onLoad&&oe.onLoad(te)}}).catch(te=>{const re=loading[G];if(re===void 0)throw this.manager.itemError(G),te;delete loading[G];for(let ne=0,ie=re.length;ne<ie;ne++){const oe=re[ne];oe.onError&&oe.onError(te)}this.manager.itemError(G)}).finally(()=>{this.manager.itemEnd(G)}),this.manager.itemStart(G)}setResponseType(G){return this.responseType=G,this}setMimeType(G){return this.mimeType=G,this}}class ImageLoader extends Loader{constructor(G){super(G)}load(G,Q,q,W){this.path!==void 0&&(G=this.path+G),G=this.manager.resolveURL(G);const J=this,F=Cache.get(G);if(F!==void 0)return J.manager.itemStart(G),setTimeout(function(){Q&&Q(F),J.manager.itemEnd(G)},0),F;const Y=createElementNS("img");function X(){re(),Cache.add(G,this),Q&&Q(this),J.manager.itemEnd(G)}function te(ne){re(),W&&W(ne),J.manager.itemError(G),J.manager.itemEnd(G)}function re(){Y.removeEventListener("load",X,!1),Y.removeEventListener("error",te,!1)}return Y.addEventListener("load",X,!1),Y.addEventListener("error",te,!1),G.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(Y.crossOrigin=this.crossOrigin),J.manager.itemStart(G),Y.src=G,Y}}class TextureLoader extends Loader{constructor(G){super(G)}load(G,Q,q,W){const J=new Texture,F=new ImageLoader(this.manager);return F.setCrossOrigin(this.crossOrigin),F.setPath(this.path),F.load(G,function(Y){J.image=Y,J.needsUpdate=!0,Q!==void 0&&Q(J)},q,W),J}}class Light extends Object3D{constructor(G,Q=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(G),this.intensity=Q}dispose(){}copy(G,Q){return super.copy(G,Q),this.color.copy(G.color),this.intensity=G.intensity,this}toJSON(G){const Q=super.toJSON(G);return Q.object.color=this.color.getHex(),Q.object.intensity=this.intensity,this.groundColor!==void 0&&(Q.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(Q.object.distance=this.distance),this.angle!==void 0&&(Q.object.angle=this.angle),this.decay!==void 0&&(Q.object.decay=this.decay),this.penumbra!==void 0&&(Q.object.penumbra=this.penumbra),this.shadow!==void 0&&(Q.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(Q.object.target=this.target.uuid),Q}}class HemisphereLight extends Light{constructor(G,Q,q){super(G,q),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Color(Q)}copy(G,Q){return super.copy(G,Q),this.groundColor.copy(G.groundColor),this}}const _projScreenMatrix$2=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(G){this.camera=G,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(G){const Q=this.camera,q=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(G.matrixWorld),Q.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(G.target.matrixWorld),Q.lookAt(_lookTarget$1),Q.updateMatrixWorld(),_projScreenMatrix$2.multiplyMatrices(Q.projectionMatrix,Q.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$2),q.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),q.multiply(_projScreenMatrix$2)}getViewport(G){return this._viewports[G]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(G){return this.camera=G.camera.clone(),this.intensity=G.intensity,this.bias=G.bias,this.radius=G.radius,this.mapSize.copy(G.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const G={};return this.intensity!==1&&(G.intensity=this.intensity),this.bias!==0&&(G.bias=this.bias),this.normalBias!==0&&(G.normalBias=this.normalBias),this.radius!==1&&(G.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(G.mapSize=this.mapSize.toArray()),G.camera=this.camera.toJSON(!1).object,delete G.camera.matrix,G}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(G){const Q=this.camera,q=RAD2DEG*2*G.angle*this.focus,W=this.mapSize.width/this.mapSize.height,J=G.distance||Q.far;(q!==Q.fov||W!==Q.aspect||J!==Q.far)&&(Q.fov=q,Q.aspect=W,Q.far=J,Q.updateProjectionMatrix()),super.updateMatrices(G)}copy(G){return super.copy(G),this.focus=G.focus,this}}class SpotLight extends Light{constructor(G,Q,q=0,W=Math.PI/3,J=0,F=2){super(G,Q),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.distance=q,this.angle=W,this.penumbra=J,this.decay=F,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(G){this.intensity=G/Math.PI}dispose(){this.shadow.dispose()}copy(G,Q){return super.copy(G,Q),this.distance=G.distance,this.angle=G.angle,this.penumbra=G.penumbra,this.decay=G.decay,this.target=G.target.clone(),this.shadow=G.shadow.clone(),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(G,Q=0){const q=this.camera,W=this.matrix,J=G.distance||q.far;J!==q.far&&(q.far=J,q.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(G.matrixWorld),q.position.copy(_lightPositionWorld),_lookTarget.copy(q.position),_lookTarget.add(this._cubeDirections[Q]),q.up.copy(this._cubeUps[Q]),q.lookAt(_lookTarget),q.updateMatrixWorld(),W.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix$1.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1)}}class PointLight extends Light{constructor(G,Q,q=0,W=2){super(G,Q),this.isPointLight=!0,this.type="PointLight",this.distance=q,this.decay=W,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(G){this.intensity=G/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(G,Q){return super.copy(G,Q),this.distance=G.distance,this.decay=G.decay,this.shadow=G.shadow.clone(),this}}class OrthographicCamera extends Camera{constructor(G=-1,Q=1,q=1,W=-1,J=.1,F=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=G,this.right=Q,this.top=q,this.bottom=W,this.near=J,this.far=F,this.updateProjectionMatrix()}copy(G,Q){return super.copy(G,Q),this.left=G.left,this.right=G.right,this.top=G.top,this.bottom=G.bottom,this.near=G.near,this.far=G.far,this.zoom=G.zoom,this.view=G.view===null?null:Object.assign({},G.view),this}setViewOffset(G,Q,q,W,J,F){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=G,this.view.fullHeight=Q,this.view.offsetX=q,this.view.offsetY=W,this.view.width=J,this.view.height=F,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const G=(this.right-this.left)/(2*this.zoom),Q=(this.top-this.bottom)/(2*this.zoom),q=(this.right+this.left)/2,W=(this.top+this.bottom)/2;let J=q-G,F=q+G,Y=W+Q,X=W-Q;if(this.view!==null&&this.view.enabled){const te=(this.right-this.left)/this.view.fullWidth/this.zoom,re=(this.top-this.bottom)/this.view.fullHeight/this.zoom;J+=te*this.view.offsetX,F=J+te*this.view.width,Y-=re*this.view.offsetY,X=Y-re*this.view.height}this.projectionMatrix.makeOrthographic(J,F,Y,X,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(G){const Q=super.toJSON(G);return Q.object.zoom=this.zoom,Q.object.left=this.left,Q.object.right=this.right,Q.object.top=this.top,Q.object.bottom=this.bottom,Q.object.near=this.near,Q.object.far=this.far,this.view!==null&&(Q.object.view=Object.assign({},this.view)),Q}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light{constructor(G,Q){super(G,Q),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DEFAULT_UP),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(G){return super.copy(G),this.target=G.target.clone(),this.shadow=G.shadow.clone(),this}}class AmbientLight extends Light{constructor(G,Q){super(G,Q),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light{constructor(G,Q,q=10,W=10){super(G,Q),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=q,this.height=W}get power(){return this.intensity*this.width*this.height*Math.PI}set power(G){this.intensity=G/(this.width*this.height*Math.PI)}copy(G){return super.copy(G),this.width=G.width,this.height=G.height,this}toJSON(G){const Q=super.toJSON(G);return Q.object.width=this.width,Q.object.height=this.height,Q}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let G=0;G<9;G++)this.coefficients.push(new Vector3)}set(G){for(let Q=0;Q<9;Q++)this.coefficients[Q].copy(G[Q]);return this}zero(){for(let G=0;G<9;G++)this.coefficients[G].set(0,0,0);return this}getAt(G,Q){const q=G.x,W=G.y,J=G.z,F=this.coefficients;return Q.copy(F[0]).multiplyScalar(.282095),Q.addScaledVector(F[1],.488603*W),Q.addScaledVector(F[2],.488603*J),Q.addScaledVector(F[3],.488603*q),Q.addScaledVector(F[4],1.092548*(q*W)),Q.addScaledVector(F[5],1.092548*(W*J)),Q.addScaledVector(F[6],.315392*(3*J*J-1)),Q.addScaledVector(F[7],1.092548*(q*J)),Q.addScaledVector(F[8],.546274*(q*q-W*W)),Q}getIrradianceAt(G,Q){const q=G.x,W=G.y,J=G.z,F=this.coefficients;return Q.copy(F[0]).multiplyScalar(.886227),Q.addScaledVector(F[1],2*.511664*W),Q.addScaledVector(F[2],2*.511664*J),Q.addScaledVector(F[3],2*.511664*q),Q.addScaledVector(F[4],2*.429043*q*W),Q.addScaledVector(F[5],2*.429043*W*J),Q.addScaledVector(F[6],.743125*J*J-.247708),Q.addScaledVector(F[7],2*.429043*q*J),Q.addScaledVector(F[8],.429043*(q*q-W*W)),Q}add(G){for(let Q=0;Q<9;Q++)this.coefficients[Q].add(G.coefficients[Q]);return this}addScaledSH(G,Q){for(let q=0;q<9;q++)this.coefficients[q].addScaledVector(G.coefficients[q],Q);return this}scale(G){for(let Q=0;Q<9;Q++)this.coefficients[Q].multiplyScalar(G);return this}lerp(G,Q){for(let q=0;q<9;q++)this.coefficients[q].lerp(G.coefficients[q],Q);return this}equals(G){for(let Q=0;Q<9;Q++)if(!this.coefficients[Q].equals(G.coefficients[Q]))return!1;return!0}copy(G){return this.set(G.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(G,Q=0){const q=this.coefficients;for(let W=0;W<9;W++)q[W].fromArray(G,Q+W*3);return this}toArray(G=[],Q=0){const q=this.coefficients;for(let W=0;W<9;W++)q[W].toArray(G,Q+W*3);return G}static getBasisAt(G,Q){const q=G.x,W=G.y,J=G.z;Q[0]=.282095,Q[1]=.488603*W,Q[2]=.488603*J,Q[3]=.488603*q,Q[4]=1.092548*q*W,Q[5]=1.092548*W*J,Q[6]=.315392*(3*J*J-1),Q[7]=1.092548*q*J,Q[8]=.546274*(q*q-W*W)}}class LightProbe extends Light{constructor(G=new SphericalHarmonics3,Q=1){super(void 0,Q),this.isLightProbe=!0,this.sh=G}copy(G){return super.copy(G),this.sh.copy(G.sh),this}fromJSON(G){return this.intensity=G.intensity,this.sh.fromArray(G.sh),this}toJSON(G){const Q=super.toJSON(G);return Q.object.sh=this.sh.toArray(),Q}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(G){return super.copy(G),this.instanceCount=G.instanceCount,this}toJSON(){const G=super.toJSON();return G.instanceCount=this.instanceCount,G.isInstancedBufferGeometry=!0,G}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(G,Q,q=1){super(G,Q),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=q}copy(G){return super.copy(G),this.meshPerAttribute=G.meshPerAttribute,this}clone(G){const Q=super.clone(G);return Q.meshPerAttribute=this.meshPerAttribute,Q}toJSON(G){const Q=super.toJSON(G);return Q.isInstancedInterleavedBuffer=!0,Q.meshPerAttribute=this.meshPerAttribute,Q}}const refreshUniforms=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveMap","envMap","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"];class NodeMaterialObserver{constructor(G){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(G),this.hasAnimation=G.object.isSkinnedMesh===!0,this.refreshUniforms=refreshUniforms,this.renderId=0}firstInitialization(G){return this.renderObjects.has(G)===!1?(this.getRenderObjectData(G),!0):!1}getRenderObjectData(G){let Q=this.renderObjects.get(G);return Q===void 0&&(Q={material:this.getMaterialData(G.material),worldMatrix:G.object.matrixWorld.clone()},G.object.center&&(Q.center=G.object.center.clone()),G.object.morphTargetInfluences&&(Q.morphTargetInfluences=G.object.morphTargetInfluences.slice()),G.bundle!==null&&(Q.version=G.bundle.version),this.renderObjects.set(G,Q)),Q}containsNode(G){const Q=G.material;for(const q in Q)if(Q[q]&&Q[q].isNode)return!0;return G.renderer.nodes.modelViewMatrix!==null||G.renderer.nodes.modelNormalViewMatrix!==null}getMaterialData(G){const Q={};for(const q of this.refreshUniforms){const W=G[q];W!=null&&(typeof W=="object"&&W.clone!==void 0?W.isTexture===!0?Q[q]={id:W.id,version:W.version}:Q[q]=W.clone():Q[q]=W)}return Q}equals(G){const{object:Q,material:q}=G,W=this.getRenderObjectData(G);if(W.worldMatrix.equals(Q.matrixWorld)!==!0)return W.worldMatrix.copy(Q.matrixWorld),!1;const J=W.material;for(const F in J){const Y=J[F],X=q[F];if(Y.equals!==void 0){if(Y.equals(X)===!1)return Y.copy(X),!1}else if(X.isTexture===!0){if(Y.id!==X.id||Y.version!==X.version)return Y.id=X.id,Y.version=X.version,!1}else if(Y!==X)return J[F]=X,!1}if(W.morphTargetInfluences){let F=!1;for(let Y=0;Y<W.morphTargetInfluences.length;Y++)W.morphTargetInfluences[Y]!==Q.morphTargetInfluences[Y]&&(F=!0);if(F)return!0}return W.center&&W.center.equals(Q.center)===!1?(W.center.copy(Q.center),!0):(G.bundle!==null&&(W.version=G.bundle.version),!0)}needsRefresh(G,Q){if(this.hasNode||this.hasAnimation||this.firstInitialization(G))return!0;const{renderId:q}=Q;if(this.renderId!==q)return this.renderId=q,!0;const W=G.object.static===!0,J=G.bundle!==null&&G.bundle.static===!0&&this.getRenderObjectData(G).version===G.bundle.version;return W||J?!1:this.equals(G)!==!0}}function cyrb53(U,G=0){let Q=3735928559^G,q=1103547991^G;if(U instanceof Array)for(let W=0,J;W<U.length;W++)J=U[W],Q=Math.imul(Q^J,2654435761),q=Math.imul(q^J,1597334677);else for(let W=0,J;W<U.length;W++)J=U.charCodeAt(W),Q=Math.imul(Q^J,2654435761),q=Math.imul(q^J,1597334677);return Q=Math.imul(Q^Q>>>16,2246822507),Q^=Math.imul(q^q>>>13,3266489909),q=Math.imul(q^q>>>16,2246822507),q^=Math.imul(Q^Q>>>13,3266489909),4294967296*(2097151&q)+(Q>>>0)}const hashString=U=>cyrb53(U),hashArray=U=>cyrb53(U),hash$1=(...U)=>cyrb53(U);function getCacheKey$1(U,G=!1){const Q=[];U.isNode===!0&&(Q.push(U.id),U=U.getSelf());for(const{property:q,childNode:W}of getNodeChildren(U))Q.push(Q,cyrb53(q.slice(0,-4)),W.getCacheKey(G));return cyrb53(Q)}function*getNodeChildren(U,G=!1){for(const Q in U){if(Q.startsWith("_")===!0)continue;const q=U[Q];if(Array.isArray(q)===!0)for(let W=0;W<q.length;W++){const J=q[W];J&&(J.isNode===!0||G&&typeof J.toJSON=="function")&&(yield{property:Q,index:W,childNode:J})}else if(q&&q.isNode===!0)yield{property:Q,childNode:q};else if(typeof q=="object")for(const W in q){const J=q[W];J&&(J.isNode===!0||G&&typeof J.toJSON=="function")&&(yield{property:Q,index:W,childNode:J})}}}function getValueType(U){if(U==null)return null;const G=typeof U;return U.isNode===!0?"node":G==="number"?"float":G==="boolean"?"bool":G==="string"?"string":G==="function"?"shader":U.isVector2===!0?"vec2":U.isVector3===!0?"vec3":U.isVector4===!0?"vec4":U.isMatrix3===!0?"mat3":U.isMatrix4===!0?"mat4":U.isColor===!0?"color":U instanceof ArrayBuffer?"ArrayBuffer":null}function getValueFromType(U,...G){const Q=U?U.slice(-4):void 0;return G.length===1&&(Q==="vec2"?G=[G[0],G[0]]:Q==="vec3"?G=[G[0],G[0],G[0]]:Q==="vec4"&&(G=[G[0],G[0],G[0],G[0]])),U==="color"?new Color(...G):Q==="vec2"?new Vector2(...G):Q==="vec3"?new Vector3(...G):Q==="vec4"?new Vector4(...G):Q==="mat3"?new Matrix3(...G):Q==="mat4"?new Matrix4(...G):U==="bool"?G[0]||!1:U==="float"||U==="int"||U==="uint"?G[0]||0:U==="string"?G[0]||"":U==="ArrayBuffer"?base64ToArrayBuffer(G[0]):null}function arrayBufferToBase64(U){let G="";const Q=new Uint8Array(U);for(let q=0;q<Q.length;q++)G+=String.fromCharCode(Q[q]);return btoa(G)}function base64ToArrayBuffer(U){return Uint8Array.from(atob(U),G=>G.charCodeAt(0)).buffer}const NodeShaderStage={VERTEX:"vertex",FRAGMENT:"fragment"},NodeUpdateType={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},defaultShaderStages=["fragment","vertex"],defaultBuildStages=["setup","analyze","generate"],shaderStages=[...defaultShaderStages,"compute"],vectorComponents=["x","y","z","w"];let _nodeId=0,Node$1=class extends EventDispatcher{static get type(){return"Node"}constructor(U=null){super(),this.nodeType=U,this.updateType=NodeUpdateType.NONE,this.updateBeforeType=NodeUpdateType.NONE,this.updateAfterType=NodeUpdateType.NONE,this.uuid=MathUtils.generateUUID(),this.version=0,this._cacheKey=null,this._cacheKeyVersion=0,this.global=!1,this.isNode=!0,Object.defineProperty(this,"id",{value:_nodeId++})}set needsUpdate(U){U===!0&&this.version++}get type(){return this.constructor.type}onUpdate(U,G){return this.updateType=G,this.update=U.bind(this.getSelf()),this}onFrameUpdate(U){return this.onUpdate(U,NodeUpdateType.FRAME)}onRenderUpdate(U){return this.onUpdate(U,NodeUpdateType.RENDER)}onObjectUpdate(U){return this.onUpdate(U,NodeUpdateType.OBJECT)}onReference(U){return this.updateReference=U.bind(this.getSelf()),this}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:U}of getNodeChildren(this))yield U}dispose(){this.dispatchEvent({type:"dispose"})}traverse(U){U(this);for(const G of this.getChildren())G.traverse(U)}getCacheKey(U=!1){return U=U||this.version!==this._cacheKeyVersion,(U===!0||this._cacheKey===null)&&(this._cacheKey=getCacheKey$1(this,U),this._cacheKeyVersion=this.version),this._cacheKey}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(U){const G=this.getNodeType(U);return U.getElementType(G)}getNodeType(U){const G=U.getNodeProperties(this);return G.outputNode?G.outputNode.getNodeType(U):this.nodeType}getShared(U){const G=this.getHash(U);return U.getNodeFromHash(G)||this}setup(U){const G=U.getNodeProperties(this);let Q=0;for(const q of this.getChildren())G["node"+Q++]=q;return null}analyze(U){if(U.increaseUsage(this)===1){const G=U.getNodeProperties(this);for(const Q of Object.values(G))Q&&Q.isNode===!0&&Q.build(U)}}generate(U,G){const{outputNode:Q}=U.getNodeProperties(this);if(Q&&Q.isNode===!0)return Q.build(U,G)}updateBefore(){console.warn("Abstract function.")}updateAfter(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(U,G=null){const Q=this.getShared(U);if(this!==Q)return Q.build(U,G);U.addNode(this),U.addChain(this);let q=null;const W=U.getBuildStage();if(W==="setup"){this.updateReference(U);const J=U.getNodeProperties(this);if(J.initialized!==!0){U.stack.nodes.length,J.initialized=!0,J.outputNode=this.setup(U),J.outputNode!==null&&U.stack.nodes.length;for(const F of Object.values(J))F&&F.isNode===!0&&F.build(U)}}else if(W==="analyze")this.analyze(U);else if(W==="generate")if(this.generate.length===1){const J=this.getNodeType(U),F=U.getDataFromNode(this);q=F.snippet,q===void 0?(q=this.generate(U)||"",F.snippet=q):F.flowCodes!==void 0&&U.context.nodeBlock!==void 0&&U.addFlowCodeHierarchy(this,U.context.nodeBlock),q=U.format(q,J,G)}else q=this.generate(U,G)||"";return U.removeChain(this),q}getSerializeChildren(){return getNodeChildren(this)}serialize(U){const G=this.getSerializeChildren(),Q={};for(const{property:q,index:W,childNode:J}of G)W!==void 0?(Q[q]===void 0&&(Q[q]=Number.isInteger(W)?[]:{}),Q[q][W]=J.toJSON(U.meta).uuid):Q[q]=J.toJSON(U.meta).uuid;Object.keys(Q).length>0&&(U.inputNodes=Q)}deserialize(U){if(U.inputNodes!==void 0){const G=U.meta.nodes;for(const Q in U.inputNodes)if(Array.isArray(U.inputNodes[Q])){const q=[];for(const W of U.inputNodes[Q])q.push(G[W]);this[Q]=q}else if(typeof U.inputNodes[Q]=="object"){const q={};for(const W in U.inputNodes[Q]){const J=U.inputNodes[Q][W];q[W]=G[J]}this[Q]=q}else{const q=U.inputNodes[Q];this[Q]=G[q]}}}toJSON(U){const{uuid:G,type:Q}=this,q=U===void 0||typeof U=="string";q&&(U={textures:{},images:{},nodes:{}});let W=U.nodes[G];W===void 0&&(W={uuid:G,type:Q,meta:U,metadata:{version:4.6,type:"Node",generator:"Node.toJSON"}},q!==!0&&(U.nodes[W.uuid]=W),this.serialize(W),delete W.meta);function J(F){const Y=[];for(const X in F){const te=F[X];delete te.metadata,Y.push(te)}return Y}if(q){const F=J(U.textures),Y=J(U.images),X=J(U.nodes);F.length>0&&(W.textures=F),Y.length>0&&(W.images=Y),X.length>0&&(W.nodes=X)}return W}};class ArrayElementNode extends Node$1{static get type(){return"ArrayElementNode"}constructor(G,Q){super(),this.node=G,this.indexNode=Q,this.isArrayElementNode=!0}getNodeType(G){return this.node.getElementType(G)}generate(G){const Q=this.node.build(G),q=this.indexNode.build(G,"uint");return`${Q}[ ${q} ]`}}class ConvertNode extends Node$1{static get type(){return"ConvertNode"}constructor(G,Q){super(),this.node=G,this.convertTo=Q}getNodeType(G){const Q=this.node.getNodeType(G);let q=null;for(const W of this.convertTo.split("|"))(q===null||G.getTypeLength(Q)===G.getTypeLength(W))&&(q=W);return q}serialize(G){super.serialize(G),G.convertTo=this.convertTo}deserialize(G){super.deserialize(G),this.convertTo=G.convertTo}generate(G,Q){const q=this.node,W=this.getNodeType(G),J=q.build(G,W);return G.format(J,W,Q)}}class TempNode extends Node$1{static get type(){return"TempNode"}constructor(G){super(G),this.isTempNode=!0}hasDependencies(G){return G.getDataFromNode(this).usageCount>1}build(G,Q){if(G.getBuildStage()==="generate"){const q=G.getVectorType(this.getNodeType(G,Q)),W=G.getDataFromNode(this);if(W.propertyName!==void 0)return G.format(W.propertyName,q,Q);if(q!=="void"&&Q!=="void"&&this.hasDependencies(G)){const J=super.build(G,q),F=G.getVarFromNode(this,null,q),Y=G.getPropertyName(F);return G.addLineFlowCode(`${Y} = ${J}`,this),W.snippet=J,W.propertyName=Y,G.format(W.propertyName,q,Q)}}return super.build(G,Q)}}class JoinNode extends TempNode{static get type(){return"JoinNode"}constructor(G=[],Q=null){super(Q),this.nodes=G}getNodeType(G){return this.nodeType!==null?G.getVectorType(this.nodeType):G.getTypeFromLength(this.nodes.reduce((Q,q)=>Q+G.getTypeLength(q.getNodeType(G)),0))}generate(G,Q){const q=this.getNodeType(G),W=this.nodes,J=G.getComponentType(q),F=[];for(const X of W){let te=X.build(G);const re=G.getComponentType(X.getNodeType(G));re!==J&&(te=G.format(te,re,J)),F.push(te)}const Y=`${G.getType(q)}( ${F.join(", ")} )`;return G.format(Y,q,Q)}}const stringVectorComponents=vectorComponents.join("");class SplitNode extends Node$1{static get type(){return"SplitNode"}constructor(G,Q="x"){super(),this.node=G,this.components=Q,this.isSplitNode=!0}getVectorLength(){let G=this.components.length;for(const Q of this.components)G=Math.max(vectorComponents.indexOf(Q)+1,G);return G}getComponentType(G){return G.getComponentType(this.node.getNodeType(G))}getNodeType(G){return G.getTypeFromLength(this.components.length,this.getComponentType(G))}generate(G,Q){const q=this.node,W=G.getTypeLength(q.getNodeType(G));let J=null;if(W>1){let F=null;this.getVectorLength()>=W&&(F=G.getTypeFromLength(this.getVectorLength(),this.getComponentType(G)));const Y=q.build(G,F);this.components.length===W&&this.components===stringVectorComponents.slice(0,this.components.length)?J=G.format(Y,F,Q):J=G.format(`${Y}.${this.components}`,this.getNodeType(G),Q)}else J=q.build(G,Q);return J}serialize(G){super.serialize(G),G.components=this.components}deserialize(G){super.deserialize(G),this.components=G.components}}class SetNode extends TempNode{static get type(){return"SetNode"}constructor(G,Q,q){super(),this.sourceNode=G,this.components=Q,this.targetNode=q}getNodeType(G){return this.sourceNode.getNodeType(G)}generate(G){const{sourceNode:Q,components:q,targetNode:W}=this,J=this.getNodeType(G),F=G.getTypeFromLength(q.length,W.getNodeType(G)),Y=W.build(G,F),X=Q.build(G,J),te=G.getTypeLength(J),re=[];for(let ne=0;ne<te;ne++){const ie=vectorComponents[ne];ie===q[0]?(re.push(Y),ne+=q.length-1):re.push(X+"."+ie)}return`${G.getType(J)}( ${re.join(", ")} )`}}class FlipNode extends TempNode{static get type(){return"FlipNode"}constructor(G,Q){super(),this.sourceNode=G,this.components=Q}getNodeType(G){return this.sourceNode.getNodeType(G)}generate(G){const{components:Q,sourceNode:q}=this,W=this.getNodeType(G),J=q.build(G),F=G.getVarFromNode(this),Y=G.getPropertyName(F);G.addLineFlowCode(Y+" = "+J,this);const X=G.getTypeLength(W),te=[];let re=0;for(let ne=0;ne<X;ne++){const ie=vectorComponents[ne];ie===Q[re]?(te.push("1.0 - "+(Y+"."+ie)),re++):te.push(Y+"."+ie)}return`${G.getType(W)}( ${te.join(", ")} )`}}class InputNode extends Node$1{static get type(){return"InputNode"}constructor(G,Q=null){super(Q),this.isInputNode=!0,this.value=G,this.precision=null}getNodeType(){return this.nodeType===null?getValueType(this.value):this.nodeType}getInputType(G){return this.getNodeType(G)}setPrecision(G){return this.precision=G,this}serialize(G){super.serialize(G),G.value=this.value,this.value&&this.value.toArray&&(G.value=this.value.toArray()),G.valueType=getValueType(this.value),G.nodeType=this.nodeType,G.valueType==="ArrayBuffer"&&(G.value=arrayBufferToBase64(G.value)),G.precision=this.precision}deserialize(G){super.deserialize(G),this.nodeType=G.nodeType,this.value=Array.isArray(G.value)?getValueFromType(G.valueType,...G.value):G.value,this.precision=G.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(G.value))}generate(){console.warn("Abstract function.")}}class ConstNode extends InputNode{static get type(){return"ConstNode"}constructor(G,Q=null){super(G,Q),this.isConstNode=!0}generateConst(G){return G.generateConst(this.getNodeType(G),this.value)}generate(G,Q){const q=this.getNodeType(G);return G.format(this.generateConst(G),q,Q)}}let currentStack=null;const NodeElements=new Map;function addMethodChaining(U,G){if(NodeElements.has(U)){console.warn(`Redefinition of method chaining ${U}`);return}if(typeof G!="function")throw new Error(`Node element ${U} is not a function`);NodeElements.set(U,G)}const parseSwizzle=U=>U.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),parseSwizzleAndSort=U=>parseSwizzle(U).split("").sort().join(""),shaderNodeHandler={setup(U,G){const Q=G.shift();return U(nodeObjects(Q),...G)},get(U,G,Q){if(typeof G=="string"&&U[G]===void 0){if(U.isStackNode!==!0&&G==="assign")return(...q)=>(currentStack.assign(Q,...q),Q);if(NodeElements.has(G)){const q=NodeElements.get(G);return U.isStackNode?(...W)=>Q.add(q(...W)):(...W)=>q(Q,...W)}else{if(G==="self")return U;if(G.endsWith("Assign")&&NodeElements.has(G.slice(0,G.length-6))){const q=NodeElements.get(G.slice(0,G.length-6));return U.isStackNode?(...W)=>Q.assign(W[0],q(...W)):(...W)=>Q.assign(q(Q,...W))}else{if(/^[xyzwrgbastpq]{1,4}$/.test(G)===!0)return G=parseSwizzle(G),nodeObject(new SplitNode(Q,G));if(/^set[XYZWRGBASTPQ]{1,4}$/.test(G)===!0)return G=parseSwizzleAndSort(G.slice(3).toLowerCase()),q=>nodeObject(new SetNode(U,G,q));if(/^flip[XYZWRGBASTPQ]{1,4}$/.test(G)===!0)return G=parseSwizzleAndSort(G.slice(4).toLowerCase()),()=>nodeObject(new FlipNode(nodeObject(U),G));if(G==="width"||G==="height"||G==="depth")return G==="width"?G="x":G==="height"?G="y":G==="depth"&&(G="z"),nodeObject(new SplitNode(U,G));if(/^\d+$/.test(G)===!0)return nodeObject(new ArrayElementNode(Q,new ConstNode(Number(G),"uint")))}}}return Reflect.get(U,G,Q)},set(U,G,Q,q){return typeof G=="string"&&U[G]===void 0&&(/^[xyzwrgbastpq]{1,4}$/.test(G)===!0||G==="width"||G==="height"||G==="depth"||/^\d+$/.test(G)===!0)?(q[G].assign(Q),!0):Reflect.set(U,G,Q,q)}},nodeObjectsCacheMap=new WeakMap,nodeBuilderFunctionsCacheMap=new WeakMap,ShaderNodeObject=function(U,G=null){const Q=getValueType(U);if(Q==="node"){let q=nodeObjectsCacheMap.get(U);return q===void 0&&(q=new Proxy(U,shaderNodeHandler),nodeObjectsCacheMap.set(U,q),nodeObjectsCacheMap.set(q,q)),q}else{if(G===null&&(Q==="float"||Q==="boolean")||Q&&Q!=="shader"&&Q!=="string")return nodeObject(getConstNode(U,G));if(Q==="shader")return Fn(U)}return U},ShaderNodeObjects=function(U,G=null){for(const Q in U)U[Q]=nodeObject(U[Q],G);return U},ShaderNodeArray=function(U,G=null){const Q=U.length;for(let q=0;q<Q;q++)U[q]=nodeObject(U[q],G);return U},ShaderNodeProxy=function(U,G=null,Q=null,q=null){const W=J=>nodeObject(q!==null?Object.assign(J,q):J);return G===null?(...J)=>W(new U(...nodeArray(J))):Q!==null?(Q=nodeObject(Q),(...J)=>W(new U(G,...nodeArray(J),Q))):(...J)=>W(new U(G,...nodeArray(J)))},ShaderNodeImmutable=function(U,...G){return nodeObject(new U(...nodeArray(G)))};class ShaderCallNodeInternal extends Node$1{constructor(G,Q){super(),this.shaderNode=G,this.inputNodes=Q}getNodeType(G){return this.shaderNode.nodeType||this.getOutputNode(G).getNodeType(G)}call(G){const{shaderNode:Q,inputNodes:q}=this,W=G.getNodeProperties(Q);if(W.onceOutput)return W.onceOutput;let J=null;if(Q.layout){let F=nodeBuilderFunctionsCacheMap.get(G.constructor);F===void 0&&(F=new WeakMap,nodeBuilderFunctionsCacheMap.set(G.constructor,F));let Y=F.get(Q);Y===void 0&&(Y=nodeObject(G.buildFunctionNode(Q)),F.set(Q,Y)),G.currentFunctionNode!==null&&G.currentFunctionNode.includes.push(Y),J=nodeObject(Y.call(q))}else{const F=Q.jsFunc,Y=q!==null?F(q,G):F(G);J=nodeObject(Y)}return Q.once&&(W.onceOutput=J),J}getOutputNode(G){const Q=G.getNodeProperties(this);return Q.outputNode===null&&(Q.outputNode=this.setupOutput(G)),Q.outputNode}setup(G){return this.getOutputNode(G)}setupOutput(G){return G.addStack(),G.stack.outputNode=this.call(G),G.removeStack()}generate(G,Q){return this.getOutputNode(G).build(G,Q)}}class ShaderNodeInternal extends Node$1{constructor(G,Q){super(Q),this.jsFunc=G,this.layout=null,this.global=!0,this.once=!1}setLayout(G){return this.layout=G,this}call(G=null){return nodeObjects(G),nodeObject(new ShaderCallNodeInternal(this,G))}setup(){return this.call()}}const bools=[!1,!0],uints=[0,1,2,3],ints=[-1,-2],floats=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],boolsCacheMap=new Map;for(const U of bools)boolsCacheMap.set(U,new ConstNode(U));const uintsCacheMap=new Map;for(const U of uints)uintsCacheMap.set(U,new ConstNode(U,"uint"));const intsCacheMap=new Map([...uintsCacheMap].map(U=>new ConstNode(U.value,"int")));for(const U of ints)intsCacheMap.set(U,new ConstNode(U,"int"));const floatsCacheMap=new Map([...intsCacheMap].map(U=>new ConstNode(U.value)));for(const U of floats)floatsCacheMap.set(U,new ConstNode(U));for(const U of floats)floatsCacheMap.set(-U,new ConstNode(-U));const cacheMaps={bool:boolsCacheMap,uint:uintsCacheMap,ints:intsCacheMap,float:floatsCacheMap},constNodesCacheMap=new Map([...boolsCacheMap,...floatsCacheMap]),getConstNode=(U,G)=>constNodesCacheMap.has(U)?constNodesCacheMap.get(U):U.isNode===!0?U:new ConstNode(U,G),safeGetNodeType=U=>{try{return U.getNodeType()}catch{return}},ConvertType=function(U,G=null){return(...Q)=>{if((Q.length===0||!["bool","float","int","uint"].includes(U)&&Q.every(W=>typeof W!="object"))&&(Q=[getValueFromType(U,...Q)]),Q.length===1&&G!==null&&G.has(Q[0]))return nodeObject(G.get(Q[0]));if(Q.length===1){const W=getConstNode(Q[0],U);return safeGetNodeType(W)===U?nodeObject(W):nodeObject(new ConvertNode(W,U))}const q=Q.map(W=>getConstNode(W));return nodeObject(new JoinNode(q,U))}},defined=U=>typeof U=="object"&&U!==null?U.value:U,getConstNodeType=U=>U!=null?U.nodeType||U.convertTo||(typeof U=="string"?U:null):null;function ShaderNode(U,G){return new Proxy(new ShaderNodeInternal(U,G),shaderNodeHandler)}const nodeObject=(U,G=null)=>ShaderNodeObject(U,G),nodeObjects=(U,G=null)=>new ShaderNodeObjects(U,G),nodeArray=(U,G=null)=>new ShaderNodeArray(U,G),nodeProxy=(...U)=>new ShaderNodeProxy(...U),nodeImmutable=(...U)=>new ShaderNodeImmutable(...U),Fn=(U,G)=>{const Q=new ShaderNode(U,G),q=(...W)=>{let J;return nodeObjects(W),W[0]&&W[0].isNode?J=[...W]:J=W[0],Q.call(J)};return q.shaderNode=Q,q.setLayout=W=>(Q.setLayout(W),q),q.once=()=>(Q.once=!0,q),q};addMethodChaining("toGlobal",U=>(U.global=!0,U));const setCurrentStack=U=>{currentStack=U},getCurrentStack=()=>currentStack,If=(...U)=>currentStack.If(...U);function append(U){return currentStack&&currentStack.add(U),U}addMethodChaining("append",append);const color=new ConvertType("color"),float=new ConvertType("float",cacheMaps.float),int$1=new ConvertType("int",cacheMaps.ints),uint=new ConvertType("uint",cacheMaps.uint),bool=new ConvertType("bool",cacheMaps.bool),vec2=new ConvertType("vec2"),ivec2=new ConvertType("ivec2"),uvec2=new ConvertType("uvec2"),bvec2=new ConvertType("bvec2"),vec3=new ConvertType("vec3"),ivec3=new ConvertType("ivec3"),uvec3=new ConvertType("uvec3"),bvec3=new ConvertType("bvec3"),vec4=new ConvertType("vec4"),ivec4=new ConvertType("ivec4"),uvec4=new ConvertType("uvec4"),bvec4=new ConvertType("bvec4"),mat2=new ConvertType("mat2"),mat3=new ConvertType("mat3"),mat4=new ConvertType("mat4");addMethodChaining("toColor",color),addMethodChaining("toFloat",float),addMethodChaining("toInt",int$1),addMethodChaining("toUint",uint),addMethodChaining("toBool",bool),addMethodChaining("toVec2",vec2),addMethodChaining("toIVec2",ivec2),addMethodChaining("toUVec2",uvec2),addMethodChaining("toBVec2",bvec2),addMethodChaining("toVec3",vec3),addMethodChaining("toIVec3",ivec3),addMethodChaining("toUVec3",uvec3),addMethodChaining("toBVec3",bvec3),addMethodChaining("toVec4",vec4),addMethodChaining("toIVec4",ivec4),addMethodChaining("toUVec4",uvec4),addMethodChaining("toBVec4",bvec4),addMethodChaining("toMat2",mat2),addMethodChaining("toMat3",mat3),addMethodChaining("toMat4",mat4);const element=nodeProxy(ArrayElementNode),convert=(U,G)=>nodeObject(new ConvertNode(nodeObject(U),G));addMethodChaining("element",element),addMethodChaining("convert",convert);class UniformGroupNode extends Node$1{static get type(){return"UniformGroupNode"}constructor(G,Q=!1,q=1){super("string"),this.name=G,this.version=0,this.shared=Q,this.order=q,this.isUniformGroup=!0}set needsUpdate(G){G===!0&&this.version++}serialize(G){super.serialize(G),G.name=this.name,G.version=this.version,G.shared=this.shared}deserialize(G){super.deserialize(G),this.name=G.name,this.version=G.version,this.shared=G.shared}}const uniformGroup=U=>new UniformGroupNode(U),sharedUniformGroup=(U,G=0)=>new UniformGroupNode(U,!0,G),frameGroup=sharedUniformGroup("frame"),renderGroup=sharedUniformGroup("render"),objectGroup=uniformGroup("object");class UniformNode extends InputNode{static get type(){return"UniformNode"}constructor(G,Q=null){super(G,Q),this.isUniformNode=!0,this.name="",this.groupNode=objectGroup}label(G){return this.name=G,this}setGroup(G){return this.groupNode=G,this}getGroup(){return this.groupNode}getUniformHash(G){return this.getHash(G)}onUpdate(G,Q){const q=this.getSelf();return G=G.bind(q),super.onUpdate(W=>{const J=G(W,q);J!==void 0&&(this.value=J)},Q)}generate(G,Q){const q=this.getNodeType(G),W=this.getUniformHash(G);let J=G.getNodeFromHash(W);J===void 0&&(G.setHashNode(this,W),J=this);const F=J.getInputType(G),Y=G.getUniformFromNode(J,F,G.shaderStage,this.name||G.context.label),X=G.getPropertyName(Y);return G.context.label!==void 0&&delete G.context.label,G.format(X,q,Q)}}const uniform=(U,G)=>{const Q=getConstNodeType(G||U),q=U&&U.isNode===!0?U.node&&U.node.value||U.value:U;return nodeObject(new UniformNode(q,Q))};class PropertyNode extends Node$1{static get type(){return"PropertyNode"}constructor(G,Q=null,q=!1){super(G),this.name=Q,this.varying=q,this.isPropertyNode=!0}getHash(G){return this.name||super.getHash(G)}isGlobal(){return!0}generate(G){let Q;return this.varying===!0?(Q=G.getVaryingFromNode(this,this.name),Q.needsInterpolation=!0):Q=G.getVarFromNode(this,this.name),G.getPropertyName(Q)}}const property=(U,G)=>nodeObject(new PropertyNode(U,G)),varyingProperty=(U,G)=>nodeObject(new PropertyNode(U,G,!0)),diffuseColor=nodeImmutable(PropertyNode,"vec4","DiffuseColor"),emissive=nodeImmutable(PropertyNode,"vec3","EmissiveColor"),roughness=nodeImmutable(PropertyNode,"float","Roughness"),metalness=nodeImmutable(PropertyNode,"float","Metalness"),clearcoat=nodeImmutable(PropertyNode,"float","Clearcoat"),clearcoatRoughness=nodeImmutable(PropertyNode,"float","ClearcoatRoughness"),sheen=nodeImmutable(PropertyNode,"vec3","Sheen"),sheenRoughness=nodeImmutable(PropertyNode,"float","SheenRoughness"),iridescence=nodeImmutable(PropertyNode,"float","Iridescence"),iridescenceIOR=nodeImmutable(PropertyNode,"float","IridescenceIOR"),iridescenceThickness=nodeImmutable(PropertyNode,"float","IridescenceThickness"),alphaT=nodeImmutable(PropertyNode,"float","AlphaT"),anisotropy=nodeImmutable(PropertyNode,"float","Anisotropy"),anisotropyT=nodeImmutable(PropertyNode,"vec3","AnisotropyT"),anisotropyB=nodeImmutable(PropertyNode,"vec3","AnisotropyB"),specularColor=nodeImmutable(PropertyNode,"color","SpecularColor"),specularF90=nodeImmutable(PropertyNode,"float","SpecularF90"),shininess=nodeImmutable(PropertyNode,"float","Shininess"),output=nodeImmutable(PropertyNode,"vec4","Output"),dashSize=nodeImmutable(PropertyNode,"float","dashSize"),gapSize=nodeImmutable(PropertyNode,"float","gapSize"),ior=nodeImmutable(PropertyNode,"float","IOR"),transmission=nodeImmutable(PropertyNode,"float","Transmission"),thickness=nodeImmutable(PropertyNode,"float","Thickness"),attenuationDistance=nodeImmutable(PropertyNode,"float","AttenuationDistance"),attenuationColor=nodeImmutable(PropertyNode,"color","AttenuationColor"),dispersion=nodeImmutable(PropertyNode,"float","Dispersion");class AssignNode extends TempNode{static get type(){return"AssignNode"}constructor(G,Q){super(),this.targetNode=G,this.sourceNode=Q}hasDependencies(){return!1}getNodeType(G,Q){return Q!=="void"?this.targetNode.getNodeType(G):"void"}needsSplitAssign(G){const{targetNode:Q}=this;if(G.isAvailable("swizzleAssign")===!1&&Q.isSplitNode&&Q.components.length>1){const q=G.getTypeLength(Q.node.getNodeType(G));return vectorComponents.join("").slice(0,q)!==Q.components}return!1}generate(G,Q){const{targetNode:q,sourceNode:W}=this,J=this.needsSplitAssign(G),F=q.getNodeType(G),Y=q.context({assign:!0}).build(G),X=W.build(G,F),te=W.getNodeType(G),re=G.getDataFromNode(this);let ne;if(re.initialized===!0)Q!=="void"&&(ne=Y);else if(J){const ie=G.getVarFromNode(this,null,F),oe=G.getPropertyName(ie);G.addLineFlowCode(`${oe} = ${X}`,this);const ae=q.node.context({assign:!0}).build(G);for(let ue=0;ue<q.components.length;ue++){const ce=q.components[ue];G.addLineFlowCode(`${ae}.${ce} = ${oe}[ ${ue} ]`,this)}Q!=="void"&&(ne=Y)}else ne=`${Y} = ${X}`,(Q==="void"||te==="void")&&(G.addLineFlowCode(ne,this),Q!=="void"&&(ne=Y));return re.initialized=!0,G.format(ne,F,Q)}}const assign$2=nodeProxy(AssignNode);addMethodChaining("assign",assign$2);class FunctionCallNode extends TempNode{static get type(){return"FunctionCallNode"}constructor(G=null,Q={}){super(),this.functionNode=G,this.parameters=Q}setParameters(G){return this.parameters=G,this}getParameters(){return this.parameters}getNodeType(G){return this.functionNode.getNodeType(G)}generate(G){const Q=[],q=this.functionNode,W=q.getInputs(G),J=this.parameters;if(Array.isArray(J))for(let F=0;F<J.length;F++){const Y=W[F],X=J[F];Q.push(X.build(G,Y.type))}else for(const F of W){const Y=J[F.name];if(Y!==void 0)Q.push(Y.build(G,F.type));else throw new Error(`FunctionCallNode: Input '${F.name}' not found in FunctionNode.`)}return`${q.build(G,"property")}( ${Q.join(", ")} )`}}const call$2=(U,...G)=>(G=G.length>1||G[0]&&G[0].isNode===!0?nodeArray(G):nodeObjects(G[0]),nodeObject(new FunctionCallNode(nodeObject(U),G)));addMethodChaining("call",call$2);class OperatorNode extends TempNode{static get type(){return"OperatorNode"}constructor(G,Q,q,...W){if(super(),W.length>0){let J=new OperatorNode(G,Q,q);for(let F=0;F<W.length-1;F++)J=new OperatorNode(G,J,W[F]);Q=J,q=W[W.length-1]}this.op=G,this.aNode=Q,this.bNode=q}getNodeType(G,Q){const q=this.op,W=this.aNode,J=this.bNode,F=W.getNodeType(G),Y=typeof J<"u"?J.getNodeType(G):null;if(F==="void"||Y==="void")return"void";if(q==="%")return F;if(q==="~"||q==="&"||q==="|"||q==="^"||q===">>"||q==="<<")return G.getIntegerType(F);if(q==="!"||q==="=="||q==="&&"||q==="||"||q==="^^")return"bool";if(q==="<"||q===">"||q==="<="||q===">="){const X=Q?G.getTypeLength(Q):Math.max(G.getTypeLength(F),G.getTypeLength(Y));return X>1?`bvec${X}`:"bool"}else return F==="float"&&G.isMatrix(Y)?Y:G.isMatrix(F)&&G.isVector(Y)?G.getVectorFromMatrix(F):G.isVector(F)&&G.isMatrix(Y)?G.getVectorFromMatrix(Y):G.getTypeLength(Y)>G.getTypeLength(F)?Y:F}generate(G,Q){const q=this.op,W=this.aNode,J=this.bNode,F=this.getNodeType(G,Q);let Y=null,X=null;F!=="void"?(Y=W.getNodeType(G),X=typeof J<"u"?J.getNodeType(G):null,q==="<"||q===">"||q==="<="||q===">="||q==="=="?G.isVector(Y)?X=Y:Y!==X&&(Y=X="float"):q===">>"||q==="<<"?(Y=F,X=G.changeComponentType(X,"uint")):G.isMatrix(Y)&&G.isVector(X)?X=G.getVectorFromMatrix(Y):G.isVector(Y)&&G.isMatrix(X)?Y=G.getVectorFromMatrix(X):Y=X=F):Y=X=F;const te=W.build(G,Y),re=typeof J<"u"?J.build(G,X):null,ne=G.getTypeLength(Q),ie=G.getFunctionOperator(q);if(Q!=="void")return q==="<"&&ne>1?G.useComparisonMethod?G.format(`${G.getMethod("lessThan",Q)}( ${te}, ${re} )`,F,Q):G.format(`( ${te} < ${re} )`,F,Q):q==="<="&&ne>1?G.useComparisonMethod?G.format(`${G.getMethod("lessThanEqual",Q)}( ${te}, ${re} )`,F,Q):G.format(`( ${te} <= ${re} )`,F,Q):q===">"&&ne>1?G.useComparisonMethod?G.format(`${G.getMethod("greaterThan",Q)}( ${te}, ${re} )`,F,Q):G.format(`( ${te} > ${re} )`,F,Q):q===">="&&ne>1?G.useComparisonMethod?G.format(`${G.getMethod("greaterThanEqual",Q)}( ${te}, ${re} )`,F,Q):G.format(`( ${te} >= ${re} )`,F,Q):q==="!"||q==="~"?G.format(`(${q}${te})`,Y,Q):ie?G.format(`${ie}( ${te}, ${re} )`,F,Q):G.format(`( ${te} ${q} ${re} )`,F,Q);if(Y!=="void")return ie?G.format(`${ie}( ${te}, ${re} )`,F,Q):G.format(`${te} ${q} ${re}`,F,Q)}serialize(G){super.serialize(G),G.op=this.op}deserialize(G){super.deserialize(G),this.op=G.op}}const add$4=nodeProxy(OperatorNode,"+"),sub=nodeProxy(OperatorNode,"-"),mul=nodeProxy(OperatorNode,"*"),div=nodeProxy(OperatorNode,"/"),modInt=nodeProxy(OperatorNode,"%"),equal$1=nodeProxy(OperatorNode,"=="),notEqual=nodeProxy(OperatorNode,"!="),lessThan=nodeProxy(OperatorNode,"<"),greaterThan=nodeProxy(OperatorNode,">"),lessThanEqual=nodeProxy(OperatorNode,"<="),greaterThanEqual=nodeProxy(OperatorNode,">="),and=nodeProxy(OperatorNode,"&&"),or=nodeProxy(OperatorNode,"||"),not=nodeProxy(OperatorNode,"!"),xor=nodeProxy(OperatorNode,"^^"),bitAnd=nodeProxy(OperatorNode,"&"),bitNot=nodeProxy(OperatorNode,"~"),bitOr=nodeProxy(OperatorNode,"|"),bitXor=nodeProxy(OperatorNode,"^"),shiftLeft=nodeProxy(OperatorNode,"<<"),shiftRight=nodeProxy(OperatorNode,">>");addMethodChaining("add",add$4),addMethodChaining("sub",sub),addMethodChaining("mul",mul),addMethodChaining("div",div),addMethodChaining("modInt",modInt),addMethodChaining("equal",equal$1),addMethodChaining("notEqual",notEqual),addMethodChaining("lessThan",lessThan),addMethodChaining("greaterThan",greaterThan),addMethodChaining("lessThanEqual",lessThanEqual),addMethodChaining("greaterThanEqual",greaterThanEqual),addMethodChaining("and",and),addMethodChaining("or",or),addMethodChaining("not",not),addMethodChaining("xor",xor),addMethodChaining("bitAnd",bitAnd),addMethodChaining("bitNot",bitNot),addMethodChaining("bitOr",bitOr),addMethodChaining("bitXor",bitXor),addMethodChaining("shiftLeft",shiftLeft),addMethodChaining("shiftRight",shiftRight);const remainder=(...U)=>(console.warn("TSL.OperatorNode: .remainder() has been renamed to .modInt()."),modInt(...U));addMethodChaining("remainder",remainder);class MathNode extends TempNode{static get type(){return"MathNode"}constructor(G,Q,q=null,W=null){super(),this.method=G,this.aNode=Q,this.bNode=q,this.cNode=W}getInputType(G){const Q=this.aNode.getNodeType(G),q=this.bNode?this.bNode.getNodeType(G):null,W=this.cNode?this.cNode.getNodeType(G):null,J=G.isMatrix(Q)?0:G.getTypeLength(Q),F=G.isMatrix(q)?0:G.getTypeLength(q),Y=G.isMatrix(W)?0:G.getTypeLength(W);return J>F&&J>Y?Q:F>Y?q:Y>J?W:Q}getNodeType(G){const Q=this.method;return Q===MathNode.LENGTH||Q===MathNode.DISTANCE||Q===MathNode.DOT?"float":Q===MathNode.CROSS?"vec3":Q===MathNode.ALL?"bool":Q===MathNode.EQUALS?G.changeComponentType(this.aNode.getNodeType(G),"bool"):Q===MathNode.MOD?this.aNode.getNodeType(G):this.getInputType(G)}generate(G,Q){const q=this.method,W=this.getNodeType(G),J=this.getInputType(G),F=this.aNode,Y=this.bNode,X=this.cNode,te=G.renderer.isWebGLRenderer===!0;if(q===MathNode.TRANSFORM_DIRECTION){let re=F,ne=Y;G.isMatrix(re.getNodeType(G))?ne=vec4(vec3(ne),0):re=vec4(vec3(re),0);const ie=mul(re,ne).xyz;return normalize$2(ie).build(G,Q)}else{if(q===MathNode.NEGATE)return G.format("( - "+F.build(G,J)+" )",W,Q);if(q===MathNode.ONE_MINUS)return sub(1,F).build(G,Q);if(q===MathNode.RECIPROCAL)return div(1,F).build(G,Q);if(q===MathNode.DIFFERENCE)return abs$1(sub(F,Y)).build(G,Q);{const re=[];return q===MathNode.CROSS||q===MathNode.MOD?re.push(F.build(G,W),Y.build(G,W)):te&&q===MathNode.STEP?re.push(F.build(G,G.getTypeLength(F.getNodeType(G))===1?"float":J),Y.build(G,J)):te&&(q===MathNode.MIN||q===MathNode.MAX)||q===MathNode.MOD?re.push(F.build(G,J),Y.build(G,G.getTypeLength(Y.getNodeType(G))===1?"float":J)):q===MathNode.REFRACT?re.push(F.build(G,J),Y.build(G,J),X.build(G,"float")):q===MathNode.MIX?re.push(F.build(G,J),Y.build(G,J),X.build(G,G.getTypeLength(X.getNodeType(G))===1?"float":J)):(re.push(F.build(G,J)),Y!==null&&re.push(Y.build(G,J)),X!==null&&re.push(X.build(G,J))),G.format(`${G.getMethod(q,W)}( ${re.join(", ")} )`,W,Q)}}}serialize(G){super.serialize(G),G.method=this.method}deserialize(G){super.deserialize(G),this.method=G.method}}MathNode.ALL="all",MathNode.ANY="any",MathNode.EQUALS="equals",MathNode.RADIANS="radians",MathNode.DEGREES="degrees",MathNode.EXP="exp",MathNode.EXP2="exp2",MathNode.LOG="log",MathNode.LOG2="log2",MathNode.SQRT="sqrt",MathNode.INVERSE_SQRT="inversesqrt",MathNode.FLOOR="floor",MathNode.CEIL="ceil",MathNode.NORMALIZE="normalize",MathNode.FRACT="fract",MathNode.SIN="sin",MathNode.COS="cos",MathNode.TAN="tan",MathNode.ASIN="asin",MathNode.ACOS="acos",MathNode.ATAN="atan",MathNode.ABS="abs",MathNode.SIGN="sign",MathNode.LENGTH="length",MathNode.NEGATE="negate",MathNode.ONE_MINUS="oneMinus",MathNode.DFDX="dFdx",MathNode.DFDY="dFdy",MathNode.ROUND="round",MathNode.RECIPROCAL="reciprocal",MathNode.TRUNC="trunc",MathNode.FWIDTH="fwidth",MathNode.BITCAST="bitcast",MathNode.TRANSPOSE="transpose",MathNode.ATAN2="atan2",MathNode.MIN="min",MathNode.MAX="max",MathNode.MOD="mod",MathNode.STEP="step",MathNode.REFLECT="reflect",MathNode.DISTANCE="distance",MathNode.DIFFERENCE="difference",MathNode.DOT="dot",MathNode.CROSS="cross",MathNode.POW="pow",MathNode.TRANSFORM_DIRECTION="transformDirection",MathNode.MIX="mix",MathNode.CLAMP="clamp",MathNode.REFRACT="refract",MathNode.SMOOTHSTEP="smoothstep",MathNode.FACEFORWARD="faceforward";const EPSILON$1=float(1e-6),PI=float(Math.PI),all=nodeProxy(MathNode,MathNode.ALL),any=nodeProxy(MathNode,MathNode.ANY),equals$1=nodeProxy(MathNode,MathNode.EQUALS),radians=nodeProxy(MathNode,MathNode.RADIANS),degrees=nodeProxy(MathNode,MathNode.DEGREES),exp=nodeProxy(MathNode,MathNode.EXP),exp2=nodeProxy(MathNode,MathNode.EXP2),log=nodeProxy(MathNode,MathNode.LOG),log2=nodeProxy(MathNode,MathNode.LOG2),sqrt=nodeProxy(MathNode,MathNode.SQRT),inverseSqrt=nodeProxy(MathNode,MathNode.INVERSE_SQRT),floor$1=nodeProxy(MathNode,MathNode.FLOOR),ceil=nodeProxy(MathNode,MathNode.CEIL),normalize$2=nodeProxy(MathNode,MathNode.NORMALIZE),fract=nodeProxy(MathNode,MathNode.FRACT),sin=nodeProxy(MathNode,MathNode.SIN),cos=nodeProxy(MathNode,MathNode.COS),tan=nodeProxy(MathNode,MathNode.TAN),asin=nodeProxy(MathNode,MathNode.ASIN),acos=nodeProxy(MathNode,MathNode.ACOS),atan=nodeProxy(MathNode,MathNode.ATAN),abs$1=nodeProxy(MathNode,MathNode.ABS),sign$2=nodeProxy(MathNode,MathNode.SIGN),length=nodeProxy(MathNode,MathNode.LENGTH),negate=nodeProxy(MathNode,MathNode.NEGATE),oneMinus=nodeProxy(MathNode,MathNode.ONE_MINUS),dFdx=nodeProxy(MathNode,MathNode.DFDX),dFdy=nodeProxy(MathNode,MathNode.DFDY),round=nodeProxy(MathNode,MathNode.ROUND),reciprocal=nodeProxy(MathNode,MathNode.RECIPROCAL),trunc=nodeProxy(MathNode,MathNode.TRUNC),fwidth=nodeProxy(MathNode,MathNode.FWIDTH);MathNode.BITCAST;const transpose=nodeProxy(MathNode,MathNode.TRANSPOSE),atan2=nodeProxy(MathNode,MathNode.ATAN2),min$1=nodeProxy(MathNode,MathNode.MIN),max$1$1=nodeProxy(MathNode,MathNode.MAX),mod=nodeProxy(MathNode,MathNode.MOD),step=nodeProxy(MathNode,MathNode.STEP),reflect=nodeProxy(MathNode,MathNode.REFLECT),distance=nodeProxy(MathNode,MathNode.DISTANCE),difference=nodeProxy(MathNode,MathNode.DIFFERENCE),dot=nodeProxy(MathNode,MathNode.DOT),cross=nodeProxy(MathNode,MathNode.CROSS),pow=nodeProxy(MathNode,MathNode.POW),pow2=nodeProxy(MathNode,MathNode.POW,2),pow3=nodeProxy(MathNode,MathNode.POW,3),pow4=nodeProxy(MathNode,MathNode.POW,4),transformDirection=nodeProxy(MathNode,MathNode.TRANSFORM_DIRECTION),cbrt=U=>mul(sign$2(U),pow(abs$1(U),1/3)),lengthSq=U=>dot(U,U),mix=nodeProxy(MathNode,MathNode.MIX),clamp=(U,G=0,Q=1)=>nodeObject(new MathNode(MathNode.CLAMP,nodeObject(U),nodeObject(G),nodeObject(Q))),saturate=U=>clamp(U),refract=nodeProxy(MathNode,MathNode.REFRACT),smoothstep=nodeProxy(MathNode,MathNode.SMOOTHSTEP),faceForward=nodeProxy(MathNode,MathNode.FACEFORWARD),rand=Fn(([U])=>{const G=43758.5453,Q=dot(U.xy,vec2(12.9898,78.233)),q=mod(Q,PI);return fract(sin(q).mul(G))}),mixElement=(U,G,Q)=>mix(G,Q,U),smoothstepElement=(U,G,Q)=>smoothstep(G,Q,U);addMethodChaining("all",all),addMethodChaining("any",any),addMethodChaining("equals",equals$1),addMethodChaining("radians",radians),addMethodChaining("degrees",degrees),addMethodChaining("exp",exp),addMethodChaining("exp2",exp2),addMethodChaining("log",log),addMethodChaining("log2",log2),addMethodChaining("sqrt",sqrt),addMethodChaining("inverseSqrt",inverseSqrt),addMethodChaining("floor",floor$1),addMethodChaining("ceil",ceil),addMethodChaining("normalize",normalize$2),addMethodChaining("fract",fract),addMethodChaining("sin",sin),addMethodChaining("cos",cos),addMethodChaining("tan",tan),addMethodChaining("asin",asin),addMethodChaining("acos",acos),addMethodChaining("atan",atan),addMethodChaining("abs",abs$1),addMethodChaining("sign",sign$2),addMethodChaining("length",length),addMethodChaining("lengthSq",lengthSq),addMethodChaining("negate",negate),addMethodChaining("oneMinus",oneMinus),addMethodChaining("dFdx",dFdx),addMethodChaining("dFdy",dFdy),addMethodChaining("round",round),addMethodChaining("reciprocal",reciprocal),addMethodChaining("trunc",trunc),addMethodChaining("fwidth",fwidth),addMethodChaining("atan2",atan2),addMethodChaining("min",min$1),addMethodChaining("max",max$1$1),addMethodChaining("mod",mod),addMethodChaining("step",step),addMethodChaining("reflect",reflect),addMethodChaining("distance",distance),addMethodChaining("dot",dot),addMethodChaining("cross",cross),addMethodChaining("pow",pow),addMethodChaining("pow2",pow2),addMethodChaining("pow3",pow3),addMethodChaining("pow4",pow4),addMethodChaining("transformDirection",transformDirection),addMethodChaining("mix",mixElement),addMethodChaining("clamp",clamp),addMethodChaining("refract",refract),addMethodChaining("smoothstep",smoothstepElement),addMethodChaining("faceForward",faceForward),addMethodChaining("difference",difference),addMethodChaining("saturate",saturate),addMethodChaining("cbrt",cbrt),addMethodChaining("transpose",transpose),addMethodChaining("rand",rand);class ConditionalNode extends Node$1{static get type(){return"ConditionalNode"}constructor(G,Q,q=null){super(),this.condNode=G,this.ifNode=Q,this.elseNode=q}getNodeType(G){const Q=this.ifNode.getNodeType(G);if(this.elseNode!==null){const q=this.elseNode.getNodeType(G);if(G.getTypeLength(q)>G.getTypeLength(Q))return q}return Q}setup(G){const Q=this.condNode.cache(),q=this.ifNode.cache(),W=this.elseNode?this.elseNode.cache():null,J=G.context.nodeBlock;G.getDataFromNode(q).parentNodeBlock=J,W!==null&&(G.getDataFromNode(W).parentNodeBlock=J);const F=G.getNodeProperties(this);F.condNode=Q,F.ifNode=q.context({nodeBlock:q}),F.elseNode=W?W.context({nodeBlock:W}):null}generate(G,Q){const q=this.getNodeType(G),W=G.getDataFromNode(this);if(W.nodeProperty!==void 0)return W.nodeProperty;const{condNode:J,ifNode:F,elseNode:Y}=G.getNodeProperties(this),X=Q!=="void",te=X?property(q).build(G):"";W.nodeProperty=te;const re=J.build(G,"bool");G.addFlowCode(`
${G.tab}if ( ${re} ) {

`).addFlowTab();let ne=F.build(G,q);if(ne&&(X?ne=te+" = "+ne+";":ne="return "+ne+";"),G.removeFlowTab().addFlowCode(G.tab+"	"+ne+`

`+G.tab+"}"),Y!==null){G.addFlowCode(` else {

`).addFlowTab();let ie=Y.build(G,q);ie&&(X?ie=te+" = "+ie+";":ie="return "+ie+";"),G.removeFlowTab().addFlowCode(G.tab+"	"+ie+`

`+G.tab+`}

`)}else G.addFlowCode(`

`);return G.format(te,q,Q)}}const select=nodeProxy(ConditionalNode);addMethodChaining("select",select);const cond=(...U)=>(console.warn("TSL.ConditionalNode: cond() has been renamed to select()."),select(...U));addMethodChaining("cond",cond);class ContextNode extends Node$1{static get type(){return"ContextNode"}constructor(G,Q={}){super(),this.isContextNode=!0,this.node=G,this.value=Q}getScope(){return this.node.getScope()}getNodeType(G){return this.node.getNodeType(G)}analyze(G){this.node.build(G)}setup(G){const Q=G.getContext();G.setContext({...G.context,...this.value});const q=this.node.build(G);return G.setContext(Q),q}generate(G,Q){const q=G.getContext();G.setContext({...G.context,...this.value});const W=this.node.build(G,Q);return G.setContext(q),W}}const context$1=nodeProxy(ContextNode),label=(U,G)=>context$1(U,{label:G});addMethodChaining("context",context$1),addMethodChaining("label",label);class VarNode extends Node$1{static get type(){return"VarNode"}constructor(G,Q=null){super(),this.node=G,this.name=Q,this.global=!0,this.isVarNode=!0}getHash(G){return this.name||super.getHash(G)}getNodeType(G){return this.node.getNodeType(G)}generate(G){const{node:Q,name:q}=this,W=G.getVarFromNode(this,q,G.getVectorType(this.getNodeType(G))),J=G.getPropertyName(W),F=Q.build(G,W.type);return G.addLineFlowCode(`${J} = ${F}`,this),J}}const temp=nodeProxy(VarNode);addMethodChaining("temp",temp),addMethodChaining("toVar",(...U)=>temp(...U).append());class VaryingNode extends Node$1{static get type(){return"VaryingNode"}constructor(G,Q=null){super(),this.node=G,this.name=Q,this.isVaryingNode=!0}isGlobal(){return!0}getHash(G){return this.name||super.getHash(G)}getNodeType(G){return this.node.getNodeType(G)}setupVarying(G){const Q=G.getNodeProperties(this);let q=Q.varying;if(q===void 0){const W=this.name,J=this.getNodeType(G);Q.varying=q=G.getVaryingFromNode(this,W,J),Q.node=this.node}return q.needsInterpolation||(q.needsInterpolation=G.shaderStage==="fragment"),q}setup(G){this.setupVarying(G)}analyze(G){return this.setupVarying(G),this.node.analyze(G)}generate(G){const Q=G.getNodeProperties(this),q=this.setupVarying(G);if(Q.propertyName===void 0){const W=this.getNodeType(G),J=G.getPropertyName(q,NodeShaderStage.VERTEX);G.flowNodeFromShaderStage(NodeShaderStage.VERTEX,this.node,W,J),Q.propertyName=J}return G.getPropertyName(q)}}const varying=nodeProxy(VaryingNode);addMethodChaining("varying",varying);const WORKING_COLOR_SPACE="WorkingColorSpace",OUTPUT_COLOR_SPACE="OutputColorSpace";function getColorSpaceName(U){let G=null;return U===LinearSRGBColorSpace?G="Linear":U===SRGBColorSpace&&(G="sRGB"),G}function getColorSpaceMethod(U,G){return getColorSpaceName(U)+"To"+getColorSpaceName(G)}class ColorSpaceNode extends TempNode{static get type(){return"ColorSpaceNode"}constructor(G,Q,q){super("vec4"),this.colorNode=G,this.source=Q,this.target=q}getColorSpace(G,Q){return Q===WORKING_COLOR_SPACE?ColorManagement.workingColorSpace:Q===OUTPUT_COLOR_SPACE?G.context.outputColorSpace||G.renderer.outputColorSpace:Q}setup(G){const{renderer:Q}=G,{colorNode:q}=this,W=this.getColorSpace(G,this.source),J=this.getColorSpace(G,this.target);if(W===J)return q;const F=getColorSpaceMethod(W,J);let Y=null;const X=Q.nodes.library.getColorSpaceFunction(F);return X!==null?Y=vec4(X(q.rgb),q.a):(console.error("ColorSpaceNode: Unsupported Color Space configuration.",F),Y=q),Y}}const toOutputColorSpace=U=>nodeObject(new ColorSpaceNode(nodeObject(U),WORKING_COLOR_SPACE,OUTPUT_COLOR_SPACE)),toWorkingColorSpace=U=>nodeObject(new ColorSpaceNode(nodeObject(U),OUTPUT_COLOR_SPACE,WORKING_COLOR_SPACE)),workingToColorSpace=(U,G)=>nodeObject(new ColorSpaceNode(nodeObject(U),WORKING_COLOR_SPACE,G)),colorSpaceToWorking=(U,G)=>nodeObject(new ColorSpaceNode(nodeObject(U),G,WORKING_COLOR_SPACE));addMethodChaining("toOutputColorSpace",toOutputColorSpace),addMethodChaining("toWorkingColorSpace",toWorkingColorSpace),addMethodChaining("workingToColorSpace",workingToColorSpace),addMethodChaining("colorSpaceToWorking",colorSpaceToWorking);let ReferenceElementNode$1=class extends ArrayElementNode{static get type(){return"ReferenceElementNode"}constructor(U,G){super(U,G),this.referenceNode=U,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(U){const G=super.generate(U),Q=this.referenceNode.getNodeType(),q=this.getNodeType();return U.format(G,Q,q)}};class ReferenceBaseNode extends Node$1{static get type(){return"ReferenceBaseNode"}constructor(G,Q,q=null,W=null){super(),this.property=G,this.uniformType=Q,this.object=q,this.count=W,this.properties=G.split("."),this.reference=q,this.node=null,this.group=null,this.updateType=NodeUpdateType.OBJECT}setGroup(G){return this.group=G,this}element(G){return nodeObject(new ReferenceElementNode$1(this,nodeObject(G)))}setNodeType(G){const Q=uniform(null,G).getSelf();this.group!==null&&Q.setGroup(this.group),this.node=Q}getNodeType(G){return this.node===null&&(this.updateReference(G),this.updateValue()),this.node.getNodeType(G)}getValueFromReference(G=this.reference){const{properties:Q}=this;let q=G[Q[0]];for(let W=1;W<Q.length;W++)q=q[Q[W]];return q}updateReference(G){return this.reference=this.object!==null?this.object:G.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const G=this.getValueFromReference();Array.isArray(G)?this.node.array=G:this.node.value=G}}const reference$1=(U,G,Q)=>nodeObject(new ReferenceBaseNode(U,G,Q));class RendererReferenceNode extends ReferenceBaseNode{static get type(){return"RendererReferenceNode"}constructor(G,Q,q=null){super(G,Q,q),this.renderer=q,this.setGroup(renderGroup)}updateReference(G){return this.reference=this.renderer!==null?this.renderer:G.renderer,this.reference}}const rendererReference=(U,G,Q)=>nodeObject(new RendererReferenceNode(U,G,Q));class ToneMappingNode extends TempNode{static get type(){return"ToneMappingNode"}constructor(G,Q=toneMappingExposure,q=null){super("vec3"),this.toneMapping=G,this.exposureNode=Q,this.colorNode=q}getCacheKey(){return hash$1(super.getCacheKey(),this.toneMapping)}setup(G){const Q=this.colorNode||G.context.color,q=this.toneMapping;if(q===NoToneMapping)return Q;let W=null;const J=G.renderer.nodes.library.getToneMappingFunction(q);return J!==null?W=vec4(J(Q.rgb,this.exposureNode),Q.a):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",q),W=Q),W}}const toneMapping=(U,G,Q)=>nodeObject(new ToneMappingNode(U,nodeObject(G),nodeObject(Q))),toneMappingExposure=rendererReference("toneMappingExposure","float");addMethodChaining("toneMapping",(U,G,Q)=>toneMapping(G,Q,U));class BufferAttributeNode extends InputNode{static get type(){return"BufferAttributeNode"}constructor(G,Q=null,q=0,W=0){super(G,Q),this.isBufferNode=!0,this.bufferType=Q,this.bufferStride=q,this.bufferOffset=W,this.usage=StaticDrawUsage,this.instanced=!1,this.attribute=null,this.global=!0,G&&G.isBufferAttribute===!0&&(this.attribute=G,this.usage=G.usage,this.instanced=G.isInstancedBufferAttribute)}getHash(G){if(this.bufferStride===0&&this.bufferOffset===0){let Q=G.globalCache.getData(this.value);return Q===void 0&&(Q={node:this},G.globalCache.setData(this.value,Q)),Q.node.uuid}return this.uuid}getNodeType(G){return this.bufferType===null&&(this.bufferType=G.getTypeFromAttribute(this.attribute)),this.bufferType}setup(G){if(this.attribute!==null)return;const Q=this.getNodeType(G),q=this.value,W=G.getTypeLength(Q),J=this.bufferStride||W,F=this.bufferOffset,Y=q.isInterleavedBuffer===!0?q:new InterleavedBuffer(q,J),X=new InterleavedBufferAttribute(Y,W,F);Y.setUsage(this.usage),this.attribute=X,this.attribute.isInstancedBufferAttribute=this.instanced}generate(G){const Q=this.getNodeType(G),q=G.getBufferAttributeFromNode(this,Q),W=G.getPropertyName(q);let J=null;return G.shaderStage==="vertex"||G.shaderStage==="compute"?(this.name=W,J=W):J=varying(this).build(G,Q),J}getInputType(){return"bufferAttribute"}setUsage(G){return this.usage=G,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=G),this}setInstanced(G){return this.instanced=G,this}}const bufferAttribute=(U,G,Q,q)=>nodeObject(new BufferAttributeNode(U,G,Q,q)),dynamicBufferAttribute=(U,G,Q,q)=>bufferAttribute(U,G,Q,q).setUsage(DynamicDrawUsage),instancedBufferAttribute=(U,G,Q,q)=>bufferAttribute(U,G,Q,q).setInstanced(!0),instancedDynamicBufferAttribute=(U,G,Q,q)=>dynamicBufferAttribute(U,G,Q,q).setInstanced(!0);addMethodChaining("toAttribute",U=>bufferAttribute(U.value));class ComputeNode extends Node$1{static get type(){return"ComputeNode"}constructor(G,Q,q=[64]){super("void"),this.isComputeNode=!0,this.computeNode=G,this.count=Q,this.workgroupSize=q,this.dispatchCount=0,this.version=1,this.updateBeforeType=NodeUpdateType.OBJECT,this.updateDispatchCount()}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(G){G===!0&&this.version++}updateDispatchCount(){const{count:G,workgroupSize:Q}=this;let q=Q[0];for(let W=1;W<Q.length;W++)q*=Q[W];this.dispatchCount=Math.ceil(G/q)}onInit(){}updateBefore({renderer:G}){G.compute(this)}generate(G){const{shaderStage:Q}=G;if(Q==="compute"){const q=this.computeNode.build(G,"void");q!==""&&G.addLineFlowCode(q,this)}}}const compute=(U,G,Q)=>nodeObject(new ComputeNode(nodeObject(U),G,Q));addMethodChaining("compute",compute);class CacheNode extends Node$1{static get type(){return"CacheNode"}constructor(G,Q=!0){super(),this.node=G,this.parent=Q,this.isCacheNode=!0}getNodeType(G){return this.node.getNodeType(G)}build(G,...Q){const q=G.getCache(),W=G.getCacheFromNode(this,this.parent);G.setCache(W);const J=this.node.build(G,...Q);return G.setCache(q),J}}const cache=(U,...G)=>nodeObject(new CacheNode(nodeObject(U),...G));addMethodChaining("cache",cache);class BypassNode extends Node$1{static get type(){return"BypassNode"}constructor(G,Q){super(),this.isBypassNode=!0,this.outputNode=G,this.callNode=Q}getNodeType(G){return this.outputNode.getNodeType(G)}generate(G){const Q=this.callNode.build(G,"void");return Q!==""&&G.addLineFlowCode(Q,this),this.outputNode.build(G)}}const bypass=nodeProxy(BypassNode);addMethodChaining("bypass",bypass);class RemapNode extends Node$1{static get type(){return"RemapNode"}constructor(G,Q,q,W=float(0),J=float(1)){super(),this.node=G,this.inLowNode=Q,this.inHighNode=q,this.outLowNode=W,this.outHighNode=J,this.doClamp=!0}setup(){const{node:G,inLowNode:Q,inHighNode:q,outLowNode:W,outHighNode:J,doClamp:F}=this;let Y=G.sub(Q).div(q.sub(Q));return F===!0&&(Y=Y.clamp()),Y.mul(J.sub(W)).add(W)}}const remap=nodeProxy(RemapNode,null,null,{doClamp:!1}),remapClamp=nodeProxy(RemapNode);addMethodChaining("remap",remap),addMethodChaining("remapClamp",remapClamp);class ExpressionNode extends Node$1{static get type(){return"ExpressionNode"}constructor(G="",Q="void"){super(Q),this.snippet=G}generate(G,Q){const q=this.getNodeType(G),W=this.snippet;if(q==="void")G.addLineFlowCode(W,this);else return G.format(`( ${W} )`,q,Q)}}const expression=nodeProxy(ExpressionNode),Discard=U=>(U?select(U,expression("discard")):expression("discard")).append();addMethodChaining("discard",Discard);class RenderOutputNode extends TempNode{static get type(){return"RenderOutputNode"}constructor(G,Q,q){super("vec4"),this.colorNode=G,this.toneMapping=Q,this.outputColorSpace=q,this.isRenderOutput=!0}setup({context:G}){let Q=this.colorNode||G.color;const q=(this.toneMapping!==null?this.toneMapping:G.toneMapping)||NoToneMapping,W=(this.outputColorSpace!==null?this.outputColorSpace:G.outputColorSpace)||NoColorSpace;return q!==NoToneMapping&&(Q=Q.toneMapping(q)),W!==NoColorSpace&&W!==ColorManagement.workingColorSpace&&(Q=Q.workingToColorSpace(W)),Q}}const renderOutput=(U,G=null,Q=null)=>nodeObject(new RenderOutputNode(nodeObject(U),G,Q));addMethodChaining("renderOutput",renderOutput);class AttributeNode extends Node$1{static get type(){return"AttributeNode"}constructor(G,Q=null){super(Q),this.global=!0,this._attributeName=G}getHash(G){return this.getAttributeName(G)}getNodeType(G){let Q=this.nodeType;if(Q===null){const q=this.getAttributeName(G);if(G.hasGeometryAttribute(q)){const W=G.geometry.getAttribute(q);Q=G.getTypeFromAttribute(W)}else Q="float"}return Q}setAttributeName(G){return this._attributeName=G,this}getAttributeName(){return this._attributeName}generate(G){const Q=this.getAttributeName(G),q=this.getNodeType(G);if(G.hasGeometryAttribute(Q)===!0){const W=G.geometry.getAttribute(Q),J=G.getTypeFromAttribute(W),F=G.getAttribute(Q,J);return G.shaderStage==="vertex"?G.format(F.name,J,q):varying(this).build(G,q)}else return console.warn(`AttributeNode: Vertex attribute "${Q}" not found on geometry.`),G.generateConst(q)}serialize(G){super.serialize(G),G.global=this.global,G._attributeName=this._attributeName}deserialize(G){super.deserialize(G),this.global=G.global,this._attributeName=G._attributeName}}const attribute=(U,G)=>nodeObject(new AttributeNode(U,G)),uv=U=>attribute("uv"+(U>0?U:""),"vec2");class TextureSizeNode extends Node$1{static get type(){return"TextureSizeNode"}constructor(G,Q=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=G,this.levelNode=Q}generate(G,Q){const q=this.textureNode.build(G,"property"),W=this.levelNode===null?"0":this.levelNode.build(G,"int");return G.format(`${G.getMethod("textureDimensions")}( ${q}, ${W} )`,this.getNodeType(G),Q)}}const textureSize=nodeProxy(TextureSizeNode);class MaxMipLevelNode extends UniformNode{static get type(){return"MaxMipLevelNode"}constructor(G){super(0),this._textureNode=G,this.updateType=NodeUpdateType.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const G=this.texture,Q=G.images,q=Q&&Q.length>0?Q[0]&&Q[0].image||Q[0]:G.image;if(q&&q.width!==void 0){const{width:W,height:J}=q;this.value=Math.log2(Math.max(W,J))}}}const maxMipLevel=nodeProxy(MaxMipLevelNode);class TextureNode extends UniformNode{static get type(){return"TextureNode"}constructor(G,Q=null,q=null,W=null){super(G),this.isTextureNode=!0,this.uvNode=Q,this.levelNode=q,this.biasNode=W,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=NodeUpdateType.NONE,this.referenceNode=null,this._value=G,this._matrixUniform=null,this.setUpdateMatrix(Q===null)}set value(G){this.referenceNode?this.referenceNode.value=G:this._value=G}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===UnsignedIntType?"uvec4":this.value.type===IntType?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return uv(this.value.channel)}updateReference(){return this.value}getTransformedUV(G){return this._matrixUniform===null&&(this._matrixUniform=uniform(this.value.matrix)),this._matrixUniform.mul(vec3(G,1)).xy}setUpdateMatrix(G){return this.updateMatrix=G,this.updateType=G?NodeUpdateType.FRAME:NodeUpdateType.NONE,this}setupUV(G,Q){const q=this.value;return G.isFlipY()&&(q.isRenderTargetTexture===!0||q.isFramebufferTexture===!0||q.isDepthTexture===!0)&&(this.sampler?Q=Q.flipY():Q=Q.setY(int$1(textureSize(this,this.levelNode).y).sub(Q.y).sub(1))),Q}setup(G){const Q=G.getNodeProperties(this);Q.referenceNode=this.referenceNode;let q=this.uvNode;(q===null||G.context.forceUVContext===!0)&&G.context.getUV&&(q=G.context.getUV(this)),q||(q=this.getDefaultUV()),this.updateMatrix===!0&&(q=this.getTransformedUV(q)),q=this.setupUV(G,q);let W=this.levelNode;W===null&&G.context.getTextureLevel&&(W=G.context.getTextureLevel(this)),Q.uvNode=q,Q.levelNode=W,Q.biasNode=this.biasNode,Q.compareNode=this.compareNode,Q.gradNode=this.gradNode,Q.depthNode=this.depthNode}generateUV(G,Q){return Q.build(G,this.sampler===!0?"vec2":"ivec2")}generateSnippet(G,Q,q,W,J,F,Y,X){const te=this.value;let re;return W?re=G.generateTextureLevel(te,Q,q,W,F):J?re=G.generateTextureBias(te,Q,q,J,F):X?re=G.generateTextureGrad(te,Q,q,X,F):Y?re=G.generateTextureCompare(te,Q,q,Y,F):this.sampler===!1?re=G.generateTextureLoad(te,Q,q,F):re=G.generateTexture(te,Q,q,F),re}generate(G,Q){const q=G.getNodeProperties(this),W=this.value;if(!W||W.isTexture!==!0)throw new Error("TextureNode: Need a three.js texture.");const J=super.generate(G,"property");if(Q==="sampler")return J+"_sampler";if(G.isReference(Q))return J;{const F=G.getDataFromNode(this);let Y=F.propertyName;if(Y===void 0){const{uvNode:re,levelNode:ne,biasNode:ie,compareNode:oe,depthNode:ae,gradNode:ue}=q,ce=this.generateUV(G,re),se=ne?ne.build(G,"float"):null,le=ie?ie.build(G,"float"):null,de=ae?ae.build(G,"int"):null,he=oe?oe.build(G,"float"):null,pe=ue?[ue[0].build(G,"vec2"),ue[1].build(G,"vec2")]:null,ge=G.getVarFromNode(this);Y=G.getPropertyName(ge);const be=this.generateSnippet(G,J,ce,se,le,de,he,pe);G.addLineFlowCode(`${Y} = ${be}`,this),F.snippet=be,F.propertyName=Y}let X=Y;const te=this.getNodeType(G);return G.needsToWorkingColorSpace(W)&&(X=colorSpaceToWorking(expression(X,te),W.colorSpace).setup(G).build(G,te)),G.format(X,te,Q)}}setSampler(G){return this.sampler=G,this}getSampler(){return this.sampler}uv(G){const Q=this.clone();return Q.uvNode=nodeObject(G),Q.referenceNode=this.getSelf(),nodeObject(Q)}blur(G){const Q=this.clone();return Q.biasNode=nodeObject(G).mul(maxMipLevel(Q)),Q.referenceNode=this.getSelf(),nodeObject(Q)}level(G){const Q=this.clone();return Q.levelNode=nodeObject(G),Q.referenceNode=this.getSelf(),nodeObject(Q)}size(G){return textureSize(this,G)}bias(G){const Q=this.clone();return Q.biasNode=nodeObject(G),Q.referenceNode=this.getSelf(),nodeObject(Q)}compare(G){const Q=this.clone();return Q.compareNode=nodeObject(G),Q.referenceNode=this.getSelf(),nodeObject(Q)}grad(G,Q){const q=this.clone();return q.gradNode=[nodeObject(G),nodeObject(Q)],q.referenceNode=this.getSelf(),nodeObject(q)}depth(G){const Q=this.clone();return Q.depthNode=nodeObject(G),Q.referenceNode=this.getSelf(),nodeObject(Q)}serialize(G){super.serialize(G),G.value=this.value.toJSON(G.meta).uuid,G.sampler=this.sampler,G.updateMatrix=this.updateMatrix,G.updateType=this.updateType}deserialize(G){super.deserialize(G),this.value=G.meta.textures[G.value],this.sampler=G.sampler,this.updateMatrix=G.updateMatrix,this.updateType=G.updateType}update(){const G=this.value,Q=this._matrixUniform;Q!==null&&(Q.value=G.matrix),G.matrixAutoUpdate===!0&&G.updateMatrix()}clone(){const G=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return G.sampler=this.sampler,G}}const texture=nodeProxy(TextureNode),textureLoad=(...U)=>texture(...U).setSampler(!1),cameraNear=uniform("float").label("cameraNear").setGroup(renderGroup).onRenderUpdate(({camera:U})=>U.near),cameraFar=uniform("float").label("cameraFar").setGroup(renderGroup).onRenderUpdate(({camera:U})=>U.far),cameraLogDepth=uniform("float").label("cameraLogDepth").setGroup(renderGroup).onRenderUpdate(({camera:U})=>2/(Math.log(U.far+1)/Math.LN2)),cameraProjectionMatrix=uniform("mat4").label("cameraProjectionMatrix").setGroup(renderGroup).onRenderUpdate(({camera:U})=>U.projectionMatrix),cameraViewMatrix=uniform("mat4").label("cameraViewMatrix").setGroup(renderGroup).onRenderUpdate(({camera:U})=>U.matrixWorldInverse),cameraPosition=uniform(new Vector3).label("cameraPosition").setGroup(renderGroup).onRenderUpdate(({camera:U},G)=>G.value.setFromMatrixPosition(U.matrixWorld));class Object3DNode extends Node$1{static get type(){return"Object3DNode"}constructor(G,Q=null){super(),this.scope=G,this.object3d=Q,this.updateType=NodeUpdateType.OBJECT,this._uniformNode=new UniformNode(null)}getNodeType(){const G=this.scope;if(G===Object3DNode.WORLD_MATRIX)return"mat4";if(G===Object3DNode.POSITION||G===Object3DNode.VIEW_POSITION||G===Object3DNode.DIRECTION||G===Object3DNode.SCALE)return"vec3"}update(G){const Q=this.object3d,q=this._uniformNode,W=this.scope;if(W===Object3DNode.WORLD_MATRIX)q.value=Q.matrixWorld;else if(W===Object3DNode.POSITION)q.value=q.value||new Vector3,q.value.setFromMatrixPosition(Q.matrixWorld);else if(W===Object3DNode.SCALE)q.value=q.value||new Vector3,q.value.setFromMatrixScale(Q.matrixWorld);else if(W===Object3DNode.DIRECTION)q.value=q.value||new Vector3,Q.getWorldDirection(q.value);else if(W===Object3DNode.VIEW_POSITION){const J=G.camera;q.value=q.value||new Vector3,q.value.setFromMatrixPosition(Q.matrixWorld),q.value.applyMatrix4(J.matrixWorldInverse)}}generate(G){const Q=this.scope;return Q===Object3DNode.WORLD_MATRIX?this._uniformNode.nodeType="mat4":(Q===Object3DNode.POSITION||Q===Object3DNode.VIEW_POSITION||Q===Object3DNode.DIRECTION||Q===Object3DNode.SCALE)&&(this._uniformNode.nodeType="vec3"),this._uniformNode.build(G)}serialize(G){super.serialize(G),G.scope=this.scope}deserialize(G){super.deserialize(G),this.scope=G.scope}}Object3DNode.WORLD_MATRIX="worldMatrix",Object3DNode.POSITION="position",Object3DNode.SCALE="scale",Object3DNode.VIEW_POSITION="viewPosition",Object3DNode.DIRECTION="direction";class ModelNode extends Object3DNode{static get type(){return"ModelNode"}constructor(G){super(G)}update(G){this.object3d=G.object,super.update(G)}}ModelNode.DIRECTION;const modelWorldMatrix=nodeImmutable(ModelNode,ModelNode.WORLD_MATRIX);ModelNode.POSITION,ModelNode.SCALE,ModelNode.VIEW_POSITION;const modelNormalMatrix=uniform(new Matrix3).onObjectUpdate(({object:U},G)=>G.value.getNormalMatrix(U.matrixWorld)),modelViewMatrix=cameraViewMatrix.mul(modelWorldMatrix).toVar("modelViewMatrix"),positionGeometry=attribute("position","vec3"),positionLocal=positionGeometry.varying("positionLocal"),positionPrevious=positionGeometry.varying("positionPrevious"),positionWorld=modelWorldMatrix.mul(positionLocal).xyz.varying("v_positionWorld"),positionWorldDirection=positionLocal.transformDirection(modelWorldMatrix).varying("v_positionWorldDirection").normalize().toVar("positionWorldDirection"),positionView=modelViewMatrix.mul(positionLocal).xyz.varying("v_positionView"),positionViewDirection=positionView.negate().varying("v_positionViewDirection").normalize().toVar("positionViewDirection");class FrontFacingNode extends Node$1{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(G){const{renderer:Q,material:q}=G;return Q.coordinateSystem===WebGLCoordinateSystem&&q.side===BackSide?"false":G.getFrontFacing()}}const frontFacing=nodeImmutable(FrontFacingNode),faceDirection=float(frontFacing).mul(2).sub(1),normalGeometry=attribute("normal","vec3"),normalLocal=Fn(U=>U.geometry.hasAttribute("normal")===!1?(console.warn('TSL.NormalNode: Vertex attribute "normal" not found on geometry.'),vec3(0,1,0)):normalGeometry,"vec3").once()().toVar("normalLocal"),normalFlat=positionView.dFdx().cross(positionView.dFdy()).normalize().toVar("normalFlat"),normalView=Fn(U=>{let G;return U.material.flatShading===!0?G=normalFlat:G=varying(transformNormalToView(normalLocal),"v_normalView").normalize(),G},"vec3").once()().toVar("normalView"),normalWorld=varying(normalView.transformDirection(cameraViewMatrix),"v_normalWorld").normalize().toVar("normalWorld"),transformedNormalView=Fn(U=>U.context.setupNormal(),"vec3").once()().mul(faceDirection).toVar("transformedNormalView"),transformedNormalWorld=transformedNormalView.transformDirection(cameraViewMatrix).toVar("transformedNormalWorld"),transformedClearcoatNormalView=Fn(U=>U.context.setupClearcoatNormal(),"vec3").once()().mul(faceDirection).toVar("transformedClearcoatNormalView"),transformNormal=Fn(([U,G=modelWorldMatrix])=>{const Q=mat3(G),q=U.div(vec3(Q[0].dot(Q[0]),Q[1].dot(Q[1]),Q[2].dot(Q[2])));return Q.mul(q).xyz}),transformNormalToView=Fn(([U],G)=>{const Q=G.renderer.nodes.modelNormalViewMatrix;if(Q!==null)return Q.transformDirection(U);const q=modelNormalMatrix.mul(U);return cameraViewMatrix.transformDirection(q)}),materialRefractionRatio=uniform(0).onReference(({material:U})=>U).onRenderUpdate(({material:U})=>U.refractionRatio),reflectView=positionViewDirection.negate().reflect(transformedNormalView),refractView=positionViewDirection.negate().refract(transformedNormalView,materialRefractionRatio),reflectVector=reflectView.transformDirection(cameraViewMatrix).toVar("reflectVector"),refractVector=refractView.transformDirection(cameraViewMatrix).toVar("reflectVector");class CubeTextureNode extends TextureNode{static get type(){return"CubeTextureNode"}constructor(G,Q=null,q=null,W=null){super(G,Q,q,W),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){const G=this.value;return G.mapping===CubeReflectionMapping?reflectVector:G.mapping===CubeRefractionMapping?refractVector:(console.error('THREE.CubeTextureNode: Mapping "%s" not supported.',G.mapping),vec3(0,0,0))}setUpdateMatrix(){}setupUV(G,Q){const q=this.value;return G.renderer.coordinateSystem===WebGPUCoordinateSystem||!q.isRenderTargetTexture?vec3(Q.x.negate(),Q.yz):Q}generateUV(G,Q){return Q.build(G,"vec3")}}const cubeTexture=nodeProxy(CubeTextureNode);class BufferNode extends UniformNode{static get type(){return"BufferNode"}constructor(G,Q,q=0){super(G,Q),this.isBufferNode=!0,this.bufferType=Q,this.bufferCount=q}getElementType(G){return this.getNodeType(G)}getInputType(){return"buffer"}}const buffer$1=(U,G,Q)=>nodeObject(new BufferNode(U,G,Q));class UniformArrayElementNode extends ArrayElementNode{static get type(){return"UniformArrayElementNode"}constructor(G,Q){super(G,Q),this.isArrayBufferElementNode=!0}generate(G){const Q=super.generate(G),q=this.getNodeType();return G.format(Q,"vec4",q)}}class UniformArrayNode extends BufferNode{static get type(){return"UniformArrayNode"}constructor(G,Q=null){super(null,"vec4"),this.array=G,this.elementType=Q,this._elementType=null,this._elementLength=0,this.updateType=NodeUpdateType.RENDER,this.isArrayBufferNode=!0}getElementType(){return this.elementType||this._elementType}getElementLength(){return this._elementLength}update(){const{array:G,value:Q}=this,q=this.getElementLength(),W=this.getElementType();if(q===1)for(let J=0;J<G.length;J++){const F=J*4;Q[F]=G[J]}else if(W==="color")for(let J=0;J<G.length;J++){const F=J*4,Y=G[J];Q[F]=Y.r,Q[F+1]=Y.g,Q[F+2]=Y.b||0}else for(let J=0;J<G.length;J++){const F=J*4,Y=G[J];Q[F]=Y.x,Q[F+1]=Y.y,Q[F+2]=Y.z||0,Q[F+3]=Y.w||0}}setup(G){const Q=this.array.length;this._elementType=this.elementType===null?getValueType(this.array[0]):this.elementType,this._elementLength=G.getTypeLength(this._elementType);let q=Float32Array;return this._elementType.charAt(0)==="i"?q=Int32Array:this._elementType.charAt(0)==="u"&&(q=Uint32Array),this.value=new q(Q*4),this.bufferCount=Q,this.bufferType=G.changeComponentType("vec4",G.getComponentType(this._elementType)),super.setup(G)}element(G){return nodeObject(new UniformArrayElementNode(this,nodeObject(G)))}}const uniformArray=(U,G)=>nodeObject(new UniformArrayNode(U,G));class ReferenceElementNode extends ArrayElementNode{static get type(){return"ReferenceElementNode"}constructor(G,Q){super(G,Q),this.referenceNode=G,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(G){const Q=super.generate(G),q=this.referenceNode.getNodeType(),W=this.getNodeType();return G.format(Q,q,W)}}class ReferenceNode extends Node$1{static get type(){return"ReferenceNode"}constructor(G,Q,q=null,W=null){super(),this.property=G,this.uniformType=Q,this.object=q,this.count=W,this.properties=G.split("."),this.reference=q,this.node=null,this.group=null,this.name=null,this.updateType=NodeUpdateType.OBJECT}element(G){return nodeObject(new ReferenceElementNode(this,nodeObject(G)))}setGroup(G){return this.group=G,this}label(G){return this.name=G,this}setNodeType(G){let Q=null;this.count!==null?Q=buffer$1(null,G,this.count):Array.isArray(this.getValueFromReference())?Q=uniformArray(null,G):G==="texture"?Q=texture(null):G==="cubeTexture"?Q=cubeTexture(null):Q=uniform(null,G),this.group!==null&&Q.setGroup(this.group),this.name!==null&&Q.label(this.name),this.node=Q.getSelf()}getNodeType(G){return this.node===null&&(this.updateReference(G),this.updateValue()),this.node.getNodeType(G)}getValueFromReference(G=this.reference){const{properties:Q}=this;let q=G[Q[0]];for(let W=1;W<Q.length;W++)q=q[Q[W]];return q}updateReference(G){return this.reference=this.object!==null?this.object:G.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const G=this.getValueFromReference();Array.isArray(G)?this.node.array=G:this.node.value=G}}const reference=(U,G,Q)=>nodeObject(new ReferenceNode(U,G,Q)),referenceBuffer=(U,G,Q,q)=>nodeObject(new ReferenceNode(U,G,q,Q));class MaterialReferenceNode extends ReferenceNode{static get type(){return"MaterialReferenceNode"}constructor(G,Q,q=null){super(G,Q,q),this.material=q,this.isMaterialReferenceNode=!0}updateReference(G){return this.reference=this.material!==null?this.material:G.material,this.reference}}const materialReference=(U,G,Q)=>nodeObject(new MaterialReferenceNode(U,G,Q)),tangentGeometry=Fn(U=>(U.geometry.hasAttribute("tangent")===!1&&U.geometry.computeTangents(),attribute("tangent","vec4")))(),tangentLocal=tangentGeometry.xyz.toVar("tangentLocal"),tangentView=modelViewMatrix.mul(vec4(tangentLocal,0)).xyz.varying("v_tangentView").normalize().toVar("tangentView"),getBitangent=U=>U.mul(tangentGeometry.w).xyz,bitangentView=varying(getBitangent(normalView.cross(tangentView)),"v_bitangentView").normalize().toVar("bitangentView"),TBNViewMatrix=mat3(tangentView,bitangentView,normalView),transformedBentNormalView=(()=>{let U=anisotropyB.cross(positionViewDirection);return U=U.cross(anisotropyB).normalize(),U=mix(U,transformedNormalView,anisotropy.mul(roughness.oneMinus()).oneMinus().pow2().pow2()).normalize(),U})(),perturbNormal2Arb=Fn(U=>{const{eye_pos:G,surf_norm:Q,mapN:q,uv:W}=U,J=G.dFdx(),F=G.dFdy(),Y=W.dFdx(),X=W.dFdy(),te=Q,re=F.cross(te),ne=te.cross(J),ie=re.mul(Y.x).add(ne.mul(X.x)),oe=re.mul(Y.y).add(ne.mul(X.y)),ae=ie.dot(ie).max(oe.dot(oe)),ue=faceDirection.mul(ae.inverseSqrt());return add$4(ie.mul(q.x,ue),oe.mul(q.y,ue),te.mul(q.z)).normalize()});class NormalMapNode extends TempNode{static get type(){return"NormalMapNode"}constructor(G,Q=null){super("vec3"),this.node=G,this.scaleNode=Q,this.normalMapType=TangentSpaceNormalMap}setup(G){const{normalMapType:Q,scaleNode:q}=this;let W=this.node.mul(2).sub(1);q!==null&&(W=vec3(W.xy.mul(q),W.z));let J=null;return Q===ObjectSpaceNormalMap?J=transformNormalToView(W):Q===TangentSpaceNormalMap&&(G.hasGeometryAttribute("tangent")===!0?J=TBNViewMatrix.mul(W).normalize():J=perturbNormal2Arb({eye_pos:positionView,surf_norm:normalView,mapN:W,uv:uv()})),J}}const normalMap=nodeProxy(NormalMapNode),dHdxy_fwd=Fn(({textureNode:U,bumpScale:G})=>{const Q=W=>U.cache().context({getUV:J=>W(J.uvNode||uv()),forceUVContext:!0}),q=float(Q(W=>W));return vec2(float(Q(W=>W.add(W.dFdx()))).sub(q),float(Q(W=>W.add(W.dFdy()))).sub(q)).mul(G)}),perturbNormalArb=Fn(U=>{const{surf_pos:G,surf_norm:Q,dHdxy:q}=U,W=G.dFdx().normalize(),J=G.dFdy().normalize(),F=Q,Y=J.cross(F),X=F.cross(W),te=W.dot(Y).mul(faceDirection),re=te.sign().mul(q.x.mul(Y).add(q.y.mul(X)));return te.abs().mul(Q).sub(re).normalize()});class BumpMapNode extends TempNode{static get type(){return"BumpMapNode"}constructor(G,Q=null){super("vec3"),this.textureNode=G,this.scaleNode=Q}setup(){const G=this.scaleNode!==null?this.scaleNode:1,Q=dHdxy_fwd({textureNode:this.textureNode,bumpScale:G});return perturbNormalArb({surf_pos:positionView,surf_norm:normalView,dHdxy:Q})}}const bumpMap=nodeProxy(BumpMapNode),_propertyCache=new Map;class MaterialNode extends Node$1{static get type(){return"MaterialNode"}constructor(G){super(),this.scope=G}getCache(G,Q){let q=_propertyCache.get(G);return q===void 0&&(q=materialReference(G,Q),_propertyCache.set(G,q)),q}getFloat(G){return this.getCache(G,"float")}getColor(G){return this.getCache(G,"color")}getTexture(G){return this.getCache(G==="map"?"map":G+"Map","texture")}setup(G){const Q=G.context.material,q=this.scope;let W=null;if(q===MaterialNode.COLOR){const J=Q.color!==void 0?this.getColor(q):vec3();Q.map&&Q.map.isTexture===!0?W=J.mul(this.getTexture("map")):W=J}else if(q===MaterialNode.OPACITY){const J=this.getFloat(q);Q.alphaMap&&Q.alphaMap.isTexture===!0?W=J.mul(this.getTexture("alpha")):W=J}else if(q===MaterialNode.SPECULAR_STRENGTH)Q.specularMap&&Q.specularMap.isTexture===!0?W=this.getTexture("specular").r:W=float(1);else if(q===MaterialNode.SPECULAR_INTENSITY){const J=this.getFloat(q);Q.specularMap?W=J.mul(this.getTexture(q).a):W=J}else if(q===MaterialNode.SPECULAR_COLOR){const J=this.getColor(q);Q.specularColorMap&&Q.specularColorMap.isTexture===!0?W=J.mul(this.getTexture(q).rgb):W=J}else if(q===MaterialNode.ROUGHNESS){const J=this.getFloat(q);Q.roughnessMap&&Q.roughnessMap.isTexture===!0?W=J.mul(this.getTexture(q).g):W=J}else if(q===MaterialNode.METALNESS){const J=this.getFloat(q);Q.metalnessMap&&Q.metalnessMap.isTexture===!0?W=J.mul(this.getTexture(q).b):W=J}else if(q===MaterialNode.EMISSIVE){const J=this.getFloat("emissiveIntensity"),F=this.getColor(q).mul(J);Q.emissiveMap&&Q.emissiveMap.isTexture===!0?W=F.mul(this.getTexture(q)):W=F}else if(q===MaterialNode.NORMAL)Q.normalMap?(W=normalMap(this.getTexture("normal"),this.getCache("normalScale","vec2")),W.normalMapType=Q.normalMapType):Q.bumpMap?W=bumpMap(this.getTexture("bump").r,this.getFloat("bumpScale")):W=normalView;else if(q===MaterialNode.CLEARCOAT){const J=this.getFloat(q);Q.clearcoatMap&&Q.clearcoatMap.isTexture===!0?W=J.mul(this.getTexture(q).r):W=J}else if(q===MaterialNode.CLEARCOAT_ROUGHNESS){const J=this.getFloat(q);Q.clearcoatRoughnessMap&&Q.clearcoatRoughnessMap.isTexture===!0?W=J.mul(this.getTexture(q).r):W=J}else if(q===MaterialNode.CLEARCOAT_NORMAL)Q.clearcoatNormalMap?W=normalMap(this.getTexture(q),this.getCache(q+"Scale","vec2")):W=normalView;else if(q===MaterialNode.SHEEN){const J=this.getColor("sheenColor").mul(this.getFloat("sheen"));Q.sheenColorMap&&Q.sheenColorMap.isTexture===!0?W=J.mul(this.getTexture("sheenColor").rgb):W=J}else if(q===MaterialNode.SHEEN_ROUGHNESS){const J=this.getFloat(q);Q.sheenRoughnessMap&&Q.sheenRoughnessMap.isTexture===!0?W=J.mul(this.getTexture(q).a):W=J,W=W.clamp(.07,1)}else if(q===MaterialNode.ANISOTROPY)if(Q.anisotropyMap&&Q.anisotropyMap.isTexture===!0){const J=this.getTexture(q);W=mat2(materialAnisotropyVector.x,materialAnisotropyVector.y,materialAnisotropyVector.y.negate(),materialAnisotropyVector.x).mul(J.rg.mul(2).sub(vec2(1)).normalize().mul(J.b))}else W=materialAnisotropyVector;else if(q===MaterialNode.IRIDESCENCE_THICKNESS){const J=reference("1","float",Q.iridescenceThicknessRange);if(Q.iridescenceThicknessMap){const F=reference("0","float",Q.iridescenceThicknessRange);W=J.sub(F).mul(this.getTexture(q).g).add(F)}else W=J}else if(q===MaterialNode.TRANSMISSION){const J=this.getFloat(q);Q.transmissionMap?W=J.mul(this.getTexture(q).r):W=J}else if(q===MaterialNode.THICKNESS){const J=this.getFloat(q);Q.thicknessMap?W=J.mul(this.getTexture(q).g):W=J}else if(q===MaterialNode.IOR)W=this.getFloat(q);else if(q===MaterialNode.LIGHT_MAP)W=this.getTexture(q).rgb.mul(this.getFloat("lightMapIntensity"));else if(q===MaterialNode.AO_MAP)W=this.getTexture(q).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else{const J=this.getNodeType(G);W=this.getCache(q,J)}return W}}MaterialNode.ALPHA_TEST="alphaTest",MaterialNode.COLOR="color",MaterialNode.OPACITY="opacity",MaterialNode.SHININESS="shininess",MaterialNode.SPECULAR="specular",MaterialNode.SPECULAR_STRENGTH="specularStrength",MaterialNode.SPECULAR_INTENSITY="specularIntensity",MaterialNode.SPECULAR_COLOR="specularColor",MaterialNode.REFLECTIVITY="reflectivity",MaterialNode.ROUGHNESS="roughness",MaterialNode.METALNESS="metalness",MaterialNode.NORMAL="normal",MaterialNode.CLEARCOAT="clearcoat",MaterialNode.CLEARCOAT_ROUGHNESS="clearcoatRoughness",MaterialNode.CLEARCOAT_NORMAL="clearcoatNormal",MaterialNode.EMISSIVE="emissive",MaterialNode.ROTATION="rotation",MaterialNode.SHEEN="sheen",MaterialNode.SHEEN_ROUGHNESS="sheenRoughness",MaterialNode.ANISOTROPY="anisotropy",MaterialNode.IRIDESCENCE="iridescence",MaterialNode.IRIDESCENCE_IOR="iridescenceIOR",MaterialNode.IRIDESCENCE_THICKNESS="iridescenceThickness",MaterialNode.IOR="ior",MaterialNode.TRANSMISSION="transmission",MaterialNode.THICKNESS="thickness",MaterialNode.ATTENUATION_DISTANCE="attenuationDistance",MaterialNode.ATTENUATION_COLOR="attenuationColor",MaterialNode.LINE_SCALE="scale",MaterialNode.LINE_DASH_SIZE="dashSize",MaterialNode.LINE_GAP_SIZE="gapSize",MaterialNode.LINE_WIDTH="linewidth",MaterialNode.LINE_DASH_OFFSET="dashOffset",MaterialNode.POINT_WIDTH="pointWidth",MaterialNode.DISPERSION="dispersion",MaterialNode.LIGHT_MAP="light",MaterialNode.AO_MAP="ao";const materialAlphaTest=nodeImmutable(MaterialNode,MaterialNode.ALPHA_TEST),materialColor=nodeImmutable(MaterialNode,MaterialNode.COLOR),materialShininess=nodeImmutable(MaterialNode,MaterialNode.SHININESS),materialEmissive=nodeImmutable(MaterialNode,MaterialNode.EMISSIVE),materialOpacity=nodeImmutable(MaterialNode,MaterialNode.OPACITY),materialSpecular=nodeImmutable(MaterialNode,MaterialNode.SPECULAR),materialSpecularIntensity=nodeImmutable(MaterialNode,MaterialNode.SPECULAR_INTENSITY),materialSpecularColor=nodeImmutable(MaterialNode,MaterialNode.SPECULAR_COLOR),materialSpecularStrength=nodeImmutable(MaterialNode,MaterialNode.SPECULAR_STRENGTH),materialReflectivity=nodeImmutable(MaterialNode,MaterialNode.REFLECTIVITY),materialRoughness=nodeImmutable(MaterialNode,MaterialNode.ROUGHNESS),materialMetalness=nodeImmutable(MaterialNode,MaterialNode.METALNESS),materialNormal=nodeImmutable(MaterialNode,MaterialNode.NORMAL).context({getUV:null}),materialClearcoat=nodeImmutable(MaterialNode,MaterialNode.CLEARCOAT),materialClearcoatRoughness=nodeImmutable(MaterialNode,MaterialNode.CLEARCOAT_ROUGHNESS),materialClearcoatNormal=nodeImmutable(MaterialNode,MaterialNode.CLEARCOAT_NORMAL).context({getUV:null}),materialRotation=nodeImmutable(MaterialNode,MaterialNode.ROTATION),materialSheen=nodeImmutable(MaterialNode,MaterialNode.SHEEN),materialSheenRoughness=nodeImmutable(MaterialNode,MaterialNode.SHEEN_ROUGHNESS),materialAnisotropy=nodeImmutable(MaterialNode,MaterialNode.ANISOTROPY),materialIridescence=nodeImmutable(MaterialNode,MaterialNode.IRIDESCENCE),materialIridescenceIOR=nodeImmutable(MaterialNode,MaterialNode.IRIDESCENCE_IOR),materialIridescenceThickness=nodeImmutable(MaterialNode,MaterialNode.IRIDESCENCE_THICKNESS),materialTransmission=nodeImmutable(MaterialNode,MaterialNode.TRANSMISSION),materialThickness=nodeImmutable(MaterialNode,MaterialNode.THICKNESS),materialIOR=nodeImmutable(MaterialNode,MaterialNode.IOR),materialAttenuationDistance=nodeImmutable(MaterialNode,MaterialNode.ATTENUATION_DISTANCE),materialAttenuationColor=nodeImmutable(MaterialNode,MaterialNode.ATTENUATION_COLOR),materialLineScale=nodeImmutable(MaterialNode,MaterialNode.LINE_SCALE),materialLineDashSize=nodeImmutable(MaterialNode,MaterialNode.LINE_DASH_SIZE),materialLineGapSize=nodeImmutable(MaterialNode,MaterialNode.LINE_GAP_SIZE);MaterialNode.LINE_WIDTH,MaterialNode.LINE_DASH_OFFSET,MaterialNode.POINT_WIDTH;const materialDispersion=nodeImmutable(MaterialNode,MaterialNode.DISPERSION),materialLightMap=nodeImmutable(MaterialNode,MaterialNode.LIGHT_MAP),materialAOMap=nodeImmutable(MaterialNode,MaterialNode.AO_MAP),materialAnisotropyVector=uniform(new Vector2).onReference(function(U){return U.material}).onRenderUpdate(function({material:U}){this.value.set(U.anisotropy*Math.cos(U.anisotropyRotation),U.anisotropy*Math.sin(U.anisotropyRotation))});class ModelViewProjectionNode extends TempNode{static get type(){return"ModelViewProjectionNode"}constructor(G=null){super("vec4"),this.positionNode=G}setup(G){if(G.shaderStage==="fragment")return varying(G.context.mvp);const Q=this.positionNode||positionLocal,q=G.renderer.nodes.modelViewMatrix||modelViewMatrix;return cameraProjectionMatrix.mul(q).mul(Q)}}const modelViewProjection=nodeProxy(ModelViewProjectionNode);class IndexNode extends Node$1{static get type(){return"IndexNode"}constructor(G){super("uint"),this.scope=G,this.isInstanceIndexNode=!0}generate(G){const Q=this.getNodeType(G),q=this.scope;let W;if(q===IndexNode.VERTEX)W=G.getVertexIndex();else if(q===IndexNode.INSTANCE)W=G.getInstanceIndex();else if(q===IndexNode.DRAW)W=G.getDrawIndex();else if(q===IndexNode.INVOCATION_LOCAL)W=G.getInvocationLocalIndex();else if(q===IndexNode.INVOCATION_SUBGROUP)W=G.getInvocationSubgroupIndex();else if(q===IndexNode.SUBGROUP)W=G.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+q);let J;return G.shaderStage==="vertex"||G.shaderStage==="compute"?J=W:J=varying(this).build(G,Q),J}}IndexNode.VERTEX="vertex",IndexNode.INSTANCE="instance",IndexNode.SUBGROUP="subgroup",IndexNode.INVOCATION_LOCAL="invocationLocal",IndexNode.INVOCATION_SUBGROUP="invocationSubgroup",IndexNode.DRAW="draw";const vertexIndex=nodeImmutable(IndexNode,IndexNode.VERTEX),instanceIndex=nodeImmutable(IndexNode,IndexNode.INSTANCE);IndexNode.SUBGROUP,IndexNode.INVOCATION_SUBGROUP,IndexNode.INVOCATION_LOCAL;const drawIndex=nodeImmutable(IndexNode,IndexNode.DRAW);class InstanceNode extends Node$1{static get type(){return"InstanceNode"}constructor(G){super("void"),this.instanceMesh=G,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=NodeUpdateType.FRAME,this.buffer=null,this.bufferColor=null}setup(G){let Q=this.instanceMatrixNode,q=this.instanceColorNode;const W=this.instanceMesh;if(Q===null){const Y=W.instanceMatrix;if(W.count<=1e3)Q=buffer$1(Y.array,"mat4",Math.max(W.count,1)).element(instanceIndex);else{const X=new InstancedInterleavedBuffer(Y.array,16,1);this.buffer=X;const te=Y.usage===DynamicDrawUsage?instancedDynamicBufferAttribute:instancedBufferAttribute,re=[te(X,"vec4",16,0),te(X,"vec4",16,4),te(X,"vec4",16,8),te(X,"vec4",16,12)];Q=mat4(...re)}this.instanceMatrixNode=Q}const J=W.instanceColor;if(J&&q===null){const Y=new InstancedBufferAttribute(J.array,3),X=J.usage===DynamicDrawUsage?instancedDynamicBufferAttribute:instancedBufferAttribute;this.bufferColor=Y,q=vec3(X(Y,"vec3",3,0)),this.instanceColorNode=q}const F=Q.mul(positionLocal).xyz;if(positionLocal.assign(F),G.hasGeometryAttribute("normal")){const Y=transformNormal(normalLocal,Q);normalLocal.assign(Y)}this.instanceColorNode!==null&&varyingProperty("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.instanceMesh.instanceMatrix.usage!==DynamicDrawUsage&&this.buffer!=null&&this.instanceMesh.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMesh.instanceMatrix.version),this.instanceMesh.instanceColor&&this.instanceMesh.instanceColor.usage!==DynamicDrawUsage&&this.bufferColor!=null&&this.instanceMesh.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceMesh.instanceColor.version)}}const instance=nodeProxy(InstanceNode);class BatchNode extends Node$1{static get type(){return"BatchNode"}constructor(G){super("void"),this.batchMesh=G,this.batchingIdNode=null}setup(G){this.batchingIdNode===null&&(G.getDrawIndex()===null?this.batchingIdNode=instanceIndex:this.batchingIdNode=drawIndex);const Q=Fn(([oe])=>{const ae=textureSize(textureLoad(this.batchMesh._indirectTexture),0),ue=int$1(oe).modInt(int$1(ae)),ce=int$1(oe).div(int$1(ae));return textureLoad(this.batchMesh._indirectTexture,ivec2(ue,ce)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})(int$1(this.batchingIdNode)),q=this.batchMesh._matricesTexture,W=textureSize(textureLoad(q),0),J=float(Q).mul(4).toInt().toVar(),F=J.modInt(W),Y=J.div(int$1(W)),X=mat4(textureLoad(q,ivec2(F,Y)),textureLoad(q,ivec2(F.add(1),Y)),textureLoad(q,ivec2(F.add(2),Y)),textureLoad(q,ivec2(F.add(3),Y))),te=this.batchMesh._colorsTexture;if(te!==null){const oe=Fn(([ae])=>{const ue=textureSize(textureLoad(te),0).x,ce=ae,se=ce.modInt(ue),le=ce.div(ue);return textureLoad(te,ivec2(se,le)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(Q);varyingProperty("vec3","vBatchColor").assign(oe)}const re=mat3(X);positionLocal.assign(X.mul(positionLocal));const ne=normalLocal.div(vec3(re[0].dot(re[0]),re[1].dot(re[1]),re[2].dot(re[2]))),ie=re.mul(ne).xyz;normalLocal.assign(ie),G.hasGeometryAttribute("tangent")&&tangentLocal.mulAssign(re)}}const batch=nodeProxy(BatchNode),_frameId=new WeakMap;class SkinningNode extends Node$1{static get type(){return"SkinningNode"}constructor(G,Q=!1){super("void"),this.skinnedMesh=G,this.useReference=Q,this.updateType=NodeUpdateType.OBJECT,this.skinIndexNode=attribute("skinIndex","uvec4"),this.skinWeightNode=attribute("skinWeight","vec4");let q,W,J;Q?(q=reference("bindMatrix","mat4"),W=reference("bindMatrixInverse","mat4"),J=referenceBuffer("skeleton.boneMatrices","mat4",G.skeleton.bones.length)):(q=uniform(G.bindMatrix,"mat4"),W=uniform(G.bindMatrixInverse,"mat4"),J=buffer$1(G.skeleton.boneMatrices,"mat4",G.skeleton.bones.length)),this.bindMatrixNode=q,this.bindMatrixInverseNode=W,this.boneMatricesNode=J,this.previousBoneMatricesNode=null}getSkinnedPosition(G=this.boneMatricesNode,Q=positionLocal){const{skinIndexNode:q,skinWeightNode:W,bindMatrixNode:J,bindMatrixInverseNode:F}=this,Y=G.element(q.x),X=G.element(q.y),te=G.element(q.z),re=G.element(q.w),ne=J.mul(Q),ie=add$4(Y.mul(W.x).mul(ne),X.mul(W.y).mul(ne),te.mul(W.z).mul(ne),re.mul(W.w).mul(ne));return F.mul(ie).xyz}getSkinnedNormal(G=this.boneMatricesNode,Q=normalLocal){const{skinIndexNode:q,skinWeightNode:W,bindMatrixNode:J,bindMatrixInverseNode:F}=this,Y=G.element(q.x),X=G.element(q.y),te=G.element(q.z),re=G.element(q.w);let ne=add$4(W.x.mul(Y),W.y.mul(X),W.z.mul(te),W.w.mul(re));return ne=F.mul(ne).mul(J),ne.transformDirection(Q).xyz}getPreviousSkinnedPosition(G){const Q=G.object;return this.previousBoneMatricesNode===null&&(Q.skeleton.previousBoneMatrices=new Float32Array(Q.skeleton.boneMatrices),this.previousBoneMatricesNode=referenceBuffer("skeleton.previousBoneMatrices","mat4",Q.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,positionPrevious)}needsPreviousBoneMatrices(G){const Q=G.renderer.getMRT();return Q&&Q.has("velocity")}setup(G){this.needsPreviousBoneMatrices(G)&&positionPrevious.assign(this.getPreviousSkinnedPosition(G));const Q=this.getSkinnedPosition();if(positionLocal.assign(Q),G.hasGeometryAttribute("normal")){const q=this.getSkinnedNormal();normalLocal.assign(q),G.hasGeometryAttribute("tangent")&&tangentLocal.assign(q)}}generate(G,Q){if(Q!=="void")return positionLocal.build(G,Q)}update(G){const Q=(this.useReference?G.object:this.skinnedMesh).skeleton;_frameId.get(Q)!==G.frameId&&(_frameId.set(Q,G.frameId),this.previousBoneMatricesNode!==null&&Q.previousBoneMatrices.set(Q.boneMatrices),Q.update())}}const skinningReference=U=>nodeObject(new SkinningNode(U,!0));class LoopNode extends Node$1{static get type(){return"LoopNode"}constructor(G=[]){super(),this.params=G}getVarName(G){return String.fromCharCode(105+G)}getProperties(G){const Q=G.getNodeProperties(this);if(Q.stackNode!==void 0)return Q;const q={};for(let J=0,F=this.params.length-1;J<F;J++){const Y=this.params[J],X=Y.isNode!==!0&&Y.name||this.getVarName(J),te=Y.isNode!==!0&&Y.type||"int";q[X]=expression(X,te)}const W=G.addStack();return Q.returnsNode=this.params[this.params.length-1](q,W,G),Q.stackNode=W,G.removeStack(),Q}getNodeType(G){const{returnsNode:Q}=this.getProperties(G);return Q?Q.getNodeType(G):"void"}setup(G){this.getProperties(G)}generate(G){const Q=this.getProperties(G),q=this.params,W=Q.stackNode;for(let Y=0,X=q.length-1;Y<X;Y++){const te=q[Y];let re=null,ne=null,ie=null,oe=null,ae=null,ue=null;te.isNode?(oe="int",ie=this.getVarName(Y),re="0",ne=te.build(G,oe),ae="<"):(oe=te.type||"int",ie=te.name||this.getVarName(Y),re=te.start,ne=te.end,ae=te.condition,ue=te.update,typeof re=="number"?re=re.toString():re&&re.isNode&&(re=re.build(G,oe)),typeof ne=="number"?ne=ne.toString():ne&&ne.isNode&&(ne=ne.build(G,oe)),re!==void 0&&ne===void 0?(re=re+" - 1",ne="0",ae=">="):ne!==void 0&&re===void 0&&(re="0",ae="<"),ae===void 0&&(Number(re)>Number(ne)?ae=">=":ae="<"));const ce={start:re,end:ne,condition:ae},se=ce.start,le=ce.end;let de="",he="",pe="";ue||(oe==="int"||oe==="uint"?ae.includes("<")?ue="++":ue="--":ae.includes("<")?ue="+= 1.":ue="-= 1."),de+=G.getVar(oe,ie)+" = "+se,he+=ie+" "+ae+" "+le,pe+=ie+" "+ue;const ge=`for ( ${de}; ${he}; ${pe} )`;G.addFlowCode((Y===0?`
`:"")+G.tab+ge+` {

`).addFlowTab()}const J=W.build(G,"void"),F=Q.returnsNode?Q.returnsNode.build(G):"";G.removeFlowTab().addFlowCode(`
`+G.tab+J);for(let Y=0,X=this.params.length-1;Y<X;Y++)G.addFlowCode((Y===0?"":G.tab)+`}

`).removeFlowTab();return G.addFlowTab(),F}}const Loop=(...U)=>nodeObject(new LoopNode(nodeArray(U,"int"))).append(),Break=()=>expression("break").append(),_morphTextures=new WeakMap,_morphVec4=new Vector4,getMorph=Fn(({bufferMap:U,influence:G,stride:Q,width:q,depth:W,offset:J})=>{const F=int$1(vertexIndex).mul(Q).add(J),Y=F.div(q),X=F.sub(Y.mul(q));return textureLoad(U,ivec2(X,Y)).depth(W).mul(G)});function getEntry(U){const G=U.morphAttributes.position!==void 0,Q=U.morphAttributes.normal!==void 0,q=U.morphAttributes.color!==void 0,W=U.morphAttributes.position||U.morphAttributes.normal||U.morphAttributes.color,J=W!==void 0?W.length:0;let F=_morphTextures.get(U);if(F===void 0||F.count!==J){let Y=function(){ce.dispose(),_morphTextures.delete(U),U.removeEventListener("dispose",Y)};F!==void 0&&F.texture.dispose();const X=U.morphAttributes.position||[],te=U.morphAttributes.normal||[],re=U.morphAttributes.color||[];let ne=0;G===!0&&(ne=1),Q===!0&&(ne=2),q===!0&&(ne=3);let ie=U.attributes.position.count*ne,oe=1;const ae=4096;ie>ae&&(oe=Math.ceil(ie/ae),ie=ae);const ue=new Float32Array(ie*oe*4*J),ce=new DataArrayTexture(ue,ie,oe,J);ce.type=FloatType,ce.needsUpdate=!0;const se=ne*4;for(let le=0;le<J;le++){const de=X[le],he=te[le],pe=re[le],ge=ie*oe*4*le;for(let be=0;be<de.count;be++){const ve=be*se;G===!0&&(_morphVec4.fromBufferAttribute(de,be),ue[ge+ve+0]=_morphVec4.x,ue[ge+ve+1]=_morphVec4.y,ue[ge+ve+2]=_morphVec4.z,ue[ge+ve+3]=0),Q===!0&&(_morphVec4.fromBufferAttribute(he,be),ue[ge+ve+4]=_morphVec4.x,ue[ge+ve+5]=_morphVec4.y,ue[ge+ve+6]=_morphVec4.z,ue[ge+ve+7]=0),q===!0&&(_morphVec4.fromBufferAttribute(pe,be),ue[ge+ve+8]=_morphVec4.x,ue[ge+ve+9]=_morphVec4.y,ue[ge+ve+10]=_morphVec4.z,ue[ge+ve+11]=pe.itemSize===4?_morphVec4.w:1)}}F={count:J,texture:ce,stride:ne,size:new Vector2(ie,oe)},_morphTextures.set(U,F),U.addEventListener("dispose",Y)}return F}class MorphNode extends Node$1{static get type(){return"MorphNode"}constructor(G){super("void"),this.mesh=G,this.morphBaseInfluence=uniform(1),this.updateType=NodeUpdateType.OBJECT}setup(G){const{geometry:Q}=G,q=Q.morphAttributes.position!==void 0,W=Q.hasAttribute("normal")&&Q.morphAttributes.normal!==void 0,J=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,F=J!==void 0?J.length:0,{texture:Y,stride:X,size:te}=getEntry(Q);q===!0&&positionLocal.mulAssign(this.morphBaseInfluence),W===!0&&normalLocal.mulAssign(this.morphBaseInfluence);const re=int$1(te.width);Loop(F,({i:ne})=>{const ie=float(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?ie.assign(textureLoad(this.mesh.morphTexture,ivec2(int$1(ne).add(1),int$1(instanceIndex))).r):ie.assign(reference("morphTargetInfluences","float").element(ne).toVar()),q===!0&&positionLocal.addAssign(getMorph({bufferMap:Y,influence:ie,stride:X,width:re,depth:ne,offset:int$1(0)})),W===!0&&normalLocal.addAssign(getMorph({bufferMap:Y,influence:ie,stride:X,width:re,depth:ne,offset:int$1(1)}))})}update(){const G=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?G.value=1:G.value=1-this.mesh.morphTargetInfluences.reduce((Q,q)=>Q+q,0)}}const morphReference=nodeProxy(MorphNode),sortLights=U=>U.sort((G,Q)=>G.id-Q.id),getLightNodeById=(U,G)=>{for(const Q of G)if(Q.isAnalyticLightNode&&Q.light.id===U)return Q;return null},_lightsNodeRef=new WeakMap;class LightsNode extends Node$1{static get type(){return"LightsNode"}constructor(G=[]){super("vec3"),this.totalDiffuseNode=vec3().toVar("totalDiffuse"),this.totalSpecularNode=vec3().toVar("totalSpecular"),this.outgoingLightNode=vec3().toVar("outgoingLight"),this._lights=G,this._lightNodes=null,this._lightNodesHash=null,this.global=!0}getHash(G){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(G);const Q=[];for(const q of this._lightNodes)Q.push(q.getHash());this._lightNodesHash="lights-"+Q.join(",")}return this._lightNodesHash}analyze(G){const Q=G.getDataFromNode(this);for(const q of Q.nodes)q.build(G)}setupLightsNode(G){const Q=[],q=this._lightNodes,W=sortLights(this._lights),J=G.renderer.nodes.library;for(const F of W)if(F.isNode)Q.push(nodeObject(F));else{let Y=null;if(q!==null&&(Y=getLightNodeById(F.id,q)),Y===null){const X=J.getLightNodeClass(F.constructor);if(X===null){console.warn(`LightsNode.setupNodeLights: Light node not found for ${F.constructor.name}`);continue}let te=null;_lightsNodeRef.has(F)?te=_lightsNodeRef.get(F):(te=new X(F),_lightsNodeRef.set(F,te)),Q.push(te)}}this._lightNodes=Q}setup(G){this._lightNodes===null&&this.setupLightsNode(G);const Q=G.context,q=Q.lightingModel;let W=this.outgoingLightNode;if(q){const{_lightNodes:J,totalDiffuseNode:F,totalSpecularNode:Y}=this;Q.outgoingLight=W;const X=G.addStack(),te=G.getDataFromNode(this);te.nodes=X.nodes,q.start(Q,X,G);for(const se of J)se.build(G);q.indirect(Q,X,G);const{backdrop:re,backdropAlpha:ne}=Q,{directDiffuse:ie,directSpecular:oe,indirectDiffuse:ae,indirectSpecular:ue}=Q.reflectedLight;let ce=ie.add(ae);re!==null&&(ne!==null?ce=vec3(ne.mix(ce,re)):ce=vec3(re),Q.material.transparent=!0),F.assign(ce),Y.assign(oe.add(ue)),W.assign(F.add(Y)),q.finish(Q,X,G),W=W.bypass(G.removeStack())}return W}setLights(G){return this._lights=G,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}}const lights=nodeProxy(LightsNode);class LightingNode extends Node$1{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}generate(){console.warn("Abstract function.")}}class AONode extends LightingNode{static get type(){return"AONode"}constructor(G=null){super(),this.aoNode=G}setup(G){G.context.ambientOcclusion.mulAssign(this.aoNode)}}class LightingContextNode extends ContextNode{static get type(){return"LightingContextNode"}constructor(G,Q=null,q=null,W=null){super(G),this.lightingModel=Q,this.backdropNode=q,this.backdropAlphaNode=W,this._value=null}getContext(){const{backdropNode:G,backdropAlphaNode:Q}=this,q=vec3().toVar("directDiffuse"),W=vec3().toVar("directSpecular"),J=vec3().toVar("indirectDiffuse"),F=vec3().toVar("indirectSpecular"),Y={directDiffuse:q,directSpecular:W,indirectDiffuse:J,indirectSpecular:F};return{radiance:vec3().toVar("radiance"),irradiance:vec3().toVar("irradiance"),iblIrradiance:vec3().toVar("iblIrradiance"),ambientOcclusion:float(1).toVar("ambientOcclusion"),reflectedLight:Y,backdrop:G,backdropAlpha:Q}}setup(G){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||G.context.lightingModel,super.setup(G)}}const lightingContext=nodeProxy(LightingContextNode);class IrradianceNode extends LightingNode{static get type(){return"IrradianceNode"}constructor(G){super(),this.node=G}setup(G){G.context.irradiance.addAssign(this.node)}}let screenSizeVec,viewportVec;class ScreenNode extends Node$1{static get type(){return"ScreenNode"}constructor(G){super(),this.scope=G,this.isViewportNode=!0}getNodeType(){return this.scope===ScreenNode.VIEWPORT?"vec4":"vec2"}getUpdateType(){let G=NodeUpdateType.NONE;return(this.scope===ScreenNode.SIZE||this.scope===ScreenNode.VIEWPORT)&&(G=NodeUpdateType.RENDER),this.updateType=G,G}update({renderer:G}){const Q=G.getRenderTarget();this.scope===ScreenNode.VIEWPORT?Q!==null?viewportVec.copy(Q.viewport):(G.getViewport(viewportVec),viewportVec.multiplyScalar(G.getPixelRatio())):Q!==null?(screenSizeVec.width=Q.width,screenSizeVec.height=Q.height):G.getDrawingBufferSize(screenSizeVec)}setup(){const G=this.scope;let Q=null;return G===ScreenNode.SIZE?Q=uniform(screenSizeVec||(screenSizeVec=new Vector2)):G===ScreenNode.VIEWPORT?Q=uniform(viewportVec||(viewportVec=new Vector4)):Q=vec2(screenCoordinate.div(screenSize)),Q}generate(G){if(this.scope===ScreenNode.COORDINATE){let Q=G.getFragCoord();if(G.isFlipY()){const q=G.getNodeProperties(screenSize).outputNode.build(G);Q=`${G.getType("vec2")}( ${Q}.x, ${q}.y - ${Q}.y )`}return Q}return super.generate(G)}}ScreenNode.COORDINATE="coordinate",ScreenNode.VIEWPORT="viewport",ScreenNode.SIZE="size",ScreenNode.UV="uv";const screenUV=nodeImmutable(ScreenNode,ScreenNode.UV),screenSize=nodeImmutable(ScreenNode,ScreenNode.SIZE),screenCoordinate=nodeImmutable(ScreenNode,ScreenNode.COORDINATE),viewport$1=nodeImmutable(ScreenNode,ScreenNode.VIEWPORT),viewportSize=viewport$1.zw;viewport$1.xy;const _size$a=new Vector2;class ViewportTextureNode extends TextureNode{static get type(){return"ViewportTextureNode"}constructor(G=screenUV,Q=null,q=null){q===null&&(q=new FramebufferTexture,q.minFilter=LinearMipmapLinearFilter),super(q,G,Q),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=NodeUpdateType.FRAME}updateBefore(G){const Q=G.renderer;Q.getDrawingBufferSize(_size$a);const q=this.value;(q.image.width!==_size$a.width||q.image.height!==_size$a.height)&&(q.image.width=_size$a.width,q.image.height=_size$a.height,q.needsUpdate=!0);const W=q.generateMipmaps;q.generateMipmaps=this.generateMipmaps,Q.copyFramebufferToTexture(q),q.generateMipmaps=W}clone(){const G=new this.constructor(this.uvNode,this.levelNode,this.value);return G.generateMipmaps=this.generateMipmaps,G}}const viewportMipTexture=nodeProxy(ViewportTextureNode,null,null,{generateMipmaps:!0});let sharedDepthbuffer=null;class ViewportDepthTextureNode extends ViewportTextureNode{static get type(){return"ViewportDepthTextureNode"}constructor(G=screenUV,Q=null){sharedDepthbuffer===null&&(sharedDepthbuffer=new DepthTexture),super(G,Q,sharedDepthbuffer)}}const viewportDepthTexture=nodeProxy(ViewportDepthTextureNode);class ViewportDepthNode extends Node$1{static get type(){return"ViewportDepthNode"}constructor(G,Q=null){super("float"),this.scope=G,this.valueNode=Q,this.isViewportDepthNode=!0}generate(G){const{scope:Q}=this;return Q===ViewportDepthNode.DEPTH_BASE?G.getFragDepth():super.generate(G)}setup({camera:G}){const{scope:Q}=this,q=this.valueNode;let W=null;if(Q===ViewportDepthNode.DEPTH_BASE)q!==null&&(W=depthBase().assign(q));else if(Q===ViewportDepthNode.DEPTH)G.isPerspectiveCamera?W=viewZToPerspectiveDepth(positionView.z,cameraNear,cameraFar):W=viewZToOrthographicDepth(positionView.z,cameraNear,cameraFar);else if(Q===ViewportDepthNode.LINEAR_DEPTH)if(q!==null)if(G.isPerspectiveCamera){const J=perspectiveDepthToViewZ(q,cameraNear,cameraFar);W=viewZToOrthographicDepth(J,cameraNear,cameraFar)}else W=q;else W=viewZToOrthographicDepth(positionView.z,cameraNear,cameraFar);return W}}ViewportDepthNode.DEPTH_BASE="depthBase",ViewportDepthNode.DEPTH="depth",ViewportDepthNode.LINEAR_DEPTH="linearDepth";const viewZToOrthographicDepth=(U,G,Q)=>U.add(G).div(G.sub(Q)),viewZToPerspectiveDepth=(U,G,Q)=>G.add(U).mul(Q).div(Q.sub(G).mul(U)),perspectiveDepthToViewZ=(U,G,Q)=>G.mul(Q).div(Q.sub(G).mul(U).sub(Q)),depthBase=nodeProxy(ViewportDepthNode,ViewportDepthNode.DEPTH_BASE),depth=nodeImmutable(ViewportDepthNode,ViewportDepthNode.DEPTH);nodeProxy(ViewportDepthNode,ViewportDepthNode.LINEAR_DEPTH),viewportDepthTexture(),depth.assign=U=>depthBase(U);class ClippingNode extends Node$1{static get type(){return"ClippingNode"}constructor(G=ClippingNode.DEFAULT){super(),this.scope=G}setup(G){super.setup(G);const Q=G.clippingContext,{localClipIntersection:q,localClippingCount:W,globalClippingCount:J}=Q,F=J+W,Y=q?F-W:F;return this.scope===ClippingNode.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(Q.planes,F,Y):this.setupDefault(Q.planes,F,Y)}setupAlphaToCoverage(G,Q,q){return Fn(()=>{const W=uniformArray(G),J=property("float","distanceToPlane"),F=property("float","distanceToGradient"),Y=property("float","clipOpacity");Y.assign(1);let X;if(Loop(q,({i:te})=>{X=W.element(te),J.assign(positionView.dot(X.xyz).negate().add(X.w)),F.assign(J.fwidth().div(2)),Y.mulAssign(smoothstep(F.negate(),F,J)),Y.equal(0).discard()}),q<Q){const te=property("float","unionclipOpacity");te.assign(1),Loop({start:q,end:Q},({i:re})=>{X=W.element(re),J.assign(positionView.dot(X.xyz).negate().add(X.w)),F.assign(J.fwidth().div(2)),te.mulAssign(smoothstep(F.negate(),F,J).oneMinus())}),Y.mulAssign(te.oneMinus())}diffuseColor.a.mulAssign(Y),diffuseColor.a.equal(0).discard()})()}setupDefault(G,Q,q){return Fn(()=>{const W=uniformArray(G);let J;if(Loop(q,({i:F})=>{J=W.element(F),positionView.dot(J.xyz).greaterThan(J.w).discard()}),q<Q){const F=property("bool","clipped");F.assign(!0),Loop({start:q,end:Q},({i:Y})=>{J=W.element(Y),F.assign(positionView.dot(J.xyz).greaterThan(J.w).and(F))}),F.discard()}})()}}ClippingNode.ALPHA_TO_COVERAGE="alphaToCoverage",ClippingNode.DEFAULT="default";const clipping=()=>nodeObject(new ClippingNode),clippingAlpha=()=>nodeObject(new ClippingNode(ClippingNode.ALPHA_TO_COVERAGE));class NodeMaterial extends Material{static get type(){return"NodeMaterial"}constructor(){super(),this.isNodeMaterial=!0,this.type=this.constructor.type,this.forceSinglePass=!1,this.fog=!0,this.lights=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.positionNode=null,this.depthNode=null,this.shadowNode=null,this.shadowPositionNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null}customProgramCacheKey(){return this.type+getCacheKey$1(this)}build(G){this.setup(G)}setupObserver(G){return new NodeMaterialObserver(G)}setup(G){G.context.setupNormal=()=>this.setupNormal(G),G.addStack(),G.stack.outputNode=this.vertexNode||this.setupPosition(G),G.addFlow("vertex",G.removeStack()),G.addStack();let Q;const q=this.setupClipping(G);if(this.depthWrite===!0&&this.setupDepth(G),this.fragmentNode===null){this.setupDiffuseColor(G),this.setupVariants(G);const W=this.setupLighting(G);q!==null&&G.stack.add(q);const J=vec4(W,diffuseColor.a).max(0);if(Q=this.setupOutput(G,J),output.assign(Q),this.outputNode!==null&&(Q=this.outputNode),G.renderer.getRenderTarget()!==null){const F=G.renderer.getMRT(),Y=this.mrtNode;F!==null?(Q=F,Y!==null&&(Q=F.merge(Y))):Y!==null&&(Q=Y)}}else{let W=this.fragmentNode;W.isOutputStructNode!==!0&&(W=vec4(W)),Q=this.setupOutput(G,W)}G.stack.outputNode=Q,G.addFlow("fragment",G.removeStack()),G.monitor=this.setupObserver(G)}setupClipping(G){if(G.clippingContext===null)return null;const{globalClippingCount:Q,localClippingCount:q}=G.clippingContext;let W=null;if(Q||q){const J=G.renderer.samples;this.alphaToCoverage&&J>1?W=clippingAlpha():G.stack.add(clipping())}return W}setupDepth(G){const{renderer:Q}=G;let q=this.depthNode;if(q===null){const W=Q.getMRT();W&&W.has("depth")?q=W.get("depth"):Q.logarithmicDepthBuffer===!0&&(q=modelViewProjection().w.add(1).log2().mul(cameraLogDepth).mul(.5))}q!==null&&depth.assign(q).append()}setupPosition(G){const{object:Q}=G,q=Q.geometry;if(G.addStack(),(q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color)&&morphReference(Q).append(),Q.isSkinnedMesh===!0&&skinningReference(Q).append(),this.displacementMap){const J=materialReference("displacementMap","texture"),F=materialReference("displacementScale","float"),Y=materialReference("displacementBias","float");positionLocal.addAssign(normalLocal.normalize().mul(J.x.mul(F).add(Y)))}Q.isBatchedMesh&&batch(Q).append(),Q.instanceMatrix&&Q.instanceMatrix.isInstancedBufferAttribute===!0&&instance(Q).append(),this.positionNode!==null&&positionLocal.assign(this.positionNode);const W=modelViewProjection();return G.context.vertex=G.removeStack(),G.context.mvp=W,W}setupDiffuseColor({object:G,geometry:Q}){let q=this.colorNode?vec4(this.colorNode):materialColor;this.vertexColors===!0&&Q.hasAttribute("color")&&(q=vec4(q.xyz.mul(attribute("color","vec3")),q.a)),G.instanceColor&&(q=varyingProperty("vec3","vInstanceColor").mul(q)),G.isBatchedMesh&&G._colorsTexture&&(q=varyingProperty("vec3","vBatchColor").mul(q)),diffuseColor.assign(q);const W=this.opacityNode?float(this.opacityNode):materialOpacity;if(diffuseColor.a.assign(diffuseColor.a.mul(W)),this.alphaTestNode!==null||this.alphaTest>0){const J=this.alphaTestNode!==null?float(this.alphaTestNode):materialAlphaTest;diffuseColor.a.lessThanEqual(J).discard()}this.transparent===!1&&this.blending===NormalBlending&&this.alphaToCoverage===!1&&diffuseColor.a.assign(1)}setupVariants(){}setupOutgoingLight(){return this.lights===!0?vec3(0):diffuseColor.rgb}setupNormal(){return this.normalNode?vec3(this.normalNode):materialNormal}setupEnvironment(){let G=null;return this.envNode?G=this.envNode:this.envMap&&(G=this.envMap.isCubeTexture?materialReference("envMap","cubeTexture"):materialReference("envMap","texture")),G}setupLightMap(G){let Q=null;return G.material.lightMap&&(Q=new IrradianceNode(materialLightMap)),Q}setupLights(G){const Q=[],q=this.setupEnvironment(G);q&&q.isLightingNode&&Q.push(q);const W=this.setupLightMap(G);if(W&&W.isLightingNode&&Q.push(W),this.aoNode!==null||G.material.aoMap){const F=this.aoNode!==null?this.aoNode:materialAOMap;Q.push(new AONode(F))}let J=this.lightsNode||G.lightsNode;return Q.length>0&&(J=lights([...J.getLights(),...Q])),J}setupLightingModel(){}setupLighting(G){const{material:Q}=G,{backdropNode:q,backdropAlphaNode:W,emissiveNode:J}=this,F=this.lights===!0||this.lightsNode!==null?this.setupLights(G):null;let Y=this.setupOutgoingLight(G);if(F&&F.getScope().getLights().length>0){const X=this.setupLightingModel(G);Y=lightingContext(F,X,q,W)}else q!==null&&(Y=vec3(W!==null?mix(Y,q,W):q));return(J&&J.isNode===!0||Q.emissive&&Q.emissive.isColor===!0)&&(emissive.assign(vec3(J||materialEmissive)),Y=Y.add(emissive)),Y}setupOutput(G,Q){if(this.fog===!0){const q=G.fogNode;q&&(Q=vec4(q.mix(Q.rgb,q.colorNode),Q.a))}return Q}setDefaultValues(G){for(const q in G){const W=G[q];this[q]===void 0&&(this[q]=W,W&&W.clone&&(this[q]=W.clone()))}const Q=Object.getOwnPropertyDescriptors(G.constructor.prototype);for(const q in Q)Object.getOwnPropertyDescriptor(this.constructor.prototype,q)===void 0&&Q[q].get!==void 0&&Object.defineProperty(this.constructor.prototype,q,Q[q])}toJSON(G){const Q=G===void 0||typeof G=="string";Q&&(G={textures:{},images:{},nodes:{}});const q=Material.prototype.toJSON.call(this,G),W=getNodeChildren(this);q.inputNodes={};for(const{property:F,childNode:Y}of W)q.inputNodes[F]=Y.toJSON(G).uuid;function J(F){const Y=[];for(const X in F){const te=F[X];delete te.metadata,Y.push(te)}return Y}if(Q){const F=J(G.textures),Y=J(G.images),X=J(G.nodes);F.length>0&&(q.textures=F),Y.length>0&&(q.images=Y),X.length>0&&(q.nodes=X)}return q}copy(G){return this.lightsNode=G.lightsNode,this.envNode=G.envNode,this.colorNode=G.colorNode,this.normalNode=G.normalNode,this.opacityNode=G.opacityNode,this.backdropNode=G.backdropNode,this.backdropAlphaNode=G.backdropAlphaNode,this.alphaTestNode=G.alphaTestNode,this.positionNode=G.positionNode,this.depthNode=G.depthNode,this.shadowNode=G.shadowNode,this.shadowPositionNode=G.shadowPositionNode,this.outputNode=G.outputNode,this.mrtNode=G.mrtNode,this.fragmentNode=G.fragmentNode,this.vertexNode=G.vertexNode,super.copy(G)}}const _defaultValues$d=new LineBasicMaterial;class LineBasicNodeMaterial extends NodeMaterial{static get type(){return"LineBasicNodeMaterial"}constructor(G){super(),this.isLineBasicNodeMaterial=!0,this.lights=!1,this.setDefaultValues(_defaultValues$d),this.setValues(G)}}const _defaultValues$c=new LineDashedMaterial;class LineDashedNodeMaterial extends NodeMaterial{static get type(){return"LineDashedNodeMaterial"}constructor(G){super(),this.isLineDashedNodeMaterial=!0,this.lights=!1,this.setDefaultValues(_defaultValues$c),this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(G)}setupVariants(){const G=this.offsetNode,Q=this.dashScaleNode?float(this.dashScaleNode):materialLineScale,q=this.dashSizeNode?float(this.dashSizeNode):materialLineDashSize,W=this.dashSizeNode?float(this.dashGapNode):materialLineGapSize;dashSize.assign(q),gapSize.assign(W);const J=varying(attribute("lineDistance").mul(Q));(G?J.add(G):J).mod(dashSize.add(gapSize)).greaterThan(dashSize).discard()}}const directionToColor=U=>nodeObject(U).mul(.5).add(.5),_defaultValues$a=new MeshNormalMaterial;class MeshNormalNodeMaterial extends NodeMaterial{static get type(){return"MeshNormalNodeMaterial"}constructor(G){super(),this.lights=!1,this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(_defaultValues$a),this.setValues(G)}setupDiffuseColor(){const G=this.opacityNode?float(this.opacityNode):materialOpacity;diffuseColor.assign(vec4(directionToColor(transformedNormalView),G))}}class EquirectUVNode extends TempNode{static get type(){return"EquirectUVNode"}constructor(G=positionWorldDirection){super("vec2"),this.dirNode=G}setup(){const G=this.dirNode,Q=G.z.atan2(G.x).mul(1/(Math.PI*2)).add(.5),q=G.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return vec2(Q,q)}}const equirectUV=nodeProxy(EquirectUVNode);class CubeRenderTarget extends WebGLCubeRenderTarget{constructor(G=1,Q={}){super(G,Q),this.isCubeRenderTarget=!0}fromEquirectangularTexture(G,Q){const q=Q.minFilter,W=Q.generateMipmaps;Q.generateMipmaps=!0,this.texture.type=Q.type,this.texture.colorSpace=Q.colorSpace,this.texture.generateMipmaps=Q.generateMipmaps,this.texture.minFilter=Q.minFilter,this.texture.magFilter=Q.magFilter;const J=new BoxGeometry(5,5,5),F=equirectUV(positionWorldDirection),Y=new NodeMaterial;Y.colorNode=texture(Q,F,0),Y.side=BackSide,Y.blending=NoBlending;const X=new Mesh(J,Y),te=new Scene;te.add(X),Q.minFilter===LinearMipmapLinearFilter&&(Q.minFilter=LinearFilter);const re=new CubeCamera(1,10,this),ne=G.getMRT();return G.setMRT(null),re.update(G,te),G.setMRT(ne),Q.minFilter=q,Q.currentGenerateMipmaps=W,X.geometry.dispose(),X.material.dispose(),this}}const _cache$1=new WeakMap;class CubeMapNode extends TempNode{static get type(){return"CubeMapNode"}constructor(G){super("vec3"),this.envNode=G,this._cubeTexture=null,this._cubeTextureNode=cubeTexture();const Q=new CubeTexture;Q.isRenderTargetTexture=!0,this._defaultTexture=Q,this.updateBeforeType=NodeUpdateType.RENDER}updateBefore(G){const{renderer:Q,material:q}=G,W=this.envNode;if(W.isTextureNode||W.isMaterialReferenceNode){const J=W.isTextureNode?W.value:q[W.property];if(J&&J.isTexture){const F=J.mapping;if(F===EquirectangularReflectionMapping||F===EquirectangularRefractionMapping){if(_cache$1.has(J)){const Y=_cache$1.get(J);mapTextureMapping(Y,J.mapping),this._cubeTexture=Y}else{const Y=J.image;if(isEquirectangularMapReady$1(Y)){const X=new CubeRenderTarget(Y.height);X.fromEquirectangularTexture(Q,J),mapTextureMapping(X.texture,J.mapping),this._cubeTexture=X.texture,_cache$1.set(J,X.texture),J.addEventListener("dispose",onTextureDispose)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(G){return this.updateBefore(G),this._cubeTextureNode}}function isEquirectangularMapReady$1(U){return U==null?!1:U.height>0}function onTextureDispose(U){const G=U.target;G.removeEventListener("dispose",onTextureDispose);const Q=_cache$1.get(G);Q!==void 0&&(_cache$1.delete(G),Q.dispose())}function mapTextureMapping(U,G){G===EquirectangularReflectionMapping?U.mapping=CubeReflectionMapping:G===EquirectangularRefractionMapping&&(U.mapping=CubeRefractionMapping)}const cubeMapNode=nodeProxy(CubeMapNode);class BasicEnvironmentNode extends LightingNode{static get type(){return"BasicEnvironmentNode"}constructor(G=null){super(),this.envNode=G}setup(G){G.context.environment=cubeMapNode(this.envNode)}}class BasicLightMapNode extends LightingNode{static get type(){return"BasicLightMapNode"}constructor(G=null){super(),this.lightMapNode=G}setup(G){const Q=float(1/Math.PI);G.context.irradianceLightMap=this.lightMapNode.mul(Q)}}class LightingModel{start(){}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class BasicLightingModel extends LightingModel{constructor(){super()}indirect(G,Q,q){const W=G.ambientOcclusion,J=G.reflectedLight,F=q.context.irradianceLightMap;J.indirectDiffuse.assign(vec4(0)),F?J.indirectDiffuse.addAssign(F):J.indirectDiffuse.addAssign(vec4(1,1,1,0)),J.indirectDiffuse.mulAssign(W),J.indirectDiffuse.mulAssign(diffuseColor.rgb)}finish(G,Q,q){const W=q.material,J=G.outgoingLight,F=q.context.environment;if(F)switch(W.combine){case MultiplyOperation:J.rgb.assign(mix(J.rgb,J.rgb.mul(F.rgb),materialSpecularStrength.mul(materialReflectivity)));break;case MixOperation:J.rgb.assign(mix(J.rgb,F.rgb,materialSpecularStrength.mul(materialReflectivity)));break;case AddOperation:J.rgb.addAssign(F.rgb.mul(materialSpecularStrength.mul(materialReflectivity)));break;default:console.warn("THREE.BasicLightingModel: Unsupported .combine value:",W.combine);break}}}const _defaultValues$9=new MeshBasicMaterial;class MeshBasicNodeMaterial extends NodeMaterial{static get type(){return"MeshBasicNodeMaterial"}constructor(G){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues(_defaultValues$9),this.setValues(G)}setupNormal(){return normalView}setupEnvironment(G){const Q=super.setupEnvironment(G);return Q?new BasicEnvironmentNode(Q):null}setupLightMap(G){let Q=null;return G.material.lightMap&&(Q=new BasicLightMapNode(materialLightMap)),Q}setupOutgoingLight(){return diffuseColor.rgb}setupLightingModel(){return new BasicLightingModel}}const F_Schlick=Fn(({f0:U,f90:G,dotVH:Q})=>{const q=Q.mul(-5.55473).sub(6.98316).mul(Q).exp2();return U.mul(q.oneMinus()).add(G.mul(q))}),BRDF_Lambert=Fn(U=>U.diffuseColor.mul(1/Math.PI)),G_BlinnPhong_Implicit=()=>float(.25),D_BlinnPhong=Fn(({dotNH:U})=>shininess.mul(float(.5)).add(1).mul(float(1/Math.PI)).mul(U.pow(shininess))),BRDF_BlinnPhong=Fn(({lightDirection:U})=>{const G=U.add(positionViewDirection).normalize(),Q=transformedNormalView.dot(G).clamp(),q=positionViewDirection.dot(G).clamp(),W=F_Schlick({f0:specularColor,f90:1,dotVH:q}),J=G_BlinnPhong_Implicit(),F=D_BlinnPhong({dotNH:Q});return W.mul(J).mul(F)});class PhongLightingModel extends BasicLightingModel{constructor(G=!0){super(),this.specular=G}direct({lightDirection:G,lightColor:Q,reflectedLight:q}){const W=transformedNormalView.dot(G).clamp().mul(Q);q.directDiffuse.addAssign(W.mul(BRDF_Lambert({diffuseColor:diffuseColor.rgb}))),this.specular===!0&&q.directSpecular.addAssign(W.mul(BRDF_BlinnPhong({lightDirection:G})).mul(materialSpecularStrength))}indirect({ambientOcclusion:G,irradiance:Q,reflectedLight:q}){q.indirectDiffuse.addAssign(Q.mul(BRDF_Lambert({diffuseColor}))),q.indirectDiffuse.mulAssign(G)}}const _defaultValues$8=new MeshLambertMaterial;class MeshLambertNodeMaterial extends NodeMaterial{static get type(){return"MeshLambertNodeMaterial"}constructor(G){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(_defaultValues$8),this.setValues(G)}setupEnvironment(G){const Q=super.setupEnvironment(G);return Q?new BasicEnvironmentNode(Q):null}setupLightingModel(){return new PhongLightingModel(!1)}}const _defaultValues$7=new MeshPhongMaterial;class MeshPhongNodeMaterial extends NodeMaterial{static get type(){return"MeshPhongNodeMaterial"}constructor(G){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(_defaultValues$7),this.setValues(G)}setupEnvironment(G){const Q=super.setupEnvironment(G);return Q?new BasicEnvironmentNode(Q):null}setupLightingModel(){return new PhongLightingModel}setupVariants(){const G=(this.shininessNode?float(this.shininessNode):materialShininess).max(1e-4);shininess.assign(G);const Q=this.specularNode||materialSpecular;specularColor.assign(Q)}copy(G){return this.shininessNode=G.shininessNode,this.specularNode=G.specularNode,super.copy(G)}}const getGeometryRoughness=Fn(()=>{const U=normalView.dFdx().abs().max(normalView.dFdy().abs());return U.x.max(U.y).max(U.z)}),getRoughness=Fn(U=>{const{roughness:G}=U,Q=getGeometryRoughness();let q=G.max(.0525);return q=q.add(Q),q=q.min(1),q}),V_GGX_SmithCorrelated=Fn(({alpha:U,dotNL:G,dotNV:Q})=>{const q=U.pow2(),W=G.mul(q.add(q.oneMinus().mul(Q.pow2())).sqrt()),J=Q.mul(q.add(q.oneMinus().mul(G.pow2())).sqrt());return div(.5,W.add(J).max(EPSILON$1))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),V_GGX_SmithCorrelated_Anisotropic=Fn(({alphaT:U,alphaB:G,dotTV:Q,dotBV:q,dotTL:W,dotBL:J,dotNV:F,dotNL:Y})=>{const X=Y.mul(vec3(U.mul(Q),G.mul(q),F).length()),te=F.mul(vec3(U.mul(W),G.mul(J),Y).length());return div(.5,X.add(te)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),D_GGX=Fn(({alpha:U,dotNH:G})=>{const Q=U.pow2(),q=G.pow2().mul(Q.oneMinus()).oneMinus();return Q.div(q.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),RECIPROCAL_PI=float(1/Math.PI),D_GGX_Anisotropic=Fn(({alphaT:U,alphaB:G,dotNH:Q,dotTH:q,dotBH:W})=>{const J=U.mul(G),F=vec3(G.mul(q),U.mul(W),J.mul(Q)),Y=F.dot(F),X=J.div(Y);return RECIPROCAL_PI.mul(J.mul(X.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),BRDF_GGX=Fn(U=>{const{lightDirection:G,f0:Q,f90:q,roughness:W,f:J,USE_IRIDESCENCE:F,USE_ANISOTROPY:Y}=U,X=U.normalView||transformedNormalView,te=W.pow2(),re=G.add(positionViewDirection).normalize(),ne=X.dot(G).clamp(),ie=X.dot(positionViewDirection).clamp(),oe=X.dot(re).clamp(),ae=positionViewDirection.dot(re).clamp();let ue=F_Schlick({f0:Q,f90:q,dotVH:ae}),ce,se;if(defined(F)&&(ue=iridescence.mix(ue,J)),defined(Y)){const le=anisotropyT.dot(G),de=anisotropyT.dot(positionViewDirection),he=anisotropyT.dot(re),pe=anisotropyB.dot(G),ge=anisotropyB.dot(positionViewDirection),be=anisotropyB.dot(re);ce=V_GGX_SmithCorrelated_Anisotropic({alphaT,alphaB:te,dotTV:de,dotBV:ge,dotTL:le,dotBL:pe,dotNV:ie,dotNL:ne}),se=D_GGX_Anisotropic({alphaT,alphaB:te,dotNH:oe,dotTH:he,dotBH:be})}else ce=V_GGX_SmithCorrelated({alpha:te,dotNL:ne,dotNV:ie}),se=D_GGX({alpha:te,dotNH:oe});return ue.mul(ce).mul(se)}),DFGApprox=Fn(({roughness:U,dotNV:G})=>{const Q=vec4(-1,-.0275,-.572,.022),q=vec4(1,.0425,1.04,-.04),W=U.mul(Q).add(q),J=W.x.mul(W.x).min(G.mul(-9.28).exp2()).mul(W.x).add(W.y);return vec2(-1.04,1.04).mul(J).add(W.zw)}).setLayout({name:"DFGApprox",type:"vec2",inputs:[{name:"roughness",type:"float"},{name:"dotNV",type:"vec3"}]}),EnvironmentBRDF=Fn(U=>{const{dotNV:G,specularColor:Q,specularF90:q,roughness:W}=U,J=DFGApprox({dotNV:G,roughness:W});return Q.mul(J.x).add(q.mul(J.y))}),Schlick_to_F0=Fn(({f:U,f90:G,dotVH:Q})=>{const q=Q.oneMinus().saturate(),W=q.mul(q),J=q.mul(W,W).clamp(0,.9999);return U.sub(vec3(G).mul(J)).div(J.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),D_Charlie=Fn(({roughness:U,dotNH:G})=>{const Q=U.pow2(),q=float(1).div(Q),W=G.pow2().oneMinus().max(.0078125);return float(2).add(q).mul(W.pow(q.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),V_Neubelt=Fn(({dotNV:U,dotNL:G})=>float(1).div(float(4).mul(G.add(U).sub(G.mul(U))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),BRDF_Sheen=Fn(({lightDirection:U})=>{const G=U.add(positionViewDirection).normalize(),Q=transformedNormalView.dot(U).clamp(),q=transformedNormalView.dot(positionViewDirection).clamp(),W=transformedNormalView.dot(G).clamp(),J=D_Charlie({roughness:sheenRoughness,dotNH:W}),F=V_Neubelt({dotNV:q,dotNL:Q});return sheen.mul(J).mul(F)}),LTC_Uv=Fn(({N:U,V:G,roughness:Q})=>{const q=.0078125,W=U.dot(G).saturate(),J=vec2(Q,W.oneMinus().sqrt());return J.assign(J.mul(.984375).add(q)),J}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),LTC_ClippedSphereFormFactor=Fn(({f:U})=>{const G=U.length();return max$1$1(G.mul(G).add(U.z).div(G.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),LTC_EdgeVectorFormFactor=Fn(({v1:U,v2:G})=>{const Q=U.dot(G),q=Q.abs().toVar(),W=q.mul(.0145206).add(.4965155).mul(q).add(.8543985).toVar(),J=q.add(4.1616724).mul(q).add(3.417594).toVar(),F=W.div(J),Y=Q.greaterThan(0).select(F,max$1$1(Q.mul(Q).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(F));return U.cross(G).mul(Y)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),LTC_Evaluate=Fn(({N:U,V:G,P:Q,mInv:q,p0:W,p1:J,p2:F,p3:Y})=>{const X=J.sub(W).toVar(),te=Y.sub(W).toVar(),re=X.cross(te),ne=vec3().toVar();return If(re.dot(Q.sub(W)).greaterThanEqual(0),()=>{const ie=G.sub(U.mul(G.dot(U))).normalize(),oe=U.cross(ie).negate(),ae=q.mul(mat3(ie,oe,U).transpose()).toVar(),ue=ae.mul(W.sub(Q)).normalize().toVar(),ce=ae.mul(J.sub(Q)).normalize().toVar(),se=ae.mul(F.sub(Q)).normalize().toVar(),le=ae.mul(Y.sub(Q)).normalize().toVar(),de=vec3(0).toVar();de.addAssign(LTC_EdgeVectorFormFactor({v1:ue,v2:ce})),de.addAssign(LTC_EdgeVectorFormFactor({v1:ce,v2:se})),de.addAssign(LTC_EdgeVectorFormFactor({v1:se,v2:le})),de.addAssign(LTC_EdgeVectorFormFactor({v1:le,v2:ue})),ne.assign(vec3(LTC_ClippedSphereFormFactor({f:de})))}),ne}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),bC=1/6,w0=U=>mul(bC,mul(U,mul(U,U.negate().add(3)).sub(3)).add(1)),w1=U=>mul(bC,mul(U,mul(U,mul(3,U).sub(6))).add(4)),w2=U=>mul(bC,mul(U,mul(U,mul(-3,U).add(3)).add(3)).add(1)),w3=U=>mul(bC,pow(U,3)),g0=U=>w0(U).add(w1(U)),g1=U=>w2(U).add(w3(U)),h0=U=>add$4(-1,w1(U).div(w0(U).add(w1(U)))),h1=U=>add$4(1,w3(U).div(w2(U).add(w3(U)))),bicubic=(U,G,Q)=>{const q=U.uvNode,W=mul(q,G.zw).add(.5),J=floor$1(W),F=fract(W),Y=g0(F.x),X=g1(F.x),te=h0(F.x),re=h1(F.x),ne=h0(F.y),ie=h1(F.y),oe=vec2(J.x.add(te),J.y.add(ne)).sub(.5).mul(G.xy),ae=vec2(J.x.add(re),J.y.add(ne)).sub(.5).mul(G.xy),ue=vec2(J.x.add(te),J.y.add(ie)).sub(.5).mul(G.xy),ce=vec2(J.x.add(re),J.y.add(ie)).sub(.5).mul(G.xy),se=g0(F.y).mul(add$4(Y.mul(U.uv(oe).level(Q)),X.mul(U.uv(ae).level(Q)))),le=g1(F.y).mul(add$4(Y.mul(U.uv(ue).level(Q)),X.mul(U.uv(ce).level(Q))));return se.add(le)},textureBicubic=Fn(([U,G=float(3)])=>{const Q=vec2(U.size(int$1(G))),q=vec2(U.size(int$1(G.add(1)))),W=div(1,Q),J=div(1,q),F=bicubic(U,vec4(W,Q),floor$1(G)),Y=bicubic(U,vec4(J,q),ceil(G));return fract(G).mix(F,Y)}),getVolumeTransmissionRay=Fn(([U,G,Q,q,W])=>{const J=vec3(refract(G.negate(),normalize$2(U),div(1,q))),F=vec3(length(W[0].xyz),length(W[1].xyz),length(W[2].xyz));return normalize$2(J).mul(Q.mul(F))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),applyIorToRoughness=Fn(([U,G])=>U.mul(clamp(G.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),singleViewportMipTexture=viewportMipTexture(),getTransmissionSample=Fn(([U,G,Q])=>{const q=singleViewportMipTexture.uv(U),W=log2(float(screenSize.x)).mul(applyIorToRoughness(G,Q));return textureBicubic(q,W)}),volumeAttenuation=Fn(([U,G,Q])=>(If(Q.notEqual(0),()=>{const q=log(G).negate().div(Q);return exp(q.negate().mul(U))}),vec3(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),getIBLVolumeRefraction=Fn(([U,G,Q,q,W,J,F,Y,X,te,re,ne,ie,oe,ae])=>{let ue,ce;if(ae){ue=vec4().toVar(),ce=vec3().toVar();const pe=re.sub(1).mul(ae.mul(.025)),ge=vec3(re.sub(pe),re,re.add(pe));Loop({start:0,end:3},({i:be})=>{const ve=ge.element(be),Ee=getVolumeTransmissionRay(U,G,ne,ve,Y),ke=F.add(Ee),Pe=te.mul(X.mul(vec4(ke,1))),Te=vec2(Pe.xy.div(Pe.w)).toVar();Te.addAssign(1),Te.divAssign(2),Te.assign(vec2(Te.x,Te.y.oneMinus()));const xe=getTransmissionSample(Te,Q,ve);ue.element(be).assign(xe.element(be)),ue.a.addAssign(xe.a),ce.element(be).assign(q.element(be).mul(volumeAttenuation(length(Ee),ie,oe).element(be)))}),ue.a.divAssign(3)}else{const pe=getVolumeTransmissionRay(U,G,ne,re,Y),ge=F.add(pe),be=te.mul(X.mul(vec4(ge,1))),ve=vec2(be.xy.div(be.w)).toVar();ve.addAssign(1),ve.divAssign(2),ve.assign(vec2(ve.x,ve.y.oneMinus())),ue=getTransmissionSample(ve,Q,re),ce=q.mul(volumeAttenuation(length(pe),ie,oe))}const se=ce.rgb.mul(ue.rgb),le=U.dot(G).clamp(),de=vec3(EnvironmentBRDF({dotNV:le,specularColor:W,specularF90:J,roughness:Q})),he=ce.r.add(ce.g,ce.b).div(3);return vec4(de.oneMinus().mul(se),ue.a.oneMinus().mul(he).oneMinus())}),XYZ_TO_REC709=mat3(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),Fresnel0ToIor=U=>{const G=U.sqrt();return vec3(1).add(G).div(vec3(1).sub(G))},IorToFresnel0=(U,G)=>U.sub(G).div(U.add(G)).pow2(),evalSensitivity=(U,G)=>{const Q=U.mul(2*Math.PI*1e-9),q=vec3(54856e-17,44201e-17,52481e-17),W=vec3(1681e3,1795300,2208400),J=vec3(43278e5,93046e5,66121e5),F=float(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(Q.mul(2239900).add(G.x).cos()).mul(Q.pow2().mul(-45282e5).exp());let Y=q.mul(J.mul(2*Math.PI).sqrt()).mul(W.mul(Q).add(G).cos()).mul(Q.pow2().negate().mul(J).exp());return Y=vec3(Y.x.add(F),Y.y,Y.z).div(10685e-11),XYZ_TO_REC709.mul(Y)},evalIridescence=Fn(({outsideIOR:U,eta2:G,cosTheta1:Q,thinFilmThickness:q,baseF0:W})=>{const J=mix(U,G,smoothstep(0,.03,q)),F=U.div(J).pow2().mul(float(1).sub(Q.pow2())),Y=float(1).sub(F).sqrt(),X=IorToFresnel0(J,U),te=F_Schlick({f0:X,f90:1,dotVH:Q}),re=te.oneMinus(),ne=J.lessThan(U).select(Math.PI,0),ie=float(Math.PI).sub(ne),oe=Fresnel0ToIor(W.clamp(0,.9999)),ae=IorToFresnel0(oe,J.toVec3()),ue=F_Schlick({f0:ae,f90:1,dotVH:Y}),ce=vec3(oe.x.lessThan(J).select(Math.PI,0),oe.y.lessThan(J).select(Math.PI,0),oe.z.lessThan(J).select(Math.PI,0)),se=J.mul(q,Y,2),le=vec3(ie).add(ce),de=te.mul(ue).clamp(1e-5,.9999),he=de.sqrt(),pe=re.pow2().mul(ue).div(vec3(1).sub(de));let ge=te.add(pe),be=pe.sub(re);for(let ve=1;ve<=2;++ve){be=be.mul(he);const Ee=evalSensitivity(float(ve).mul(se),float(ve).mul(le)).mul(2);ge=ge.add(be.mul(Ee))}return ge.max(vec3(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),IBLSheenBRDF=Fn(({normal:U,viewDir:G,roughness:Q})=>{const q=U.dot(G).saturate(),W=Q.pow2(),J=select(Q.lessThan(.25),float(-339.2).mul(W).add(float(161.4).mul(Q)).sub(25.9),float(-8.48).mul(W).add(float(14.3).mul(Q)).sub(9.95)),F=select(Q.lessThan(.25),float(44).mul(W).sub(float(23.7).mul(Q)).add(3.26),float(1.97).mul(W).sub(float(3.27).mul(Q)).add(.72));return select(Q.lessThan(.25),0,float(.1).mul(Q).sub(.025)).add(J.mul(q).add(F).exp()).mul(1/Math.PI).saturate()}),clearcoatF0=vec3(.04),clearcoatF90=float(1);class PhysicalLightingModel extends LightingModel{constructor(G=!1,Q=!1,q=!1,W=!1,J=!1,F=!1){super(),this.clearcoat=G,this.sheen=Q,this.iridescence=q,this.anisotropy=W,this.transmission=J,this.dispersion=F,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(G){if(this.clearcoat===!0&&(this.clearcoatRadiance=vec3().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=vec3().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=vec3().toVar("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=vec3().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=vec3().toVar("sheenSpecularIndirect")),this.iridescence===!0){const Q=transformedNormalView.dot(positionViewDirection).clamp();this.iridescenceFresnel=evalIridescence({outsideIOR:float(1),eta2:iridescenceIOR,cosTheta1:Q,thinFilmThickness:iridescenceThickness,baseF0:specularColor}),this.iridescenceF0=Schlick_to_F0({f:this.iridescenceFresnel,f90:1,dotVH:Q})}if(this.transmission===!0){const Q=positionWorld,q=cameraPosition.sub(positionWorld).normalize(),W=transformedNormalWorld;G.backdrop=getIBLVolumeRefraction(W,q,roughness,diffuseColor,specularColor,specularF90,Q,modelWorldMatrix,cameraViewMatrix,cameraProjectionMatrix,ior,thickness,attenuationColor,attenuationDistance,this.dispersion?dispersion:null),G.backdropAlpha=transmission,diffuseColor.a.mulAssign(mix(1,G.backdrop.a,transmission))}}computeMultiscattering(G,Q,q){const W=transformedNormalView.dot(positionViewDirection).clamp(),J=DFGApprox({roughness,dotNV:W}),F=(this.iridescenceF0?iridescence.mix(specularColor,this.iridescenceF0):specularColor).mul(J.x).add(q.mul(J.y)),Y=J.x.add(J.y).oneMinus(),X=specularColor.add(specularColor.oneMinus().mul(.047619)),te=F.mul(X).div(Y.mul(X).oneMinus());G.addAssign(F),Q.addAssign(te.mul(Y))}direct({lightDirection:G,lightColor:Q,reflectedLight:q}){const W=transformedNormalView.dot(G).clamp().mul(Q);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(W.mul(BRDF_Sheen({lightDirection:G}))),this.clearcoat===!0){const J=transformedClearcoatNormalView.dot(G).clamp().mul(Q);this.clearcoatSpecularDirect.addAssign(J.mul(BRDF_GGX({lightDirection:G,f0:clearcoatF0,f90:clearcoatF90,roughness:clearcoatRoughness,normalView:transformedClearcoatNormalView})))}q.directDiffuse.addAssign(W.mul(BRDF_Lambert({diffuseColor:diffuseColor.rgb}))),q.directSpecular.addAssign(W.mul(BRDF_GGX({lightDirection:G,f0:specularColor,f90:1,roughness,iridescence:this.iridescence,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:G,lightPosition:Q,halfWidth:q,halfHeight:W,reflectedLight:J,ltc_1:F,ltc_2:Y}){const X=Q.add(q).sub(W),te=Q.sub(q).sub(W),re=Q.sub(q).add(W),ne=Q.add(q).add(W),ie=transformedNormalView,oe=positionViewDirection,ae=positionView.toVar(),ue=LTC_Uv({N:ie,V:oe,roughness}),ce=F.uv(ue).toVar(),se=Y.uv(ue).toVar(),le=mat3(vec3(ce.x,0,ce.y),vec3(0,1,0),vec3(ce.z,0,ce.w)).toVar(),de=specularColor.mul(se.x).add(specularColor.oneMinus().mul(se.y)).toVar();J.directSpecular.addAssign(G.mul(de).mul(LTC_Evaluate({N:ie,V:oe,P:ae,mInv:le,p0:X,p1:te,p2:re,p3:ne}))),J.directDiffuse.addAssign(G.mul(diffuseColor).mul(LTC_Evaluate({N:ie,V:oe,P:ae,mInv:mat3(1,0,0,0,1,0,0,0,1),p0:X,p1:te,p2:re,p3:ne})))}indirect(G,Q,q){this.indirectDiffuse(G,Q,q),this.indirectSpecular(G,Q,q),this.ambientOcclusion(G,Q,q)}indirectDiffuse({irradiance:G,reflectedLight:Q}){Q.indirectDiffuse.addAssign(G.mul(BRDF_Lambert({diffuseColor})))}indirectSpecular({radiance:G,iblIrradiance:Q,reflectedLight:q}){if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(Q.mul(sheen,IBLSheenBRDF({normal:transformedNormalView,viewDir:positionViewDirection,roughness:sheenRoughness}))),this.clearcoat===!0){const te=transformedClearcoatNormalView.dot(positionViewDirection).clamp(),re=EnvironmentBRDF({dotNV:te,specularColor:clearcoatF0,specularF90:clearcoatF90,roughness:clearcoatRoughness});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(re))}const W=vec3().toVar("singleScattering"),J=vec3().toVar("multiScattering"),F=Q.mul(1/Math.PI);this.computeMultiscattering(W,J,specularF90);const Y=W.add(J),X=diffuseColor.mul(Y.r.max(Y.g).max(Y.b).oneMinus());q.indirectSpecular.addAssign(G.mul(W)),q.indirectSpecular.addAssign(J.mul(F)),q.indirectDiffuse.addAssign(X.mul(F))}ambientOcclusion({ambientOcclusion:G,reflectedLight:Q}){const q=transformedNormalView.dot(positionViewDirection).clamp().add(G),W=roughness.mul(-16).oneMinus().negate().exp2(),J=G.sub(q.pow(W).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(G),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(G),Q.indirectDiffuse.mulAssign(G),Q.indirectSpecular.mulAssign(J)}finish(G){const{outgoingLight:Q}=G;if(this.clearcoat===!0){const q=transformedClearcoatNormalView.dot(positionViewDirection).clamp(),W=F_Schlick({dotVH:q,f0:clearcoatF0,f90:clearcoatF90}),J=Q.mul(clearcoat.mul(W).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(clearcoat));Q.assign(J)}if(this.sheen===!0){const q=sheen.r.max(sheen.g).max(sheen.b).mul(.157).oneMinus(),W=Q.mul(q).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);Q.assign(W)}}}const cubeUV_r0=float(1),cubeUV_m0=float(-2),cubeUV_r1=float(.8),cubeUV_m1=float(-1),cubeUV_r4=float(.4),cubeUV_m4=float(2),cubeUV_r5=float(.305),cubeUV_m5=float(3),cubeUV_r6=float(.21),cubeUV_m6=float(4),cubeUV_minMipLevel=float(4),cubeUV_minTileSize=float(16),getFace=Fn(([U])=>{const G=vec3(abs$1(U)).toVar(),Q=float(-1).toVar();return If(G.x.greaterThan(G.z),()=>{If(G.x.greaterThan(G.y),()=>{Q.assign(select(U.x.greaterThan(0),0,3))}).Else(()=>{Q.assign(select(U.y.greaterThan(0),1,4))})}).Else(()=>{If(G.z.greaterThan(G.y),()=>{Q.assign(select(U.z.greaterThan(0),2,5))}).Else(()=>{Q.assign(select(U.y.greaterThan(0),1,4))})}),Q}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),getUV=Fn(([U,G])=>{const Q=vec2().toVar();return If(G.equal(0),()=>{Q.assign(vec2(U.z,U.y).div(abs$1(U.x)))}).ElseIf(G.equal(1),()=>{Q.assign(vec2(U.x.negate(),U.z.negate()).div(abs$1(U.y)))}).ElseIf(G.equal(2),()=>{Q.assign(vec2(U.x.negate(),U.y).div(abs$1(U.z)))}).ElseIf(G.equal(3),()=>{Q.assign(vec2(U.z.negate(),U.y).div(abs$1(U.x)))}).ElseIf(G.equal(4),()=>{Q.assign(vec2(U.x.negate(),U.z).div(abs$1(U.y)))}).Else(()=>{Q.assign(vec2(U.x,U.y).div(abs$1(U.z)))}),mul(.5,Q.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),roughnessToMip=Fn(([U])=>{const G=float(0).toVar();return If(U.greaterThanEqual(cubeUV_r1),()=>{G.assign(cubeUV_r0.sub(U).mul(cubeUV_m1.sub(cubeUV_m0)).div(cubeUV_r0.sub(cubeUV_r1)).add(cubeUV_m0))}).ElseIf(U.greaterThanEqual(cubeUV_r4),()=>{G.assign(cubeUV_r1.sub(U).mul(cubeUV_m4.sub(cubeUV_m1)).div(cubeUV_r1.sub(cubeUV_r4)).add(cubeUV_m1))}).ElseIf(U.greaterThanEqual(cubeUV_r5),()=>{G.assign(cubeUV_r4.sub(U).mul(cubeUV_m5.sub(cubeUV_m4)).div(cubeUV_r4.sub(cubeUV_r5)).add(cubeUV_m4))}).ElseIf(U.greaterThanEqual(cubeUV_r6),()=>{G.assign(cubeUV_r5.sub(U).mul(cubeUV_m6.sub(cubeUV_m5)).div(cubeUV_r5.sub(cubeUV_r6)).add(cubeUV_m5))}).Else(()=>{G.assign(float(-2).mul(log2(mul(1.16,U))))}),G}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),getDirection=Fn(([U,G])=>{const Q=U.toVar();Q.assign(mul(2,Q).sub(1));const q=vec3(Q,1).toVar();return If(G.equal(0),()=>{q.assign(q.zyx)}).ElseIf(G.equal(1),()=>{q.assign(q.xzy),q.xz.mulAssign(-1)}).ElseIf(G.equal(2),()=>{q.x.mulAssign(-1)}).ElseIf(G.equal(3),()=>{q.assign(q.zyx),q.xz.mulAssign(-1)}).ElseIf(G.equal(4),()=>{q.assign(q.xzy),q.xy.mulAssign(-1)}).ElseIf(G.equal(5),()=>{q.z.mulAssign(-1)}),q}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),textureCubeUV=Fn(([U,G,Q,q,W,J])=>{const F=float(Q),Y=vec3(G),X=clamp(roughnessToMip(F),cubeUV_m0,J),te=fract(X),re=floor$1(X),ne=vec3(bilinearCubeUV(U,Y,re,q,W,J)).toVar();return If(te.notEqual(0),()=>{const ie=vec3(bilinearCubeUV(U,Y,re.add(1),q,W,J)).toVar();ne.assign(mix(ne,ie,te))}),ne}),bilinearCubeUV=Fn(([U,G,Q,q,W,J])=>{const F=float(Q).toVar(),Y=vec3(G),X=float(getFace(Y)).toVar(),te=float(max$1$1(cubeUV_minMipLevel.sub(F),0)).toVar();F.assign(max$1$1(F,cubeUV_minMipLevel));const re=float(exp2(F)).toVar(),ne=vec2(getUV(Y,X).mul(re.sub(2)).add(1)).toVar();return If(X.greaterThan(2),()=>{ne.y.addAssign(re),X.subAssign(3)}),ne.x.addAssign(X.mul(re)),ne.x.addAssign(te.mul(mul(3,cubeUV_minTileSize))),ne.y.addAssign(mul(4,exp2(J).sub(re))),ne.x.mulAssign(q),ne.y.mulAssign(W),U.uv(ne).grad(vec2(),vec2())}),getSample=Fn(({envMap:U,mipInt:G,outputDirection:Q,theta:q,axis:W,CUBEUV_TEXEL_WIDTH:J,CUBEUV_TEXEL_HEIGHT:F,CUBEUV_MAX_MIP:Y})=>{const X=cos(q),te=Q.mul(X).add(W.cross(Q).mul(sin(q))).add(W.mul(W.dot(Q).mul(X.oneMinus())));return bilinearCubeUV(U,te,G,J,F,Y)}),blur=Fn(({n:U,latitudinal:G,poleAxis:Q,outputDirection:q,weights:W,samples:J,dTheta:F,mipInt:Y,envMap:X,CUBEUV_TEXEL_WIDTH:te,CUBEUV_TEXEL_HEIGHT:re,CUBEUV_MAX_MIP:ne})=>{const ie=vec3(select(G,Q,cross(Q,q))).toVar();If(all(ie.equals(vec3(0))),()=>{ie.assign(vec3(q.z,0,q.x.negate()))}),ie.assign(normalize$2(ie));const oe=vec3().toVar();return oe.addAssign(W.element(int$1(0)).mul(getSample({theta:0,axis:ie,outputDirection:q,mipInt:Y,envMap:X,CUBEUV_TEXEL_WIDTH:te,CUBEUV_TEXEL_HEIGHT:re,CUBEUV_MAX_MIP:ne}))),Loop({start:int$1(1),end:U},({i:ae})=>{If(ae.greaterThanEqual(J),()=>{Break()});const ue=float(F.mul(float(ae))).toVar();oe.addAssign(W.element(ae).mul(getSample({theta:ue.mul(-1),axis:ie,outputDirection:q,mipInt:Y,envMap:X,CUBEUV_TEXEL_WIDTH:te,CUBEUV_TEXEL_HEIGHT:re,CUBEUV_MAX_MIP:ne}))),oe.addAssign(W.element(ae).mul(getSample({theta:ue,axis:ie,outputDirection:q,mipInt:Y,envMap:X,CUBEUV_TEXEL_WIDTH:te,CUBEUV_TEXEL_HEIGHT:re,CUBEUV_MAX_MIP:ne})))}),vec4(oe,1)});let _generator=null;const _cache=new WeakMap;function _generateCubeUVSize(U){const G=Math.log2(U)-2,Q=1/U;return{texelWidth:1/(3*Math.max(Math.pow(2,G),7*16)),texelHeight:Q,maxMip:G}}function _getPMREMFromTexture(U){let G=_cache.get(U);if((G!==void 0?G.pmremVersion:-1)!==U.pmremVersion){const Q=U.image;if(U.isCubeTexture)if(isCubeMapReady(Q))G=_generator.fromCubemap(U,G);else return null;else if(isEquirectangularMapReady(Q))G=_generator.fromEquirectangular(U,G);else return null;G.pmremVersion=U.pmremVersion,_cache.set(U,G)}return G.texture}class PMREMNode extends TempNode{static get type(){return"PMREMNode"}constructor(G,Q=null,q=null){super("vec3"),this._value=G,this._pmrem=null,this.uvNode=Q,this.levelNode=q,this._generator=null;const W=new Texture;W.isRenderTargetTexture=!0,this._texture=texture(W),this._width=uniform(0),this._height=uniform(0),this._maxMip=uniform(0),this.updateBeforeType=NodeUpdateType.RENDER}set value(G){this._value=G,this._pmrem=null}get value(){return this._value}updateFromTexture(G){const Q=_generateCubeUVSize(G.image.height);this._texture.value=G,this._width.value=Q.texelWidth,this._height.value=Q.texelHeight,this._maxMip.value=Q.maxMip}updateBefore(){let G=this._pmrem;const Q=G?G.pmremVersion:-1,q=this._value;Q!==q.pmremVersion&&(q.isPMREMTexture===!0?G=q:G=_getPMREMFromTexture(q),G!==null&&(this._pmrem=G,this.updateFromTexture(G)))}setup(G){_generator===null&&(_generator=G.createPMREMGenerator()),this.updateBefore(G);let Q=this.uvNode;Q===null&&G.context.getUV&&(Q=G.context.getUV(this));const q=this.value;G.renderer.coordinateSystem===WebGLCoordinateSystem&&q.isPMREMTexture!==!0&&q.isRenderTargetTexture===!0&&(Q=vec3(Q.x.negate(),Q.yz));let W=this.levelNode;return W===null&&G.context.getTextureLevel&&(W=G.context.getTextureLevel(this)),textureCubeUV(this._texture,Q,W,this._width,this._height,this._maxMip)}}function isCubeMapReady(U){if(U==null)return!1;let G=0;const Q=6;for(let q=0;q<Q;q++)U[q]!==void 0&&G++;return G===Q}function isEquirectangularMapReady(U){return U==null?!1:U.height>0}const pmremTexture=nodeProxy(PMREMNode),_envNodeCache=new WeakMap;class EnvironmentNode extends LightingNode{static get type(){return"EnvironmentNode"}constructor(G=null){super(),this.envNode=G}setup(G){const{material:Q}=G;let q=this.envNode;if(q.isTextureNode||q.isMaterialReferenceNode){const ne=q.isTextureNode?q.value:Q[q.property];let ie=_envNodeCache.get(ne);ie===void 0&&(ie=pmremTexture(ne),_envNodeCache.set(ne,ie)),q=ie}const W=Q.envMap?reference("envMapIntensity","float",G.material):reference("environmentIntensity","float",G.scene),J=Q.useAnisotropy===!0||Q.anisotropy>0?transformedBentNormalView:transformedNormalView,F=q.context(createRadianceContext(roughness,J)).mul(W),Y=q.context(createIrradianceContext(transformedNormalWorld)).mul(Math.PI).mul(W),X=cache(F),te=cache(Y);G.context.radiance.addAssign(X),G.context.iblIrradiance.addAssign(te);const re=G.context.lightingModel.clearcoatRadiance;if(re){const ne=q.context(createRadianceContext(clearcoatRoughness,transformedClearcoatNormalView)).mul(W),ie=cache(ne);re.addAssign(ie)}}}const createRadianceContext=(U,G)=>{let Q=null;return{getUV:()=>(Q===null&&(Q=positionViewDirection.negate().reflect(G),Q=U.mul(U).mix(Q,G).normalize(),Q=Q.transformDirection(cameraViewMatrix)),Q),getTextureLevel:()=>U}},createIrradianceContext=U=>({getUV:()=>U,getTextureLevel:()=>float(1)}),_defaultValues$6=new MeshStandardMaterial;class MeshStandardNodeMaterial extends NodeMaterial{static get type(){return"MeshStandardNodeMaterial"}constructor(G){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(_defaultValues$6),this.setValues(G)}setupEnvironment(G){let Q=super.setupEnvironment(G);return Q===null&&G.environmentNode&&(Q=G.environmentNode),Q?new EnvironmentNode(Q):null}setupLightingModel(){return new PhysicalLightingModel}setupSpecular(){const G=mix(vec3(.04),diffuseColor.rgb,metalness);specularColor.assign(G),specularF90.assign(1)}setupVariants(){const G=this.metalnessNode?float(this.metalnessNode):materialMetalness;metalness.assign(G);let Q=this.roughnessNode?float(this.roughnessNode):materialRoughness;Q=getRoughness({roughness:Q}),roughness.assign(Q),this.setupSpecular(),diffuseColor.assign(vec4(diffuseColor.rgb.mul(G.oneMinus()),diffuseColor.a))}copy(G){return this.emissiveNode=G.emissiveNode,this.metalnessNode=G.metalnessNode,this.roughnessNode=G.roughnessNode,super.copy(G)}}const _defaultValues$5=new MeshPhysicalMaterial;class MeshPhysicalNodeMaterial extends MeshStandardNodeMaterial{static get type(){return"MeshPhysicalNodeMaterial"}constructor(G){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(_defaultValues$5),this.setValues(G)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const G=this.iorNode?float(this.iorNode):materialIOR;ior.assign(G),specularColor.assign(mix(min$1(pow2(ior.sub(1).div(ior.add(1))).mul(materialSpecularColor),vec3(1)).mul(materialSpecularIntensity),diffuseColor.rgb,metalness)),specularF90.assign(mix(materialSpecularIntensity,1,metalness))}setupLightingModel(){return new PhysicalLightingModel(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(G){if(super.setupVariants(G),this.useClearcoat){const Q=this.clearcoatNode?float(this.clearcoatNode):materialClearcoat,q=this.clearcoatRoughnessNode?float(this.clearcoatRoughnessNode):materialClearcoatRoughness;clearcoat.assign(Q),clearcoatRoughness.assign(getRoughness({roughness:q}))}if(this.useSheen){const Q=this.sheenNode?vec3(this.sheenNode):materialSheen,q=this.sheenRoughnessNode?float(this.sheenRoughnessNode):materialSheenRoughness;sheen.assign(Q),sheenRoughness.assign(q)}if(this.useIridescence){const Q=this.iridescenceNode?float(this.iridescenceNode):materialIridescence,q=this.iridescenceIORNode?float(this.iridescenceIORNode):materialIridescenceIOR,W=this.iridescenceThicknessNode?float(this.iridescenceThicknessNode):materialIridescenceThickness;iridescence.assign(Q),iridescenceIOR.assign(q),iridescenceThickness.assign(W)}if(this.useAnisotropy){const Q=(this.anisotropyNode?vec2(this.anisotropyNode):materialAnisotropy).toVar();anisotropy.assign(Q.length()),If(anisotropy.equal(0),()=>{Q.assign(vec2(1,0))}).Else(()=>{Q.divAssign(vec2(anisotropy)),anisotropy.assign(anisotropy.saturate())}),alphaT.assign(anisotropy.pow2().mix(roughness.pow2(),1)),anisotropyT.assign(TBNViewMatrix[0].mul(Q.x).add(TBNViewMatrix[1].mul(Q.y))),anisotropyB.assign(TBNViewMatrix[1].mul(Q.x).sub(TBNViewMatrix[0].mul(Q.y)))}if(this.useTransmission){const Q=this.transmissionNode?float(this.transmissionNode):materialTransmission,q=this.thicknessNode?float(this.thicknessNode):materialThickness,W=this.attenuationDistanceNode?float(this.attenuationDistanceNode):materialAttenuationDistance,J=this.attenuationColorNode?vec3(this.attenuationColorNode):materialAttenuationColor;if(transmission.assign(Q),thickness.assign(q),attenuationDistance.assign(W),attenuationColor.assign(J),this.useDispersion){const F=this.dispersionNode?float(this.dispersionNode):materialDispersion;dispersion.assign(F)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?vec3(this.clearcoatNormalNode):materialClearcoatNormal}setup(G){G.context.setupClearcoatNormal=()=>this.setupClearcoatNormal(G),super.setup(G)}copy(G){return this.clearcoatNode=G.clearcoatNode,this.clearcoatRoughnessNode=G.clearcoatRoughnessNode,this.clearcoatNormalNode=G.clearcoatNormalNode,this.sheenNode=G.sheenNode,this.sheenRoughnessNode=G.sheenRoughnessNode,this.iridescenceNode=G.iridescenceNode,this.iridescenceIORNode=G.iridescenceIORNode,this.iridescenceThicknessNode=G.iridescenceThicknessNode,this.specularIntensityNode=G.specularIntensityNode,this.specularColorNode=G.specularColorNode,this.transmissionNode=G.transmissionNode,this.thicknessNode=G.thicknessNode,this.attenuationDistanceNode=G.attenuationDistanceNode,this.attenuationColorNode=G.attenuationColorNode,this.dispersionNode=G.dispersionNode,this.anisotropyNode=G.anisotropyNode,super.copy(G)}}const getGradientIrradiance=Fn(({normal:U,lightDirection:G,builder:Q})=>{const q=U.dot(G),W=vec2(q.mul(.5).add(.5),0);if(Q.material.gradientMap){const J=materialReference("gradientMap","texture").context({getUV:()=>W});return vec3(J.r)}else{const J=W.fwidth().mul(.5);return mix(vec3(.7),vec3(1),smoothstep(float(.7).sub(J.x),float(.7).add(J.x),W.x))}});class ToonLightingModel extends LightingModel{direct({lightDirection:G,lightColor:Q,reflectedLight:q},W,J){const F=getGradientIrradiance({normal:normalGeometry,lightDirection:G,builder:J}).mul(Q);q.directDiffuse.addAssign(F.mul(BRDF_Lambert({diffuseColor:diffuseColor.rgb})))}indirect({ambientOcclusion:G,irradiance:Q,reflectedLight:q}){q.indirectDiffuse.addAssign(Q.mul(BRDF_Lambert({diffuseColor}))),q.indirectDiffuse.mulAssign(G)}}const _defaultValues$4=new MeshToonMaterial;class MeshToonNodeMaterial extends NodeMaterial{static get type(){return"MeshToonNodeMaterial"}constructor(G){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(_defaultValues$4),this.setValues(G)}setupLightingModel(){return new ToonLightingModel}}class MatcapUVNode extends TempNode{static get type(){return"MatcapUVNode"}constructor(){super("vec2")}setup(){const G=vec3(positionViewDirection.z,0,positionViewDirection.x.negate()).normalize(),Q=positionViewDirection.cross(G);return vec2(G.dot(transformedNormalView),Q.dot(transformedNormalView)).mul(.495).add(.5)}}const matcapUV=nodeImmutable(MatcapUVNode),_defaultValues$3=new MeshMatcapMaterial;class MeshMatcapNodeMaterial extends NodeMaterial{static get type(){return"MeshMatcapNodeMaterial"}constructor(G){super(),this.lights=!1,this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(_defaultValues$3),this.setValues(G)}setupVariants(G){const Q=matcapUV;let q;G.material.matcap?q=materialReference("matcap","texture").context({getUV:()=>Q}):q=vec3(mix(.2,.8,Q.y)),diffuseColor.rgb.mulAssign(q.rgb)}}const _defaultValues$2=new PointsMaterial;class PointsNodeMaterial extends NodeMaterial{static get type(){return"PointsNodeMaterial"}constructor(G){super(),this.isPointsNodeMaterial=!0,this.lights=!1,this.transparent=!0,this.sizeNode=null,this.setDefaultValues(_defaultValues$2),this.setValues(G)}copy(G){return this.sizeNode=G.sizeNode,super.copy(G)}}class RotateNode extends TempNode{static get type(){return"RotateNode"}constructor(G,Q){super(),this.positionNode=G,this.rotationNode=Q}getNodeType(G){return this.positionNode.getNodeType(G)}setup(G){const{rotationNode:Q,positionNode:q}=this;if(this.getNodeType(G)==="vec2"){const W=Q.cos(),J=Q.sin();return mat2(W,J,J.negate(),W).mul(q)}else{const W=Q,J=mat4(vec4(1,0,0,0),vec4(0,cos(W.x),sin(W.x).negate(),0),vec4(0,sin(W.x),cos(W.x),0),vec4(0,0,0,1)),F=mat4(vec4(cos(W.y),0,sin(W.y),0),vec4(0,1,0,0),vec4(sin(W.y).negate(),0,cos(W.y),0),vec4(0,0,0,1)),Y=mat4(vec4(cos(W.z),sin(W.z).negate(),0,0),vec4(sin(W.z),cos(W.z),0,0),vec4(0,0,1,0),vec4(0,0,0,1));return J.mul(F).mul(Y).mul(vec4(q,1)).xyz}}}const rotate=nodeProxy(RotateNode),_defaultValues$1=new SpriteMaterial;class SpriteNodeMaterial extends NodeMaterial{static get type(){return"SpriteNodeMaterial"}constructor(G){super(),this.isSpriteNodeMaterial=!0,this.lights=!1,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.setDefaultValues(_defaultValues$1),this.setValues(G)}setupPosition({object:G,camera:Q,context:q}){const W=this.sizeAttenuation,{positionNode:J,rotationNode:F,scaleNode:Y}=this,X=positionLocal;let te=modelViewMatrix.mul(vec3(J||0)),re=vec2(modelWorldMatrix[0].xyz.length(),modelWorldMatrix[1].xyz.length());Y!==null&&(re=re.mul(Y)),!W&&Q.isPerspectiveCamera&&(re=re.mul(te.z.negate()));let ne=X.xy;if(G.center&&G.center.isVector2===!0){const ue=reference$1("center","vec2");ne=ne.sub(ue.sub(.5))}ne=ne.mul(re);const ie=float(F||materialRotation),oe=rotate(ne,ie);te=vec4(te.xy.add(oe),te.zw);const ae=cameraProjectionMatrix.mul(te);return q.vertex=X,ae}copy(G){return this.positionNode=G.positionNode,this.rotationNode=G.rotationNode,this.scaleNode=G.scaleNode,super.copy(G)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(G){this._useSizeAttenuation!==G&&(this._useSizeAttenuation=G,this.needsUpdate=!0)}}class ShadowMaskModel extends LightingModel{constructor(){super(),this.shadowNode=float(1).toVar("shadowMask")}direct({shadowMask:G}){this.shadowNode.mulAssign(G)}finish(G){diffuseColor.a.mulAssign(this.shadowNode.oneMinus()),G.outgoingLight.rgb.assign(diffuseColor.rgb)}}const _defaultValues=new ShadowMaterial;class ShadowNodeMaterial extends NodeMaterial{static get type(){return"ShadowNodeMaterial"}constructor(G){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.setDefaultValues(_defaultValues),this.setValues(G)}setupLightingModel(){return new ShadowMaskModel}}Fn(({texture:U,uv:G})=>{const Q=vec3().toVar();return If(G.x.lessThan(1e-4),()=>{Q.assign(vec3(1,0,0))}).ElseIf(G.y.lessThan(1e-4),()=>{Q.assign(vec3(0,1,0))}).ElseIf(G.z.lessThan(1e-4),()=>{Q.assign(vec3(0,0,1))}).ElseIf(G.x.greaterThan(1-1e-4),()=>{Q.assign(vec3(-1,0,0))}).ElseIf(G.y.greaterThan(1-1e-4),()=>{Q.assign(vec3(0,-1,0))}).ElseIf(G.z.greaterThan(1-1e-4),()=>{Q.assign(vec3(0,0,-1))}).Else(()=>{const q=U.uv(G.add(vec3(-.01,0,0))).r.sub(U.uv(G.add(vec3(.01,0,0))).r),W=U.uv(G.add(vec3(0,-.01,0))).r.sub(U.uv(G.add(vec3(0,.01,0))).r),J=U.uv(G.add(vec3(0,0,-.01))).r.sub(U.uv(G.add(vec3(0,0,.01))).r);Q.assign(vec3(q,W,J))}),Q.normalize()});class Animation{constructor(G,Q){this.nodes=G,this.info=Q,this.animationLoop=null,this.requestId=null,this._init()}_init(){const G=(Q,q)=>{this.requestId=self.requestAnimationFrame(G),this.info.autoReset===!0&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this.animationLoop!==null&&this.animationLoop(Q,q)};G()}dispose(){self.cancelAnimationFrame(this.requestId),this.requestId=null}setAnimationLoop(G){this.animationLoop=G}}class ChainMap{constructor(){this.weakMap=new WeakMap}get(G){let Q=this.weakMap;for(let q=0;q<G.length;q++)if(Q=Q.get(G[q]),Q===void 0)return;return Q.get(G[G.length-1])}set(G,Q){let q=this.weakMap;for(let W=0;W<G.length;W++){const J=G[W];q.has(J)===!1&&q.set(J,new WeakMap),q=q.get(J)}return q.set(G[G.length-1],Q)}delete(G){let Q=this.weakMap;for(let q=0;q<G.length;q++)if(Q=Q.get(G[q]),Q===void 0)return!1;return Q.delete(G[G.length-1])}}const _plane=new Plane;class ClippingContext{constructor(){this.version=0,this.globalClippingCount=0,this.localClippingCount=0,this.localClippingEnabled=!1,this.localClipIntersection=!1,this.planes=[],this.parentVersion=0,this.viewNormalMatrix=new Matrix3,this.cacheKey=0}projectPlanes(G,Q){const q=G.length,W=this.planes;for(let J=0;J<q;J++){_plane.copy(G[J]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const F=W[Q+J],Y=_plane.normal;F.x=-Y.x,F.y=-Y.y,F.z=-Y.z,F.w=_plane.constant}}updateGlobal(G,Q){const q=G.clippingPlanes;this.viewMatrix=Q.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix);let W=!1;if(Array.isArray(q)&&q.length!==0){const J=q.length;if(J!==this.globalClippingCount){const F=[];for(let Y=0;Y<J;Y++)F.push(new Vector4);this.globalClippingCount=J,this.planes=F,W=!0}this.projectPlanes(q,0)}else this.globalClippingCount!==0&&(this.globalClippingCount=0,this.planes=[],W=!0);G.localClippingEnabled!==this.localClippingEnabled&&(this.localClippingEnabled=G.localClippingEnabled,W=!0),W&&(this.version++,this.cacheKey=hash$1(this.globalClippingCount,this.localClippingEnabled===!0?1:0))}update(G,Q){let q=!1;if(this!==G&&G.version!==this.parentVersion&&(this.globalClippingCount=Q.isShadowNodeMaterial?0:G.globalClippingCount,this.localClippingEnabled=G.localClippingEnabled,this.planes=Array.from(G.planes),this.parentVersion=G.version,this.viewMatrix=G.viewMatrix,this.viewNormalMatrix=G.viewNormalMatrix,q=!0),this.localClippingEnabled){const W=Q.clippingPlanes;if(Array.isArray(W)&&W.length!==0){const J=W.length,F=this.planes,Y=this.globalClippingCount;if(q||J!==this.localClippingCount){F.length=Y+J;for(let X=0;X<J;X++)F[Y+X]=new Vector4;this.localClippingCount=J,q=!0}this.projectPlanes(W,Y)}else this.localClippingCount!==0&&(this.localClippingCount=0,q=!0);this.localClipIntersection!==Q.clipIntersection&&(this.localClipIntersection=Q.clipIntersection,q=!0)}q&&(this.version+=G.version,this.cacheKey=hash$1(G.cacheKey,this.localClippingCount,this.localClipIntersection===!0?1:0))}}let _id$7=0;function getKeys(U){const G=Object.keys(U);let Q=Object.getPrototypeOf(U);for(;Q;){const q=Object.getOwnPropertyDescriptors(Q);for(const W in q)if(q[W]!==void 0){const J=q[W];J&&typeof J.get=="function"&&G.push(W)}Q=Object.getPrototypeOf(Q)}return G}class RenderObject{constructor(G,Q,q,W,J,F,Y,X,te){this._nodes=G,this._geometries=Q,this.id=_id$7++,this.renderer=q,this.object=W,this.material=J,this.scene=F,this.camera=Y,this.lightsNode=X,this.context=te,this.geometry=W.geometry,this.version=J.version,this.drawRange=null,this.attributes=null,this.pipeline=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.updateClipping(te.clippingContext),this.clippingContextVersion=this.clippingContext.version,this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.material.addEventListener("dispose",this.onMaterialDispose)}updateClipping(G){const Q=this.material;let q=this.clippingContext;Array.isArray(Q.clippingPlanes)?((q===G||!q)&&(q=new ClippingContext,this.clippingContext=q),q.update(G,Q)):this.clippingContext!==G&&(this.clippingContext=G)}get clippingNeedsUpdate(){return this.clippingContext.version===this.clippingContextVersion?!1:(this.clippingContextVersion=this.clippingContext.version,!0)}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().monitor)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getIndex(){return this._geometries.getIndex(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}getAttributes(){if(this.attributes!==null)return this.attributes;const G=this.getNodeBuilderState().nodeAttributes,Q=this.geometry,q=[],W=new Set;for(const J of G){const F=J.node&&J.node.attribute?J.node.attribute:Q.getAttribute(J.name);if(F===void 0)continue;q.push(F);const Y=F.isInterleavedBufferAttribute?F.data:F;W.add(Y)}return this.attributes=q,this.vertexBuffers=Array.from(W.values()),q}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:G,material:Q,geometry:q,group:W,drawRange:J}=this,F=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),Y=this.getIndex(),X=Y!==null,te=q.isInstancedBufferGeometry?q.instanceCount:G.count>1?G.count:1;if(te===0)return null;if(F.instanceCount=te,G.isBatchedMesh===!0)return F;let re=1;Q.wireframe===!0&&!G.isPoints&&!G.isLineSegments&&!G.isLine&&!G.isLineLoop&&(re=2);let ne=J.start*re,ie=(J.start+J.count)*re;W!==null&&(ne=Math.max(ne,W.start*re),ie=Math.min(ie,(W.start+W.count)*re));const oe=X===!0?Y.count:q.attributes.position.count;ne=Math.max(ne,0),ie=Math.min(ie,oe);const ae=ie-ne;return ae<0||ae===1/0?null:(F.vertexCount=ae,F.firstVertex=ne,F)}getGeometryCacheKey(){const{geometry:G}=this;let Q="";for(const q of Object.keys(G.attributes).sort()){const W=G.attributes[q];Q+=q+",",W.data&&(Q+=W.data.stride+","),W.offset&&(Q+=W.offset+","),W.itemSize&&(Q+=W.itemSize+","),W.normalized&&(Q+="n,")}return G.index&&(Q+="index,"),Q}getMaterialCacheKey(){const{object:G,material:Q}=this;let q=Q.customProgramCacheKey();for(const W of getKeys(Q)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(W))continue;const J=Q[W];let F;if(J!==null){const Y=typeof J;Y==="number"?F=J!==0?"1":"0":Y==="object"?(F="{",J.isTexture&&(F+=J.mapping),F+="}"):F=String(J)}else F=String(J);q+=F+","}return q+=this.clippingContext.cacheKey+",",G.geometry&&(q+=this.getGeometryCacheKey()),G.skeleton&&(q+=G.skeleton.bones.length+","),G.morphTargetInfluences&&(q+=G.morphTargetInfluences.length+","),G.isBatchedMesh&&(q+=G._matricesTexture.uuid+",",G._colorsTexture!==null&&(q+=G._colorsTexture.uuid+",")),G.count>1&&(q+=G.uuid+","),hashString(q)}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let G=this._nodes.getCacheKey(this.scene,this.lightsNode);return this.object.receiveShadow&&(G+=1),G}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.onDispose()}}const chainArray=[];class RenderObjects{constructor(G,Q,q,W,J,F){this.renderer=G,this.nodes=Q,this.geometries=q,this.pipelines=W,this.bindings=J,this.info=F,this.chainMaps={}}get(G,Q,q,W,J,F,Y){const X=this.getChainMap(Y);chainArray[0]=G,chainArray[1]=Q,chainArray[2]=F,chainArray[3]=J;let te=X.get(chainArray);return te===void 0?(te=this.createRenderObject(this.nodes,this.geometries,this.renderer,G,Q,q,W,J,F,Y),X.set(chainArray,te)):(te.updateClipping(F.clippingContext),(te.version!==Q.version||te.needsUpdate)&&(te.initialCacheKey!==te.getCacheKey()?(te.dispose(),te=this.get(G,Q,q,W,J,F,Y)):te.version=Q.version)),te}getChainMap(G="default"){return this.chainMaps[G]||(this.chainMaps[G]=new ChainMap)}dispose(){this.chainMaps={}}createRenderObject(G,Q,q,W,J,F,Y,X,te,re){const ne=this.getChainMap(re),ie=new RenderObject(G,Q,q,W,J,F,Y,X,te);return ie.onDispose=()=>{this.pipelines.delete(ie),this.bindings.delete(ie),this.nodes.delete(ie),ne.delete(ie.getChainArray())},ie}}class DataMap{constructor(){this.data=new WeakMap}get(G){let Q=this.data.get(G);return Q===void 0&&(Q={},this.data.set(G,Q)),Q}delete(G){let Q;return this.data.has(G)&&(Q=this.data.get(G),this.data.delete(G)),Q}has(G){return this.data.has(G)}dispose(){this.data=new WeakMap}}const AttributeType={VERTEX:1,INDEX:2,STORAGE:4},GPU_CHUNK_BYTES=16,BlendColorFactor=211,OneMinusBlendColorFactor=212;class Attributes extends DataMap{constructor(G){super(),this.backend=G}delete(G){const Q=super.delete(G);return Q!==void 0&&this.backend.destroyAttribute(G),Q}update(G,Q){const q=this.get(G);if(q.version===void 0)Q===AttributeType.VERTEX?this.backend.createAttribute(G):Q===AttributeType.INDEX?this.backend.createIndexAttribute(G):Q===AttributeType.STORAGE&&this.backend.createStorageAttribute(G),q.version=this._getBufferAttribute(G).version;else{const W=this._getBufferAttribute(G);(q.version<W.version||W.usage===DynamicDrawUsage)&&(this.backend.updateAttribute(G),q.version=W.version)}}_getBufferAttribute(G){return G.isInterleavedBufferAttribute&&(G=G.data),G}}function arrayNeedsUint32(U){for(let G=U.length-1;G>=0;--G)if(U[G]>=65535)return!0;return!1}function getWireframeVersion(U){return U.index!==null?U.index.version:U.attributes.position.version}function getWireframeIndex(U){const G=[],Q=U.index,q=U.attributes.position;if(Q!==null){const J=Q.array;for(let F=0,Y=J.length;F<Y;F+=3){const X=J[F+0],te=J[F+1],re=J[F+2];G.push(X,te,te,re,re,X)}}else{const J=q.array;for(let F=0,Y=J.length/3-1;F<Y;F+=3){const X=F+0,te=F+1,re=F+2;G.push(X,te,te,re,re,X)}}const W=new(arrayNeedsUint32(G)?Uint32BufferAttribute:Uint16BufferAttribute)(G,1);return W.version=getWireframeVersion(U),W}class Geometries extends DataMap{constructor(G,Q){super(),this.attributes=G,this.info=Q,this.wireframes=new WeakMap,this.attributeCall=new WeakMap}has(G){const Q=G.geometry;return super.has(Q)&&this.get(Q).initialized===!0}updateForRender(G){this.has(G)===!1&&this.initGeometry(G),this.updateAttributes(G)}initGeometry(G){const Q=G.geometry,q=this.get(Q);q.initialized=!0,this.info.memory.geometries++;const W=()=>{this.info.memory.geometries--;const J=Q.index,F=G.getAttributes();J!==null&&this.attributes.delete(J);for(const X of F)this.attributes.delete(X);const Y=this.wireframes.get(Q);Y!==void 0&&this.attributes.delete(Y),Q.removeEventListener("dispose",W)};Q.addEventListener("dispose",W)}updateAttributes(G){const Q=G.getAttributes();for(const W of Q)W.isStorageBufferAttribute||W.isStorageInstancedBufferAttribute?this.updateAttribute(W,AttributeType.STORAGE):this.updateAttribute(W,AttributeType.VERTEX);const q=this.getIndex(G);q!==null&&this.updateAttribute(q,AttributeType.INDEX)}updateAttribute(G,Q){const q=this.info.render.calls;G.isInterleavedBufferAttribute?this.attributeCall.get(G)===void 0?(this.attributes.update(G,Q),this.attributeCall.set(G,q)):this.attributeCall.get(G.data)!==q&&(this.attributes.update(G,Q),this.attributeCall.set(G.data,q),this.attributeCall.set(G,q)):this.attributeCall.get(G)!==q&&(this.attributes.update(G,Q),this.attributeCall.set(G,q))}getIndex(G){const{geometry:Q,material:q}=G;let W=Q.index;if(q.wireframe===!0){const J=this.wireframes;let F=J.get(Q);F===void 0?(F=getWireframeIndex(Q),J.set(Q,F)):F.version!==getWireframeVersion(Q)&&(this.attributes.delete(F),F=getWireframeIndex(Q),J.set(Q,F)),W=F}return W}}class Info{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0,previousFrameCalls:0,timestampCalls:0},this.compute={calls:0,frameCalls:0,timestamp:0,previousFrameCalls:0,timestampCalls:0},this.memory={geometries:0,textures:0}}update(G,Q,q){this.render.drawCalls++,G.isMesh||G.isSprite?this.render.triangles+=q*(Q/3):G.isPoints?this.render.points+=q*Q:G.isLineSegments?this.render.lines+=q*(Q/2):G.isLine?this.render.lines+=q*(Q-1):console.error("THREE.WebGPUInfo: Unknown object type.")}updateTimestamp(G,Q){this[G].timestampCalls===0&&(this[G].timestamp=0),this[G].timestamp+=Q,this[G].timestampCalls++,this[G].timestampCalls>=this[G].previousFrameCalls&&(this[G].timestampCalls=0)}reset(){const G=this.render.frameCalls;this.render.previousFrameCalls=G;const Q=this.compute.frameCalls;this.compute.previousFrameCalls=Q,this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class Pipeline{constructor(G){this.cacheKey=G,this.usedTimes=0}}class RenderPipeline extends Pipeline{constructor(G,Q,q){super(G),this.vertexProgram=Q,this.fragmentProgram=q}}class ComputePipeline extends Pipeline{constructor(G,Q){super(G),this.computeProgram=Q,this.isComputePipeline=!0}}let _id$6=0;class ProgrammableStage{constructor(G,Q,q=null,W=null){this.id=_id$6++,this.code=G,this.stage=Q,this.transforms=q,this.attributes=W,this.usedTimes=0}}class Pipelines extends DataMap{constructor(G,Q){super(),this.backend=G,this.nodes=Q,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(G,Q){const{backend:q}=this,W=this.get(G);if(this._needsComputeUpdate(G)){const J=W.pipeline;J&&(J.usedTimes--,J.computeProgram.usedTimes--);const F=this.nodes.getForCompute(G);let Y=this.programs.compute.get(F.computeShader);Y===void 0&&(J&&J.computeProgram.usedTimes===0&&this._releaseProgram(J.computeProgram),Y=new ProgrammableStage(F.computeShader,"compute",F.transforms,F.nodeAttributes),this.programs.compute.set(F.computeShader,Y),q.createProgram(Y));const X=this._getComputeCacheKey(G,Y);let te=this.caches.get(X);te===void 0&&(J&&J.usedTimes===0&&this._releasePipeline(J),te=this._getComputePipeline(G,Y,X,Q)),te.usedTimes++,Y.usedTimes++,W.version=G.version,W.pipeline=te}return W.pipeline}getForRender(G,Q=null){const{backend:q}=this,W=this.get(G);if(this._needsRenderUpdate(G)){const J=W.pipeline;J&&(J.usedTimes--,J.vertexProgram.usedTimes--,J.fragmentProgram.usedTimes--);const F=G.getNodeBuilderState();let Y=this.programs.vertex.get(F.vertexShader);Y===void 0&&(J&&J.vertexProgram.usedTimes===0&&this._releaseProgram(J.vertexProgram),Y=new ProgrammableStage(F.vertexShader,"vertex"),this.programs.vertex.set(F.vertexShader,Y),q.createProgram(Y));let X=this.programs.fragment.get(F.fragmentShader);X===void 0&&(J&&J.fragmentProgram.usedTimes===0&&this._releaseProgram(J.fragmentProgram),X=new ProgrammableStage(F.fragmentShader,"fragment"),this.programs.fragment.set(F.fragmentShader,X),q.createProgram(X));const te=this._getRenderCacheKey(G,Y,X);let re=this.caches.get(te);re===void 0?(J&&J.usedTimes===0&&this._releasePipeline(J),re=this._getRenderPipeline(G,Y,X,te,Q)):G.pipeline=re,re.usedTimes++,Y.usedTimes++,X.usedTimes++,W.pipeline=re}return W.pipeline}delete(G){const Q=this.get(G).pipeline;return Q&&(Q.usedTimes--,Q.usedTimes===0&&this._releasePipeline(Q),Q.isComputePipeline?(Q.computeProgram.usedTimes--,Q.computeProgram.usedTimes===0&&this._releaseProgram(Q.computeProgram)):(Q.fragmentProgram.usedTimes--,Q.vertexProgram.usedTimes--,Q.vertexProgram.usedTimes===0&&this._releaseProgram(Q.vertexProgram),Q.fragmentProgram.usedTimes===0&&this._releaseProgram(Q.fragmentProgram))),super.delete(G)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(G){this.getForRender(G)}_getComputePipeline(G,Q,q,W){q=q||this._getComputeCacheKey(G,Q);let J=this.caches.get(q);return J===void 0&&(J=new ComputePipeline(q,Q),this.caches.set(q,J),this.backend.createComputePipeline(J,W)),J}_getRenderPipeline(G,Q,q,W,J){W=W||this._getRenderCacheKey(G,Q,q);let F=this.caches.get(W);return F===void 0&&(F=new RenderPipeline(W,Q,q),this.caches.set(W,F),G.pipeline=F,this.backend.createRenderPipeline(G,J)),F}_getComputeCacheKey(G,Q){return G.id+","+Q.id}_getRenderCacheKey(G,Q,q){return Q.id+","+q.id+","+this.backend.getRenderCacheKey(G)}_releasePipeline(G){this.caches.delete(G.cacheKey)}_releaseProgram(G){const Q=G.code,q=G.stage;this.programs[q].delete(Q)}_needsComputeUpdate(G){const Q=this.get(G);return Q.pipeline===void 0||Q.version!==G.version}_needsRenderUpdate(G){return this.get(G).pipeline===void 0||this.backend.needsRenderUpdate(G)}}class Bindings extends DataMap{constructor(G,Q,q,W,J,F){super(),this.backend=G,this.textures=q,this.pipelines=J,this.attributes=W,this.nodes=Q,this.info=F,this.pipelines.bindings=this}getForRender(G){const Q=G.getBindings();for(const q of Q){const W=this.get(q);W.bindGroup===void 0&&(this._init(q),this.backend.createBindings(q,Q),W.bindGroup=q)}return Q}getForCompute(G){const Q=this.nodes.getForCompute(G).bindings;for(const q of Q){const W=this.get(q);W.bindGroup===void 0&&(this._init(q),this.backend.createBindings(q,Q),W.bindGroup=q)}return Q}updateForCompute(G){this._updateBindings(this.getForCompute(G))}updateForRender(G){this._updateBindings(this.getForRender(G))}_updateBindings(G){for(const Q of G)this._update(Q,G)}_init(G){for(const Q of G.bindings)if(Q.isSampledTexture)this.textures.updateTexture(Q.texture);else if(Q.isStorageBuffer){const q=Q.attribute;this.attributes.update(q,AttributeType.STORAGE)}}_update(G,Q){const{backend:q}=this;let W=!1;for(const J of G.bindings)if(!(J.isNodeUniformsGroup&&!this.nodes.updateGroup(J))){if(J.isUniformBuffer)J.update()&&q.updateBinding(J);else if(J.isSampler)J.update();else if(J.isSampledTexture){J.needsBindingsUpdate(this.textures.get(J.texture).generation)&&(W=!0);const F=J.update(),Y=J.texture;F&&this.textures.updateTexture(Y);const X=q.get(Y);if(q.isWebGPUBackend===!0&&X.texture===void 0&&X.externalTexture===void 0&&(console.error("Bindings._update: binding should be available:",J,F,Y,J.textureNode.value,W),this.textures.updateTexture(Y),W=!0),Y.isStorageTexture===!0){const te=this.get(Y);J.store===!0?te.needsMipmap=!0:Y.generateMipmaps===!0&&this.textures.needsMipmaps(Y)&&te.needsMipmap===!0&&(this.backend.generateMipmaps(Y),te.needsMipmap=!1)}}}W===!0&&this.backend.updateBindings(G,Q)}}class NodeAttribute{constructor(G,Q,q=null){this.isNodeAttribute=!0,this.name=G,this.type=Q,this.node=q}}class NodeUniform{constructor(G,Q,q){this.isNodeUniform=!0,this.name=G,this.type=Q,this.node=q.getSelf()}get value(){return this.node.value}set value(G){this.node.value=G}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class NodeVar{constructor(G,Q){this.isNodeVar=!0,this.name=G,this.type=Q}}class NodeVarying extends NodeVar{constructor(G,Q){super(G,Q),this.needsInterpolation=!1,this.isNodeVarying=!0}}class NodeCode{constructor(G,Q,q=""){this.name=G,this.type=Q,this.code=q,Object.defineProperty(this,"isNodeCode",{value:!0})}}let id$1=0;class NodeCache{constructor(G=null){this.id=id$1++,this.nodesData=new WeakMap,this.parent=G}getData(G){let Q=this.nodesData.get(G);return Q===void 0&&this.parent!==null&&(Q=this.parent.getData(G)),Q}setData(G,Q){this.nodesData.set(G,Q)}}class ParameterNode extends PropertyNode{static get type(){return"ParameterNode"}constructor(G,Q=null){super(G,Q),this.isParameterNode=!0}getHash(){return this.uuid}generate(){return this.name}}class CodeNode extends Node$1{static get type(){return"CodeNode"}constructor(G="",Q=[],q=""){super("code"),this.isCodeNode=!0,this.code=G,this.language=q,this.includes=Q}isGlobal(){return!0}setIncludes(G){return this.includes=G,this}getIncludes(){return this.includes}generate(G){const Q=this.getIncludes(G);for(const W of Q)W.build(G);const q=G.getCodeFromNode(this,this.getNodeType(G));return q.code=this.code,q.code}serialize(G){super.serialize(G),G.code=this.code,G.language=this.language}deserialize(G){super.deserialize(G),this.code=G.code,this.language=G.language}}class FunctionNode extends CodeNode{static get type(){return"FunctionNode"}constructor(G="",Q=[],q=""){super(G,Q,q)}getNodeType(G){return this.getNodeFunction(G).type}getInputs(G){return this.getNodeFunction(G).inputs}getNodeFunction(G){const Q=G.getDataFromNode(this);let q=Q.nodeFunction;return q===void 0&&(q=G.parser.parseFunction(this.code),Q.nodeFunction=q),q}generate(G,Q){super.generate(G);const q=this.getNodeFunction(G),W=q.name,J=q.type,F=G.getCodeFromNode(this,J);W!==""&&(F.name=W);const Y=G.getPropertyName(F),X=this.getNodeFunction(G).getCode(Y);return F.code=X+`
`,Q==="property"?Y:G.format(`${Y}()`,J,Q)}}class Uniform{constructor(G,Q){this.name=G,this.value=Q,this.boundary=0,this.itemSize=0,this.offset=0}setValue(G){this.value=G}getValue(){return this.value}}class NumberUniform extends Uniform{constructor(G,Q=0){super(G,Q),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class Vector2Uniform extends Uniform{constructor(G,Q=new Vector2){super(G,Q),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class Vector3Uniform extends Uniform{constructor(G,Q=new Vector3){super(G,Q),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class Vector4Uniform extends Uniform{constructor(G,Q=new Vector4){super(G,Q),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class ColorUniform extends Uniform{constructor(G,Q=new Color){super(G,Q),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class Matrix3Uniform extends Uniform{constructor(G,Q=new Matrix3){super(G,Q),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class Matrix4Uniform extends Uniform{constructor(G,Q=new Matrix4){super(G,Q),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class NumberNodeUniform extends NumberUniform{constructor(G){super(G.name,G.value),this.nodeUniform=G}getValue(){return this.nodeUniform.value}}class Vector2NodeUniform extends Vector2Uniform{constructor(G){super(G.name,G.value),this.nodeUniform=G}getValue(){return this.nodeUniform.value}}class Vector3NodeUniform extends Vector3Uniform{constructor(G){super(G.name,G.value),this.nodeUniform=G}getValue(){return this.nodeUniform.value}}class Vector4NodeUniform extends Vector4Uniform{constructor(G){super(G.name,G.value),this.nodeUniform=G}getValue(){return this.nodeUniform.value}}class ColorNodeUniform extends ColorUniform{constructor(G){super(G.name,G.value),this.nodeUniform=G}getValue(){return this.nodeUniform.value}}class Matrix3NodeUniform extends Matrix3Uniform{constructor(G){super(G.name,G.value),this.nodeUniform=G}getValue(){return this.nodeUniform.value}}class Matrix4NodeUniform extends Matrix4Uniform{constructor(G){super(G.name,G.value),this.nodeUniform=G}getValue(){return this.nodeUniform.value}}class StackNode extends Node$1{static get type(){return"StackNode"}constructor(G=null){super(),this.nodes=[],this.outputNode=null,this.parent=G,this._currentCond=null,this.isStackNode=!0}getNodeType(G){return this.outputNode?this.outputNode.getNodeType(G):"void"}add(G){return this.nodes.push(G),this}If(G,Q){const q=new ShaderNode(Q);return this._currentCond=select(G,q),this.add(this._currentCond)}ElseIf(G,Q){const q=new ShaderNode(Q),W=select(G,q);return this._currentCond.elseNode=W,this._currentCond=W,this}Else(G){return this._currentCond.elseNode=new ShaderNode(G),this}build(G,...Q){const q=getCurrentStack();setCurrentStack(this);for(const W of this.nodes)W.build(G,"void");return setCurrentStack(q),this.outputNode?this.outputNode.build(G,...Q):super.build(G,...Q)}else(...G){return console.warn("TSL.StackNode: .else() has been renamed to .Else()."),this.Else(...G)}elseif(...G){return console.warn("TSL.StackNode: .elseif() has been renamed to .ElseIf()."),this.ElseIf(...G)}}const stack=nodeProxy(StackNode),LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera(-1,1,1,-1,0,1),_cubeCamera=new PerspectiveCamera(90,1),_clearColor$2=new Color;let _oldTarget=null,_oldActiveCubeFace=0,_oldActiveMipmapLevel=0;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(-PHI,INV_PHI,0),new Vector3(PHI,INV_PHI,0),new Vector3(-INV_PHI,0,PHI),new Vector3(INV_PHI,0,PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(0,PHI,INV_PHI),new Vector3(-1,1,-1),new Vector3(1,1,-1),new Vector3(-1,1,1),new Vector3(1,1,1)],_faceLib=[3,1,5,0,4,2],direction=getDirection(uv(),attribute("faceIndex")).normalize(),outputDirection=vec3(direction.x,direction.y.negate(),direction.z);class PMREMGenerator{constructor(G){this._renderer=G,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}fromScene(G,Q=0,q=.1,W=100){_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel(),this._setSize(256);const J=this._allocateTargets();return J.depthBuffer=!0,this._sceneToCubeUV(G,q,W,J),Q>0&&this._blur(J,0,0,Q),this._applyPMREM(J),this._cleanup(J),J}fromEquirectangular(G,Q=null){return this._fromTexture(G,Q)}fromCubemap(G,Q=null){return this._fromTexture(G,Q)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(G){this._lodMax=Math.floor(Math.log2(G)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let G=0;G<this._lodPlanes.length;G++)this._lodPlanes[G].dispose()}_cleanup(G){this._renderer.setRenderTarget(_oldTarget,_oldActiveCubeFace,_oldActiveMipmapLevel),G.scissorTest=!1,_setViewport(G,0,0,G.width,G.height)}_fromTexture(G,Q){G.mapping===CubeReflectionMapping||G.mapping===CubeRefractionMapping?this._setSize(G.image.length===0?16:G.image[0].width||G.image[0].image.width):this._setSize(G.image.width/4),_oldTarget=this._renderer.getRenderTarget(),_oldActiveCubeFace=this._renderer.getActiveCubeFace(),_oldActiveMipmapLevel=this._renderer.getActiveMipmapLevel();const q=Q||this._allocateTargets();return this._textureToCubeUV(G,q),this._applyPMREM(q),this._cleanup(q),q}_allocateTargets(){const G=3*Math.max(this._cubeSize,112),Q=4*this._cubeSize,q={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace},W=_createRenderTarget(G,Q,q);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==G||this._pingPongRenderTarget.height!==Q){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(G,Q,q);const{_lodMax:J}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas,lodMeshes:this._lodMeshes}=_createPlanes(J)),this._blurMaterial=_getBlurShader(J,G,Q)}return W}async _compileMaterial(G){const Q=new Mesh(this._lodPlanes[0],G);await this._renderer.compile(Q,_flatCamera)}_sceneToCubeUV(G,Q,q,W){const J=_cubeCamera;J.near=Q,J.far=q;const F=[-1,1,-1,-1,-1,-1],Y=[1,1,1,-1,-1,-1],X=this._renderer,te=X.autoClear;X.getClearColor(_clearColor$2),X.autoClear=!1;let re=this._backgroundBox;if(re===null){const oe=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1});re=new Mesh(new BoxGeometry,oe)}let ne=!1;const ie=G.background;ie?ie.isColor&&(re.material.color.copy(ie),G.background=null,ne=!0):(re.material.color.copy(_clearColor$2),ne=!0),X.setRenderTarget(W),X.clear(),ne&&X.render(re,J);for(let oe=0;oe<6;oe++){const ae=oe%3;ae===0?(J.up.set(0,F[oe],0),J.lookAt(Y[oe],0,0)):ae===1?(J.up.set(0,0,F[oe]),J.lookAt(0,Y[oe],0)):(J.up.set(0,F[oe],0),J.lookAt(0,0,Y[oe]));const ue=this._cubeSize;_setViewport(W,ae*ue,oe>2?ue:0,ue,ue),X.render(G,J)}X.autoClear=te,G.background=ie}_textureToCubeUV(G,Q){const q=this._renderer,W=G.mapping===CubeReflectionMapping||G.mapping===CubeRefractionMapping;W?this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(G)):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(G));const J=W?this._cubemapMaterial:this._equirectMaterial;J.fragmentNode.value=G;const F=this._lodMeshes[0];F.material=J;const Y=this._cubeSize;_setViewport(Q,0,0,3*Y,2*Y),q.setRenderTarget(Q),q.render(F,_flatCamera)}_applyPMREM(G){const Q=this._renderer,q=Q.autoClear;Q.autoClear=!1;const W=this._lodPlanes.length;for(let J=1;J<W;J++){const F=Math.sqrt(this._sigmas[J]*this._sigmas[J]-this._sigmas[J-1]*this._sigmas[J-1]),Y=_axisDirections[(W-J-1)%_axisDirections.length];this._blur(G,J-1,J,F,Y)}Q.autoClear=q}_blur(G,Q,q,W,J){const F=this._pingPongRenderTarget;this._halfBlur(G,F,Q,q,W,"latitudinal",J),this._halfBlur(F,G,q,q,W,"longitudinal",J)}_halfBlur(G,Q,q,W,J,F,Y){const X=this._renderer,te=this._blurMaterial;F!=="latitudinal"&&F!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const re=3,ne=this._lodMeshes[W];ne.material=te;const ie=te.uniforms,oe=this._sizeLods[q]-1,ae=isFinite(J)?Math.PI/(2*oe):2*Math.PI/(2*MAX_SAMPLES-1),ue=J/ae,ce=isFinite(J)?1+Math.floor(re*ue):MAX_SAMPLES;ce>MAX_SAMPLES&&console.warn(`sigmaRadians, ${J}, is too large and will clip, as it requested ${ce} samples when the maximum is set to ${MAX_SAMPLES}`);const se=[];let le=0;for(let be=0;be<MAX_SAMPLES;++be){const ve=be/ue,Ee=Math.exp(-ve*ve/2);se.push(Ee),be===0?le+=Ee:be<ce&&(le+=2*Ee)}for(let be=0;be<se.length;be++)se[be]=se[be]/le;G.texture.frame=(G.texture.frame||0)+1,ie.envMap.value=G.texture,ie.samples.value=ce,ie.weights.array=se,ie.latitudinal.value=F==="latitudinal"?1:0,Y&&(ie.poleAxis.value=Y);const{_lodMax:de}=this;ie.dTheta.value=ae,ie.mipInt.value=de-q;const he=this._sizeLods[W],pe=3*he*(W>de-LOD_MIN?W-de+LOD_MIN:0),ge=4*(this._cubeSize-he);_setViewport(Q,pe,ge,3*he,2*he),X.setRenderTarget(Q),X.render(ne,_flatCamera)}}function _createPlanes(U){const G=[],Q=[],q=[],W=[];let J=U;const F=U-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let Y=0;Y<F;Y++){const X=Math.pow(2,J);Q.push(X);let te=1/X;Y>U-LOD_MIN?te=EXTRA_LOD_SIGMA[Y-U+LOD_MIN-1]:Y===0&&(te=0),q.push(te);const re=1/(X-2),ne=-re,ie=1+re,oe=[ne,ne,ie,ne,ie,ie,ne,ne,ie,ie,ne,ie],ae=6,ue=6,ce=3,se=2,le=1,de=new Float32Array(ce*ue*ae),he=new Float32Array(se*ue*ae),pe=new Float32Array(le*ue*ae);for(let be=0;be<ae;be++){const ve=be%3*2/3-1,Ee=be>2?0:-1,ke=[ve,Ee,0,ve+2/3,Ee,0,ve+2/3,Ee+1,0,ve,Ee,0,ve+2/3,Ee+1,0,ve,Ee+1,0],Pe=_faceLib[be];de.set(ke,ce*ue*Pe),he.set(oe,se*ue*Pe);const Te=[Pe,Pe,Pe,Pe,Pe,Pe];pe.set(Te,le*ue*Pe)}const ge=new BufferGeometry;ge.setAttribute("position",new BufferAttribute(de,ce)),ge.setAttribute("uv",new BufferAttribute(he,se)),ge.setAttribute("faceIndex",new BufferAttribute(pe,le)),G.push(ge),W.push(new Mesh(ge,null)),J>LOD_MIN&&J--}return{lodPlanes:G,sizeLods:Q,sigmas:q,lodMeshes:W}}function _createRenderTarget(U,G,Q){const q=new RenderTarget(U,G,Q);return q.texture.mapping=CubeUVReflectionMapping,q.texture.name="PMREM.cubeUv",q.texture.isPMREMTexture=!0,q.scissorTest=!0,q}function _setViewport(U,G,Q,q,W){U.viewport.set(G,Q,q,W),U.scissor.set(G,Q,q,W)}function _getMaterial(U){const G=new NodeMaterial;return G.depthTest=!1,G.depthWrite=!1,G.blending=NoBlending,G.name=`PMREM_${U}`,G}function _getBlurShader(U,G,Q){const q=uniformArray(new Array(MAX_SAMPLES).fill(0)),W=uniform(new Vector3(0,1,0)),J=uniform(0),F=float(MAX_SAMPLES),Y=uniform(0),X=uniform(1),te=texture(null),re=uniform(0),ne=float(1/G),ie=float(1/Q),oe=float(U),ae={n:F,latitudinal:Y,weights:q,poleAxis:W,outputDirection,dTheta:J,samples:X,envMap:te,mipInt:re,CUBEUV_TEXEL_WIDTH:ne,CUBEUV_TEXEL_HEIGHT:ie,CUBEUV_MAX_MIP:oe},ue=_getMaterial("blur");return ue.uniforms=ae,ue.fragmentNode=blur({...ae,latitudinal:Y.equal(1)}),ue}function _getCubemapMaterial(U){const G=_getMaterial("cubemap");return G.fragmentNode=cubeTexture(U,outputDirection),G}function _getEquirectMaterial(U){const G=_getMaterial("equirect");return G.fragmentNode=texture(U,equirectUV(outputDirection),0),G}let _id$5=0;class BindGroup{constructor(G="",Q=[],q=0,W=[]){this.name=G,this.bindings=Q,this.index=q,this.bindingsReference=W,this.id=_id$5++}}const rendererCache=new WeakMap,typeFromLength=new Map([[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),typeFromArray=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),toFloat=U=>(U=Number(U),U+(U%1?"":".0"));class NodeBuilder{constructor(G,Q,q){this.object=G,this.material=G&&G.material||null,this.geometry=G&&G.geometry||null,this.renderer=Q,this.parser=q,this.scene=null,this.camera=null,this.nodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.monitor=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.flow={code:""},this.chaining=[],this.stack=stack(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new NodeCache,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null,this.useComparisonMethod=!1}getBindGroupsCache(){let G=rendererCache.get(this.renderer);return G===void 0&&(G=new ChainMap,rendererCache.set(this.renderer,G)),G}createRenderTarget(G,Q,q){return new RenderTarget(G,Q,q)}createCubeRenderTarget(G,Q){return new CubeRenderTarget(G,Q)}createPMREMGenerator(){return new PMREMGenerator(this.renderer)}includes(G){return this.nodes.includes(G)}_getBindGroup(G,Q){const q=this.getBindGroupsCache(),W=[];let J=!0;for(const Y of Q)W.push(Y),J=J&&Y.groupNode.shared!==!0;let F;return J?(F=q.get(W),F===void 0&&(F=new BindGroup(G,W,this.bindingsIndexes[G].group,W),q.set(W,F))):F=new BindGroup(G,W,this.bindingsIndexes[G].group,W),F}getBindGroupArray(G,Q){const q=this.bindings[Q];let W=q[G];return W===void 0&&(this.bindingsIndexes[G]===void 0&&(this.bindingsIndexes[G]={binding:0,group:Object.keys(this.bindingsIndexes).length}),q[G]=W=[]),W}getBindings(){let G=this.bindGroups;if(G===null){const Q={},q=this.bindings;for(const W of shaderStages)for(const J in q[W]){const F=q[W][J];(Q[J]||(Q[J]=[])).push(...F)}G=[];for(const W in Q){const J=Q[W],F=this._getBindGroup(W,J);G.push(F)}this.bindGroups=G}return G}sortBindingGroups(){const G=this.getBindings();G.sort((Q,q)=>Q.bindings[0].groupNode.order-q.bindings[0].groupNode.order);for(let Q=0;Q<G.length;Q++){const q=G[Q];this.bindingsIndexes[q.name].group=Q,q.index=Q}}setHashNode(G,Q){this.hashNodes[Q]=G}addNode(G){this.nodes.includes(G)===!1&&(this.nodes.push(G),this.setHashNode(G,G.getHash(this)))}buildUpdateNodes(){for(const G of this.nodes){const Q=G.getUpdateType(),q=G.getUpdateBeforeType(),W=G.getUpdateAfterType();Q!==NodeUpdateType.NONE&&this.updateNodes.push(G.getSelf()),q!==NodeUpdateType.NONE&&this.updateBeforeNodes.push(G.getSelf()),W!==NodeUpdateType.NONE&&this.updateAfterNodes.push(G.getSelf())}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(G){return G.magFilter===LinearFilter||G.magFilter===LinearMipmapNearestFilter||G.magFilter===NearestMipmapLinearFilter||G.magFilter===LinearMipmapLinearFilter||G.minFilter===LinearFilter||G.minFilter===LinearMipmapNearestFilter||G.minFilter===NearestMipmapLinearFilter||G.minFilter===LinearMipmapLinearFilter}addChain(G){this.chaining.push(G)}removeChain(G){if(this.chaining.pop()!==G)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(G){return G}getNodeFromHash(G){return this.hashNodes[G]}addFlow(G,Q){return this.flowNodes[G].push(Q),Q}setContext(G){this.context=G}getContext(){return this.context}getSharedContext(){return{...this.context},this.context}setCache(G){this.cache=G}getCache(){return this.cache}getCacheFromNode(G,Q=!0){const q=this.getDataFromNode(G);return q.cache===void 0&&(q.cache=new NodeCache(Q?this.getCache():null)),q.cache}isAvailable(){return!1}getVertexIndex(){console.warn("Abstract function.")}getInstanceIndex(){console.warn("Abstract function.")}getDrawIndex(){console.warn("Abstract function.")}getFrontFacing(){console.warn("Abstract function.")}getFragCoord(){console.warn("Abstract function.")}isFlipY(){return!1}increaseUsage(G){const Q=this.getDataFromNode(G);return Q.usageCount=Q.usageCount===void 0?1:Q.usageCount+1,Q.usageCount}generateTexture(){console.warn("Abstract function.")}generateTextureLod(){console.warn("Abstract function.")}generateConst(G,Q=null){if(Q===null&&(G==="float"||G==="int"||G==="uint"?Q=0:G==="bool"?Q=!1:G==="color"?Q=new Color:G==="vec2"?Q=new Vector2:G==="vec3"?Q=new Vector3:G==="vec4"&&(Q=new Vector4)),G==="float")return toFloat(Q);if(G==="int")return`${Math.round(Q)}`;if(G==="uint")return Q>=0?`${Math.round(Q)}u`:"0u";if(G==="bool")return Q?"true":"false";if(G==="color")return`${this.getType("vec3")}( ${toFloat(Q.r)}, ${toFloat(Q.g)}, ${toFloat(Q.b)} )`;const q=this.getTypeLength(G),W=this.getComponentType(G),J=F=>this.generateConst(W,F);if(q===2)return`${this.getType(G)}( ${J(Q.x)}, ${J(Q.y)} )`;if(q===3)return`${this.getType(G)}( ${J(Q.x)}, ${J(Q.y)}, ${J(Q.z)} )`;if(q===4)return`${this.getType(G)}( ${J(Q.x)}, ${J(Q.y)}, ${J(Q.z)}, ${J(Q.w)} )`;if(q>4&&Q&&(Q.isMatrix3||Q.isMatrix4))return`${this.getType(G)}( ${Q.elements.map(J).join(", ")} )`;if(q>4)return`${this.getType(G)}()`;throw new Error(`NodeBuilder: Type '${G}' not found in generate constant attempt.`)}getType(G){return G==="color"?"vec3":G}hasGeometryAttribute(G){return this.geometry&&this.geometry.getAttribute(G)!==void 0}getAttribute(G,Q){const q=this.attributes;for(const J of q)if(J.name===G)return J;const W=new NodeAttribute(G,Q);return q.push(W),W}getPropertyName(G){return G.name}isVector(G){return/vec\d/.test(G)}isMatrix(G){return/mat\d/.test(G)}isReference(G){return G==="void"||G==="property"||G==="sampler"||G==="texture"||G==="cubeTexture"||G==="storageTexture"||G==="depthTexture"||G==="texture3D"}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(G){const Q=G.type;if(G.isDataTexture){if(Q===IntType)return"int";if(Q===UnsignedIntType)return"uint"}return"float"}getElementType(G){return G==="mat2"?"vec2":G==="mat3"?"vec3":G==="mat4"?"vec4":this.getComponentType(G)}getComponentType(G){if(G=this.getVectorType(G),G==="float"||G==="bool"||G==="int"||G==="uint")return G;const Q=/(b|i|u|)(vec|mat)([2-4])/.exec(G);return Q===null?null:Q[1]==="b"?"bool":Q[1]==="i"?"int":Q[1]==="u"?"uint":"float"}getVectorType(G){return G==="color"?"vec3":G==="texture"||G==="cubeTexture"||G==="storageTexture"||G==="texture3D"?"vec4":G}getTypeFromLength(G,Q="float"){if(G===1)return Q;const q=typeFromLength.get(G);return(Q==="float"?"":Q[0])+q}getTypeFromArray(G){return typeFromArray.get(G.constructor)}getTypeFromAttribute(G){let Q=G;G.isInterleavedBufferAttribute&&(Q=G.data);const q=Q.array,W=G.itemSize,J=G.normalized;let F;return!(G instanceof Float16BufferAttribute)&&J!==!0&&(F=this.getTypeFromArray(q)),this.getTypeFromLength(W,F)}getTypeLength(G){const Q=this.getVectorType(G),q=/vec([2-4])/.exec(Q);return q!==null?Number(q[1]):Q==="float"||Q==="bool"||Q==="int"||Q==="uint"?1:/mat2/.test(G)===!0?4:/mat3/.test(G)===!0?9:/mat4/.test(G)===!0?16:0}getVectorFromMatrix(G){return G.replace("mat","vec")}changeComponentType(G,Q){return this.getTypeFromLength(this.getTypeLength(G),Q)}getIntegerType(G){const Q=this.getComponentType(G);return Q==="int"||Q==="uint"?G:this.changeComponentType(G,"int")}addStack(){return this.stack=stack(this.stack),this.stacks.push(getCurrentStack()||this.stack),setCurrentStack(this.stack),this.stack}removeStack(){const G=this.stack;return this.stack=G.parent,setCurrentStack(this.stacks.pop()),G}getDataFromNode(G,Q=this.shaderStage,q=null){q=q===null?G.isGlobal(this)?this.globalCache:this.cache:q;let W=q.getData(G);return W===void 0&&(W={},q.setData(G,W)),W[Q]===void 0&&(W[Q]={}),W[Q]}getNodeProperties(G,Q="any"){const q=this.getDataFromNode(G,Q);return q.properties||(q.properties={outputNode:null})}getBufferAttributeFromNode(G,Q){const q=this.getDataFromNode(G);let W=q.bufferAttribute;if(W===void 0){const J=this.uniforms.index++;W=new NodeAttribute("nodeAttribute"+J,Q,G),this.bufferAttributes.push(W),q.bufferAttribute=W}return W}getStructTypeFromNode(G,Q=this.shaderStage){const q=this.getDataFromNode(G,Q);if(q.structType===void 0){const W=this.structs.index++;G.name=`StructType${W}`,this.structs[Q].push(G),q.structType=G}return G}getUniformFromNode(G,Q,q=this.shaderStage,W=null){const J=this.getDataFromNode(G,q,this.globalCache);let F=J.uniform;if(F===void 0){const Y=this.uniforms.index++;F=new NodeUniform(W||"nodeUniform"+Y,Q,G),this.uniforms[q].push(F),J.uniform=F}return F}getVarFromNode(G,Q=null,q=G.getNodeType(this),W=this.shaderStage){const J=this.getDataFromNode(G,W);let F=J.variable;if(F===void 0){const Y=this.vars[W]||(this.vars[W]=[]);Q===null&&(Q="nodeVar"+Y.length),F=new NodeVar(Q,q),Y.push(F),J.variable=F}return F}getVaryingFromNode(G,Q=null,q=G.getNodeType(this)){const W=this.getDataFromNode(G,"any");let J=W.varying;if(J===void 0){const F=this.varyings,Y=F.length;Q===null&&(Q="nodeVarying"+Y),J=new NodeVarying(Q,q),F.push(J),W.varying=J}return J}getCodeFromNode(G,Q,q=this.shaderStage){const W=this.getDataFromNode(G);let J=W.code;if(J===void 0){const F=this.codes[q]||(this.codes[q]=[]),Y=F.length;J=new NodeCode("nodeCode"+Y,Q),F.push(J),W.code=J}return J}addFlowCodeHierarchy(G,Q){const{flowCodes:q,flowCodeBlock:W}=this.getDataFromNode(G);let J=!0,F=Q;for(;F;){if(W.get(F)===!0){J=!1;break}F=this.getDataFromNode(F).parentNodeBlock}if(J)for(const Y of q)this.addLineFlowCode(Y)}addLineFlowCodeBlock(G,Q,q){const W=this.getDataFromNode(G),J=W.flowCodes||(W.flowCodes=[]),F=W.flowCodeBlock||(W.flowCodeBlock=new WeakMap);J.push(Q),F.set(q,!0)}addLineFlowCode(G,Q=null){return G===""?this:(Q!==null&&this.context.nodeBlock&&this.addLineFlowCodeBlock(Q,G,this.context.nodeBlock),G=this.tab+G,/;\s*$/.test(G)||(G=G+`;
`),this.flow.code+=G,this)}addFlowCode(G){return this.flow.code+=G,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(G){return this.flowsData.get(G)}flowNode(G){const Q=G.getNodeType(this),q=this.flowChildNode(G,Q);return this.flowsData.set(G,q),q}buildFunctionNode(G){const Q=new FunctionNode,q=this.currentFunctionNode;return this.currentFunctionNode=Q,Q.code=this.buildFunctionCode(G),this.currentFunctionNode=q,Q}flowShaderNode(G){const Q=G.layout,q={[Symbol.iterator](){let F=0;const Y=Object.values(this);return{next:()=>({value:Y[F],done:F++>=Y.length})}}};for(const F of Q.inputs)q[F.name]=new ParameterNode(F.type,F.name);G.layout=null;const W=G.call(q),J=this.flowStagesNode(W,Q.type);return G.layout=Q,J}flowStagesNode(G,Q=null){const q=this.flow,W=this.vars,J=this.cache,F=this.buildStage,Y=this.stack,X={code:""};this.flow=X,this.vars={},this.cache=new NodeCache,this.stack=stack();for(const te of defaultBuildStages)this.setBuildStage(te),X.result=G.build(this,Q);return X.vars=this.getVars(this.shaderStage),this.flow=q,this.vars=W,this.cache=J,this.stack=Y,this.setBuildStage(F),X}getFunctionOperator(){return null}flowChildNode(G,Q=null){const q=this.flow,W={code:""};return this.flow=W,W.result=G.build(this,Q),this.flow=q,W}flowNodeFromShaderStage(G,Q,q=null,W=null){const J=this.shaderStage;this.setShaderStage(G);const F=this.flowChildNode(Q,q);return W!==null&&(F.code+=`${this.tab+W} = ${F.result};
`),this.flowCode[G]=this.flowCode[G]+F.code,this.setShaderStage(J),F}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){console.warn("Abstract function.")}getVaryings(){console.warn("Abstract function.")}getVar(G,Q){return`${this.getType(G)} ${Q}`}getVars(G){let Q="";const q=this.vars[G];if(q!==void 0)for(const W of q)Q+=`${this.getVar(W.type,W.name)}; `;return Q}getUniforms(){console.warn("Abstract function.")}getCodes(G){const Q=this.codes[G];let q="";if(Q!==void 0)for(const W of Q)q+=W.code+`
`;return q}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(G){this.shaderStage=G}getShaderStage(){return this.shaderStage}setBuildStage(G){this.buildStage=G}getBuildStage(){return this.buildStage}buildCode(){console.warn("Abstract function.")}build(){const{object:G,material:Q,renderer:q}=this;if(Q!==null){let W=q.nodes.library.fromMaterial(Q);W===null&&(console.error(`NodeMaterial: Material "${Q.type}" is not compatible.`),W=new NodeMaterial),W.build(this)}else this.addFlow("compute",G);for(const W of defaultBuildStages){this.setBuildStage(W),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const J of shaderStages){this.setShaderStage(J);const F=this.flowNodes[J];for(const Y of F)W==="generate"?this.flowNode(Y):Y.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(G,Q){if(Q==="float"||Q==="int"||Q==="uint")return new NumberNodeUniform(G);if(Q==="vec2"||Q==="ivec2"||Q==="uvec2")return new Vector2NodeUniform(G);if(Q==="vec3"||Q==="ivec3"||Q==="uvec3")return new Vector3NodeUniform(G);if(Q==="vec4"||Q==="ivec4"||Q==="uvec4")return new Vector4NodeUniform(G);if(Q==="color")return new ColorNodeUniform(G);if(Q==="mat3")return new Matrix3NodeUniform(G);if(Q==="mat4")return new Matrix4NodeUniform(G);throw new Error(`Uniform "${Q}" not declared.`)}createNodeMaterial(G="NodeMaterial"){throw new Error(`THREE.NodeBuilder: createNodeMaterial() was deprecated. Use new ${G}() instead.`)}format(G,Q,q){if(Q=this.getVectorType(Q),q=this.getVectorType(q),Q===q||q===null||this.isReference(q))return G;const W=this.getTypeLength(Q),J=this.getTypeLength(q);return W===16&&J===9?`${this.getType(q)}(${G}[0].xyz, ${G}[1].xyz, ${G}[2].xyz)`:W===9&&J===4?`${this.getType(q)}(${G}[0].xy, ${G}[1].xy)`:W>4||J>4||J===0?G:W===J?`${this.getType(q)}( ${G} )`:W>J?this.format(`${G}.${"xyz".slice(0,J)}`,this.getTypeFromLength(J,this.getComponentType(Q)),q):J===4&&W>1?`${this.getType(q)}( ${this.format(G,Q,"vec3")}, 1.0 )`:W===2?`${this.getType(q)}( ${this.format(G,Q,"vec2")}, 0.0 )`:(W===1&&J>1&&Q!==this.getComponentType(q)&&(G=`${this.getType(this.getComponentType(q))}( ${G} )`),`${this.getType(q)}( ${G} )`)}getSignature(){return`// Three.js r${REVISION} - Node System
`}}class NodeFrame{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.startTime=null,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(G,Q){let q=G.get(Q);return q===void 0&&(q={renderMap:new WeakMap,frameMap:new WeakMap},G.set(Q,q)),q}updateBeforeNode(G){const Q=G.getUpdateBeforeType(),q=G.updateReference(this);if(Q===NodeUpdateType.FRAME){const{frameMap:W}=this._getMaps(this.updateBeforeMap,q);W.get(q)!==this.frameId&&G.updateBefore(this)!==!1&&W.set(q,this.frameId)}else if(Q===NodeUpdateType.RENDER){const{renderMap:W}=this._getMaps(this.updateBeforeMap,q);W.get(q)!==this.renderId&&G.updateBefore(this)!==!1&&W.set(q,this.renderId)}else Q===NodeUpdateType.OBJECT&&G.updateBefore(this)}updateAfterNode(G){const Q=G.getUpdateAfterType(),q=G.updateReference(this);if(Q===NodeUpdateType.FRAME){const{frameMap:W}=this._getMaps(this.updateAfterMap,q);W.get(q)!==this.frameId&&G.updateAfter(this)!==!1&&W.set(q,this.frameId)}else if(Q===NodeUpdateType.RENDER){const{renderMap:W}=this._getMaps(this.updateAfterMap,q);W.get(q)!==this.renderId&&G.updateAfter(this)!==!1&&W.set(q,this.renderId)}else Q===NodeUpdateType.OBJECT&&G.updateAfter(this)}updateNode(G){const Q=G.getUpdateType(),q=G.updateReference(this);if(Q===NodeUpdateType.FRAME){const{frameMap:W}=this._getMaps(this.updateMap,q);W.get(q)!==this.frameId&&G.update(this)!==!1&&W.set(q,this.frameId)}else if(Q===NodeUpdateType.RENDER){const{renderMap:W}=this._getMaps(this.updateMap,q);W.get(q)!==this.renderId&&G.update(this)!==!1&&W.set(q,this.renderId)}else Q===NodeUpdateType.OBJECT&&G.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class NodeFunctionInput{constructor(G,Q,q=null,W="",J=!1){this.type=G,this.name=Q,this.count=q,this.qualifier=W,this.isConst=J}}NodeFunctionInput.isNodeFunctionInput=!0;class TimerNode extends UniformNode{static get type(){return"TimerNode"}constructor(G=TimerNode.LOCAL,Q=1,q=0){super(q),this.scope=G,this.scale=Q,this.updateType=NodeUpdateType.FRAME}update(G){const Q=this.scope,q=this.scale;Q===TimerNode.LOCAL?this.value+=G.deltaTime*q:Q===TimerNode.DELTA?this.value=G.deltaTime*q:Q===TimerNode.FRAME?this.value=G.frameId:this.value=G.time*q}serialize(G){super.serialize(G),G.scope=this.scope,G.scale=this.scale}deserialize(G){super.deserialize(G),this.scope=G.scope,this.scale=G.scale}}TimerNode.LOCAL="local",TimerNode.GLOBAL="global",TimerNode.DELTA="delta",TimerNode.FRAME="frame";const timerLocal=(U,G=0)=>nodeObject(new TimerNode(TimerNode.LOCAL,U,G));class OscNode extends Node$1{static get type(){return"OscNode"}constructor(G=OscNode.SINE,Q=timerLocal()){super(),this.method=G,this.timeNode=Q}getNodeType(G){return this.timeNode.getNodeType(G)}setup(){const G=this.method,Q=nodeObject(this.timeNode);let q=null;return G===OscNode.SINE?q=Q.add(.75).mul(Math.PI*2).sin().mul(.5).add(.5):G===OscNode.SQUARE?q=Q.fract().round():G===OscNode.TRIANGLE?q=Q.add(.5).fract().mul(2).sub(1).abs():G===OscNode.SAWTOOTH&&(q=Q.fract()),q}serialize(G){super.serialize(G),G.method=this.method}deserialize(G){super.deserialize(G),this.method=G.method}}OscNode.SINE="sine",OscNode.SQUARE="square",OscNode.TRIANGLE="triangle",OscNode.SAWTOOTH="sawtooth";class StorageArrayElementNode extends ArrayElementNode{static get type(){return"StorageArrayElementNode"}constructor(G,Q){super(G,Q),this.isStorageArrayElementNode=!0}set storageBufferNode(G){this.node=G}get storageBufferNode(){return this.node}setup(G){return G.isAvailable("storageBuffer")===!1&&this.node.bufferObject===!0&&G.setupPBO(this.node),super.setup(G)}generate(G,Q){let q;const W=G.context.assign;if(G.isAvailable("storageBuffer")===!1?this.node.bufferObject===!0&&W!==!0?q=G.generatePBO(this):q=this.node.build(G):q=super.generate(G),W!==!0){const J=this.getNodeType(G);q=G.format(q,J,Q)}return q}}const storageElement=nodeProxy(StorageArrayElementNode);new Plane,new Vector3,new Vector3,new Vector3,new Matrix4,new Vector3(0,0,-1),new Vector4,new Vector3,new Vector3,new Vector4,new Vector2,new RenderTarget,screenUV.flipX();const _camera=new OrthographicCamera(-1,1,1,-1,0,1);class QuadGeometry extends BufferGeometry{constructor(G=!1){super();const Q=G===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new Float32BufferAttribute([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Float32BufferAttribute(Q,2))}}const _geometry=new QuadGeometry;class QuadMesh extends Mesh{constructor(G=null){super(_geometry,G),this.camera=_camera,this.isQuadMesh=!0}renderAsync(G){return G.renderAsync(this,_camera)}render(G){G.render(this,_camera)}}class SceneNode extends Node$1{static get type(){return"SceneNode"}constructor(G=SceneNode.BACKGROUND_BLURRINESS,Q=null){super(),this.scope=G,this.scene=Q}setup(G){const Q=this.scope,q=this.scene!==null?this.scene:G.scene;let W;return Q===SceneNode.BACKGROUND_BLURRINESS?W=reference("backgroundBlurriness","float",q):Q===SceneNode.BACKGROUND_INTENSITY?W=reference("backgroundIntensity","float",q):console.error("THREE.SceneNode: Unknown scope:",Q),W}}SceneNode.BACKGROUND_BLURRINESS="backgroundBlurriness",SceneNode.BACKGROUND_INTENSITY="backgroundIntensity";const backgroundBlurriness=nodeImmutable(SceneNode,SceneNode.BACKGROUND_BLURRINESS),backgroundIntensity=nodeImmutable(SceneNode,SceneNode.BACKGROUND_INTENSITY),GPUPrimitiveTopology={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},GPUCompareFunction={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},GPUStoreOp={Store:"store",Discard:"discard"},GPULoadOp={Load:"load",Clear:"clear"},GPUFrontFace={CCW:"ccw",CW:"cw"},GPUCullMode={None:"none",Front:"front",Back:"back"},GPUIndexFormat={Uint16:"uint16",Uint32:"uint32"},GPUTextureFormat={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10uFloat:"rgb10a2unorm",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Stencil8:"stencil8",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},GPUAddressMode={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},GPUFilterMode={Linear:"linear",Nearest:"nearest"},GPUBlendFactor={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDstColor:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},GPUBlendOperation={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},GPUColorWriteFlags={None:0,Red:1,Green:2,Blue:4,Alpha:8,All:15},GPUStencilOperation={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},GPUBufferBindingType={Uniform:"uniform",Storage:"storage",ReadOnlyStorage:"read-only-storage"},GPUStorageTextureAccess={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"},GPUTextureSampleType={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},GPUTextureDimension={OneD:"1d",TwoD:"2d",ThreeD:"3d"},GPUTextureViewDimension={OneD:"1d",TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",CubeArray:"cube-array",ThreeD:"3d"},GPUTextureAspect={All:"all",StencilOnly:"stencil-only",DepthOnly:"depth-only"},GPUInputStepMode={Vertex:"vertex",Instance:"instance"},GPUFeatureName={DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups"};class StorageBufferNode extends BufferNode{static get type(){return"StorageBufferNode"}constructor(G,Q,q=0){super(G,Q,q),this.isStorageBufferNode=!0,this.access=GPUBufferBindingType.Storage,this.isAtomic=!1,this.bufferObject=!1,this.bufferCount=q,this._attribute=null,this._varying=null,this.global=!0,G.isStorageBufferAttribute!==!0&&G.isStorageInstancedBufferAttribute!==!0&&(G.isInstancedBufferAttribute?G.isStorageInstancedBufferAttribute=!0:G.isStorageBufferAttribute=!0)}getHash(G){if(this.bufferCount===0){let Q=G.globalCache.getData(this.value);return Q===void 0&&(Q={node:this},G.globalCache.setData(this.value,Q)),Q.node.uuid}return this.uuid}getInputType(){return"storageBuffer"}element(G){return storageElement(this,G)}setBufferObject(G){return this.bufferObject=G,this}setAccess(G){return this.access=G,this}toReadOnly(){return this.setAccess(GPUBufferBindingType.ReadOnlyStorage)}setAtomic(G){return this.isAtomic=G,this}toAtomic(){return this.setAtomic(!0)}generate(G){if(G.isAvailable("storageBuffer"))return super.generate(G);const Q=this.getNodeType(G);this._attribute===null&&(this._attribute=bufferAttribute(this.value),this._varying=varying(this._attribute));const q=this._varying.build(G,Q);return G.registerTransform(q,this._attribute),q}}const storage=(U,G,Q)=>nodeObject(new StorageBufferNode(U,G,Q)),_size$7=new Vector2;class PassTextureNode extends TextureNode{static get type(){return"PassTextureNode"}constructor(G,Q){super(Q),this.passNode=G,this.setUpdateMatrix(!1)}setup(G){return G.object.isQuadMesh&&this.passNode.build(G),super.setup(G)}clone(){return new this.constructor(this.passNode,this.value)}}class PassMultipleTextureNode extends PassTextureNode{static get type(){return"PassMultipleTextureNode"}constructor(G,Q,q=!1){super(G,null),this.textureName=Q,this.previousTexture=q}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(G){return this.updateTexture(),super.setup(G)}clone(){return new this.constructor(this.passNode,this.textureName,this.previousTexture)}}class PassNode extends TempNode{static get type(){return"PassNode"}constructor(G,Q,q,W={}){super("vec4"),this.scope=G,this.scene=Q,this.camera=q,this.options=W,this._pixelRatio=1,this._width=1,this._height=1;const J=new DepthTexture;J.isRenderTargetTexture=!0,J.name="depth";const F=new RenderTarget(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:HalfFloatType,...W});F.texture.name="output",F.depthTexture=J,this.renderTarget=F,this.updateBeforeType=NodeUpdateType.FRAME,this._textures={output:F.texture,depth:J},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=uniform(0),this._cameraFar=uniform(0),this._mrt=null,this.isPassNode=!0}setMRT(G){return this._mrt=G,this}getMRT(){return this._mrt}isGlobal(){return!0}getTexture(G){let Q=this._textures[G];return Q===void 0&&(Q=this.renderTarget.texture.clone(),Q.isRenderTargetTexture=!0,Q.name=G,this._textures[G]=Q,this.renderTarget.textures.push(Q)),Q}getPreviousTexture(G){let Q=this._previousTextures[G];return Q===void 0&&(Q=this.getTexture(G).clone(),Q.isRenderTargetTexture=!0,this._previousTextures[G]=Q),Q}toggleTexture(G){const Q=this._previousTextures[G];if(Q!==void 0){const q=this._textures[G],W=this.renderTarget.textures.indexOf(q);this.renderTarget.textures[W]=Q,this._textures[G]=Q,this._previousTextures[G]=q,this._textureNodes[G].updateTexture(),this._previousTextureNodes[G].updateTexture()}}getTextureNode(G="output"){let Q=this._textureNodes[G];return Q===void 0&&(this._textureNodes[G]=Q=nodeObject(new PassMultipleTextureNode(this,G)),this._textureNodes[G].updateTexture()),Q}getPreviousTextureNode(G="output"){let Q=this._previousTextureNodes[G];return Q===void 0&&(this._textureNodes[G]===void 0&&this.getTextureNode(G),this._previousTextureNodes[G]=Q=nodeObject(new PassMultipleTextureNode(this,G,!0)),this._previousTextureNodes[G].updateTexture()),Q}getViewZNode(G="depth"){let Q=this._viewZNodes[G];if(Q===void 0){const q=this._cameraNear,W=this._cameraFar;this._viewZNodes[G]=Q=perspectiveDepthToViewZ(this.getTextureNode(G),q,W)}return Q}getLinearDepthNode(G="depth"){let Q=this._linearDepthNodes[G];if(Q===void 0){const q=this._cameraNear,W=this._cameraFar,J=this.getViewZNode(G);this._linearDepthNodes[G]=Q=viewZToOrthographicDepth(J,q,W)}return Q}setup({renderer:G}){return this.renderTarget.samples=this.options.samples===void 0?G.samples:this.options.samples,G.backend.isWebGLBackend===!0&&(this.renderTarget.samples=0),this.renderTarget.depthTexture.isMultisampleRenderTargetTexture=this.renderTarget.samples>1,this.scope===PassNode.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(G){const{renderer:Q}=G,{scene:q,camera:W}=this;this._pixelRatio=Q.getPixelRatio();const J=Q.getSize(_size$7);this.setSize(J.width,J.height);const F=Q.getRenderTarget(),Y=Q.getMRT();this._cameraNear.value=W.near,this._cameraFar.value=W.far;for(const X in this._previousTextures)this.toggleTexture(X);Q.setRenderTarget(this.renderTarget),Q.setMRT(this._mrt),Q.render(q,W),Q.setRenderTarget(F),Q.setMRT(Y)}setSize(G,Q){this._width=G,this._height=Q;const q=this._width*this._pixelRatio,W=this._height*this._pixelRatio;this.renderTarget.setSize(q,W)}setPixelRatio(G){this._pixelRatio=G,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}PassNode.COLOR="color",PassNode.DEPTH="depth";class FogNode extends Node$1{static get type(){return"FogNode"}constructor(G,Q){super("float"),this.isFogNode=!0,this.colorNode=G,this.factorNode=Q}getViewZNode(G){let Q;const q=G.context.getViewZ;return q!==void 0&&(Q=q(this)),(Q||positionView.z).negate()}setup(){return this.factorNode}}class FogRangeNode extends FogNode{static get type(){return"FogRangeNode"}constructor(G,Q,q){super(G),this.isFogRangeNode=!0,this.nearNode=Q,this.farNode=q}setup(G){const Q=this.getViewZNode(G);return smoothstep(this.nearNode,this.farNode,Q)}}const rangeFog=nodeProxy(FogRangeNode);class FogExp2Node extends FogNode{static get type(){return"FogExp2Node"}constructor(G,Q){super(G),this.isFogExp2Node=!0,this.densityNode=Q}setup(G){const Q=this.getViewZNode(G),q=this.densityNode;return q.mul(q,Q,Q).negate().exp().oneMinus()}}const densityFog=nodeProxy(FogExp2Node),BasicShadowMap=Fn(({depthTexture:U,shadowCoord:G})=>texture(U,G.xy).compare(G.z)),PCFShadowMap=Fn(({depthTexture:U,shadowCoord:G,shadow:Q})=>{const q=(ue,ce)=>texture(U,ue).compare(ce),W=reference("mapSize","vec2",Q).setGroup(renderGroup),J=reference("radius","float",Q).setGroup(renderGroup),F=vec2(1).div(W),Y=F.x.negate().mul(J),X=F.y.negate().mul(J),te=F.x.mul(J),re=F.y.mul(J),ne=Y.div(2),ie=X.div(2),oe=te.div(2),ae=re.div(2);return add$4(q(G.xy.add(vec2(Y,X)),G.z),q(G.xy.add(vec2(0,X)),G.z),q(G.xy.add(vec2(te,X)),G.z),q(G.xy.add(vec2(ne,ie)),G.z),q(G.xy.add(vec2(0,ie)),G.z),q(G.xy.add(vec2(oe,ie)),G.z),q(G.xy.add(vec2(Y,0)),G.z),q(G.xy.add(vec2(ne,0)),G.z),q(G.xy,G.z),q(G.xy.add(vec2(oe,0)),G.z),q(G.xy.add(vec2(te,0)),G.z),q(G.xy.add(vec2(ne,ae)),G.z),q(G.xy.add(vec2(0,ae)),G.z),q(G.xy.add(vec2(oe,ae)),G.z),q(G.xy.add(vec2(Y,re)),G.z),q(G.xy.add(vec2(0,re)),G.z),q(G.xy.add(vec2(te,re)),G.z)).mul(1/17)}),PCFSoftShadowMap=Fn(({depthTexture:U,shadowCoord:G,shadow:Q})=>{const q=(re,ne)=>texture(U,re).compare(ne),W=reference("mapSize","vec2",Q).setGroup(renderGroup),J=vec2(1).div(W),F=J.x,Y=J.y,X=G.xy,te=fract(X.mul(W).add(.5));return X.subAssign(te.mul(J)),add$4(q(X,G.z),q(X.add(vec2(F,0)),G.z),q(X.add(vec2(0,Y)),G.z),q(X.add(J),G.z),mix(q(X.add(vec2(F.negate(),0)),G.z),q(X.add(vec2(F.mul(2),0)),G.z),te.x),mix(q(X.add(vec2(F.negate(),Y)),G.z),q(X.add(vec2(F.mul(2),Y)),G.z),te.x),mix(q(X.add(vec2(0,Y.negate())),G.z),q(X.add(vec2(0,Y.mul(2))),G.z),te.y),mix(q(X.add(vec2(F,Y.negate())),G.z),q(X.add(vec2(F,Y.mul(2))),G.z),te.y),mix(mix(q(X.add(vec2(F.negate(),Y.negate())),G.z),q(X.add(vec2(F.mul(2),Y.negate())),G.z),te.x),mix(q(X.add(vec2(F.negate(),Y.mul(2))),G.z),q(X.add(vec2(F.mul(2),Y.mul(2))),G.z),te.x),te.y)).mul(1/9)}),VSMShadowMapNode=Fn(({depthTexture:U,shadowCoord:G})=>{const Q=float(1).toVar(),q=texture(U).uv(G.xy).rg,W=step(G.z,q.x);return If(W.notEqual(float(1)),()=>{const J=G.z.sub(q.x),F=max$1$1(0,q.y.mul(q.y));let Y=F.div(F.add(J.mul(J)));Y=clamp(sub(Y,.3).div(.95-.3)),Q.assign(clamp(max$1$1(W,Y)))}),Q}),VSMPassVertical=Fn(({samples:U,radius:G,size:Q,shadowPass:q})=>{const W=float(0).toVar(),J=float(0).toVar(),F=U.lessThanEqual(float(1)).select(float(0),float(2).div(U.sub(1))),Y=U.lessThanEqual(float(1)).select(float(0),float(-1));Loop({start:int$1(0),end:int$1(U),type:"int",condition:"<"},({i:te})=>{const re=Y.add(float(te).mul(F)),ne=q.uv(add$4(screenCoordinate.xy,vec2(0,re).mul(G)).div(Q)).x;W.addAssign(ne),J.addAssign(ne.mul(ne))}),W.divAssign(U),J.divAssign(U);const X=sqrt(J.sub(W.mul(W)));return vec2(W,X)}),VSMPassHorizontal=Fn(({samples:U,radius:G,size:Q,shadowPass:q})=>{const W=float(0).toVar(),J=float(0).toVar(),F=U.lessThanEqual(float(1)).select(float(0),float(2).div(U.sub(1))),Y=U.lessThanEqual(float(1)).select(float(0),float(-1));Loop({start:int$1(0),end:int$1(U),type:"int",condition:"<"},({i:te})=>{const re=Y.add(float(te).mul(F)),ne=q.uv(add$4(screenCoordinate.xy,vec2(re,0).mul(G)).div(Q));W.addAssign(ne.x),J.addAssign(add$4(ne.y.mul(ne.y),ne.x.mul(ne.x)))}),W.divAssign(U),J.divAssign(U);const X=sqrt(J.sub(W.mul(W)));return vec2(W,X)}),_shadowFilterLib=[BasicShadowMap,PCFShadowMap,PCFSoftShadowMap,VSMShadowMapNode];let _overrideMaterial=null;const _quadMesh$1=new QuadMesh;class AnalyticLightNode extends LightingNode{static get type(){return"AnalyticLightNode"}constructor(G=null){super(),this.updateType=NodeUpdateType.FRAME,this.light=G,this.color=new Color,this.colorNode=uniform(this.color).setGroup(renderGroup),this.baseColorNode=null,this.shadowMap=null,this.shadowNode=null,this.shadowColorNode=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this.isAnalyticLightNode=!0}getCacheKey(){return hash$1(super.getCacheKey(),this.light.id,this.light.castShadow?1:0)}getHash(){return this.light.uuid}setupShadow(G){const{object:Q,renderer:q}=G;if(q.shadowMap.enabled===!1)return;let W=this.shadowColorNode;if(W===null){_overrideMaterial===null&&(_overrideMaterial=new NodeMaterial,_overrideMaterial.fragmentNode=vec4(0,0,0,1),_overrideMaterial.isShadowNodeMaterial=!0,_overrideMaterial.name="ShadowMaterial");const J=q.shadowMap.type,F=this.light.shadow,Y=new DepthTexture;Y.compareFunction=LessCompare;const X=G.createRenderTarget(F.mapSize.width,F.mapSize.height);if(X.depthTexture=Y,F.camera.updateProjectionMatrix(),J===VSMShadowMap){Y.compareFunction=null,this.vsmShadowMapVertical=G.createRenderTarget(F.mapSize.width,F.mapSize.height,{format:RGFormat,type:HalfFloatType}),this.vsmShadowMapHorizontal=G.createRenderTarget(F.mapSize.width,F.mapSize.height,{format:RGFormat,type:HalfFloatType});const de=texture(Y),he=texture(this.vsmShadowMapVertical.texture),pe=reference("blurSamples","float",F).setGroup(renderGroup),ge=reference("radius","float",F).setGroup(renderGroup),be=reference("mapSize","vec2",F).setGroup(renderGroup);let ve=this.vsmMaterialVertical||(this.vsmMaterialVertical=new NodeMaterial);ve.fragmentNode=VSMPassVertical({samples:pe,radius:ge,size:be,shadowPass:de}).context(G.getSharedContext()),ve.name="VSMVertical",ve=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new NodeMaterial),ve.fragmentNode=VSMPassHorizontal({samples:pe,radius:ge,size:be,shadowPass:he}).context(G.getSharedContext()),ve.name="VSMHorizontal"}const te=reference("intensity","float",F).setGroup(renderGroup),re=reference("bias","float",F).setGroup(renderGroup),ne=reference("normalBias","float",F).setGroup(renderGroup),ie=Q.material.shadowPositionNode||positionWorld;let oe=uniform(F.matrix).setGroup(renderGroup).mul(ie.add(normalWorld.mul(ne)));oe=oe.xyz.div(oe.w);let ae=oe.z.add(re);q.coordinateSystem===WebGPUCoordinateSystem&&(ae=ae.mul(2).sub(1)),oe=vec3(oe.x,oe.y.oneMinus(),ae);const ue=oe.x.greaterThanEqual(0).and(oe.x.lessThanEqual(1)).and(oe.y.greaterThanEqual(0)).and(oe.y.lessThanEqual(1)).and(oe.z.lessThanEqual(1)),ce=F.filterNode||_shadowFilterLib[q.shadowMap.type]||null;if(ce===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const se=texture(X.texture,oe),le=ue.select(ce({depthTexture:J===VSMShadowMap?this.vsmShadowMapHorizontal.texture:Y,shadowCoord:oe,shadow:F}),float(1));this.shadowMap=X,this.light.shadow.map=X,this.shadowNode=le,this.shadowColorNode=W=this.colorNode.mul(mix(1,le.rgb.mix(se,1),te.mul(se.a))),this.baseColorNode=this.colorNode}this.colorNode=W,this.updateBeforeType=NodeUpdateType.RENDER}setup(G){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?G.object.receiveShadow&&this.setupShadow(G):this.shadowNode!==null&&this.disposeShadow()}updateShadow(G){const{shadowMap:Q,light:q}=this,{renderer:W,scene:J,camera:F}=G,Y=W.shadowMap.type,X=Q.depthTexture.version;this._depthVersionCached=X;const te=J.overrideMaterial;J.overrideMaterial=_overrideMaterial,Q.setSize(q.shadow.mapSize.width,q.shadow.mapSize.height),q.shadow.updateMatrices(q),q.shadow.camera.layers.mask=F.layers.mask;const re=W.getRenderTarget(),ne=W.getRenderObjectFunction();W.setRenderObjectFunction((ie,...oe)=>{(ie.castShadow===!0||ie.receiveShadow&&Y===VSMShadowMap)&&W.renderObject(ie,...oe)}),W.setRenderTarget(Q),W.render(J,q.shadow.camera),W.setRenderObjectFunction(ne),q.isPointLight!==!0&&Y===VSMShadowMap&&this.vsmPass(G,q),W.setRenderTarget(re),J.overrideMaterial=te}vsmPass(G,Q){const{renderer:q}=G;this.vsmShadowMapVertical.setSize(Q.shadow.mapSize.width,Q.shadow.mapSize.height),this.vsmShadowMapHorizontal.setSize(Q.shadow.mapSize.width,Q.shadow.mapSize.height),q.setRenderTarget(this.vsmShadowMapVertical),_quadMesh$1.material=this.vsmMaterialVertical,_quadMesh$1.render(q),q.setRenderTarget(this.vsmShadowMapHorizontal),_quadMesh$1.material=this.vsmMaterialHorizontal,_quadMesh$1.render(q)}disposeShadow(){this.shadowMap.dispose(),this.shadowMap=null,this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null),this.shadowNode=null,this.shadowColorNode=null,this.baseColorNode=null,this.updateBeforeType=NodeUpdateType.NONE}updateBefore(G){const Q=this.light.shadow;(Q.needsUpdate||Q.autoUpdate)&&(this.updateShadow(G),this.shadowMap.depthTexture.version===this._depthVersionCached&&(Q.needsUpdate=!1))}update(){const{light:G}=this;this.color.copy(G.color).multiplyScalar(G.intensity)}}const getDistanceAttenuation=Fn(U=>{const{lightDistance:G,cutoffDistance:Q,decayExponent:q}=U,W=G.pow(q).max(.01).reciprocal();return Q.greaterThan(0).select(W.mul(G.div(Q).pow4().oneMinus().clamp().pow2()),W)});let uniformsLib;function getLightData(U){uniformsLib=uniformsLib||new WeakMap;let G=uniformsLib.get(U);return G===void 0&&uniformsLib.set(U,G={}),G}function lightPosition(U){const G=getLightData(U);return G.position||(G.position=uniform(new Vector3).setGroup(renderGroup).onRenderUpdate((Q,q)=>q.value.setFromMatrixPosition(U.matrixWorld)))}function lightTargetPosition(U){const G=getLightData(U);return G.targetPosition||(G.targetPosition=uniform(new Vector3).setGroup(renderGroup).onRenderUpdate((Q,q)=>q.value.setFromMatrixPosition(U.target.matrixWorld)))}function lightViewPosition(U){const G=getLightData(U);return G.viewPosition||(G.viewPosition=uniform(new Vector3).setGroup(renderGroup).onRenderUpdate(({camera:Q},q)=>{q.value=q.value||new Vector3,q.value.setFromMatrixPosition(U.matrixWorld),q.value.applyMatrix4(Q.matrixWorldInverse)}))}const lightTargetDirection=U=>cameraViewMatrix.transformDirection(lightPosition(U).sub(lightTargetPosition(U))),sRGBToLinearSRGB=Fn(([U])=>{const G=U.mul(.9478672986).add(.0521327014).pow(2.4),Q=U.mul(.0773993808),q=U.lessThanEqual(.04045);return mix(G,Q,q)}).setLayout({name:"sRGBToLinearSRGB",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),linearSRGBTosRGB=Fn(([U])=>{const G=U.pow(.41666).mul(1.055).sub(.055),Q=U.mul(12.92),q=U.lessThanEqual(.0031308);return mix(G,Q,q)}).setLayout({name:"linearSRGBTosRGB",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),linearToneMapping=Fn(([U,G])=>U.mul(G).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),reinhardToneMapping=Fn(([U,G])=>(U=U.mul(G),U.div(U.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),cineonToneMapping=Fn(([U,G])=>{U=U.mul(G),U=U.sub(.004).max(0);const Q=U.mul(U.mul(6.2).add(.5)),q=U.mul(U.mul(6.2).add(1.7)).add(.06);return Q.div(q).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),RRTAndODTFit=Fn(([U])=>{const G=U.mul(U.add(.0245786)).sub(90537e-9),Q=U.mul(U.add(.432951).mul(.983729)).add(.238081);return G.div(Q)}),acesFilmicToneMapping=Fn(([U,G])=>{const Q=mat3(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),q=mat3(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return U=U.mul(G).div(.6),U=Q.mul(U),U=RRTAndODTFit(U),U=q.mul(U),U.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),LINEAR_REC2020_TO_LINEAR_SRGB=mat3(vec3(1.6605,-.1246,-.0182),vec3(-.5876,1.1329,-.1006),vec3(-.0728,-.0083,1.1187)),LINEAR_SRGB_TO_LINEAR_REC2020=mat3(vec3(.6274,.0691,.0164),vec3(.3293,.9195,.088),vec3(.0433,.0113,.8956)),agxDefaultContrastApprox=Fn(([U])=>{const G=vec3(U).toVar(),Q=vec3(G.mul(G)).toVar(),q=vec3(Q.mul(Q)).toVar();return float(15.5).mul(q.mul(Q)).sub(mul(40.14,q.mul(G))).add(mul(31.96,q).sub(mul(6.868,Q.mul(G))).add(mul(.4298,Q).add(mul(.1191,G).sub(.00232))))}),agxToneMapping=Fn(([U,G])=>{const Q=vec3(U).toVar(),q=mat3(vec3(.856627153315983,.137318972929847,.11189821299995),vec3(.0951212405381588,.761241990602591,.0767994186031903),vec3(.0482516061458583,.101439036467562,.811302368396859)),W=mat3(vec3(1.1271005818144368,-.1413297634984383,-.14132976349843826),vec3(-.11060664309660324,1.157823702216272,-.11060664309660294),vec3(-.016493938717834573,-.016493938717834257,1.2519364065950405)),J=float(-12.47393),F=float(4.026069);return Q.mulAssign(G),Q.assign(LINEAR_SRGB_TO_LINEAR_REC2020.mul(Q)),Q.assign(q.mul(Q)),Q.assign(max$1$1(Q,1e-10)),Q.assign(log2(Q)),Q.assign(Q.sub(J).div(F.sub(J))),Q.assign(clamp(Q,0,1)),Q.assign(agxDefaultContrastApprox(Q)),Q.assign(W.mul(Q)),Q.assign(pow(max$1$1(vec3(0),Q),vec3(2.2))),Q.assign(LINEAR_REC2020_TO_LINEAR_SRGB.mul(Q)),Q.assign(clamp(Q,0,1)),Q}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),neutralToneMapping=Fn(([U,G])=>{const Q=float(.76),q=float(.15);U=U.mul(G);const W=min$1(U.r,min$1(U.g,U.b)),J=select(W.lessThan(.08),W.sub(mul(6.25,W.mul(W))),.04);U.subAssign(J);const F=max$1$1(U.r,max$1$1(U.g,U.b));If(F.lessThan(Q),()=>U);const Y=sub(1,Q),X=sub(1,Y.mul(Y).div(F.add(Y.sub(Q))));U.mulAssign(X.div(F));const te=sub(1,div(1,q.mul(F.sub(X)).add(1)));return mix(U,vec3(X),te)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class BarrierNode extends Node$1{constructor(G){super(),this.scope=G}generate(G){const{scope:Q}=this,{renderer:q}=G;q.backend.isWebGLBackend===!0?G.addFlowCode(`	// ${Q}Barrier 
`):G.addLineFlowCode(`${Q}Barrier()`,this)}}nodeProxy(BarrierNode);class AtomicFunctionNode extends TempNode{static get type(){return"AtomicFunctionNode"}constructor(G,Q,q,W=null){super("uint"),this.method=G,this.pointerNode=Q,this.valueNode=q,this.storeNode=W}getInputType(G){return this.pointerNode.getNodeType(G)}getNodeType(G){return this.getInputType(G)}generate(G){const Q=this.method,q=this.getNodeType(G),W=this.getInputType(G),J=this.pointerNode,F=this.valueNode,Y=[];Y.push(`&${J.build(G,W)}`),Y.push(F.build(G,W));const X=`${G.getMethod(Q,q)}( ${Y.join(", ")} )`;if(this.storeNode!==null){const te=this.storeNode.build(G,W);G.addLineFlowCode(`${te} = ${X}`,this)}else G.addLineFlowCode(X,this)}}AtomicFunctionNode.ATOMIC_LOAD="atomicLoad",AtomicFunctionNode.ATOMIC_STORE="atomicStore",AtomicFunctionNode.ATOMIC_ADD="atomicAdd",AtomicFunctionNode.ATOMIC_SUB="atomicSub",AtomicFunctionNode.ATOMIC_MAX="atomicMax",AtomicFunctionNode.ATOMIC_MIN="atomicMin",AtomicFunctionNode.ATOMIC_AND="atomicAnd",AtomicFunctionNode.ATOMIC_OR="atomicOr",AtomicFunctionNode.ATOMIC_XOR="atomicXor",nodeProxy(AtomicFunctionNode);const getShIrradianceAt=Fn(([U,G])=>{const Q=U.x,q=U.y,W=U.z;let J=G.element(0).mul(.886227);return J=J.add(G.element(1).mul(2*.511664).mul(q)),J=J.add(G.element(2).mul(2*.511664).mul(W)),J=J.add(G.element(3).mul(2*.511664).mul(Q)),J=J.add(G.element(4).mul(2*.429043).mul(Q).mul(q)),J=J.add(G.element(5).mul(2*.429043).mul(q).mul(W)),J=J.add(G.element(6).mul(W.mul(W).mul(.743125).sub(.247708))),J=J.add(G.element(7).mul(2*.429043).mul(Q).mul(W)),J=J.add(G.element(8).mul(.429043).mul(mul(Q,Q).sub(mul(q,q)))),J});class PointLightNode extends AnalyticLightNode{static get type(){return"PointLightNode"}constructor(G=null){super(G),this.cutoffDistanceNode=uniform(0).setGroup(renderGroup),this.decayExponentNode=uniform(0).setGroup(renderGroup)}update(G){const{light:Q}=this;super.update(G),this.cutoffDistanceNode.value=Q.distance,this.decayExponentNode.value=Q.decay}setup(G){const{colorNode:Q,cutoffDistanceNode:q,decayExponentNode:W,light:J}=this,F=G.context.lightingModel,Y=lightViewPosition(J).sub(positionView),X=Y.normalize(),te=Y.length(),re=getDistanceAttenuation({lightDistance:te,cutoffDistance:q,decayExponent:W}),ne=Q.mul(re),ie=G.context.reflectedLight;F.direct({lightDirection:X,lightColor:ne,reflectedLight:ie},G.stack,G)}}class DirectionalLightNode extends AnalyticLightNode{static get type(){return"DirectionalLightNode"}constructor(G=null){super(G)}setup(G){super.setup(G);const Q=G.context.lightingModel,q=this.colorNode,W=lightTargetDirection(this.light),J=G.context.reflectedLight;Q.direct({lightDirection:W,lightColor:q,reflectedLight:J},G.stack,G)}}const _matrix41=new Matrix4,_matrix42=new Matrix4;let ltcLib=null;class RectAreaLightNode extends AnalyticLightNode{static get type(){return"RectAreaLightNode"}constructor(G=null){super(G),this.halfHeight=uniform(new Vector3).setGroup(renderGroup),this.halfWidth=uniform(new Vector3).setGroup(renderGroup)}update(G){super.update(G);const{light:Q}=this,q=G.camera.matrixWorldInverse;_matrix42.identity(),_matrix41.copy(Q.matrixWorld),_matrix41.premultiply(q),_matrix42.extractRotation(_matrix41),this.halfWidth.value.set(Q.width*.5,0,0),this.halfHeight.value.set(0,Q.height*.5,0),this.halfWidth.value.applyMatrix4(_matrix42),this.halfHeight.value.applyMatrix4(_matrix42)}setup(G){super.setup(G);let Q,q;G.isAvailable("float32Filterable")?(Q=texture(ltcLib.LTC_FLOAT_1),q=texture(ltcLib.LTC_FLOAT_2)):(Q=texture(ltcLib.LTC_HALF_1),q=texture(ltcLib.LTC_HALF_2));const{colorNode:W,light:J}=this,F=G.context.lightingModel,Y=lightViewPosition(J),X=G.context.reflectedLight;F.directRectArea({lightColor:W,lightPosition:Y,halfWidth:this.halfWidth,halfHeight:this.halfHeight,reflectedLight:X,ltc_1:Q,ltc_2:q},G.stack,G)}static setLTC(G){ltcLib=G}}class SpotLightNode extends AnalyticLightNode{static get type(){return"SpotLightNode"}constructor(G=null){super(G),this.coneCosNode=uniform(0).setGroup(renderGroup),this.penumbraCosNode=uniform(0).setGroup(renderGroup),this.cutoffDistanceNode=uniform(0).setGroup(renderGroup),this.decayExponentNode=uniform(0).setGroup(renderGroup)}update(G){super.update(G);const{light:Q}=this;this.coneCosNode.value=Math.cos(Q.angle),this.penumbraCosNode.value=Math.cos(Q.angle*(1-Q.penumbra)),this.cutoffDistanceNode.value=Q.distance,this.decayExponentNode.value=Q.decay}getSpotAttenuation(G){const{coneCosNode:Q,penumbraCosNode:q}=this;return smoothstep(Q,q,G)}setup(G){super.setup(G);const Q=G.context.lightingModel,{colorNode:q,cutoffDistanceNode:W,decayExponentNode:J,light:F}=this,Y=lightViewPosition(F).sub(positionView),X=Y.normalize(),te=X.dot(lightTargetDirection(F)),re=this.getSpotAttenuation(te),ne=Y.length(),ie=getDistanceAttenuation({lightDistance:ne,cutoffDistance:W,decayExponent:J}),oe=q.mul(re).mul(ie),ae=G.context.reflectedLight;Q.direct({lightDirection:X,lightColor:oe,reflectedLight:ae},G.stack,G)}}class IESSpotLightNode extends SpotLightNode{static get type(){return"IESSpotLightNode"}getSpotAttenuation(G){const Q=this.light.iesMap;let q=null;if(Q&&Q.isTexture===!0){const W=G.acos().mul(1/Math.PI);q=texture(Q,vec2(W,0),0).r}else q=super.getSpotAttenuation(G);return q}}class AmbientLightNode extends AnalyticLightNode{static get type(){return"AmbientLightNode"}constructor(G=null){super(G)}setup({context:G}){G.irradiance.addAssign(this.colorNode)}}class HemisphereLightNode extends AnalyticLightNode{static get type(){return"HemisphereLightNode"}constructor(G=null){super(G),this.lightPositionNode=lightPosition(G),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=uniform(new Color).setGroup(renderGroup)}update(G){const{light:Q}=this;super.update(G),this.lightPositionNode.object3d=Q,this.groundColorNode.value.copy(Q.groundColor).multiplyScalar(Q.intensity)}setup(G){const{colorNode:Q,groundColorNode:q,lightDirectionNode:W}=this,J=normalView.dot(W).mul(.5).add(.5),F=mix(q,Q,J);G.context.irradiance.addAssign(F)}}class LightProbeNode extends AnalyticLightNode{static get type(){return"LightProbeNode"}constructor(G=null){super(G);const Q=[];for(let q=0;q<9;q++)Q.push(new Vector3);this.lightProbe=uniformArray(Q)}update(G){const{light:Q}=this;super.update(G);for(let q=0;q<9;q++)this.lightProbe.array[q].copy(Q.sh.coefficients[q]).multiplyScalar(Q.intensity)}setup(G){const Q=getShIrradianceAt(normalWorld,this.lightProbe);G.context.irradiance.addAssign(Q)}}class NodeParser{parseFunction(){console.warn("Abstract function.")}}class NodeFunction{constructor(G,Q,q="",W=""){this.type=G,this.inputs=Q,this.name=q,this.precision=W}getCode(){console.warn("Abstract function.")}}NodeFunction.isNodeFunction=!0;const declarationRegexp$1=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,propertiesRegexp$1=/[a-z_0-9]+/ig,pragmaMain="#pragma main",parse$1=U=>{U=U.trim();const G=U.indexOf(pragmaMain),Q=G!==-1?U.slice(G+pragmaMain.length):U,q=Q.match(declarationRegexp$1);if(q!==null&&q.length===5){const W=q[4],J=[];let F=null;for(;(F=propertiesRegexp$1.exec(W))!==null;)J.push(F);const Y=[];let X=0;for(;X<J.length;){const ae=J[X][0]==="const";ae===!0&&X++;let ue=J[X][0];ue==="in"||ue==="out"||ue==="inout"?X++:ue="";const ce=J[X++][0];let se=Number.parseInt(J[X][0]);Number.isNaN(se)===!1?X++:se=null;const le=J[X++][0];Y.push(new NodeFunctionInput(ce,le,se,ue,ae))}const te=Q.substring(q[0].length),re=q[3]!==void 0?q[3]:"",ne=q[2],ie=q[1]!==void 0?q[1]:"",oe=G!==-1?U.slice(0,G):"";return{type:ne,inputs:Y,name:re,precision:ie,inputsCode:W,blockCode:te,headerCode:oe}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class GLSLNodeFunction extends NodeFunction{constructor(G){const{type:Q,inputs:q,name:W,precision:J,inputsCode:F,blockCode:Y,headerCode:X}=parse$1(G);super(Q,q,W,J),this.inputsCode=F,this.blockCode=Y,this.headerCode=X}getCode(G=this.name){let Q;const q=this.blockCode;if(q!==""){const{type:W,inputsCode:J,headerCode:F,precision:Y}=this;let X=`${W} ${G} ( ${J.trim()} )`;Y!==""&&(X=`${Y} ${X}`),Q=F+X+q}else Q="";return Q}}class GLSLNodeParser extends NodeParser{parseFunction(G){return new GLSLNodeFunction(G)}}function painterSortStable(U,G){return U.groupOrder!==G.groupOrder?U.groupOrder-G.groupOrder:U.renderOrder!==G.renderOrder?U.renderOrder-G.renderOrder:U.material.id!==G.material.id?U.material.id-G.material.id:U.z!==G.z?U.z-G.z:U.id-G.id}function reversePainterSortStable(U,G){return U.groupOrder!==G.groupOrder?U.groupOrder-G.groupOrder:U.renderOrder!==G.renderOrder?U.renderOrder-G.renderOrder:U.z!==G.z?G.z-U.z:U.id-G.id}class RenderList{constructor(){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparent=[],this.bundles=[],this.lightsNode=new LightsNode([]),this.lightsArray=[],this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(G,Q,q,W,J,F){let Y=this.renderItems[this.renderItemsIndex];return Y===void 0?(Y={id:G.id,object:G,geometry:Q,material:q,groupOrder:W,renderOrder:G.renderOrder,z:J,group:F},this.renderItems[this.renderItemsIndex]=Y):(Y.id=G.id,Y.object=G,Y.geometry=Q,Y.material=q,Y.groupOrder=W,Y.renderOrder=G.renderOrder,Y.z=J,Y.group=F),this.renderItemsIndex++,Y}push(G,Q,q,W,J,F){const Y=this.getNextRenderItem(G,Q,q,W,J,F);G.occlusionTest===!0&&this.occlusionQueryCount++,(q.transparent===!0||q.transmission>0?this.transparent:this.opaque).push(Y)}unshift(G,Q,q,W,J,F){const Y=this.getNextRenderItem(G,Q,q,W,J,F);(q.transparent===!0?this.transparent:this.opaque).unshift(Y)}pushBundle(G){this.bundles.push(G)}pushLight(G){this.lightsArray.push(G)}getLightsNode(){return this.lightsNode.fromLights(this.lightsArray)}sort(G,Q){this.opaque.length>1&&this.opaque.sort(G||painterSortStable),this.transparent.length>1&&this.transparent.sort(Q||reversePainterSortStable)}finish(){this.lightsNode.setLights(this.lightsArray);for(let G=this.renderItemsIndex,Q=this.renderItems.length;G<Q;G++){const q=this.renderItems[G];if(q.id===null)break;q.id=null,q.object=null,q.geometry=null,q.material=null,q.groupOrder=null,q.renderOrder=null,q.z=null,q.group=null}}}class RenderLists{constructor(){this.lists=new ChainMap}get(G,Q){const q=this.lists,W=[G,Q];let J=q.get(W);return J===void 0&&(J=new RenderList,q.set(W,J)),J}dispose(){this.lists=new ChainMap}}let id$2=0;class RenderContext{constructor(){this.id=id$2++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new Vector4,this.scissor=!1,this.scissorValue=new Vector4,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.sampleCount=1,this.width=0,this.height=0,this.isRenderContext=!0}getCacheKey(){return getCacheKey(this)}}function getCacheKey(U){const{textures:G,activeCubeFace:Q}=U,q=[Q];for(const W of G)q.push(W.id);return hashArray(q)}class RenderContexts{constructor(){this.chainMaps={}}get(G,Q,q=null){const W=[G,Q];let J;if(q===null)J="default";else{const X=q.texture.format;J=`${q.textures.length}:${X}:${q.samples}:${q.depthBuffer}:${q.stencilBuffer}`}const F=this.getChainMap(J);let Y=F.get(W);return Y===void 0&&(Y=new RenderContext,F.set(W,Y)),q!==null&&(Y.sampleCount=q.samples===0?1:q.samples),Y}getChainMap(G){return this.chainMaps[G]||(this.chainMaps[G]=new ChainMap)}dispose(){this.chainMaps={}}}const _size=new Vector3;class Textures extends DataMap{constructor(G,Q,q){super(),this.renderer=G,this.backend=Q,this.info=q}updateRenderTarget(G,Q=0){const q=this.get(G),W=G.samples===0?1:G.samples,J=q.depthTextureMips||(q.depthTextureMips={}),F=G.textures,Y=this.getSize(F[0]),X=Y.width>>Q,te=Y.height>>Q;let re=G.depthTexture||J[Q],ne=!1;re===void 0&&(re=new DepthTexture,re.format=G.stencilBuffer?DepthStencilFormat:DepthFormat,re.type=G.stencilBuffer?UnsignedInt248Type:UnsignedIntType,re.image.width=X,re.image.height=te,J[Q]=re),(q.width!==Y.width||Y.height!==q.height)&&(ne=!0,re.needsUpdate=!0,re.image.width=X,re.image.height=te),q.width=Y.width,q.height=Y.height,q.textures=F,q.depthTexture=re,q.depth=G.depthBuffer,q.stencil=G.stencilBuffer,q.renderTarget=G,q.sampleCount!==W&&(ne=!0,re.needsUpdate=!0,q.sampleCount=W);const ie={sampleCount:W};for(let oe=0;oe<F.length;oe++){const ae=F[oe];ne&&(ae.needsUpdate=!0),this.updateTexture(ae,ie)}if(this.updateTexture(re,ie),q.initialized!==!0){q.initialized=!0;const oe=()=>{G.removeEventListener("dispose",oe);for(let ae=0;ae<F.length;ae++)this._destroyTexture(F[ae]);this._destroyTexture(re),this.delete(G)};G.addEventListener("dispose",oe)}}updateTexture(G,Q={}){const q=this.get(G);if(q.initialized===!0&&q.version===G.version)return;const W=G.isRenderTargetTexture||G.isDepthTexture||G.isFramebufferTexture,J=this.backend;if(W&&q.initialized===!0&&(J.destroySampler(G),J.destroyTexture(G)),G.isFramebufferTexture){const te=this.renderer.getRenderTarget();te?G.type=te.texture.type:G.type=UnsignedByteType}const{width:F,height:Y,depth:X}=this.getSize(G);if(Q.width=F,Q.height=Y,Q.depth=X,Q.needsMipmaps=this.needsMipmaps(G),Q.levels=Q.needsMipmaps?this.getMipLevels(G,F,Y):1,W||G.isStorageTexture===!0)J.createSampler(G),J.createTexture(G,Q),q.generation=G.version;else if(q.initialized!==!0&&J.createSampler(G),G.version>0){const te=G.image;if(te===void 0)console.warn("THREE.Renderer: Texture marked for update but image is undefined.");else if(te.complete===!1)console.warn("THREE.Renderer: Texture marked for update but image is incomplete.");else{if(G.images){const re=[];for(const ne of G.images)re.push(ne);Q.images=re}else Q.image=te;(q.isDefaultTexture===void 0||q.isDefaultTexture===!0)&&(J.createTexture(G,Q),q.isDefaultTexture=!1,q.generation=G.version),G.source.dataReady===!0&&J.updateTexture(G,Q),Q.needsMipmaps&&G.mipmaps.length===0&&J.generateMipmaps(G)}}else J.createDefaultTexture(G),q.isDefaultTexture=!0,q.generation=G.version;if(q.initialized!==!0){q.initialized=!0,q.generation=G.version,this.info.memory.textures++;const te=()=>{G.removeEventListener("dispose",te),this._destroyTexture(G),this.info.memory.textures--};G.addEventListener("dispose",te)}q.version=G.version}getSize(G,Q=_size){let q=G.images?G.images[0]:G.image;return q?(q.image!==void 0&&(q=q.image),Q.width=q.width,Q.height=q.height,Q.depth=G.isCubeTexture?6:q.depth||1):Q.width=Q.height=Q.depth=1,Q}getMipLevels(G,Q,q){let W;return G.isCompressedTexture?W=G.mipmaps.length:W=Math.floor(Math.log2(Math.max(Q,q)))+1,W}needsMipmaps(G){return this.isEnvironmentTexture(G)?!0:G.isCompressedTexture===!0||G.minFilter!==NearestFilter&&G.minFilter!==LinearFilter}isEnvironmentTexture(G){const Q=G.mapping;return Q===EquirectangularReflectionMapping||Q===EquirectangularRefractionMapping||Q===CubeReflectionMapping||Q===CubeRefractionMapping}_destroyTexture(G){this.backend.destroySampler(G),this.backend.destroyTexture(G),this.delete(G)}}class Color4 extends Color{constructor(G,Q,q,W=1){super(G,Q,q),this.a=W}set(G,Q,q,W=1){return this.a=W,super.set(G,Q,q)}copy(G){return G.a!==void 0&&(this.a=G.a),super.copy(G)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}const _clearColor=new Color4;class Background extends DataMap{constructor(G,Q){super(),this.renderer=G,this.nodes=Q}update(G,Q,q){const W=this.renderer,J=this.nodes.getBackgroundNode(G)||G.background;let F=!1;if(J===null)W._clearColor.getRGB(_clearColor,LinearSRGBColorSpace),_clearColor.a=W._clearColor.a;else if(J.isColor===!0)J.getRGB(_clearColor,LinearSRGBColorSpace),_clearColor.a=1,F=!0;else if(J.isNode===!0){const Y=this.get(G),X=J;_clearColor.copy(W._clearColor);let te=Y.backgroundMesh;if(te===void 0){const ne=context$1(vec4(X).mul(backgroundIntensity),{getUV:()=>normalWorld,getTextureLevel:()=>backgroundBlurriness});let ie=modelViewProjection();ie=ie.setZ(ie.w);const oe=new NodeMaterial;oe.name="Background.material",oe.side=BackSide,oe.depthTest=!1,oe.depthWrite=!1,oe.fog=!1,oe.lights=!1,oe.vertexNode=ie,oe.colorNode=ne,Y.backgroundMeshNode=ne,Y.backgroundMesh=te=new Mesh(new SphereGeometry(1,32,32),oe),te.frustumCulled=!1,te.name="Background.mesh",te.onBeforeRender=function(ae,ue,ce){this.matrixWorld.copyPosition(ce.matrixWorld)}}const re=X.getCacheKey();Y.backgroundCacheKey!==re&&(Y.backgroundMeshNode.node=vec4(X).mul(backgroundIntensity),Y.backgroundMeshNode.needsUpdate=!0,te.material.needsUpdate=!0,Y.backgroundCacheKey=re),Q.unshift(te,te.geometry,te.material,0,0,null)}else console.error("THREE.Renderer: Unsupported background configuration.",J);if(W.autoClear===!0||F===!0){_clearColor.multiplyScalar(_clearColor.a);const Y=q.clearColorValue;Y.r=_clearColor.r,Y.g=_clearColor.g,Y.b=_clearColor.b,Y.a=_clearColor.a,q.depthClearValue=W._clearDepth,q.stencilClearValue=W._clearStencil,q.clearColor=W.autoClearColor===!0,q.clearDepth=W.autoClearDepth===!0,q.clearStencil=W.autoClearStencil===!0}else q.clearColor=!1,q.clearDepth=!1,q.clearStencil=!1}}class NodeBuilderState{constructor(G,Q,q,W,J,F,Y,X,te,re=[]){this.vertexShader=G,this.fragmentShader=Q,this.computeShader=q,this.transforms=re,this.nodeAttributes=W,this.bindings=J,this.updateNodes=F,this.updateBeforeNodes=Y,this.updateAfterNodes=X,this.monitor=te,this.usedTimes=0}createBindings(){const G=[];for(const Q of this.bindings)if(Q.bindings[0].groupNode.shared!==!0){const q=new BindGroup(Q.name,[],Q.index,Q);G.push(q);for(const W of Q.bindings)q.bindings.push(W.clone())}else G.push(Q);return G}}const outputNodeMap=new WeakMap;class Nodes extends DataMap{constructor(G,Q){super(),this.renderer=G,this.backend=Q,this.nodeFrame=new NodeFrame,this.nodeBuilderCache=new Map,this.callHashCache=new ChainMap,this.groupsData=new ChainMap}updateGroup(G){const Q=G.groupNode,q=Q.name;if(q===objectGroup.name)return!0;if(q===renderGroup.name){const F=this.get(G),Y=this.nodeFrame.renderId;return F.renderId!==Y?(F.renderId=Y,!0):!1}if(q===frameGroup.name){const F=this.get(G),Y=this.nodeFrame.frameId;return F.frameId!==Y?(F.frameId=Y,!0):!1}const W=[Q,G];let J=this.groupsData.get(W);return J===void 0&&this.groupsData.set(W,J={}),J.version!==Q.version?(J.version=Q.version,!0):!1}getForRenderCacheKey(G){return G.initialCacheKey}getForRender(G){const Q=this.get(G);let q=Q.nodeBuilderState;if(q===void 0){const{nodeBuilderCache:W}=this,J=this.getForRenderCacheKey(G);if(q=W.get(J),q===void 0){const F=this.backend.createNodeBuilder(G.object,this.renderer);F.scene=G.scene,F.material=G.material,F.camera=G.camera,F.context.material=G.material,F.lightsNode=G.lightsNode,F.environmentNode=this.getEnvironmentNode(G.scene),F.fogNode=this.getFogNode(G.scene),F.clippingContext=G.clippingContext,F.build(),q=this._createNodeBuilderState(F),W.set(J,q)}q.usedTimes++,Q.nodeBuilderState=q}return q}delete(G){if(G.isRenderObject){const Q=this.get(G).nodeBuilderState;Q.usedTimes--,Q.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(G))}return super.delete(G)}getForCompute(G){const Q=this.get(G);let q=Q.nodeBuilderState;if(q===void 0){const W=this.backend.createNodeBuilder(G,this.renderer);W.build(),q=this._createNodeBuilderState(W),Q.nodeBuilderState=q}return q}_createNodeBuilderState(G){return new NodeBuilderState(G.vertexShader,G.fragmentShader,G.computeShader,G.getAttributesArray(),G.getBindings(),G.updateNodes,G.updateBeforeNodes,G.updateAfterNodes,G.monitor,G.transforms)}getEnvironmentNode(G){return G.environmentNode||this.get(G).environmentNode||null}getBackgroundNode(G){return G.backgroundNode||this.get(G).backgroundNode||null}getFogNode(G){return G.fogNode||this.get(G).fogNode||null}getCacheKey(G,Q){const q=[G,Q],W=this.renderer.info.calls;let J=this.callHashCache.get(q);if(J===void 0||J.callId!==W){const F=this.getEnvironmentNode(G),Y=this.getFogNode(G),X=[];Q&&X.push(Q.getCacheKey(!0)),F&&X.push(F.getCacheKey()),Y&&X.push(Y.getCacheKey()),X.push(this.renderer.shadowMap.enabled?1:0),J={callId:W,cacheKey:hashArray(X)},this.callHashCache.set(q,J)}return J.cacheKey}updateScene(G){this.updateEnvironment(G),this.updateFog(G),this.updateBackground(G)}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(G){const Q=this.get(G),q=G.background;if(q){const W=G.backgroundBlurriness===0&&Q.backgroundBlurriness>0||G.backgroundBlurriness>0&&Q.backgroundBlurriness===0;if(Q.background!==q||W){let J=null;if(q.isCubeTexture===!0||q.mapping===EquirectangularReflectionMapping||q.mapping===EquirectangularRefractionMapping||q.mapping===CubeUVReflectionMapping)if(G.backgroundBlurriness>0||q.mapping===CubeUVReflectionMapping)J=pmremTexture(q,normalWorld);else{let F;q.isCubeTexture===!0?F=cubeTexture(q):F=texture(q),J=cubeMapNode(F)}else q.isTexture===!0?J=texture(q,screenUV.flipY()).setUpdateMatrix(!0):q.isColor!==!0&&console.error("WebGPUNodes: Unsupported background configuration.",q);Q.backgroundNode=J,Q.background=q,Q.backgroundBlurriness=G.backgroundBlurriness}}else Q.backgroundNode&&(delete Q.backgroundNode,delete Q.background)}updateFog(G){const Q=this.get(G),q=G.fog;if(q){if(Q.fog!==q){let W=null;if(q.isFogExp2){const J=reference("color","color",q).setGroup(renderGroup),F=reference("density","float",q).setGroup(renderGroup);W=densityFog(J,F)}else if(q.isFog){const J=reference("color","color",q).setGroup(renderGroup),F=reference("near","float",q).setGroup(renderGroup),Y=reference("far","float",q).setGroup(renderGroup);W=rangeFog(J,F,Y)}else console.error("WebGPUNodes: Unsupported fog configuration.",q);Q.fogNode=W,Q.fog=q}}else delete Q.fogNode,delete Q.fog}updateEnvironment(G){const Q=this.get(G),q=G.environment;if(q){if(Q.environment!==q){let W=null;q.isCubeTexture===!0?W=cubeTexture(q):q.isTexture===!0?W=texture(q):console.error("Nodes: Unsupported environment configuration.",q),Q.environmentNode=W,Q.environment=q}}else Q.environmentNode&&(delete Q.environmentNode,delete Q.environment)}getNodeFrame(G=this.renderer,Q=null,q=null,W=null,J=null){const F=this.nodeFrame;return F.renderer=G,F.scene=Q,F.object=q,F.camera=W,F.material=J,F}getNodeFrameForRender(G){return this.getNodeFrame(G.renderer,G.scene,G.object,G.camera,G.material)}getOutputCacheKey(){const G=this.renderer;return G.toneMapping+","+G.currentColorSpace}hasOutputChange(G){return outputNodeMap.get(G)!==this.getOutputCacheKey()}getOutputNode(G){const Q=this.renderer,q=this.getOutputCacheKey(),W=texture(G,screenUV).renderOutput(Q.toneMapping,Q.currentColorSpace);return outputNodeMap.set(G,q),W}updateBefore(G){const Q=G.getNodeBuilderState();for(const q of Q.updateBeforeNodes)this.getNodeFrameForRender(G).updateBeforeNode(q)}updateAfter(G){const Q=G.getNodeBuilderState();for(const q of Q.updateAfterNodes)this.getNodeFrameForRender(G).updateAfterNode(q)}updateForCompute(G){const Q=this.getNodeFrame(),q=this.getForCompute(G);for(const W of q.updateNodes)Q.updateNode(W)}updateForRender(G){const Q=this.getNodeFrameForRender(G),q=G.getNodeBuilderState();for(const W of q.updateNodes)Q.updateNode(W)}needsRefresh(G){const Q=this.getNodeFrameForRender(G);return G.getMonitor().needsRefresh(G,Q)}dispose(){super.dispose(),this.nodeFrame=new NodeFrame,this.nodeBuilderCache=new Map}}class RenderBundle{constructor(G,Q){this.scene=G,this.camera=Q}clone(){return Object.assign(new this.constructor,this)}}class RenderBundles{constructor(){this.lists=new ChainMap}get(G,Q){const q=this.lists,W=[G,Q];let J=q.get(W);return J===void 0&&(J=new RenderBundle(G,Q),q.set(W,J)),J}dispose(){this.lists=new ChainMap}}class NodeLibrary{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map,this.colorSpaceNodes=new Map}fromMaterial(G){if(G.isNodeMaterial)return G;let Q=null;const q=this.getMaterialNodeClass(G.type);if(q!==null){Q=new q;for(const W in G)Q[W]=G[W]}return Q}addColorSpace(G,Q){this.addType(G,Q,this.colorSpaceNodes)}getColorSpaceFunction(G){return this.colorSpaceNodes.get(G)||null}addToneMapping(G,Q){this.addType(G,Q,this.toneMappingNodes)}getToneMappingFunction(G){return this.toneMappingNodes.get(G)||null}getMaterialNodeClass(G){return this.materialNodes.get(G)||null}addMaterial(G,Q){this.addType(G,Q.name,this.materialNodes)}getLightNodeClass(G){return this.lightNodes.get(G)||null}addLight(G,Q){this.addClass(G,Q,this.lightNodes)}addType(G,Q,q){if(q.has(Q)){console.warn(`Redefinition of node ${Q}`);return}if(typeof G!="function")throw new Error(`Node class ${G.name} is not a class.`);if(typeof Q=="function"||typeof Q=="object")throw new Error(`Base class ${Q} is not a class.`);q.set(Q,G)}addClass(G,Q,q){if(q.has(Q)){console.warn(`Redefinition of node ${Q.name}`);return}if(typeof G!="function")throw new Error(`Node class ${G.name} is not a class.`);if(typeof Q!="function")throw new Error(`Base class ${Q.name} is not a class.`);q.set(Q,G)}}const _scene=new Scene,_drawingBufferSize=new Vector2,_screen=new Vector4,_frustum=new Frustum,_projScreenMatrix=new Matrix4,_vector4=new Vector4;class Renderer{constructor(G,Q={}){this.isRenderer=!0;const{logarithmicDepthBuffer:q=!1,alpha:W=!0,depth:J=!0,stencil:F=!1,antialias:Y=!1,samples:X=0,getFallback:te=null}=Q;this.domElement=G.getDomElement(),this.backend=G,this.samples=X||Y===!0?4:0,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=W,this.logarithmicDepthBuffer=q,this.outputColorSpace=SRGBColorSpace,this.toneMapping=NoToneMapping,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=J,this.stencil=F,this.clippingPlanes=[],this.info=new Info,this.nodes={library:new NodeLibrary,modelViewMatrix:null,modelNormalViewMatrix:null},this._getFallback=te,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new Vector4(0,0,this._width,this._height),this._scissor=new Vector4(0,0,this._width,this._height),this._scissorTest=!1,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new QuadMesh(new NodeMaterial),this._quad.material.type="Renderer_output",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const re=this.alpha===!0?0:1;this._clearColor=new Color4(0,0,0,re),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:PCFShadowMap$1},this.xr={enabled:!1},this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(ne,ie,oe)=>{await this.compileAsync(ne,ie);const ae=this._renderLists.get(ne,ie),ue=this._renderContexts.get(ne,ie,this._renderTarget),ce=ne.overrideMaterial||oe.material,se=this._objects.get(oe,ce,ne,ie,ae.lightsNode,ue),{fragmentShader:le,vertexShader:de}=se.getNodeBuilderState();return{fragmentShader:le,vertexShader:de}}}}async init(){if(this._initialized)throw new Error("Renderer: Backend has already been initialized.");return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(G,Q)=>{let q=this.backend;try{await q.init(this)}catch(W){if(this._getFallback!==null)try{this.backend=q=this._getFallback(W),await q.init(this)}catch(J){Q(J);return}else{Q(W);return}}this._nodes=new Nodes(this,q),this._animation=new Animation(this._nodes,this.info),this._attributes=new Attributes(q),this._background=new Background(this,this._nodes),this._geometries=new Geometries(this._attributes,this.info),this._textures=new Textures(this,q,this.info),this._pipelines=new Pipelines(q,this._nodes),this._bindings=new Bindings(q,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new RenderObjects(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new RenderLists,this._bundles=new RenderBundles,this._renderContexts=new RenderContexts,this._initialized=!0,G()}),this._initPromise)}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(G,Q,q=null){this._initialized===!1&&await this.init();const W=this._nodes.nodeFrame,J=W.renderId,F=this._currentRenderContext,Y=this._currentRenderObjectFunction,X=this._compilationPromises,te=G.isScene===!0?G:_scene;q===null&&(q=G);const re=this._renderTarget,ne=this._renderContexts.get(q,Q,re),ie=this._activeMipmapLevel,oe=[];this._currentRenderContext=ne,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=oe,W.renderId++,W.update(),ne.depth=this.depth,ne.stencil=this.stencil,ne.clippingContext||(ne.clippingContext=new ClippingContext),ne.clippingContext.updateGlobal(this,Q),te.onBeforeRender(this,G,Q,re);const ae=this._renderLists.get(G,Q);if(ae.begin(),this._projectObject(G,Q,0,ae),q!==G&&q.traverseVisible(function(le){le.isLight&&le.layers.test(Q.layers)&&ae.pushLight(le)}),ae.finish(),re!==null){this._textures.updateRenderTarget(re,ie);const le=this._textures.get(re);ne.textures=le.textures,ne.depthTexture=le.depthTexture}else ne.textures=null,ne.depthTexture=null;this._nodes.updateScene(te),this._background.update(te,ae,ne);const ue=ae.opaque,ce=ae.transparent,se=ae.lightsNode;this.opaque===!0&&ue.length>0&&this._renderObjects(ue,Q,te,se),this.transparent===!0&&ce.length>0&&this._renderObjects(ce,Q,te,se),W.renderId=J,this._currentRenderContext=F,this._currentRenderObjectFunction=Y,this._compilationPromises=X,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(oe)}async renderAsync(G,Q){this._initialized===!1&&await this.init();const q=this._renderScene(G,Q);await this.backend.resolveTimestampAsync(q,"render")}setMRT(G){return this._mrt=G,this}getMRT(){return this._mrt}_renderBundle(G,Q,q){const{bundleGroup:W,camera:J,renderList:F}=G,Y=this._currentRenderContext,X=this._bundles.get(W,J),te=this.backend.get(X);te.renderContexts===void 0&&(te.renderContexts=new Set);const re=W.version!==te.version,ne=te.renderContexts.has(Y)===!1||re;if(te.renderContexts.add(Y),ne){this.backend.beginBundle(Y),(te.renderObjects===void 0||re)&&(te.renderObjects=[]),this._currentRenderBundle=X;const ie=F.opaque;ie.length>0&&this._renderObjects(ie,J,Q,q),this._currentRenderBundle=null,this.backend.finishBundle(Y,X),te.version=W.version}else{const{renderObjects:ie}=te;for(let oe=0,ae=ie.length;oe<ae;oe++){const ue=ie[oe];this._nodes.needsRefresh(ue)&&(this._nodes.updateBefore(ue),this._nodes.updateForRender(ue),this._bindings.updateForRender(ue),this._nodes.updateAfter(ue))}}this.backend.addBundle(Y,X)}render(G,Q){if(this._initialized===!1)return console.warn("THREE.Renderer: .render() called before the backend is initialized. Try using .renderAsync() instead."),this.renderAsync(G,Q);this._renderScene(G,Q)}_getFrameBufferTarget(){const{currentToneMapping:G,currentColorSpace:Q}=this;if(G===NoToneMapping&&Q===LinearSRGBColorSpace)return null;const{width:q,height:W}=this.getDrawingBufferSize(_drawingBufferSize),{depth:J,stencil:F}=this;let Y=this._frameBufferTarget;return Y===null&&(Y=new RenderTarget(q,W,{depthBuffer:J,stencilBuffer:F,type:HalfFloatType,format:RGBAFormat,colorSpace:LinearSRGBColorSpace,generateMipmaps:!1,minFilter:LinearFilter,magFilter:LinearFilter,samples:this.samples}),Y.isPostProcessingRenderTarget=!0,this._frameBufferTarget=Y),Y.depthBuffer=J,Y.stencilBuffer=F,Y.setSize(q,W),Y.viewport.copy(this._viewport),Y.scissor.copy(this._scissor),Y.viewport.multiplyScalar(this._pixelRatio),Y.scissor.multiplyScalar(this._pixelRatio),Y.scissorTest=this._scissorTest,Y}_renderScene(G,Q,q=!0){const W=q?this._getFrameBufferTarget():null,J=this._nodes.nodeFrame,F=J.renderId,Y=this._currentRenderContext,X=this._currentRenderObjectFunction,te=G.isScene===!0?G:_scene,re=this._renderTarget,ne=this._activeCubeFace,ie=this._activeMipmapLevel;let oe;W!==null?(oe=W,this.setRenderTarget(oe)):oe=re;const ae=this._renderContexts.get(G,Q,oe);this._currentRenderContext=ae,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,J.renderId=this.info.calls;const ue=this.coordinateSystem;Q.coordinateSystem!==ue&&(Q.coordinateSystem=ue,Q.updateProjectionMatrix()),G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),Q.parent===null&&Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld();let ce=this._viewport,se=this._scissor,le=this._pixelRatio;oe!==null&&(ce=oe.viewport,se=oe.scissor,le=1),this.getDrawingBufferSize(_drawingBufferSize),_screen.set(0,0,_drawingBufferSize.width,_drawingBufferSize.height);const de=ce.minDepth===void 0?0:ce.minDepth,he=ce.maxDepth===void 0?1:ce.maxDepth;ae.viewportValue.copy(ce).multiplyScalar(le).floor(),ae.viewportValue.width>>=ie,ae.viewportValue.height>>=ie,ae.viewportValue.minDepth=de,ae.viewportValue.maxDepth=he,ae.viewport=ae.viewportValue.equals(_screen)===!1,ae.scissorValue.copy(se).multiplyScalar(le).floor(),ae.scissor=this._scissorTest&&ae.scissorValue.equals(_screen)===!1,ae.scissorValue.width>>=ie,ae.scissorValue.height>>=ie,ae.clippingContext||(ae.clippingContext=new ClippingContext),ae.clippingContext.updateGlobal(this,Q),te.onBeforeRender(this,G,Q,oe),_projScreenMatrix.multiplyMatrices(Q.projectionMatrix,Q.matrixWorldInverse),_frustum.setFromProjectionMatrix(_projScreenMatrix,ue);const pe=this._renderLists.get(G,Q);if(pe.begin(),this._projectObject(G,Q,0,pe),pe.finish(),this.sortObjects===!0&&pe.sort(this._opaqueSort,this._transparentSort),oe!==null){this._textures.updateRenderTarget(oe,ie);const ke=this._textures.get(oe);ae.textures=ke.textures,ae.depthTexture=ke.depthTexture,ae.width=ke.width,ae.height=ke.height,ae.renderTarget=oe,ae.depth=oe.depthBuffer,ae.stencil=oe.stencilBuffer}else ae.textures=null,ae.depthTexture=null,ae.width=this.domElement.width,ae.height=this.domElement.height,ae.depth=this.depth,ae.stencil=this.stencil;ae.width>>=ie,ae.height>>=ie,ae.activeCubeFace=ne,ae.activeMipmapLevel=ie,ae.occlusionQueryCount=pe.occlusionQueryCount,this._nodes.updateScene(te),this._background.update(te,pe,ae),this.backend.beginRender(ae);const{bundles:ge,lightsNode:be,transparent:ve,opaque:Ee}=pe;if(ge.length>0&&this._renderBundles(ge,te,be),this.opaque===!0&&Ee.length>0&&this._renderObjects(Ee,Q,te,be),this.transparent===!0&&ve.length>0&&this._renderObjects(ve,Q,te,be),this.backend.finishRender(ae),J.renderId=F,this._currentRenderContext=Y,this._currentRenderObjectFunction=X,W!==null){this.setRenderTarget(re,ne,ie);const ke=this._quad;this._nodes.hasOutputChange(oe.texture)&&(ke.material.fragmentNode=this._nodes.getOutputNode(oe.texture),ke.material.needsUpdate=!0),this._renderScene(ke,ke.camera,!1)}return te.onAfterRender(this,G,Q,oe),ae}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(G){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(G)}async getArrayBufferAsync(G){return await this.backend.getArrayBufferAsync(G)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(G){return G.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(G){return G.set(this._width,this._height)}setPixelRatio(G=1){this._pixelRatio=G,this.setSize(this._width,this._height,!1)}setDrawingBufferSize(G,Q,q){this._width=G,this._height=Q,this._pixelRatio=q,this.domElement.width=Math.floor(G*q),this.domElement.height=Math.floor(Q*q),this.setViewport(0,0,G,Q),this._initialized&&this.backend.updateSize()}setSize(G,Q,q=!0){this._width=G,this._height=Q,this.domElement.width=Math.floor(G*this._pixelRatio),this.domElement.height=Math.floor(Q*this._pixelRatio),q===!0&&(this.domElement.style.width=G+"px",this.domElement.style.height=Q+"px"),this.setViewport(0,0,G,Q),this._initialized&&this.backend.updateSize()}setOpaqueSort(G){this._opaqueSort=G}setTransparentSort(G){this._transparentSort=G}getScissor(G){const Q=this._scissor;return G.x=Q.x,G.y=Q.y,G.width=Q.width,G.height=Q.height,G}setScissor(G,Q,q,W){const J=this._scissor;G.isVector4?J.copy(G):J.set(G,Q,q,W)}getScissorTest(){return this._scissorTest}setScissorTest(G){this._scissorTest=G,this.backend.setScissorTest(G)}getViewport(G){return G.copy(this._viewport)}setViewport(G,Q,q,W,J=0,F=1){const Y=this._viewport;G.isVector4?Y.copy(G):Y.set(G,Q,q,W),Y.minDepth=J,Y.maxDepth=F}getClearColor(G){return G.copy(this._clearColor)}setClearColor(G,Q=1){this._clearColor.set(G),this._clearColor.a=Q}getClearAlpha(){return this._clearColor.a}setClearAlpha(G){this._clearColor.a=G}getClearDepth(){return this._clearDepth}setClearDepth(G){this._clearDepth=G}getClearStencil(){return this._clearStencil}setClearStencil(G){this._clearStencil=G}isOccluded(G){const Q=this._currentRenderContext;return Q&&this.backend.isOccluded(Q,G)}clear(G=!0,Q=!0,q=!0){if(this._initialized===!1)return console.warn("THREE.Renderer: .clear() called before the backend is initialized. Try using .clearAsync() instead."),this.clearAsync(G,Q,q);const W=this._renderTarget||this._getFrameBufferTarget();let J=null;if(W!==null&&(this._textures.updateRenderTarget(W),J=this._textures.get(W)),this.backend.clear(G,Q,q,J),W!==null&&this._renderTarget===null){const F=this._quad;this._nodes.hasOutputChange(W.texture)&&(F.material.fragmentNode=this._nodes.getOutputNode(W.texture),F.material.needsUpdate=!0),this._renderScene(F,F.camera,!1)}}clearColor(){return this.clear(!0,!1,!1)}clearDepth(){return this.clear(!1,!0,!1)}clearStencil(){return this.clear(!1,!1,!0)}async clearAsync(G=!0,Q=!0,q=!0){this._initialized===!1&&await this.init(),this.clear(G,Q,q)}clearColorAsync(){return this.clearAsync(!0,!1,!1)}clearDepthAsync(){return this.clearAsync(!1,!0,!1)}clearStencilAsync(){return this.clearAsync(!1,!1,!0)}get currentToneMapping(){return this._renderTarget!==null?NoToneMapping:this.toneMapping}get currentColorSpace(){return this._renderTarget!==null?LinearSRGBColorSpace:this.outputColorSpace}dispose(){this.info.dispose(),this._animation.dispose(),this._objects.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(G,Q=0,q=0){this._renderTarget=G,this._activeCubeFace=Q,this._activeMipmapLevel=q}getRenderTarget(){return this._renderTarget}setRenderObjectFunction(G){this._renderObjectFunction=G}getRenderObjectFunction(){return this._renderObjectFunction}async computeAsync(G){this._initialized===!1&&await this.init();const Q=this._nodes.nodeFrame,q=Q.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,Q.renderId=this.info.calls;const W=this.backend,J=this._pipelines,F=this._bindings,Y=this._nodes,X=Array.isArray(G)?G:[G];if(X[0]===void 0||X[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");W.beginCompute(G);for(const te of X){if(J.has(te)===!1){const ie=()=>{te.removeEventListener("dispose",ie),J.delete(te),F.delete(te),Y.delete(te)};te.addEventListener("dispose",ie),te.onInit({renderer:this})}Y.updateForCompute(te),F.updateForCompute(te);const re=F.getForCompute(te),ne=J.getForCompute(te,re);W.compute(G,te,re,ne)}W.finishCompute(G),await this.backend.resolveTimestampAsync(G,"compute"),Q.renderId=q}async hasFeatureAsync(G){return this._initialized===!1&&await this.init(),this.backend.hasFeature(G)}hasFeature(G){return this._initialized===!1?(console.warn("THREE.Renderer: .hasFeature() called before the backend is initialized. Try using .hasFeatureAsync() instead."),!1):this.backend.hasFeature(G)}copyFramebufferToTexture(G,Q=null){const q=this._currentRenderContext;this._textures.updateTexture(G),Q=Q===null?_vector4.set(0,0,G.image.width,G.image.height):Q,this.backend.copyFramebufferToTexture(G,q,Q)}copyTextureToTexture(G,Q,q=null,W=null,J=0){this._textures.updateTexture(G),this._textures.updateTexture(Q),this.backend.copyTextureToTexture(G,Q,q,W,J)}readRenderTargetPixelsAsync(G,Q,q,W,J,F=0,Y=0){return this.backend.copyTextureToBuffer(G.textures[F],Q,q,W,J,Y)}_projectObject(G,Q,q,W){if(G.visible===!1)return;if(G.layers.test(Q.layers)){if(G.isGroup)q=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(Q);else if(G.isLight)W.pushLight(G);else if(G.isSprite){if(!G.frustumCulled||_frustum.intersectsSprite(G)){this.sortObjects===!0&&_vector4.setFromMatrixPosition(G.matrixWorld).applyMatrix4(_projScreenMatrix);const{geometry:F,material:Y}=G;Y.visible&&W.push(G,F,Y,q,_vector4.z,null)}}else if(G.isLineLoop)console.error("THREE.Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||_frustum.intersectsObject(G))){const{geometry:F,material:Y}=G;if(this.sortObjects===!0&&(F.boundingSphere===null&&F.computeBoundingSphere(),_vector4.copy(F.boundingSphere.center).applyMatrix4(G.matrixWorld).applyMatrix4(_projScreenMatrix)),Array.isArray(Y)){const X=F.groups;for(let te=0,re=X.length;te<re;te++){const ne=X[te],ie=Y[ne.materialIndex];ie&&ie.visible&&W.push(G,F,ie,q,_vector4.z,ne)}}else Y.visible&&W.push(G,F,Y,q,_vector4.z,null)}}if(G.isBundleGroup===!0&&this.backend.beginBundle!==void 0){const F=W;W=this._renderLists.get(G,Q),W.begin(),F.pushBundle({bundleGroup:G,camera:Q,renderList:W}),W.finish()}const J=G.children;for(let F=0,Y=J.length;F<Y;F++)this._projectObject(J[F],Q,q,W)}_renderBundles(G,Q,q){for(const W of G)this._renderBundle(W,Q,q)}_renderObjects(G,Q,q,W){for(let J=0,F=G.length;J<F;J++){const Y=G[J],{object:X,geometry:te,material:re,group:ne}=Y;if(Q.isArrayCamera){const ie=Q.cameras;for(let oe=0,ae=ie.length;oe<ae;oe++){const ue=ie[oe];if(X.layers.test(ue.layers)){const ce=ue.viewport,se=ce.minDepth===void 0?0:ce.minDepth,le=ce.maxDepth===void 0?1:ce.maxDepth,de=this._currentRenderContext.viewportValue;de.copy(ce).multiplyScalar(this._pixelRatio).floor(),de.minDepth=se,de.maxDepth=le,this.backend.updateViewport(this._currentRenderContext),this._currentRenderObjectFunction(X,q,ue,te,re,ne,W)}}}else this._currentRenderObjectFunction(X,q,Q,te,re,ne,W)}}renderObject(G,Q,q,W,J,F,Y){let X,te,re;if(G.onBeforeRender(this,Q,q,W,J,F),Q.overrideMaterial!==null){const ne=Q.overrideMaterial;J.positionNode&&J.positionNode.isNode&&(X=ne.positionNode,ne.positionNode=J.positionNode),ne.isShadowNodeMaterial&&(ne.side=J.shadowSide===null?J.side:J.shadowSide,J.depthNode&&J.depthNode.isNode&&(re=ne.depthNode,ne.depthNode=J.depthNode),J.shadowNode&&J.shadowNode.isNode&&(te=ne.fragmentNode,ne.fragmentNode=J.shadowNode),this.localClippingEnabled&&(J.clipShadows?(ne.clippingPlanes!==J.clippingPlanes&&(ne.clippingPlanes=J.clippingPlanes,ne.needsUpdate=!0),ne.clipIntersection!==J.clipIntersection&&(ne.clipIntersection=J.clipIntersection)):Array.isArray(ne.clippingPlanes)&&(ne.clippingPlanes=null,ne.needsUpdate=!0))),J=ne}J.transparent===!0&&J.side===DoubleSide&&J.forceSinglePass===!1?(J.side=BackSide,this._handleObjectFunction(G,J,Q,q,Y,F,"backSide"),J.side=FrontSide,this._handleObjectFunction(G,J,Q,q,Y,F),J.side=DoubleSide):this._handleObjectFunction(G,J,Q,q,Y,F),X!==void 0&&(Q.overrideMaterial.positionNode=X),re!==void 0&&(Q.overrideMaterial.depthNode=re),te!==void 0&&(Q.overrideMaterial.fragmentNode=te),G.onAfterRender(this,Q,q,W,J,F)}_renderObjectDirect(G,Q,q,W,J,F,Y){const X=this._objects.get(G,Q,q,W,J,this._currentRenderContext,Y);X.drawRange=G.geometry.drawRange,X.group=F;const te=this._nodes.needsRefresh(X);te&&(this._nodes.updateBefore(X),this._geometries.updateForRender(X),this._nodes.updateForRender(X),this._bindings.updateForRender(X)),this._pipelines.updateForRender(X),this._currentRenderBundle!==null&&(this.backend.get(this._currentRenderBundle).renderObjects.push(X),X.bundle=this._currentRenderBundle.scene),this.backend.draw(X,this.info),te&&this._nodes.updateAfter(X)}_createObjectPipeline(G,Q,q,W,J,F){const Y=this._objects.get(G,Q,q,W,J,this._currentRenderContext,F);this._nodes.updateBefore(Y),this._geometries.updateForRender(Y),this._nodes.updateForRender(Y),this._bindings.updateForRender(Y),this._pipelines.getForRender(Y,this._compilationPromises),this._nodes.updateAfter(Y)}get compute(){return this.computeAsync}get compile(){return this.compileAsync}}class Binding{constructor(G=""){this.name=G,this.visibility=0}setVisibility(G){this.visibility|=G}clone(){return Object.assign(new this.constructor,this)}}function getFloatLength(U){return U+(GPU_CHUNK_BYTES-U%GPU_CHUNK_BYTES)%GPU_CHUNK_BYTES}let Buffer$2=class extends Binding{constructor(U,G=null){super(U),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=G}get byteLength(){return getFloatLength(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}};class UniformBuffer extends Buffer$2{constructor(G,Q=null){super(G,Q),this.isUniformBuffer=!0}}let _id$4=0;class NodeUniformBuffer extends UniformBuffer{constructor(G,Q){super("UniformBuffer_"+_id$4++,G?G.value:null),this.nodeUniform=G,this.groupNode=Q}get buffer(){return this.nodeUniform.value}}class UniformsGroup extends UniformBuffer{constructor(G){super(G),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(G){return this.uniforms.push(G),this}removeUniform(G){const Q=this.uniforms.indexOf(G);return Q!==-1&&this.uniforms.splice(Q,1),this}get values(){return this._values===null&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let G=this._buffer;if(G===null){const Q=this.byteLength;G=new Float32Array(new ArrayBuffer(Q)),this._buffer=G}return G}get byteLength(){let G=0;for(let Q=0,q=this.uniforms.length;Q<q;Q++){const W=this.uniforms[Q],{boundary:J,itemSize:F}=W,Y=G%GPU_CHUNK_BYTES,X=GPU_CHUNK_BYTES-Y;Y!==0&&X-J<0?G+=GPU_CHUNK_BYTES-Y:Y%J!==0&&(G+=Y%J),W.offset=G/this.bytesPerElement,G+=F*this.bytesPerElement}return Math.ceil(G/GPU_CHUNK_BYTES)*GPU_CHUNK_BYTES}update(){let G=!1;for(const Q of this.uniforms)this.updateByType(Q)===!0&&(G=!0);return G}updateByType(G){if(G.isNumberUniform)return this.updateNumber(G);if(G.isVector2Uniform)return this.updateVector2(G);if(G.isVector3Uniform)return this.updateVector3(G);if(G.isVector4Uniform)return this.updateVector4(G);if(G.isColorUniform)return this.updateColor(G);if(G.isMatrix3Uniform)return this.updateMatrix3(G);if(G.isMatrix4Uniform)return this.updateMatrix4(G);console.error("THREE.WebGPUUniformsGroup: Unsupported uniform type.",G)}updateNumber(G){let Q=!1;const q=this.values,W=G.getValue(),J=G.offset;if(q[J]!==W){const F=this.buffer;F[J]=q[J]=W,Q=!0}return Q}updateVector2(G){let Q=!1;const q=this.values,W=G.getValue(),J=G.offset;if(q[J+0]!==W.x||q[J+1]!==W.y){const F=this.buffer;F[J+0]=q[J+0]=W.x,F[J+1]=q[J+1]=W.y,Q=!0}return Q}updateVector3(G){let Q=!1;const q=this.values,W=G.getValue(),J=G.offset;if(q[J+0]!==W.x||q[J+1]!==W.y||q[J+2]!==W.z){const F=this.buffer;F[J+0]=q[J+0]=W.x,F[J+1]=q[J+1]=W.y,F[J+2]=q[J+2]=W.z,Q=!0}return Q}updateVector4(G){let Q=!1;const q=this.values,W=G.getValue(),J=G.offset;if(q[J+0]!==W.x||q[J+1]!==W.y||q[J+2]!==W.z||q[J+4]!==W.w){const F=this.buffer;F[J+0]=q[J+0]=W.x,F[J+1]=q[J+1]=W.y,F[J+2]=q[J+2]=W.z,F[J+3]=q[J+3]=W.w,Q=!0}return Q}updateColor(G){let Q=!1;const q=this.values,W=G.getValue(),J=G.offset;if(q[J+0]!==W.r||q[J+1]!==W.g||q[J+2]!==W.b){const F=this.buffer;F[J+0]=q[J+0]=W.r,F[J+1]=q[J+1]=W.g,F[J+2]=q[J+2]=W.b,Q=!0}return Q}updateMatrix3(G){let Q=!1;const q=this.values,W=G.getValue().elements,J=G.offset;if(q[J+0]!==W[0]||q[J+1]!==W[1]||q[J+2]!==W[2]||q[J+4]!==W[3]||q[J+5]!==W[4]||q[J+6]!==W[5]||q[J+8]!==W[6]||q[J+9]!==W[7]||q[J+10]!==W[8]){const F=this.buffer;F[J+0]=q[J+0]=W[0],F[J+1]=q[J+1]=W[1],F[J+2]=q[J+2]=W[2],F[J+4]=q[J+4]=W[3],F[J+5]=q[J+5]=W[4],F[J+6]=q[J+6]=W[5],F[J+8]=q[J+8]=W[6],F[J+9]=q[J+9]=W[7],F[J+10]=q[J+10]=W[8],Q=!0}return Q}updateMatrix4(G){let Q=!1;const q=this.values,W=G.getValue().elements,J=G.offset;return arraysEqual$1(q,W,J)===!1&&(this.buffer.set(W,J),setArray(q,W,J),Q=!0),Q}}function setArray(U,G,Q){for(let q=0,W=G.length;q<W;q++)U[Q+q]=G[q]}function arraysEqual$1(U,G,Q){for(let q=0,W=G.length;q<W;q++)if(U[Q+q]!==G[q])return!1;return!0}let _id$3=0;class NodeUniformsGroup extends UniformsGroup{constructor(G,Q){super(G),this.id=_id$3++,this.groupNode=Q,this.isNodeUniformsGroup=!0}getNodes(){const G=[];for(const Q of this.uniforms){const q=Q.nodeUniform.node;if(!q)throw new Error("NodeUniformsGroup: Uniform has no node.");G.push(q)}return G}}let _id$2=0;class SampledTexture extends Binding{constructor(G,Q){super(G),this.id=_id$2++,this.texture=Q,this.version=Q?Q.version:0,this.store=!1,this.generation=null,this.isSampledTexture=!0}needsBindingsUpdate(G){const{texture:Q}=this;return G!==this.generation?(this.generation=G,!0):Q.isVideoTexture}update(){const{texture:G,version:Q}=this;return Q!==G.version?(this.version=G.version,!0):!1}}class NodeSampledTexture extends SampledTexture{constructor(G,Q,q,W=null){super(G,Q?Q.value:null),this.textureNode=Q,this.groupNode=q,this.access=W}needsBindingsUpdate(G){return this.textureNode.value!==this.texture||super.needsBindingsUpdate(G)}update(){const{textureNode:G}=this;return this.texture!==G.value?(this.texture=G.value,!0):super.update()}}class NodeSampledCubeTexture extends NodeSampledTexture{constructor(G,Q,q,W){super(G,Q,q,W),this.isSampledCubeTexture=!0}}class NodeSampledTexture3D extends NodeSampledTexture{constructor(G,Q,q,W){super(G,Q,q,W),this.isSampledTexture3D=!0}}const glslMethods={atan2:"atan",textureDimensions:"textureSize",equals:"equal"},precisionLib={low:"lowp",medium:"mediump",high:"highp"},supports$1={swizzleAssign:!0,storageBuffer:!1},defaultPrecisions=`
precision highp float;
precision highp int;
precision highp sampler2D;
precision highp sampler3D;
precision highp samplerCube;
precision highp sampler2DArray;

precision highp usampler2D;
precision highp usampler3D;
precision highp usamplerCube;
precision highp usampler2DArray;

precision highp isampler2D;
precision highp isampler3D;
precision highp isamplerCube;
precision highp isampler2DArray;

precision lowp sampler2DShadow;
`;class GLSLNodeBuilder extends NodeBuilder{constructor(G,Q){super(G,Q,new GLSLNodeParser),this.uniformGroups={},this.transforms=[],this.extensions={},this.useComparisonMethod=!0}needsColorSpaceToLinearSRGB(G){return G.isVideoTexture===!0&&G.colorSpace!==NoColorSpace}getMethod(G){return glslMethods[G]||G}getOutputStructName(){return""}buildFunctionCode(G){const Q=G.layout,q=this.flowShaderNode(G),W=[];for(const J of Q.inputs)W.push(this.getType(J.type)+" "+J.name);return`${this.getType(Q.type)} ${Q.name}( ${W.join(", ")} ) {

	${q.vars}

${q.code}
	return ${q.result};

}`}setupPBO(G){const Q=G.value;if(Q.pbo===void 0){const q=Q.array,W=Q.count*Q.itemSize,{itemSize:J}=Q,F=Q.array.constructor.name.toLowerCase().includes("int");let Y=F?RedIntegerFormat:RedFormat;J===2?Y=F?RGIntegerFormat:RGFormat:J===3?Y=F?RGBIntegerFormat:RGBFormat:J===4&&(Y=F?RGBAIntegerFormat:RGBAFormat);const X={Float32Array:FloatType,Uint8Array:UnsignedByteType,Uint16Array:UnsignedShortType,Uint32Array:UnsignedIntType,Int8Array:ByteType,Int16Array:ShortType,Int32Array:IntType,Uint8ClampedArray:UnsignedByteType},te=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(W/J))));let re=Math.ceil(W/J/te);te*re*J<W&&re++;const ne=te*re*J,ie=new q.constructor(ne);ie.set(q,0),Q.array=ie;const oe=new DataTexture(Q.array,te,re,Y,X[Q.array.constructor.name]||FloatType);oe.needsUpdate=!0,oe.isPBOTexture=!0;const ae=new TextureNode(oe,null,null);ae.setPrecision("high"),Q.pboNode=ae,Q.pbo=ae.value,this.getUniformFromNode(Q.pboNode,"texture",this.shaderStage,this.context.label)}}getPropertyName(G,Q=this.shaderStage){return G.isNodeUniform&&G.node.isTextureNode!==!0&&G.node.isBufferNode!==!0?Q.charAt(0)+"_"+G.name:super.getPropertyName(G,Q)}generatePBO(G){const{node:Q,indexNode:q}=G,W=Q.value;if(this.renderer.backend.has(W)){const re=this.renderer.backend.get(W);re.pbo=W.pbo}const J=this.getUniformFromNode(W.pboNode,"texture",this.shaderStage,this.context.label),F=this.getPropertyName(J);this.increaseUsage(q);const Y=q.build(this,"uint"),X=this.getDataFromNode(G);let te=X.propertyName;if(te===void 0){const re=this.getVarFromNode(G);te=this.getPropertyName(re);const ne=this.getDataFromNode(Q);let ie=ne.propertySizeName;ie===void 0&&(ie=te+"Size",this.getVarFromNode(Q,ie,"uint"),this.addLineFlowCode(`${ie} = uint( textureSize( ${F}, 0 ).x )`,G),ne.propertySizeName=ie);const{itemSize:oe}=W,ae="."+vectorComponents.join("").slice(0,oe),ue=`ivec2(${Y} % ${ie}, ${Y} / ${ie})`,ce=this.generateTextureLoad(null,F,ue,null,"0");let se="vec4";W.pbo.type===UnsignedIntType?se="uvec4":W.pbo.type===IntType&&(se="ivec4"),this.addLineFlowCode(`${te} = ${se}(${ce})${ae}`,G),X.propertyName=te}return te}generateTextureLoad(G,Q,q,W,J="0"){return W?`texelFetch( ${Q}, ivec3( ${q}, ${W} ), ${J} )`:`texelFetch( ${Q}, ${q}, ${J} )`}generateTexture(G,Q,q,W){return G.isDepthTexture?`texture( ${Q}, ${q} ).x`:(W&&(q=`vec3( ${q}, ${W} )`),`texture( ${Q}, ${q} )`)}generateTextureLevel(G,Q,q,W){return`textureLod( ${Q}, ${q}, ${W} )`}generateTextureBias(G,Q,q,W){return`texture( ${Q}, ${q}, ${W} )`}generateTextureGrad(G,Q,q,W){return`textureGrad( ${Q}, ${q}, ${W[0]}, ${W[1]} )`}generateTextureCompare(G,Q,q,W,J,F=this.shaderStage){if(F==="fragment")return`texture( ${Q}, vec3( ${q}, ${W} ) )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${F} shader.`)}getVars(G){const Q=[],q=this.vars[G];if(q!==void 0)for(const W of q)Q.push(`${this.getVar(W.type,W.name)};`);return Q.join(`
	`)}getUniforms(G){const Q=this.uniforms[G],q=[],W={};for(const F of Q){let Y=null,X=!1;if(F.type==="texture"){const re=F.node.value;let ne="";re.isDataTexture===!0&&(re.type===UnsignedIntType?ne="u":re.type===IntType&&(ne="i")),re.compareFunction?Y=`sampler2DShadow ${F.name};`:re.isDataArrayTexture===!0||re.isCompressedArrayTexture===!0?Y=`${ne}sampler2DArray ${F.name};`:Y=`${ne}sampler2D ${F.name};`}else if(F.type==="cubeTexture")Y=`samplerCube ${F.name};`;else if(F.type==="texture3D")Y=`sampler3D ${F.name};`;else if(F.type==="buffer"){const re=F.node,ne=this.getType(re.bufferType),ie=re.bufferCount,oe=ie>0?ie:"";Y=`${re.name} {
	${ne} ${F.name}[${oe}];
};
`}else Y=`${this.getVectorType(F.type)} ${this.getPropertyName(F,G)};`,X=!0;const te=F.node.precision;if(te!==null&&(Y=precisionLib[te]+" "+Y),X){Y="	"+Y;const re=F.groupNode.name;(W[re]||(W[re]=[])).push(Y)}else Y="uniform "+Y,q.push(Y)}let J="";for(const F in W){const Y=W[F];J+=this._getGLSLUniformStruct(G+"_"+F,Y.join(`
`))+`
`}return J+=q.join(`
`),J}getTypeFromAttribute(G){let Q=super.getTypeFromAttribute(G);if(/^[iu]/.test(Q)&&G.gpuType!==IntType){let q=G;G.isInterleavedBufferAttribute&&(q=G.data);const W=q.array;W instanceof Uint32Array||W instanceof Int32Array||(Q=Q.slice(1))}return Q}getAttributes(G){let Q="";if(G==="vertex"||G==="compute"){const q=this.getAttributesArray();let W=0;for(const J of q)Q+=`layout( location = ${W++} ) in ${J.type} ${J.name};
`}return Q}getStructMembers(G){const Q=[],q=G.getMemberTypes();for(let W=0;W<q.length;W++){const J=q[W];Q.push(`layout( location = ${W} ) out ${J} m${W};`)}return Q.join(`
`)}getStructs(G){const Q=[],q=this.structs[G];if(q.length===0)return`layout( location = 0 ) out vec4 fragColor;
`;for(let W=0,J=q.length;W<J;W++){const F=q[W];let Y=`
`;Y+=this.getStructMembers(F),Y+=`
`,Q.push(Y)}return Q.join(`

`)}getVaryings(G){let Q="";const q=this.varyings;if(G==="vertex"||G==="compute")for(const W of q){G==="compute"&&(W.needsInterpolation=!0);const J=W.type,F=J.includes("int")||J.includes("uv")||J.includes("iv")?"flat ":"";Q+=`${F}${W.needsInterpolation?"out":"/*out*/"} ${J} ${W.name};
`}else if(G==="fragment"){for(const W of q)if(W.needsInterpolation){const J=W.type,F=J.includes("int")||J.includes("uv")||J.includes("iv")?"flat ":"";Q+=`${F}in ${J} ${W.name};
`}}return Q}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){return`uint( gl_InstanceID ) % ${this.object.workgroupSize.reduce((G,Q)=>G*Q,1)}u`}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(G,Q,q=this.shaderStage){const W=this.extensions[q]||(this.extensions[q]=new Map);W.has(G)===!1&&W.set(G,{name:G,behavior:Q})}getExtensions(G){const Q=[];if(G==="vertex"){const W=this.renderer.backend.extensions;this.object.isBatchedMesh&&W.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",G)}const q=this.extensions[G];if(q!==void 0)for(const{name:W,behavior:J}of q.values())Q.push(`#extension ${W} : ${J}`);return Q.join(`
`)}isAvailable(G){let Q=supports$1[G];if(Q===void 0){if(G==="float32Filterable"){const q=this.renderer.backend.extensions;q.has("OES_texture_float_linear")?(q.get("OES_texture_float_linear"),Q=!0):Q=!1}supports$1[G]=Q}return Q}isFlipY(){return!0}registerTransform(G,Q){this.transforms.push({varyingName:G,attributeNode:Q})}getTransforms(){const G=this.transforms;let Q="";for(let q=0;q<G.length;q++){const W=G[q],J=this.getPropertyName(W.attributeNode);Q+=`${W.varyingName} = ${J};
	`}return Q}_getGLSLUniformStruct(G,Q){return`
layout( std140 ) uniform ${G} {
${Q}
};`}_getGLSLVertexCode(G){return`#version 300 es

${this.getSignature()}

// extensions 
${G.extensions}

// precision
${defaultPrecisions}

// uniforms
${G.uniforms}

// varyings
${G.varyings}

// attributes
${G.attributes}

// codes
${G.codes}

void main() {

	// vars
	${G.vars}

	// transforms
	${G.transforms}

	// flow
	${G.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(G){return`#version 300 es

${this.getSignature()}

// precision
${defaultPrecisions}

// uniforms
${G.uniforms}

// varyings
${G.varyings}

// codes
${G.codes}

${G.structs}

void main() {

	// vars
	${G.vars}

	// flow
	${G.flow}

}
`}buildCode(){const G=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const Q in G){let q=`// code

`;q+=this.flowCode[Q];const W=this.flowNodes[Q],J=W[W.length-1];for(const Y of W){const X=this.getFlowData(Y),te=Y.name;te&&(q.length>0&&(q+=`
`),q+=`	// flow -> ${te}
	`),q+=`${X.code}
	`,Y===J&&Q!=="compute"&&(q+=`// result
	`,Q==="vertex"?(q+="gl_Position = ",q+=`${X.result};`):Q==="fragment"&&(Y.outputNode.isOutputStructNode||(q+="fragColor = ",q+=`${X.result};`)))}const F=G[Q];F.extensions=this.getExtensions(Q),F.uniforms=this.getUniforms(Q),F.attributes=this.getAttributes(Q),F.varyings=this.getVaryings(Q),F.vars=this.getVars(Q),F.structs=this.getStructs(Q),F.codes=this.getCodes(Q),F.transforms=this.getTransforms(Q),F.flow=q}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(G.vertex),this.fragmentShader=this._getGLSLFragmentCode(G.fragment)):this.computeShader=this._getGLSLVertexCode(G.compute)}getUniformFromNode(G,Q,q,W=null){const J=super.getUniformFromNode(G,Q,q,W),F=this.getDataFromNode(G,q,this.globalCache);let Y=F.uniformGPU;if(Y===void 0){const X=G.groupNode,te=X.name,re=this.getBindGroupArray(te,q);if(Q==="texture")Y=new NodeSampledTexture(J.name,J.node,X),re.push(Y);else if(Q==="cubeTexture")Y=new NodeSampledCubeTexture(J.name,J.node,X),re.push(Y);else if(Q==="texture3D")Y=new NodeSampledTexture3D(J.name,J.node,X),re.push(Y);else if(Q==="buffer"){G.name=`NodeBuffer_${G.id}`,J.name=`buffer${G.id}`;const ne=new NodeUniformBuffer(G,X);ne.name=G.name,re.push(ne),Y=ne}else{const ne=this.uniformGroups[q]||(this.uniformGroups[q]={});let ie=ne[te];ie===void 0&&(ie=new NodeUniformsGroup(q+"_"+te,X),ne[te]=ie,re.push(ie)),Y=this.getNodeUniform(J,Q),ie.addUniform(Y)}F.uniformGPU=Y}return J}}let vector2=null,vector4=null,color4=null;class Backend{constructor(G={}){this.parameters=Object.assign({},G),this.data=new WeakMap,this.renderer=null,this.domElement=null}async init(G){this.renderer=G}begin(){}finish(){}draw(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}createRenderPipeline(){}createComputePipeline(){}destroyPipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}createSampler(){}createDefaultTexture(){}createTexture(){}copyTextureToBuffer(){}createAttribute(){}createIndexAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}resolveTimestampAsync(){}hasFeatureAsync(){}hasFeature(){}getInstanceCount(G){const{object:Q,geometry:q}=G;return q.isInstancedBufferGeometry?q.instanceCount:Q.count>1?Q.count:1}getDrawingBufferSize(){return vector2=vector2||new Vector2,this.renderer.getDrawingBufferSize(vector2)}getScissor(){return vector4=vector4||new Vector4,this.renderer.getScissor(vector4)}setScissorTest(){}getClearColor(){const G=this.renderer;return color4=color4||new Color4,G.getClearColor(color4),color4.getRGB(color4,this.renderer.currentColorSpace),color4}getDomElement(){let G=this.domElement;return G===null&&(G=this.parameters.canvas!==void 0?this.parameters.canvas:createCanvasElement(),"setAttribute"in G&&G.setAttribute("data-engine",`three.js r${REVISION} webgpu`),this.domElement=G),G}set(G,Q){this.data.set(G,Q)}get(G){let Q=this.data.get(G);return Q===void 0&&(Q={},this.data.set(G,Q)),Q}has(G){return this.data.has(G)}delete(G){this.data.delete(G)}}let _id$1=0;class DualAttributeData{constructor(G,Q){this.buffers=[G.bufferGPU,Q],this.type=G.type,this.bufferType=G.bufferType,this.pbo=G.pbo,this.byteLength=G.byteLength,this.bytesPerElement=G.BYTES_PER_ELEMENT,this.version=G.version,this.isInteger=G.isInteger,this.activeBufferIndex=0,this.baseId=G.id}get id(){return`${this.baseId}|${this.activeBufferIndex}`}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[this.activeBufferIndex^1]}switchBuffers(){this.activeBufferIndex^=1}}class WebGLAttributeUtils{constructor(G){this.backend=G}createAttribute(G,Q){const q=this.backend,{gl:W}=q,J=G.array,F=G.usage||W.STATIC_DRAW,Y=G.isInterleavedBufferAttribute?G.data:G,X=q.get(Y);let te=X.bufferGPU;te===void 0&&(te=this._createBuffer(W,Q,J,F),X.bufferGPU=te,X.bufferType=Q,X.version=Y.version);let re;if(J instanceof Float32Array)re=W.FLOAT;else if(J instanceof Uint16Array)G.isFloat16BufferAttribute?re=W.HALF_FLOAT:re=W.UNSIGNED_SHORT;else if(J instanceof Int16Array)re=W.SHORT;else if(J instanceof Uint32Array)re=W.UNSIGNED_INT;else if(J instanceof Int32Array)re=W.INT;else if(J instanceof Int8Array)re=W.BYTE;else if(J instanceof Uint8Array)re=W.UNSIGNED_BYTE;else if(J instanceof Uint8ClampedArray)re=W.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+J);let ne={bufferGPU:te,bufferType:Q,type:re,byteLength:J.byteLength,bytesPerElement:J.BYTES_PER_ELEMENT,version:G.version,pbo:G.pbo,isInteger:re===W.INT||re===W.UNSIGNED_INT||G.gpuType===IntType,id:_id$1++};if(G.isStorageBufferAttribute||G.isStorageInstancedBufferAttribute){const ie=this._createBuffer(W,Q,J,F);ne=new DualAttributeData(ne,ie)}q.set(G,ne)}updateAttribute(G){const Q=this.backend,{gl:q}=Q,W=G.array,J=G.isInterleavedBufferAttribute?G.data:G,F=Q.get(J),Y=F.bufferType,X=G.isInterleavedBufferAttribute?G.data.updateRanges:G.updateRanges;if(q.bindBuffer(Y,F.bufferGPU),X.length===0)q.bufferSubData(Y,0,W);else{for(let te=0,re=X.length;te<re;te++){const ne=X[te];q.bufferSubData(Y,ne.start*W.BYTES_PER_ELEMENT,W,ne.start,ne.count)}J.clearUpdateRanges()}q.bindBuffer(Y,null),F.version=J.version}destroyAttribute(G){const Q=this.backend,{gl:q}=Q;G.isInterleavedBufferAttribute&&Q.delete(G.data);const W=Q.get(G);q.deleteBuffer(W.bufferGPU),Q.delete(G)}async getArrayBufferAsync(G){const Q=this.backend,{gl:q}=Q,W=G.isInterleavedBufferAttribute?G.data:G,{bufferGPU:J}=Q.get(W),F=G.array,Y=F.byteLength;q.bindBuffer(q.COPY_READ_BUFFER,J);const X=q.createBuffer();q.bindBuffer(q.COPY_WRITE_BUFFER,X),q.bufferData(q.COPY_WRITE_BUFFER,Y,q.STREAM_READ),q.copyBufferSubData(q.COPY_READ_BUFFER,q.COPY_WRITE_BUFFER,0,0,Y),await Q.utils._clientWaitAsync();const te=new G.array.constructor(F.length);return q.bindBuffer(q.COPY_WRITE_BUFFER,X),q.getBufferSubData(q.COPY_WRITE_BUFFER,0,te),q.deleteBuffer(X),q.bindBuffer(q.COPY_READ_BUFFER,null),q.bindBuffer(q.COPY_WRITE_BUFFER,null),te.buffer}_createBuffer(G,Q,q,W){const J=G.createBuffer();return G.bindBuffer(Q,J),G.bufferData(Q,q,W),G.bindBuffer(Q,null),J}}let initialized$1=!1,equationToGL,factorToGL;class WebGLState{constructor(G){this.backend=G,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},initialized$1===!1&&(this._init(this.gl),initialized$1=!0)}_init(G){equationToGL={[AddEquation]:G.FUNC_ADD,[SubtractEquation]:G.FUNC_SUBTRACT,[ReverseSubtractEquation]:G.FUNC_REVERSE_SUBTRACT},factorToGL={[ZeroFactor]:G.ZERO,[OneFactor]:G.ONE,[SrcColorFactor]:G.SRC_COLOR,[SrcAlphaFactor]:G.SRC_ALPHA,[SrcAlphaSaturateFactor]:G.SRC_ALPHA_SATURATE,[DstColorFactor]:G.DST_COLOR,[DstAlphaFactor]:G.DST_ALPHA,[OneMinusSrcColorFactor]:G.ONE_MINUS_SRC_COLOR,[OneMinusSrcAlphaFactor]:G.ONE_MINUS_SRC_ALPHA,[OneMinusDstColorFactor]:G.ONE_MINUS_DST_COLOR,[OneMinusDstAlphaFactor]:G.ONE_MINUS_DST_ALPHA}}enable(G){const{enabled:Q}=this;Q[G]!==!0&&(this.gl.enable(G),Q[G]=!0)}disable(G){const{enabled:Q}=this;Q[G]!==!1&&(this.gl.disable(G),Q[G]=!1)}setFlipSided(G){if(this.currentFlipSided!==G){const{gl:Q}=this;G?Q.frontFace(Q.CW):Q.frontFace(Q.CCW),this.currentFlipSided=G}}setCullFace(G){const{gl:Q}=this;G!==CullFaceNone?(this.enable(Q.CULL_FACE),G!==this.currentCullFace&&(G===CullFaceBack?Q.cullFace(Q.BACK):G===CullFaceFront?Q.cullFace(Q.FRONT):Q.cullFace(Q.FRONT_AND_BACK))):this.disable(Q.CULL_FACE),this.currentCullFace=G}setLineWidth(G){const{currentLineWidth:Q,gl:q}=this;G!==Q&&(q.lineWidth(G),this.currentLineWidth=G)}setBlending(G,Q,q,W,J,F,Y,X){const{gl:te}=this;if(G===NoBlending){this.currentBlendingEnabled===!0&&(this.disable(te.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(te.BLEND),this.currentBlendingEnabled=!0),G!==CustomBlending){if(G!==this.currentBlending||X!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==AddEquation||this.currentBlendEquationAlpha!==AddEquation)&&(te.blendEquation(te.FUNC_ADD),this.currentBlendEquation=AddEquation,this.currentBlendEquationAlpha=AddEquation),X)switch(G){case NormalBlending:te.blendFuncSeparate(te.ONE,te.ONE_MINUS_SRC_ALPHA,te.ONE,te.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:te.blendFunc(te.ONE,te.ONE);break;case SubtractiveBlending:te.blendFuncSeparate(te.ZERO,te.ONE_MINUS_SRC_COLOR,te.ZERO,te.ONE);break;case MultiplyBlending:te.blendFuncSeparate(te.ZERO,te.SRC_COLOR,te.ZERO,te.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",G);break}else switch(G){case NormalBlending:te.blendFuncSeparate(te.SRC_ALPHA,te.ONE_MINUS_SRC_ALPHA,te.ONE,te.ONE_MINUS_SRC_ALPHA);break;case AdditiveBlending:te.blendFunc(te.SRC_ALPHA,te.ONE);break;case SubtractiveBlending:te.blendFuncSeparate(te.ZERO,te.ONE_MINUS_SRC_COLOR,te.ZERO,te.ONE);break;case MultiplyBlending:te.blendFunc(te.ZERO,te.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",G);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=G,this.currentPremultipledAlpha=X}return}J=J||Q,F=F||q,Y=Y||W,(Q!==this.currentBlendEquation||J!==this.currentBlendEquationAlpha)&&(te.blendEquationSeparate(equationToGL[Q],equationToGL[J]),this.currentBlendEquation=Q,this.currentBlendEquationAlpha=J),(q!==this.currentBlendSrc||W!==this.currentBlendDst||F!==this.currentBlendSrcAlpha||Y!==this.currentBlendDstAlpha)&&(te.blendFuncSeparate(factorToGL[q],factorToGL[W],factorToGL[F],factorToGL[Y]),this.currentBlendSrc=q,this.currentBlendDst=W,this.currentBlendSrcAlpha=F,this.currentBlendDstAlpha=Y),this.currentBlending=G,this.currentPremultipledAlpha=!1}setColorMask(G){this.currentColorMask!==G&&(this.gl.colorMask(G,G,G,G),this.currentColorMask=G)}setDepthTest(G){const{gl:Q}=this;G?this.enable(Q.DEPTH_TEST):this.disable(Q.DEPTH_TEST)}setDepthMask(G){this.currentDepthMask!==G&&(this.gl.depthMask(G),this.currentDepthMask=G)}setDepthFunc(G){if(this.currentDepthFunc!==G){const{gl:Q}=this;switch(G){case NeverDepth:Q.depthFunc(Q.NEVER);break;case AlwaysDepth:Q.depthFunc(Q.ALWAYS);break;case LessDepth:Q.depthFunc(Q.LESS);break;case LessEqualDepth:Q.depthFunc(Q.LEQUAL);break;case EqualDepth:Q.depthFunc(Q.EQUAL);break;case GreaterEqualDepth:Q.depthFunc(Q.GEQUAL);break;case GreaterDepth:Q.depthFunc(Q.GREATER);break;case NotEqualDepth:Q.depthFunc(Q.NOTEQUAL);break;default:Q.depthFunc(Q.LEQUAL)}this.currentDepthFunc=G}}setStencilTest(G){const{gl:Q}=this;G?this.enable(Q.STENCIL_TEST):this.disable(Q.STENCIL_TEST)}setStencilMask(G){this.currentStencilMask!==G&&(this.gl.stencilMask(G),this.currentStencilMask=G)}setStencilFunc(G,Q,q){(this.currentStencilFunc!==G||this.currentStencilRef!==Q||this.currentStencilFuncMask!==q)&&(this.gl.stencilFunc(G,Q,q),this.currentStencilFunc=G,this.currentStencilRef=Q,this.currentStencilFuncMask=q)}setStencilOp(G,Q,q){(this.currentStencilFail!==G||this.currentStencilZFail!==Q||this.currentStencilZPass!==q)&&(this.gl.stencilOp(G,Q,q),this.currentStencilFail=G,this.currentStencilZFail=Q,this.currentStencilZPass=q)}setMaterial(G,Q){const{gl:q}=this;G.side===DoubleSide?this.disable(q.CULL_FACE):this.enable(q.CULL_FACE);let W=G.side===BackSide;Q&&(W=!W),this.setFlipSided(W),G.blending===NormalBlending&&G.transparent===!1?this.setBlending(NoBlending):this.setBlending(G.blending,G.blendEquation,G.blendSrc,G.blendDst,G.blendEquationAlpha,G.blendSrcAlpha,G.blendDstAlpha,G.premultipliedAlpha),this.setDepthFunc(G.depthFunc),this.setDepthTest(G.depthTest),this.setDepthMask(G.depthWrite),this.setColorMask(G.colorWrite);const J=G.stencilWrite;this.setStencilTest(J),J&&(this.setStencilMask(G.stencilWriteMask),this.setStencilFunc(G.stencilFunc,G.stencilRef,G.stencilFuncMask),this.setStencilOp(G.stencilFail,G.stencilZFail,G.stencilZPass)),this.setPolygonOffset(G.polygonOffset,G.polygonOffsetFactor,G.polygonOffsetUnits),G.alphaToCoverage===!0&&this.backend.renderer.samples>1?this.enable(q.SAMPLE_ALPHA_TO_COVERAGE):this.disable(q.SAMPLE_ALPHA_TO_COVERAGE)}setPolygonOffset(G,Q,q){const{gl:W}=this;G?(this.enable(W.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==Q||this.currentPolygonOffsetUnits!==q)&&(W.polygonOffset(Q,q),this.currentPolygonOffsetFactor=Q,this.currentPolygonOffsetUnits=q)):this.disable(W.POLYGON_OFFSET_FILL)}useProgram(G){return this.currentProgram!==G?(this.gl.useProgram(G),this.currentProgram=G,!0):!1}bindFramebuffer(G,Q){const{gl:q,currentBoundFramebuffers:W}=this;return W[G]!==Q?(q.bindFramebuffer(G,Q),W[G]=Q,G===q.DRAW_FRAMEBUFFER&&(W[q.FRAMEBUFFER]=Q),G===q.FRAMEBUFFER&&(W[q.DRAW_FRAMEBUFFER]=Q),!0):!1}drawBuffers(G,Q){const{gl:q}=this;let W=[],J=!1;if(G.textures!==null){W=this.currentDrawbuffers.get(Q),W===void 0&&(W=[],this.currentDrawbuffers.set(Q,W));const F=G.textures;if(W.length!==F.length||W[0]!==q.COLOR_ATTACHMENT0){for(let Y=0,X=F.length;Y<X;Y++)W[Y]=q.COLOR_ATTACHMENT0+Y;W.length=F.length,J=!0}}else W[0]!==q.BACK&&(W[0]=q.BACK,J=!0);J&&q.drawBuffers(W)}activeTexture(G){const{gl:Q,currentTextureSlot:q,maxTextures:W}=this;G===void 0&&(G=Q.TEXTURE0+W-1),q!==G&&(Q.activeTexture(G),this.currentTextureSlot=G)}bindTexture(G,Q,q){const{gl:W,currentTextureSlot:J,currentBoundTextures:F,maxTextures:Y}=this;q===void 0&&(J===null?q=W.TEXTURE0+Y-1:q=J);let X=F[q];X===void 0&&(X={type:void 0,texture:void 0},F[q]=X),(X.type!==G||X.texture!==Q)&&(J!==q&&(W.activeTexture(q),this.currentTextureSlot=q),W.bindTexture(G,Q),X.type=G,X.texture=Q)}bindBufferBase(G,Q,q){const{gl:W}=this,J=`${G}-${Q}`;return this.currentBoundBufferBases[J]!==q?(W.bindBufferBase(G,Q,q),this.currentBoundBufferBases[J]=q,!0):!1}unbindTexture(){const{gl:G,currentTextureSlot:Q,currentBoundTextures:q}=this,W=q[Q];W!==void 0&&W.type!==void 0&&(G.bindTexture(W.type,null),W.type=void 0,W.texture=void 0)}}class WebGLUtils{constructor(G){this.backend=G,this.gl=this.backend.gl,this.extensions=G.extensions}convert(G,Q=NoColorSpace){const{gl:q,extensions:W}=this;let J;if(G===UnsignedByteType)return q.UNSIGNED_BYTE;if(G===UnsignedShort4444Type)return q.UNSIGNED_SHORT_4_4_4_4;if(G===UnsignedShort5551Type)return q.UNSIGNED_SHORT_5_5_5_1;if(G===UnsignedInt5999Type)return q.UNSIGNED_INT_5_9_9_9_REV;if(G===ByteType)return q.BYTE;if(G===ShortType)return q.SHORT;if(G===UnsignedShortType)return q.UNSIGNED_SHORT;if(G===IntType)return q.INT;if(G===UnsignedIntType)return q.UNSIGNED_INT;if(G===FloatType)return q.FLOAT;if(G===HalfFloatType)return q.HALF_FLOAT;if(G===AlphaFormat)return q.ALPHA;if(G===RGBFormat)return q.RGB;if(G===RGBAFormat)return q.RGBA;if(G===LuminanceFormat)return q.LUMINANCE;if(G===LuminanceAlphaFormat)return q.LUMINANCE_ALPHA;if(G===DepthFormat)return q.DEPTH_COMPONENT;if(G===DepthStencilFormat)return q.DEPTH_STENCIL;if(G===RedFormat)return q.RED;if(G===RedIntegerFormat)return q.RED_INTEGER;if(G===RGFormat)return q.RG;if(G===RGIntegerFormat)return q.RG_INTEGER;if(G===RGBAIntegerFormat)return q.RGBA_INTEGER;if(G===RGB_S3TC_DXT1_Format||G===RGBA_S3TC_DXT1_Format||G===RGBA_S3TC_DXT3_Format||G===RGBA_S3TC_DXT5_Format)if(Q===SRGBColorSpace)if(J=W.get("WEBGL_compressed_texture_s3tc_srgb"),J!==null){if(G===RGB_S3TC_DXT1_Format)return J.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(G===RGBA_S3TC_DXT1_Format)return J.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(G===RGBA_S3TC_DXT3_Format)return J.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(G===RGBA_S3TC_DXT5_Format)return J.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(J=W.get("WEBGL_compressed_texture_s3tc"),J!==null){if(G===RGB_S3TC_DXT1_Format)return J.COMPRESSED_RGB_S3TC_DXT1_EXT;if(G===RGBA_S3TC_DXT1_Format)return J.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(G===RGBA_S3TC_DXT3_Format)return J.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(G===RGBA_S3TC_DXT5_Format)return J.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(G===RGB_PVRTC_4BPPV1_Format||G===RGB_PVRTC_2BPPV1_Format||G===RGBA_PVRTC_4BPPV1_Format||G===RGBA_PVRTC_2BPPV1_Format)if(J=W.get("WEBGL_compressed_texture_pvrtc"),J!==null){if(G===RGB_PVRTC_4BPPV1_Format)return J.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(G===RGB_PVRTC_2BPPV1_Format)return J.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(G===RGBA_PVRTC_4BPPV1_Format)return J.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(G===RGBA_PVRTC_2BPPV1_Format)return J.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(G===RGB_ETC1_Format||G===RGB_ETC2_Format||G===RGBA_ETC2_EAC_Format)if(J=W.get("WEBGL_compressed_texture_etc"),J!==null){if(G===RGB_ETC1_Format||G===RGB_ETC2_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ETC2:J.COMPRESSED_RGB8_ETC2;if(G===RGBA_ETC2_EAC_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:J.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(G===RGBA_ASTC_4x4_Format||G===RGBA_ASTC_5x4_Format||G===RGBA_ASTC_5x5_Format||G===RGBA_ASTC_6x5_Format||G===RGBA_ASTC_6x6_Format||G===RGBA_ASTC_8x5_Format||G===RGBA_ASTC_8x6_Format||G===RGBA_ASTC_8x8_Format||G===RGBA_ASTC_10x5_Format||G===RGBA_ASTC_10x6_Format||G===RGBA_ASTC_10x8_Format||G===RGBA_ASTC_10x10_Format||G===RGBA_ASTC_12x10_Format||G===RGBA_ASTC_12x12_Format)if(J=W.get("WEBGL_compressed_texture_astc"),J!==null){if(G===RGBA_ASTC_4x4_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:J.COMPRESSED_RGBA_ASTC_4x4_KHR;if(G===RGBA_ASTC_5x4_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:J.COMPRESSED_RGBA_ASTC_5x4_KHR;if(G===RGBA_ASTC_5x5_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:J.COMPRESSED_RGBA_ASTC_5x5_KHR;if(G===RGBA_ASTC_6x5_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:J.COMPRESSED_RGBA_ASTC_6x5_KHR;if(G===RGBA_ASTC_6x6_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:J.COMPRESSED_RGBA_ASTC_6x6_KHR;if(G===RGBA_ASTC_8x5_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:J.COMPRESSED_RGBA_ASTC_8x5_KHR;if(G===RGBA_ASTC_8x6_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:J.COMPRESSED_RGBA_ASTC_8x6_KHR;if(G===RGBA_ASTC_8x8_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:J.COMPRESSED_RGBA_ASTC_8x8_KHR;if(G===RGBA_ASTC_10x5_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:J.COMPRESSED_RGBA_ASTC_10x5_KHR;if(G===RGBA_ASTC_10x6_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:J.COMPRESSED_RGBA_ASTC_10x6_KHR;if(G===RGBA_ASTC_10x8_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:J.COMPRESSED_RGBA_ASTC_10x8_KHR;if(G===RGBA_ASTC_10x10_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:J.COMPRESSED_RGBA_ASTC_10x10_KHR;if(G===RGBA_ASTC_12x10_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:J.COMPRESSED_RGBA_ASTC_12x10_KHR;if(G===RGBA_ASTC_12x12_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:J.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(G===RGBA_BPTC_Format)if(J=W.get("EXT_texture_compression_bptc"),J!==null){if(G===RGBA_BPTC_Format)return Q===SRGBColorSpace?J.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:J.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(G===RED_RGTC1_Format||G===SIGNED_RED_RGTC1_Format||G===RED_GREEN_RGTC2_Format||G===SIGNED_RED_GREEN_RGTC2_Format)if(J=W.get("EXT_texture_compression_rgtc"),J!==null){if(G===RGBA_BPTC_Format)return J.COMPRESSED_RED_RGTC1_EXT;if(G===SIGNED_RED_RGTC1_Format)return J.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(G===RED_GREEN_RGTC2_Format)return J.COMPRESSED_RED_GREEN_RGTC2_EXT;if(G===SIGNED_RED_GREEN_RGTC2_Format)return J.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return G===UnsignedInt248Type?q.UNSIGNED_INT_24_8:q[G]!==void 0?q[G]:null}_clientWaitAsync(){const{gl:G}=this,Q=G.fenceSync(G.SYNC_GPU_COMMANDS_COMPLETE,0);return G.flush(),new Promise((q,W)=>{function J(){const F=G.clientWaitSync(Q,G.SYNC_FLUSH_COMMANDS_BIT,0);if(F===G.WAIT_FAILED){G.deleteSync(Q),W();return}if(F===G.TIMEOUT_EXPIRED){requestAnimationFrame(J);return}G.deleteSync(Q),q()}J()})}}let initialized=!1,wrappingToGL,filterToGL,compareToGL;class WebGLTextureUtils{constructor(G){this.backend=G,this.gl=G.gl,this.extensions=G.extensions,this.defaultTextures={},initialized===!1&&(this._init(this.gl),initialized=!0)}_init(G){wrappingToGL={[RepeatWrapping]:G.REPEAT,[ClampToEdgeWrapping]:G.CLAMP_TO_EDGE,[MirroredRepeatWrapping]:G.MIRRORED_REPEAT},filterToGL={[NearestFilter]:G.NEAREST,[NearestMipmapNearestFilter]:G.NEAREST_MIPMAP_NEAREST,[NearestMipmapLinearFilter]:G.NEAREST_MIPMAP_LINEAR,[LinearFilter]:G.LINEAR,[LinearMipmapNearestFilter]:G.LINEAR_MIPMAP_NEAREST,[LinearMipmapLinearFilter]:G.LINEAR_MIPMAP_LINEAR},compareToGL={[NeverCompare]:G.NEVER,[AlwaysCompare]:G.ALWAYS,[LessCompare]:G.LESS,[LessEqualCompare]:G.LEQUAL,[EqualCompare]:G.EQUAL,[GreaterEqualCompare]:G.GEQUAL,[GreaterCompare]:G.GREATER,[NotEqualCompare]:G.NOTEQUAL}}filterFallback(G){const{gl:Q}=this;return G===NearestFilter||G===NearestMipmapNearestFilter||G===NearestMipmapLinearFilter?Q.NEAREST:Q.LINEAR}getGLTextureType(G){const{gl:Q}=this;let q;return G.isCubeTexture===!0?q=Q.TEXTURE_CUBE_MAP:G.isDataArrayTexture===!0||G.isCompressedArrayTexture===!0?q=Q.TEXTURE_2D_ARRAY:G.isData3DTexture===!0?q=Q.TEXTURE_3D:q=Q.TEXTURE_2D,q}getInternalFormat(G,Q,q,W,J=!1){const{gl:F,extensions:Y}=this;if(G!==null){if(F[G]!==void 0)return F[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let X=Q;return Q===F.RED&&(q===F.FLOAT&&(X=F.R32F),q===F.HALF_FLOAT&&(X=F.R16F),q===F.UNSIGNED_BYTE&&(X=F.R8),q===F.UNSIGNED_SHORT&&(X=F.R16),q===F.UNSIGNED_INT&&(X=F.R32UI),q===F.BYTE&&(X=F.R8I),q===F.SHORT&&(X=F.R16I),q===F.INT&&(X=F.R32I)),Q===F.RED_INTEGER&&(q===F.UNSIGNED_BYTE&&(X=F.R8UI),q===F.UNSIGNED_SHORT&&(X=F.R16UI),q===F.UNSIGNED_INT&&(X=F.R32UI),q===F.BYTE&&(X=F.R8I),q===F.SHORT&&(X=F.R16I),q===F.INT&&(X=F.R32I)),Q===F.RG&&(q===F.FLOAT&&(X=F.RG32F),q===F.HALF_FLOAT&&(X=F.RG16F),q===F.UNSIGNED_BYTE&&(X=F.RG8),q===F.UNSIGNED_SHORT&&(X=F.RG16),q===F.UNSIGNED_INT&&(X=F.RG32UI),q===F.BYTE&&(X=F.RG8I),q===F.SHORT&&(X=F.RG16I),q===F.INT&&(X=F.RG32I)),Q===F.RG_INTEGER&&(q===F.UNSIGNED_BYTE&&(X=F.RG8UI),q===F.UNSIGNED_SHORT&&(X=F.RG16UI),q===F.UNSIGNED_INT&&(X=F.RG32UI),q===F.BYTE&&(X=F.RG8I),q===F.SHORT&&(X=F.RG16I),q===F.INT&&(X=F.RG32I)),Q===F.RGB&&(q===F.FLOAT&&(X=F.RGB32F),q===F.HALF_FLOAT&&(X=F.RGB16F),q===F.UNSIGNED_BYTE&&(X=F.RGB8),q===F.UNSIGNED_SHORT&&(X=F.RGB16),q===F.UNSIGNED_INT&&(X=F.RGB32UI),q===F.BYTE&&(X=F.RGB8I),q===F.SHORT&&(X=F.RGB16I),q===F.INT&&(X=F.RGB32I),q===F.UNSIGNED_BYTE&&(X=W===SRGBColorSpace&&J===!1?F.SRGB8:F.RGB8),q===F.UNSIGNED_SHORT_5_6_5&&(X=F.RGB565),q===F.UNSIGNED_SHORT_5_5_5_1&&(X=F.RGB5_A1),q===F.UNSIGNED_SHORT_4_4_4_4&&(X=F.RGB4),q===F.UNSIGNED_INT_5_9_9_9_REV&&(X=F.RGB9_E5)),Q===F.RGB_INTEGER&&(q===F.UNSIGNED_BYTE&&(X=F.RGB8UI),q===F.UNSIGNED_SHORT&&(X=F.RGB16UI),q===F.UNSIGNED_INT&&(X=F.RGB32UI),q===F.BYTE&&(X=F.RGB8I),q===F.SHORT&&(X=F.RGB16I),q===F.INT&&(X=F.RGB32I)),Q===F.RGBA&&(q===F.FLOAT&&(X=F.RGBA32F),q===F.HALF_FLOAT&&(X=F.RGBA16F),q===F.UNSIGNED_BYTE&&(X=F.RGBA8),q===F.UNSIGNED_SHORT&&(X=F.RGBA16),q===F.UNSIGNED_INT&&(X=F.RGBA32UI),q===F.BYTE&&(X=F.RGBA8I),q===F.SHORT&&(X=F.RGBA16I),q===F.INT&&(X=F.RGBA32I),q===F.UNSIGNED_BYTE&&(X=W===SRGBColorSpace&&J===!1?F.SRGB8_ALPHA8:F.RGBA8),q===F.UNSIGNED_SHORT_4_4_4_4&&(X=F.RGBA4),q===F.UNSIGNED_SHORT_5_5_5_1&&(X=F.RGB5_A1)),Q===F.RGBA_INTEGER&&(q===F.UNSIGNED_BYTE&&(X=F.RGBA8UI),q===F.UNSIGNED_SHORT&&(X=F.RGBA16UI),q===F.UNSIGNED_INT&&(X=F.RGBA32UI),q===F.BYTE&&(X=F.RGBA8I),q===F.SHORT&&(X=F.RGBA16I),q===F.INT&&(X=F.RGBA32I)),Q===F.DEPTH_COMPONENT&&(q===F.UNSIGNED_INT&&(X=F.DEPTH24_STENCIL8),q===F.FLOAT&&(X=F.DEPTH_COMPONENT32F)),Q===F.DEPTH_STENCIL&&q===F.UNSIGNED_INT_24_8&&(X=F.DEPTH24_STENCIL8),(X===F.R16F||X===F.R32F||X===F.RG16F||X===F.RG32F||X===F.RGBA16F||X===F.RGBA32F)&&Y.get("EXT_color_buffer_float"),X}setTextureParameters(G,Q){const{gl:q,extensions:W,backend:J}=this;q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,Q.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,Q.unpackAlignment),q.pixelStorei(q.UNPACK_COLORSPACE_CONVERSION_WEBGL,q.NONE),q.texParameteri(G,q.TEXTURE_WRAP_S,wrappingToGL[Q.wrapS]),q.texParameteri(G,q.TEXTURE_WRAP_T,wrappingToGL[Q.wrapT]),(G===q.TEXTURE_3D||G===q.TEXTURE_2D_ARRAY)&&q.texParameteri(G,q.TEXTURE_WRAP_R,wrappingToGL[Q.wrapR]),q.texParameteri(G,q.TEXTURE_MAG_FILTER,filterToGL[Q.magFilter]);const F=Q.mipmaps!==void 0&&Q.mipmaps.length>0,Y=Q.minFilter===LinearFilter&&F?LinearMipmapLinearFilter:Q.minFilter;if(q.texParameteri(G,q.TEXTURE_MIN_FILTER,filterToGL[Y]),Q.compareFunction&&(q.texParameteri(G,q.TEXTURE_COMPARE_MODE,q.COMPARE_REF_TO_TEXTURE),q.texParameteri(G,q.TEXTURE_COMPARE_FUNC,compareToGL[Q.compareFunction])),W.has("EXT_texture_filter_anisotropic")===!0){if(Q.magFilter===NearestFilter||Q.minFilter!==NearestMipmapLinearFilter&&Q.minFilter!==LinearMipmapLinearFilter||Q.type===FloatType&&W.has("OES_texture_float_linear")===!1)return;if(Q.anisotropy>1){const X=W.get("EXT_texture_filter_anisotropic");q.texParameterf(G,X.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Q.anisotropy,J.getMaxAnisotropy()))}}}createDefaultTexture(G){const{gl:Q,backend:q,defaultTextures:W}=this,J=this.getGLTextureType(G);let F=W[J];F===void 0&&(F=Q.createTexture(),q.state.bindTexture(J,F),Q.texParameteri(J,Q.TEXTURE_MIN_FILTER,Q.NEAREST),Q.texParameteri(J,Q.TEXTURE_MAG_FILTER,Q.NEAREST),W[J]=F),q.set(G,{textureGPU:F,glTextureType:J,isDefault:!0})}createTexture(G,Q){const{gl:q,backend:W}=this,{levels:J,width:F,height:Y,depth:X}=Q,te=W.utils.convert(G.format,G.colorSpace),re=W.utils.convert(G.type),ne=this.getInternalFormat(G.internalFormat,te,re,G.colorSpace,G.isVideoTexture),ie=q.createTexture(),oe=this.getGLTextureType(G);W.state.bindTexture(oe,ie),this.setTextureParameters(oe,G),G.isDataArrayTexture||G.isCompressedArrayTexture?q.texStorage3D(q.TEXTURE_2D_ARRAY,J,ne,F,Y,X):G.isData3DTexture?q.texStorage3D(q.TEXTURE_3D,J,ne,F,Y,X):G.isVideoTexture||q.texStorage2D(oe,J,ne,F,Y),W.set(G,{textureGPU:ie,glTextureType:oe,glFormat:te,glType:re,glInternalFormat:ne})}copyBufferToTexture(G,Q){const{gl:q,backend:W}=this,{textureGPU:J,glTextureType:F,glFormat:Y,glType:X}=W.get(Q),{width:te,height:re}=Q.source.data;q.bindBuffer(q.PIXEL_UNPACK_BUFFER,G),W.state.bindTexture(F,J),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,!1),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),q.texSubImage2D(F,0,0,0,te,re,Y,X,0),q.bindBuffer(q.PIXEL_UNPACK_BUFFER,null),W.state.unbindTexture()}updateTexture(G,Q){const{gl:q}=this,{width:W,height:J}=Q,{textureGPU:F,glTextureType:Y,glFormat:X,glType:te,glInternalFormat:re}=this.backend.get(G);if(G.isRenderTargetTexture||F===void 0)return;const ne=ie=>ie.isDataTexture?ie.image.data:ie instanceof ImageBitmap||ie instanceof OffscreenCanvas||ie instanceof HTMLImageElement||ie instanceof HTMLCanvasElement?ie:ie.data;if(this.backend.state.bindTexture(Y,F),this.setTextureParameters(Y,G),G.isCompressedTexture){const ie=G.mipmaps,oe=Q.image;for(let ae=0;ae<ie.length;ae++){const ue=ie[ae];G.isCompressedArrayTexture?G.format!==q.RGBA?X!==null?q.compressedTexSubImage3D(q.TEXTURE_2D_ARRAY,ae,0,0,0,ue.width,ue.height,oe.depth,X,ue.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):q.texSubImage3D(q.TEXTURE_2D_ARRAY,ae,0,0,0,ue.width,ue.height,oe.depth,X,te,ue.data):X!==null?q.compressedTexSubImage2D(q.TEXTURE_2D,ae,0,0,ue.width,ue.height,X,ue.data):console.warn("Unsupported compressed texture format")}}else if(G.isCubeTexture){const ie=Q.images;for(let oe=0;oe<6;oe++){const ae=ne(ie[oe]);q.texSubImage2D(q.TEXTURE_CUBE_MAP_POSITIVE_X+oe,0,0,0,W,J,X,te,ae)}}else if(G.isDataArrayTexture){const ie=Q.image;q.texSubImage3D(q.TEXTURE_2D_ARRAY,0,0,0,0,ie.width,ie.height,ie.depth,X,te,ie.data)}else if(G.isData3DTexture){const ie=Q.image;q.texSubImage3D(q.TEXTURE_3D,0,0,0,0,ie.width,ie.height,ie.depth,X,te,ie.data)}else if(G.isVideoTexture)G.update(),q.texImage2D(Y,0,re,X,te,Q.image);else{const ie=ne(Q.image);q.texSubImage2D(Y,0,0,0,W,J,X,te,ie)}}generateMipmaps(G){const{gl:Q,backend:q}=this,{textureGPU:W,glTextureType:J}=q.get(G);q.state.bindTexture(J,W),Q.generateMipmap(J)}deallocateRenderBuffers(G){const{gl:Q,backend:q}=this;if(G){const W=q.get(G);if(W.renderBufferStorageSetup=void 0,W.framebuffers){for(const J in W.framebuffers)Q.deleteFramebuffer(W.framebuffers[J]);delete W.framebuffers}if(W.depthRenderbuffer&&(Q.deleteRenderbuffer(W.depthRenderbuffer),delete W.depthRenderbuffer),W.stencilRenderbuffer&&(Q.deleteRenderbuffer(W.stencilRenderbuffer),delete W.stencilRenderbuffer),W.msaaFrameBuffer&&(Q.deleteFramebuffer(W.msaaFrameBuffer),delete W.msaaFrameBuffer),W.msaaRenderbuffers){for(let J=0;J<W.msaaRenderbuffers.length;J++)Q.deleteRenderbuffer(W.msaaRenderbuffers[J]);delete W.msaaRenderbuffers}}}destroyTexture(G){const{gl:Q,backend:q}=this,{textureGPU:W,renderTarget:J}=q.get(G);this.deallocateRenderBuffers(J),Q.deleteTexture(W),q.delete(G)}copyTextureToTexture(G,Q,q=null,W=null,J=0){const{gl:F,backend:Y}=this,{state:X}=this.backend,{textureGPU:te,glTextureType:re,glType:ne,glFormat:ie}=Y.get(Q);let oe,ae,ue,ce,se,le;q!==null?(oe=q.max.x-q.min.x,ae=q.max.y-q.min.y,ue=q.min.x,ce=q.min.y):(oe=G.image.width,ae=G.image.height,ue=0,ce=0),W!==null?(se=W.x,le=W.y):(se=0,le=0),X.bindTexture(re,te),F.pixelStorei(F.UNPACK_ALIGNMENT,Q.unpackAlignment),F.pixelStorei(F.UNPACK_FLIP_Y_WEBGL,Q.flipY),F.pixelStorei(F.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),F.pixelStorei(F.UNPACK_ALIGNMENT,Q.unpackAlignment);const de=F.getParameter(F.UNPACK_ROW_LENGTH),he=F.getParameter(F.UNPACK_IMAGE_HEIGHT),pe=F.getParameter(F.UNPACK_SKIP_PIXELS),ge=F.getParameter(F.UNPACK_SKIP_ROWS),be=F.getParameter(F.UNPACK_SKIP_IMAGES),ve=G.isCompressedTexture?G.mipmaps[J]:G.image;F.pixelStorei(F.UNPACK_ROW_LENGTH,ve.width),F.pixelStorei(F.UNPACK_IMAGE_HEIGHT,ve.height),F.pixelStorei(F.UNPACK_SKIP_PIXELS,ue),F.pixelStorei(F.UNPACK_SKIP_ROWS,ce),G.isDataTexture?F.texSubImage2D(F.TEXTURE_2D,J,se,le,oe,ae,ie,ne,ve.data):G.isCompressedTexture?F.compressedTexSubImage2D(F.TEXTURE_2D,J,se,le,ve.width,ve.height,ie,ve.data):F.texSubImage2D(F.TEXTURE_2D,J,se,le,oe,ae,ie,ne,ve),F.pixelStorei(F.UNPACK_ROW_LENGTH,de),F.pixelStorei(F.UNPACK_IMAGE_HEIGHT,he),F.pixelStorei(F.UNPACK_SKIP_PIXELS,pe),F.pixelStorei(F.UNPACK_SKIP_ROWS,ge),F.pixelStorei(F.UNPACK_SKIP_IMAGES,be),J===0&&Q.generateMipmaps&&F.generateMipmap(F.TEXTURE_2D),X.unbindTexture()}copyFramebufferToTexture(G,Q,q){const{gl:W}=this,{state:J}=this.backend,{textureGPU:F}=this.backend.get(G),{x:Y,y:X,z:te,w:re}=q,ne=G.isDepthTexture===!0||Q.renderTarget&&Q.renderTarget.samples>0,ie=Q.renderTarget?Q.renderTarget.height:this.backend.gerDrawingBufferSize().y;if(ne){const oe=Y!==0||X!==0;let ae,ue;if(G.isDepthTexture===!0?(ae=W.DEPTH_BUFFER_BIT,ue=W.DEPTH_ATTACHMENT,Q.stencil&&(ae|=W.STENCIL_BUFFER_BIT)):(ae=W.COLOR_BUFFER_BIT,ue=W.COLOR_ATTACHMENT0),oe){const ce=this.backend.get(Q.renderTarget),se=ce.framebuffers[Q.getCacheKey()],le=ce.msaaFrameBuffer;J.bindFramebuffer(W.DRAW_FRAMEBUFFER,se),J.bindFramebuffer(W.READ_FRAMEBUFFER,le);const de=ie-X-re;W.blitFramebuffer(Y,de,Y+te,de+re,Y,de,Y+te,de+re,ae,W.NEAREST),J.bindFramebuffer(W.READ_FRAMEBUFFER,se),J.bindTexture(W.TEXTURE_2D,F),W.copyTexSubImage2D(W.TEXTURE_2D,0,0,0,Y,de,te,re),J.unbindTexture()}else{const ce=W.createFramebuffer();J.bindFramebuffer(W.DRAW_FRAMEBUFFER,ce),W.framebufferTexture2D(W.DRAW_FRAMEBUFFER,ue,W.TEXTURE_2D,F,0),W.blitFramebuffer(0,0,te,re,0,0,te,re,ae,W.NEAREST),W.deleteFramebuffer(ce)}}else J.bindTexture(W.TEXTURE_2D,F),W.copyTexSubImage2D(W.TEXTURE_2D,0,0,0,Y,ie-re-X,te,re),J.unbindTexture();G.generateMipmaps&&this.generateMipmaps(G),this.backend._setFramebuffer(Q)}setupRenderBufferStorage(G,Q){const{gl:q}=this,W=Q.renderTarget,{samples:J,depthTexture:F,depthBuffer:Y,stencilBuffer:X,width:te,height:re}=W;if(q.bindRenderbuffer(q.RENDERBUFFER,G),Y&&!X){let ne=q.DEPTH_COMPONENT24;J>0?(F&&F.isDepthTexture&&F.type===q.FLOAT&&(ne=q.DEPTH_COMPONENT32F),q.renderbufferStorageMultisample(q.RENDERBUFFER,J,ne,te,re)):q.renderbufferStorage(q.RENDERBUFFER,ne,te,re),q.framebufferRenderbuffer(q.FRAMEBUFFER,q.DEPTH_ATTACHMENT,q.RENDERBUFFER,G)}else Y&&X&&(J>0?q.renderbufferStorageMultisample(q.RENDERBUFFER,J,q.DEPTH24_STENCIL8,te,re):q.renderbufferStorage(q.RENDERBUFFER,q.DEPTH_STENCIL,te,re),q.framebufferRenderbuffer(q.FRAMEBUFFER,q.DEPTH_STENCIL_ATTACHMENT,q.RENDERBUFFER,G))}async copyTextureToBuffer(G,Q,q,W,J,F){const{backend:Y,gl:X}=this,{textureGPU:te,glFormat:re,glType:ne}=this.backend.get(G),ie=X.createFramebuffer();X.bindFramebuffer(X.READ_FRAMEBUFFER,ie);const oe=G.isCubeTexture?X.TEXTURE_CUBE_MAP_POSITIVE_X+F:X.TEXTURE_2D;X.framebufferTexture2D(X.READ_FRAMEBUFFER,X.COLOR_ATTACHMENT0,oe,te,0);const ae=this._getTypedArrayType(ne),ue=this._getBytesPerTexel(ne,re),ce=W*J*ue,se=X.createBuffer();X.bindBuffer(X.PIXEL_PACK_BUFFER,se),X.bufferData(X.PIXEL_PACK_BUFFER,ce,X.STREAM_READ),X.readPixels(Q,q,W,J,re,ne,0),X.bindBuffer(X.PIXEL_PACK_BUFFER,null),await Y.utils._clientWaitAsync();const le=new ae(ce/ae.BYTES_PER_ELEMENT);return X.bindBuffer(X.PIXEL_PACK_BUFFER,se),X.getBufferSubData(X.PIXEL_PACK_BUFFER,0,le),X.bindBuffer(X.PIXEL_PACK_BUFFER,null),X.deleteFramebuffer(ie),le}_getTypedArrayType(G){const{gl:Q}=this;if(G===Q.UNSIGNED_BYTE)return Uint8Array;if(G===Q.UNSIGNED_SHORT_4_4_4_4||G===Q.UNSIGNED_SHORT_5_5_5_1||G===Q.UNSIGNED_SHORT_5_6_5||G===Q.UNSIGNED_SHORT)return Uint16Array;if(G===Q.UNSIGNED_INT)return Uint32Array;if(G===Q.HALF_FLOAT)return Uint16Array;if(G===Q.FLOAT)return Float32Array;throw new Error(`Unsupported WebGL type: ${G}`)}_getBytesPerTexel(G,Q){const{gl:q}=this;let W=0;if(G===q.UNSIGNED_BYTE&&(W=1),(G===q.UNSIGNED_SHORT_4_4_4_4||G===q.UNSIGNED_SHORT_5_5_5_1||G===q.UNSIGNED_SHORT_5_6_5||G===q.UNSIGNED_SHORT||G===q.HALF_FLOAT)&&(W=2),(G===q.UNSIGNED_INT||G===q.FLOAT)&&(W=4),Q===q.RGBA)return W*4;if(Q===q.RGB)return W*3;if(Q===q.ALPHA)return W}}class WebGLExtensions{constructor(G){this.backend=G,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(G){let Q=this.extensions[G];return Q===void 0&&(Q=this.gl.getExtension(G),this.extensions[G]=Q),Q}has(G){return this.availableExtensions.includes(G)}}class WebGLCapabilities{constructor(G){this.backend=G,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const G=this.backend.gl,Q=this.backend.extensions;if(Q.has("EXT_texture_filter_anisotropic")===!0){const q=Q.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=G.getParameter(q.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const GLFeatureName={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBKIT_WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-bc",EXT_texture_compression_bptc:"texture-compression-bptc",EXT_disjoint_timer_query_webgl2:"timestamp-query"};class WebGLBufferRenderer{constructor(G){this.gl=G.gl,this.extensions=G.extensions,this.info=G.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(G,Q){const{gl:q,mode:W,object:J,type:F,info:Y,index:X}=this;X!==0?q.drawElements(W,Q,F,G):q.drawArrays(W,G,Q),Y.update(J,Q,W,1)}renderInstances(G,Q,q){const{gl:W,mode:J,type:F,index:Y,object:X,info:te}=this;q!==0&&(Y!==0?W.drawElementsInstanced(J,Q,F,G,q):W.drawArraysInstanced(J,G,Q,q),te.update(X,Q,J,q))}renderMultiDraw(G,Q,q){const{extensions:W,mode:J,object:F,info:Y}=this;if(q===0)return;const X=W.get("WEBGL_multi_draw");if(X===null)for(let te=0;te<q;te++)this.render(G[te],Q[te]);else{this.index!==0?X.multiDrawElementsWEBGL(J,Q,0,this.type,G,0,q):X.multiDrawArraysWEBGL(J,G,0,Q,0,q);let te=0;for(let re=0;re<q;re++)te+=Q[re];Y.update(F,te,J,1)}}renderMultiDrawInstances(G,Q,q,W){const{extensions:J,mode:F,object:Y,info:X}=this;if(q===0)return;const te=J.get("WEBGL_multi_draw");if(te===null)for(let re=0;re<q;re++)this.renderInstances(G[re],Q[re],W[re]);else{this.index!==0?te.multiDrawElementsInstancedWEBGL(F,Q,0,this.type,G,0,W,0,q):te.multiDrawArraysInstancedWEBGL(F,G,0,Q,0,W,0,q);let re=0;for(let ne=0;ne<q;ne++)re+=Q[ne];for(let ne=0;ne<W.length;ne++)X.update(Y,re,F,W[ne])}}}class WebGLBackend extends Backend{constructor(G={}){super(G),this.isWebGLBackend=!0}init(G){super.init(G);const Q=this.parameters,q=Q.context!==void 0?Q.context:G.domElement.getContext("webgl2");this.gl=q,this.extensions=new WebGLExtensions(this),this.capabilities=new WebGLCapabilities(this),this.attributeUtils=new WebGLAttributeUtils(this),this.textureUtils=new WebGLTextureUtils(this),this.bufferRenderer=new WebGLBufferRenderer(this),this.state=new WebGLState(this),this.utils=new WebGLUtils(this),this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.trackTimestamp=Q.trackTimestamp===!0,this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile"),this._currentContext=null}get coordinateSystem(){return WebGLCoordinateSystem}async getArrayBufferAsync(G){return await this.attributeUtils.getArrayBufferAsync(G)}initTimestampQuery(G){if(!this.disjoint||!this.trackTimestamp)return;const Q=this.get(G);if(this.queryRunning){Q.queryQueue||(Q.queryQueue=[]),Q.queryQueue.push(G);return}Q.activeQuery&&(this.gl.endQuery(this.disjoint.TIME_ELAPSED_EXT),Q.activeQuery=null),Q.activeQuery=this.gl.createQuery(),Q.activeQuery!==null&&(this.gl.beginQuery(this.disjoint.TIME_ELAPSED_EXT,Q.activeQuery),this.queryRunning=!0)}prepareTimestampBuffer(G){if(!this.disjoint||!this.trackTimestamp)return;const Q=this.get(G);if(Q.activeQuery&&(this.gl.endQuery(this.disjoint.TIME_ELAPSED_EXT),Q.gpuQueries||(Q.gpuQueries=[]),Q.gpuQueries.push({query:Q.activeQuery}),Q.activeQuery=null,this.queryRunning=!1,Q.queryQueue&&Q.queryQueue.length>0)){const q=Q.queryQueue.shift();this.initTimestampQuery(q)}}async resolveTimestampAsync(G,Q="render"){if(!this.disjoint||!this.trackTimestamp)return;const q=this.get(G);q.gpuQueries||(q.gpuQueries=[]);for(let W=0;W<q.gpuQueries.length;W++){const J=q.gpuQueries[W],F=this.gl.getQueryParameter(J.query,this.gl.QUERY_RESULT_AVAILABLE),Y=this.gl.getParameter(this.disjoint.GPU_DISJOINT_EXT);if(F&&!Y){const X=this.gl.getQueryParameter(J.query,this.gl.QUERY_RESULT),te=Number(X)/1e6;this.gl.deleteQuery(J.query),q.gpuQueries.splice(W,1),W--,this.renderer.info.updateTimestamp(Q,te)}}}getContext(){return this.gl}beginRender(G){const{gl:Q}=this,q=this.get(G);if(this.initTimestampQuery(G),q.previousContext=this._currentContext,this._currentContext=G,this._setFramebuffer(G),this.clear(G.clearColor,G.clearDepth,G.clearStencil,G,!1),G.viewport?this.updateViewport(G):Q.viewport(0,0,Q.drawingBufferWidth,Q.drawingBufferHeight),G.scissor){const{x:J,y:F,width:Y,height:X}=G.scissorValue;Q.scissor(J,G.height-X-F,Y,X)}const W=G.occlusionQueryCount;W>0&&(q.currentOcclusionQueries=q.occlusionQueries,q.currentOcclusionQueryObjects=q.occlusionQueryObjects,q.lastOcclusionObject=null,q.occlusionQueries=new Array(W),q.occlusionQueryObjects=new Array(W),q.occlusionQueryIndex=0)}finishRender(G){const{gl:Q,state:q}=this,W=this.get(G),J=W.previousContext,F=G.occlusionQueryCount;F>0&&(F>W.occlusionQueryIndex&&Q.endQuery(Q.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(G));const Y=G.textures;if(Y!==null)for(let X=0;X<Y.length;X++){const te=Y[X];te.generateMipmaps&&this.generateMipmaps(te)}if(this._currentContext=J,G.textures!==null&&G.renderTarget){const X=this.get(G.renderTarget),{samples:te}=G.renderTarget;if(te>0){const re=X.framebuffers[G.getCacheKey()],ne=Q.COLOR_BUFFER_BIT,ie=X.msaaFrameBuffer,oe=G.textures;q.bindFramebuffer(Q.READ_FRAMEBUFFER,ie),q.bindFramebuffer(Q.DRAW_FRAMEBUFFER,re);for(let ae=0;ae<oe.length;ae++)if(G.scissor){const{x:ue,y:ce,width:se,height:le}=G.scissorValue,de=G.height-le-ce;Q.blitFramebuffer(ue,de,ue+se,de+le,ue,de,ue+se,de+le,ne,Q.NEAREST),Q.invalidateSubFramebuffer(Q.READ_FRAMEBUFFER,X.invalidationArray,ue,de,se,le)}else Q.blitFramebuffer(0,0,G.width,G.height,0,0,G.width,G.height,ne,Q.NEAREST),Q.invalidateFramebuffer(Q.READ_FRAMEBUFFER,X.invalidationArray)}}J!==null&&(this._setFramebuffer(J),J.viewport?this.updateViewport(J):Q.viewport(0,0,Q.drawingBufferWidth,Q.drawingBufferHeight)),this.prepareTimestampBuffer(G)}resolveOccludedAsync(G){const Q=this.get(G),{currentOcclusionQueries:q,currentOcclusionQueryObjects:W}=Q;if(q&&W){const J=new WeakSet,{gl:F}=this;Q.currentOcclusionQueryObjects=null,Q.currentOcclusionQueries=null;const Y=()=>{let X=0;for(let te=0;te<q.length;te++){const re=q[te];re!==null&&F.getQueryParameter(re,F.QUERY_RESULT_AVAILABLE)&&(F.getQueryParameter(re,F.QUERY_RESULT)>0&&J.add(W[te]),q[te]=null,F.deleteQuery(re),X++)}X<q.length?requestAnimationFrame(Y):Q.occluded=J};Y()}}isOccluded(G,Q){const q=this.get(G);return q.occluded&&q.occluded.has(Q)}updateViewport(G){const Q=this.gl,{x:q,y:W,width:J,height:F}=G.viewportValue;Q.viewport(q,G.height-F-W,J,F)}setScissorTest(G){const Q=this.gl;G?Q.enable(Q.SCISSOR_TEST):Q.disable(Q.SCISSOR_TEST)}clear(G,Q,q,W=null,J=!0){const{gl:F}=this;W===null&&(W={textures:null,clearColorValue:this.getClearColor()});let Y=0;if(G&&(Y|=F.COLOR_BUFFER_BIT),Q&&(Y|=F.DEPTH_BUFFER_BIT),q&&(Y|=F.STENCIL_BUFFER_BIT),Y!==0){const X=W.clearColorValue||this.getClearColor();if(X.r*=X.a,X.g*=X.a,X.b*=X.a,Q&&this.state.setDepthMask(!0),W.textures===null)F.clearColor(X.r,X.g,X.b,X.a),F.clear(Y);else{if(J&&this._setFramebuffer(W),G)for(let te=0;te<W.textures.length;te++)F.clearBufferfv(F.COLOR,te,[X.r,X.g,X.b,X.a]);Q&&q?F.clearBufferfi(F.DEPTH_STENCIL,0,1,0):Q?F.clearBufferfv(F.DEPTH,0,[1]):q&&F.clearBufferiv(F.STENCIL,0,[0])}}}beginCompute(G){const{state:Q,gl:q}=this;Q.bindFramebuffer(q.FRAMEBUFFER,null),this.initTimestampQuery(G)}compute(G,Q,q,W){const{state:J,gl:F}=this;this.discard||(F.enable(F.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:Y,transformBuffers:X,attributes:te}=this.get(W),re=this._getVaoKey(null,te),ne=this.vaoCache[re];ne===void 0?this._createVao(null,te):F.bindVertexArray(ne),J.useProgram(Y),this._bindUniforms(q);const ie=this._getTransformFeedback(X);F.bindTransformFeedback(F.TRANSFORM_FEEDBACK,ie),F.beginTransformFeedback(F.POINTS),te[0].isStorageInstancedBufferAttribute?F.drawArraysInstanced(F.POINTS,0,1,Q.count):F.drawArrays(F.POINTS,0,Q.count),F.endTransformFeedback(),F.bindTransformFeedback(F.TRANSFORM_FEEDBACK,null);for(let oe=0;oe<X.length;oe++){const ae=X[oe];ae.pbo&&this.textureUtils.copyBufferToTexture(ae.transformBuffer,ae.pbo),ae.switchBuffers()}}finishCompute(G){const Q=this.gl;this.discard=!1,Q.disable(Q.RASTERIZER_DISCARD),this.prepareTimestampBuffer(G)}draw(G){const{object:Q,pipeline:q,material:W,context:J}=G,{programGPU:F}=this.get(q),{gl:Y,state:X}=this,te=this.get(J),re=G.getDrawParameters();if(re===null)return;this._bindUniforms(G.getBindings());const ne=Q.isMesh&&Q.matrixWorld.determinant()<0;X.setMaterial(W,ne),X.useProgram(F);let ie=G.staticVao;if(ie===void 0){const de=this._getVaoKey(G.getIndex(),G.getAttributes());if(ie=this.vaoCache[de],ie===void 0){let he;({vaoGPU:ie,staticVao:he}=this._createVao(G.getIndex(),G.getAttributes())),he&&(G.staticVao=ie)}}Y.bindVertexArray(ie);const oe=G.getIndex(),ae=te.lastOcclusionObject;if(ae!==Q&&ae!==void 0){if(ae!==null&&ae.occlusionTest===!0&&(Y.endQuery(Y.ANY_SAMPLES_PASSED),te.occlusionQueryIndex++),Q.occlusionTest===!0){const de=Y.createQuery();Y.beginQuery(Y.ANY_SAMPLES_PASSED,de),te.occlusionQueries[te.occlusionQueryIndex]=de,te.occlusionQueryObjects[te.occlusionQueryIndex]=Q}te.lastOcclusionObject=Q}const ue=this.bufferRenderer;Q.isPoints?ue.mode=Y.POINTS:Q.isLineSegments?ue.mode=Y.LINES:Q.isLine?ue.mode=Y.LINE_STRIP:Q.isLineLoop?ue.mode=Y.LINE_LOOP:W.wireframe===!0?(X.setLineWidth(W.wireframeLinewidth*this.renderer.getPixelRatio()),ue.mode=Y.LINES):ue.mode=Y.TRIANGLES;const{vertexCount:ce,instanceCount:se}=re;let{firstVertex:le}=re;if(ue.object=Q,oe!==null){le*=oe.array.BYTES_PER_ELEMENT;const de=this.get(oe);ue.index=oe.count,ue.type=de.type}else ue.index=0;Q.isBatchedMesh?Q._multiDrawInstances!==null?ue.renderMultiDrawInstances(Q._multiDrawStarts,Q._multiDrawCounts,Q._multiDrawCount,Q._multiDrawInstances):this.hasFeature("WEBGL_multi_draw")?ue.renderMultiDraw(Q._multiDrawStarts,Q._multiDrawCounts,Q._multiDrawCount):warnOnce("THREE.WebGLRenderer: WEBGL_multi_draw not supported."):se>1?ue.renderInstances(le,ce,se):ue.render(le,ce),Y.bindVertexArray(null)}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(G){this.textureUtils.createDefaultTexture(G)}createTexture(G,Q){this.textureUtils.createTexture(G,Q)}updateTexture(G,Q){this.textureUtils.updateTexture(G,Q)}generateMipmaps(G){this.textureUtils.generateMipmaps(G)}destroyTexture(G){this.textureUtils.destroyTexture(G)}copyTextureToBuffer(G,Q,q,W,J,F){return this.textureUtils.copyTextureToBuffer(G,Q,q,W,J,F)}createSampler(){}destroySampler(){}createNodeBuilder(G,Q){return new GLSLNodeBuilder(G,Q)}createProgram(G){const Q=this.gl,{stage:q,code:W}=G,J=q==="fragment"?Q.createShader(Q.FRAGMENT_SHADER):Q.createShader(Q.VERTEX_SHADER);Q.shaderSource(J,W),Q.compileShader(J),this.set(G,{shaderGPU:J})}destroyProgram(){console.warn("Abstract class.")}createRenderPipeline(G,Q){const q=this.gl,W=G.pipeline,{fragmentProgram:J,vertexProgram:F}=W,Y=q.createProgram(),X=this.get(J).shaderGPU,te=this.get(F).shaderGPU;if(q.attachShader(Y,X),q.attachShader(Y,te),q.linkProgram(Y),this.set(W,{programGPU:Y,fragmentShader:X,vertexShader:te}),Q!==null&&this.parallel){const re=new Promise(ne=>{const ie=this.parallel,oe=()=>{q.getProgramParameter(Y,ie.COMPLETION_STATUS_KHR)?(this._completeCompile(G,W),ne()):requestAnimationFrame(oe)};oe()});Q.push(re);return}this._completeCompile(G,W)}_handleSource(G,Q){const q=G.split(`
`),W=[],J=Math.max(Q-6,0),F=Math.min(Q+6,q.length);for(let Y=J;Y<F;Y++){const X=Y+1;W.push(`${X===Q?">":" "} ${X}: ${q[Y]}`)}return W.join(`
`)}_getShaderErrors(G,Q,q){const W=G.getShaderParameter(Q,G.COMPILE_STATUS),J=G.getShaderInfoLog(Q).trim();if(W&&J==="")return"";const F=/ERROR: 0:(\d+)/.exec(J);if(F){const Y=parseInt(F[1]);return q.toUpperCase()+`

`+J+`

`+this._handleSource(G.getShaderSource(Q),Y)}else return J}_logProgramError(G,Q,q){if(this.renderer.debug.checkShaderErrors){const W=this.gl,J=W.getProgramInfoLog(G).trim();if(W.getProgramParameter(G,W.LINK_STATUS)===!1)if(typeof this.renderer.debug.onShaderError=="function")this.renderer.debug.onShaderError(W,G,q,Q);else{const F=this._getShaderErrors(W,q,"vertex"),Y=this._getShaderErrors(W,Q,"fragment");console.error("THREE.WebGLProgram: Shader Error "+W.getError()+" - VALIDATE_STATUS "+W.getProgramParameter(G,W.VALIDATE_STATUS)+`

Program Info Log: `+J+`
`+F+`
`+Y)}else J!==""&&console.warn("THREE.WebGLProgram: Program Info Log:",J)}}_completeCompile(G,Q){const{state:q,gl:W}=this,J=this.get(Q),{programGPU:F,fragmentShader:Y,vertexShader:X}=J;W.getProgramParameter(F,W.LINK_STATUS)===!1&&this._logProgramError(F,Y,X),q.useProgram(F);const te=G.getBindings();this._setupBindings(te,F),this.set(Q,{programGPU:F})}createComputePipeline(G,Q){const{state:q,gl:W}=this,J={stage:"fragment",code:`#version 300 es
precision highp float;
void main() {}`};this.createProgram(J);const{computeProgram:F}=G,Y=W.createProgram(),X=this.get(J).shaderGPU,te=this.get(F).shaderGPU,re=F.transforms,ne=[],ie=[];for(let ce=0;ce<re.length;ce++){const se=re[ce];ne.push(se.varyingName),ie.push(se.attributeNode)}W.attachShader(Y,X),W.attachShader(Y,te),W.transformFeedbackVaryings(Y,ne,W.SEPARATE_ATTRIBS),W.linkProgram(Y),W.getProgramParameter(Y,W.LINK_STATUS)===!1&&this._logProgramError(Y,X,te),q.useProgram(Y),this.createBindings(null,Q),this._setupBindings(Q,Y);const oe=F.attributes,ae=[],ue=[];for(let ce=0;ce<oe.length;ce++){const se=oe[ce].node.attribute;ae.push(se),this.has(se)||this.attributeUtils.createAttribute(se,W.ARRAY_BUFFER)}for(let ce=0;ce<ie.length;ce++){const se=ie[ce].attribute;this.has(se)||this.attributeUtils.createAttribute(se,W.ARRAY_BUFFER);const le=this.get(se);ue.push(le)}this.set(G,{programGPU:Y,transformBuffers:ue,attributes:ae})}createBindings(G,Q){this.updateBindings(G,Q)}updateBindings(G,Q){if(!G)return;const{gl:q}=this,W=this.get(Q),J=this.get(G);W.textureIndex===void 0&&(W.textureIndex=0),J.textureIndex===void 0?J.textureIndex=W.textureIndex:W.textureIndex=J.textureIndex;let F=0;for(const Y of G.bindings)if(Y.isUniformsGroup||Y.isUniformBuffer){const X=Y.buffer,te=q.createBuffer();q.bindBuffer(q.UNIFORM_BUFFER,te),q.bufferData(q.UNIFORM_BUFFER,X,q.DYNAMIC_DRAW),this.set(Y,{index:G.index*2+F++,bufferGPU:te})}else if(Y.isSampledTexture){const{textureGPU:X,glTextureType:te}=this.get(Y.texture);this.set(Y,{index:W.textureIndex++,textureGPU:X,glTextureType:te})}}updateBinding(G){const Q=this.gl;if(G.isUniformsGroup||G.isUniformBuffer){const q=this.get(G).bufferGPU,W=G.buffer;Q.bindBuffer(Q.UNIFORM_BUFFER,q),Q.bufferData(Q.UNIFORM_BUFFER,W,Q.DYNAMIC_DRAW)}}createIndexAttribute(G){const Q=this.gl;this.attributeUtils.createAttribute(G,Q.ELEMENT_ARRAY_BUFFER)}createAttribute(G){if(this.has(G))return;const Q=this.gl;this.attributeUtils.createAttribute(G,Q.ARRAY_BUFFER)}createStorageAttribute(G){if(this.has(G))return;const Q=this.gl;this.attributeUtils.createAttribute(G,Q.ARRAY_BUFFER)}updateAttribute(G){this.attributeUtils.updateAttribute(G)}destroyAttribute(G){this.attributeUtils.destroyAttribute(G)}updateSize(){}hasFeature(G){const Q=Object.keys(GLFeatureName).filter(W=>GLFeatureName[W]===G),q=this.extensions;for(let W=0;W<Q.length;W++)if(q.has(Q[W]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(G,Q,q,W){this.textureUtils.copyTextureToTexture(G,Q,q,W)}copyFramebufferToTexture(G,Q,q){this.textureUtils.copyFramebufferToTexture(G,Q,q)}_setFramebuffer(G){const{gl:Q,state:q}=this;let W=null;if(G.textures!==null){const J=G.renderTarget,F=this.get(J),{samples:Y,depthBuffer:X,stencilBuffer:te}=J,re=J.isWebGLCubeRenderTarget===!0;let ne=F.msaaFrameBuffer,ie=F.depthRenderbuffer;const oe=getCacheKey(G);let ae;if(re?(F.cubeFramebuffers||(F.cubeFramebuffers={}),ae=F.cubeFramebuffers[oe]):(F.framebuffers||(F.framebuffers={}),ae=F.framebuffers[oe]),ae===void 0){ae=Q.createFramebuffer(),q.bindFramebuffer(Q.FRAMEBUFFER,ae);const ue=G.textures;if(re){F.cubeFramebuffers[oe]=ae;const{textureGPU:ce}=this.get(ue[0]),se=this.renderer._activeCubeFace;Q.framebufferTexture2D(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0,Q.TEXTURE_CUBE_MAP_POSITIVE_X+se,ce,0)}else{F.framebuffers[oe]=ae;for(let ce=0;ce<ue.length;ce++){const se=ue[ce],le=this.get(se);le.renderTarget=G.renderTarget;const de=Q.COLOR_ATTACHMENT0+ce;Q.framebufferTexture2D(Q.FRAMEBUFFER,de,Q.TEXTURE_2D,le.textureGPU,0)}q.drawBuffers(G,ae)}if(G.depthTexture!==null){const ce=this.get(G.depthTexture),se=te?Q.DEPTH_STENCIL_ATTACHMENT:Q.DEPTH_ATTACHMENT;Q.framebufferTexture2D(Q.FRAMEBUFFER,se,Q.TEXTURE_2D,ce.textureGPU,0)}}if(Y>0){if(ne===void 0){const ue=[];ne=Q.createFramebuffer(),q.bindFramebuffer(Q.FRAMEBUFFER,ne);const ce=[],se=G.textures;for(let le=0;le<se.length;le++){if(ce[le]=Q.createRenderbuffer(),Q.bindRenderbuffer(Q.RENDERBUFFER,ce[le]),ue.push(Q.COLOR_ATTACHMENT0+le),X){const pe=te?Q.DEPTH_STENCIL_ATTACHMENT:Q.DEPTH_ATTACHMENT;ue.push(pe)}const de=G.textures[le],he=this.get(de);Q.renderbufferStorageMultisample(Q.RENDERBUFFER,Y,he.glInternalFormat,G.width,G.height),Q.framebufferRenderbuffer(Q.FRAMEBUFFER,Q.COLOR_ATTACHMENT0+le,Q.RENDERBUFFER,ce[le])}if(F.msaaFrameBuffer=ne,F.msaaRenderbuffers=ce,ie===void 0){ie=Q.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(ie,G),F.depthRenderbuffer=ie;const le=te?Q.DEPTH_STENCIL_ATTACHMENT:Q.DEPTH_ATTACHMENT;ue.push(le)}F.invalidationArray=ue}W=F.msaaFrameBuffer}else W=ae}q.bindFramebuffer(Q.FRAMEBUFFER,W)}_getVaoKey(G,Q){let q=[];if(G!==null){const W=this.get(G);q+=":"+W.id}for(let W=0;W<Q.length;W++){const J=this.get(Q[W]);q+=":"+J.id}return q}_createVao(G,Q){const{gl:q}=this,W=q.createVertexArray();let J="",F=!0;if(q.bindVertexArray(W),G!==null){const Y=this.get(G);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,Y.bufferGPU),J+=":"+Y.id}for(let Y=0;Y<Q.length;Y++){const X=Q[Y],te=this.get(X);J+=":"+te.id,q.bindBuffer(q.ARRAY_BUFFER,te.bufferGPU),q.enableVertexAttribArray(Y),(X.isStorageBufferAttribute||X.isStorageInstancedBufferAttribute)&&(F=!1);let re,ne;X.isInterleavedBufferAttribute===!0?(re=X.data.stride*te.bytesPerElement,ne=X.offset*te.bytesPerElement):(re=0,ne=0),te.isInteger?q.vertexAttribIPointer(Y,X.itemSize,te.type,re,ne):q.vertexAttribPointer(Y,X.itemSize,te.type,X.normalized,re,ne),X.isInstancedBufferAttribute&&!X.isInterleavedBufferAttribute?q.vertexAttribDivisor(Y,X.meshPerAttribute):X.isInterleavedBufferAttribute&&X.data.isInstancedInterleavedBuffer&&q.vertexAttribDivisor(Y,X.data.meshPerAttribute)}return q.bindBuffer(q.ARRAY_BUFFER,null),this.vaoCache[J]=W,{vaoGPU:W,staticVao:F}}_getTransformFeedback(G){let Q="";for(let J=0;J<G.length;J++)Q+=":"+G[J].id;let q=this.transformFeedbackCache[Q];if(q!==void 0)return q;const{gl:W}=this;q=W.createTransformFeedback(),W.bindTransformFeedback(W.TRANSFORM_FEEDBACK,q);for(let J=0;J<G.length;J++){const F=G[J];W.bindBufferBase(W.TRANSFORM_FEEDBACK_BUFFER,J,F.transformBuffer)}return W.bindTransformFeedback(W.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[Q]=q,q}_setupBindings(G,Q){const q=this.gl;for(const W of G)for(const J of W.bindings){const F=this.get(J).index;if(J.isUniformsGroup||J.isUniformBuffer){const Y=q.getUniformBlockIndex(Q,J.name);q.uniformBlockBinding(Q,Y,F)}else if(J.isSampledTexture){const Y=q.getUniformLocation(Q,J.name);q.uniform1i(Y,F)}}}_bindUniforms(G){const{gl:Q,state:q}=this;for(const W of G)for(const J of W.bindings){const F=this.get(J),Y=F.index;J.isUniformsGroup||J.isUniformBuffer?q.bindBufferBase(Q.UNIFORM_BUFFER,Y,F.bufferGPU):J.isSampledTexture&&q.bindTexture(F.glTextureType,F.textureGPU,Q.TEXTURE0+Y)}}}class Sampler extends Binding{constructor(G,Q){super(G),this.texture=Q,this.version=Q?Q.version:0,this.isSampler=!0}}class NodeSampler extends Sampler{constructor(G,Q,q){super(G,Q?Q.value:null),this.textureNode=Q,this.groupNode=q}update(){this.texture=this.textureNode.value}}class StorageBuffer extends Buffer$2{constructor(G,Q){super(G,Q?Q.array:null),this.attribute=Q,this.isStorageBuffer=!0}}let _id=0;class NodeStorageBuffer extends StorageBuffer{constructor(G,Q){super("StorageBuffer_"+_id++,G?G.value:null),this.nodeUniform=G,this.access=G?G.access:GPUBufferBindingType.Storage,this.groupNode=Q}get buffer(){return this.nodeUniform.value}}class WebGPUTexturePassUtils extends DataMap{constructor(G){super(),this.device=G;const Q=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,q=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,W=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=G.createSampler({minFilter:GPUFilterMode.Linear}),this.flipYSampler=G.createSampler({minFilter:GPUFilterMode.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=G.createShaderModule({label:"mipmapVertex",code:Q}),this.mipmapFragmentShaderModule=G.createShaderModule({label:"mipmapFragment",code:q}),this.flipYFragmentShaderModule=G.createShaderModule({label:"flipYFragment",code:W})}getTransferPipeline(G){let Q=this.transferPipelines[G];return Q===void 0&&(Q=this.device.createRenderPipeline({label:`mipmap-${G}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:G}]},primitive:{topology:GPUPrimitiveTopology.TriangleStrip,stripIndexFormat:GPUIndexFormat.Uint32},layout:"auto"}),this.transferPipelines[G]=Q),Q}getFlipYPipeline(G){let Q=this.flipYPipelines[G];return Q===void 0&&(Q=this.device.createRenderPipeline({label:`flipY-${G}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:G}]},primitive:{topology:GPUPrimitiveTopology.TriangleStrip,stripIndexFormat:GPUIndexFormat.Uint32},layout:"auto"}),this.flipYPipelines[G]=Q),Q}flipY(G,Q,q=0){const W=Q.format,{width:J,height:F}=Q.size,Y=this.getTransferPipeline(W),X=this.getFlipYPipeline(W),te=this.device.createTexture({size:{width:J,height:F,depthOrArrayLayers:1},format:W,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),re=G.createView({baseMipLevel:0,mipLevelCount:1,dimension:GPUTextureViewDimension.TwoD,baseArrayLayer:q}),ne=te.createView({baseMipLevel:0,mipLevelCount:1,dimension:GPUTextureViewDimension.TwoD,baseArrayLayer:0}),ie=this.device.createCommandEncoder({}),oe=(ae,ue,ce)=>{const se=ae.getBindGroupLayout(0),le=this.device.createBindGroup({layout:se,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:ue}]}),de=ie.beginRenderPass({colorAttachments:[{view:ce,loadOp:GPULoadOp.Clear,storeOp:GPUStoreOp.Store,clearValue:[0,0,0,0]}]});de.setPipeline(ae),de.setBindGroup(0,le),de.draw(4,1,0,0),de.end()};oe(Y,re,ne),oe(X,ne,re),this.device.queue.submit([ie.finish()]),te.destroy()}generateMipmaps(G,Q,q=0){const W=this.get(G);W.useCount===void 0&&(W.useCount=0,W.layers=[]);const J=W.layers[q]||this._mipmapCreateBundles(G,Q,q),F=this.device.createCommandEncoder({});this._mipmapRunBundles(F,J),this.device.queue.submit([F.finish()]),W.useCount!==0&&(W.layers[q]=J),W.useCount++}_mipmapCreateBundles(G,Q,q){const W=this.getTransferPipeline(Q.format),J=W.getBindGroupLayout(0);let F=G.createView({baseMipLevel:0,mipLevelCount:1,dimension:GPUTextureViewDimension.TwoD,baseArrayLayer:q});const Y=[];for(let X=1;X<Q.mipLevelCount;X++){const te=this.device.createBindGroup({layout:J,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:F}]}),re=G.createView({baseMipLevel:X,mipLevelCount:1,dimension:GPUTextureViewDimension.TwoD,baseArrayLayer:q}),ne={colorAttachments:[{view:re,loadOp:GPULoadOp.Clear,storeOp:GPUStoreOp.Store,clearValue:[0,0,0,0]}]},ie=this.device.createRenderBundleEncoder({colorFormats:[Q.format]});ie.setPipeline(W),ie.setBindGroup(0,te),ie.draw(4,1,0,0),Y.push({renderBundles:[ie.finish()],passDescriptor:ne}),F=re}return Y}_mipmapRunBundles(G,Q){const q=Q.length;for(let W=0;W<q;W++){const J=Q[W],F=G.beginRenderPass(J.passDescriptor);F.executeBundles(J.renderBundles),F.end()}}}const _compareToWebGPU={[NeverCompare]:"never",[LessCompare]:"less",[EqualCompare]:"equal",[LessEqualCompare]:"less-equal",[GreaterCompare]:"greater",[GreaterEqualCompare]:"greater-equal",[AlwaysCompare]:"always",[NotEqualCompare]:"not-equal"},_flipMap=[0,1,3,2,4,5];class WebGPUTextureUtils{constructor(G){this.backend=G,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this.colorBuffer=null,this.depthTexture=new DepthTexture,this.depthTexture.name="depthBuffer"}createSampler(G){const Q=this.backend,q=Q.device,W=Q.get(G),J={addressModeU:this._convertAddressMode(G.wrapS),addressModeV:this._convertAddressMode(G.wrapT),addressModeW:this._convertAddressMode(G.wrapR),magFilter:this._convertFilterMode(G.magFilter),minFilter:this._convertFilterMode(G.minFilter),mipmapFilter:this._convertFilterMode(G.minFilter),maxAnisotropy:G.anisotropy};G.isDepthTexture&&G.compareFunction!==null&&(J.compare=_compareToWebGPU[G.compareFunction]),W.sampler=q.createSampler(J)}createDefaultTexture(G){let Q;const q=getFormat(G);G.isCubeTexture?Q=this._getDefaultCubeTextureGPU(q):G.isVideoTexture?this.backend.get(G).externalTexture=this._getDefaultVideoFrame():Q=this._getDefaultTextureGPU(q),this.backend.get(G).texture=Q}createTexture(G,Q={}){const q=this.backend,W=q.get(G);if(W.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");Q.needsMipmaps===void 0&&(Q.needsMipmaps=!1),Q.levels===void 0&&(Q.levels=1),Q.depth===void 0&&(Q.depth=1);const{width:J,height:F,depth:Y,levels:X}=Q,te=this._getDimension(G),re=G.internalFormat||Q.format||getFormat(G,q.device);W.format=re;let ne=Q.sampleCount!==void 0?Q.sampleCount:1;ne=q.utils.getSampleCount(ne);const ie=G.isRenderTargetTexture&&!G.isMultisampleRenderTargetTexture?1:ne;let oe=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;G.isStorageTexture===!0&&(oe|=GPUTextureUsage.STORAGE_BINDING),G.isCompressedTexture!==!0&&G.isCompressedArrayTexture!==!0&&(oe|=GPUTextureUsage.RENDER_ATTACHMENT);const ae={label:G.name,size:{width:J,height:F,depthOrArrayLayers:Y},mipLevelCount:X,sampleCount:ie,dimension:te,format:re,usage:oe};if(G.isVideoTexture){const ue=G.source.data,ce=new VideoFrame(ue);ae.size.width=ce.displayWidth,ae.size.height=ce.displayHeight,ce.close(),W.externalTexture=ue}else{if(re===void 0)return console.warn("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(G);W.texture=q.device.createTexture(ae)}if(G.isRenderTargetTexture&&ne>1&&!G.isMultisampleRenderTargetTexture){const ue=Object.assign({},ae);ue.label=ue.label+"-msaa",ue.sampleCount=ne,W.msaaTexture=q.device.createTexture(ue)}W.initialized=!0,W.textureDescriptorGPU=ae}destroyTexture(G){const Q=this.backend,q=Q.get(G);q.texture.destroy(),q.msaaTexture!==void 0&&q.msaaTexture.destroy(),Q.delete(G)}destroySampler(G){const Q=this.backend.get(G);delete Q.sampler}generateMipmaps(G){const Q=this.backend.get(G);if(G.isCubeTexture)for(let q=0;q<6;q++)this._generateMipmaps(Q.texture,Q.textureDescriptorGPU,q);else{const q=G.image.depth||1;for(let W=0;W<q;W++)this._generateMipmaps(Q.texture,Q.textureDescriptorGPU,W)}}getColorBuffer(){this.colorBuffer&&this.colorBuffer.destroy();const G=this.backend,{width:Q,height:q}=G.getDrawingBufferSize();return this.colorBuffer=G.device.createTexture({label:"colorBuffer",size:{width:Q,height:q,depthOrArrayLayers:1},sampleCount:G.utils.getSampleCount(G.renderer.samples),format:G.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),this.colorBuffer}getDepthBuffer(G=!0,Q=!1){const q=this.backend,{width:W,height:J}=q.getDrawingBufferSize(),F=this.depthTexture,Y=q.get(F).texture;let X,te;if(Q?(X=DepthStencilFormat,te=UnsignedInt248Type):G&&(X=DepthFormat,te=UnsignedIntType),Y!==void 0){if(F.image.width===W&&F.image.height===J&&F.format===X&&F.type===te)return Y;this.destroyTexture(F)}return F.name="depthBuffer",F.format=X,F.type=te,F.image.width=W,F.image.height=J,this.createTexture(F,{sampleCount:q.utils.getSampleCount(q.renderer.samples),width:W,height:J}),q.get(F).texture}updateTexture(G,Q){const q=this.backend.get(G),{textureDescriptorGPU:W}=q;if(!(G.isRenderTargetTexture||W===void 0)){if(G.isDataTexture)this._copyBufferToTexture(Q.image,q.texture,W,0,G.flipY);else if(G.isDataArrayTexture||G.isData3DTexture)for(let J=0;J<Q.image.depth;J++)this._copyBufferToTexture(Q.image,q.texture,W,J,G.flipY,J);else if(G.isCompressedTexture||G.isCompressedArrayTexture)this._copyCompressedBufferToTexture(G.mipmaps,q.texture,W);else if(G.isCubeTexture)this._copyCubeMapToTexture(Q.images,q.texture,W,G.flipY);else if(G.isVideoTexture){const J=G.source.data;q.externalTexture=J}else this._copyImageToTexture(Q.image,q.texture,W,0,G.flipY);q.version=G.version,G.onUpdate&&G.onUpdate(G)}}async copyTextureToBuffer(G,Q,q,W,J,F){const Y=this.backend.device,X=this.backend.get(G),te=X.texture,re=X.textureDescriptorGPU.format,ne=this._getBytesPerTexel(re);let ie=W*ne;ie=Math.ceil(ie/256)*256;const oe=Y.createBuffer({size:W*J*ne,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),ae=Y.createCommandEncoder();ae.copyTextureToBuffer({texture:te,origin:{x:Q,y:q,z:F}},{buffer:oe,bytesPerRow:ie},{width:W,height:J});const ue=this._getTypedArrayType(re);Y.queue.submit([ae.finish()]),await oe.mapAsync(GPUMapMode.READ);const ce=oe.getMappedRange();return new ue(ce)}_isEnvironmentTexture(G){const Q=G.mapping;return Q===EquirectangularReflectionMapping||Q===EquirectangularRefractionMapping||Q===CubeReflectionMapping||Q===CubeRefractionMapping}_getDefaultTextureGPU(G){let Q=this.defaultTexture[G];if(Q===void 0){const q=new Texture;q.minFilter=NearestFilter,q.magFilter=NearestFilter,this.createTexture(q,{width:1,height:1,format:G}),this.defaultTexture[G]=Q=q}return this.backend.get(Q).texture}_getDefaultCubeTextureGPU(G){let Q=this.defaultTexture[G];if(Q===void 0){const q=new CubeTexture;q.minFilter=NearestFilter,q.magFilter=NearestFilter,this.createTexture(q,{width:1,height:1,depth:6}),this.defaultCubeTexture[G]=Q=q}return this.backend.get(Q).texture}_getDefaultVideoFrame(){let G=this.defaultVideoFrame;if(G===null){const Q={timestamp:0,codedWidth:1,codedHeight:1,format:"RGBA"};this.defaultVideoFrame=G=new VideoFrame(new Uint8Array([0,0,0,255]),Q)}return G}_copyCubeMapToTexture(G,Q,q,W){for(let J=0;J<6;J++){const F=G[J],Y=W===!0?_flipMap[J]:J;F.isDataTexture?this._copyBufferToTexture(F.image,Q,q,Y,W):this._copyImageToTexture(F,Q,q,Y,W)}}_copyImageToTexture(G,Q,q,W,J){this.backend.device.queue.copyExternalImageToTexture({source:G},{texture:Q,mipLevel:0,origin:{x:0,y:0,z:W}},{width:G.width,height:G.height,depthOrArrayLayers:1}),J===!0&&this._flipY(Q,q,W)}_getPassUtils(){let G=this._passUtils;return G===null&&(this._passUtils=G=new WebGPUTexturePassUtils(this.backend.device)),G}_generateMipmaps(G,Q,q=0){this._getPassUtils().generateMipmaps(G,Q,q)}_flipY(G,Q,q=0){this._getPassUtils().flipY(G,Q,q)}_copyBufferToTexture(G,Q,q,W,J,F=0){const Y=this.backend.device,X=G.data,te=this._getBytesPerTexel(q.format),re=G.width*te;Y.queue.writeTexture({texture:Q,mipLevel:0,origin:{x:0,y:0,z:W}},X,{offset:G.width*G.height*te*F,bytesPerRow:re},{width:G.width,height:G.height,depthOrArrayLayers:1}),J===!0&&this._flipY(Q,q,W)}_copyCompressedBufferToTexture(G,Q,q){const W=this.backend.device,J=this._getBlockData(q.format),F=q.size.depthOrArrayLayers>1;for(let Y=0;Y<G.length;Y++){const X=G[Y],te=X.width,re=X.height,ne=F?q.size.depthOrArrayLayers:1,ie=Math.ceil(te/J.width)*J.byteLength,oe=ie*Math.ceil(re/J.height);for(let ae=0;ae<ne;ae++)W.queue.writeTexture({texture:Q,mipLevel:Y,origin:{x:0,y:0,z:ae}},X.data,{offset:ae*oe,bytesPerRow:ie,rowsPerImage:Math.ceil(re/J.height)},{width:Math.ceil(te/J.width)*J.width,height:Math.ceil(re/J.height)*J.height,depthOrArrayLayers:1})}}_getBlockData(G){if(G===GPUTextureFormat.BC1RGBAUnorm||G===GPUTextureFormat.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(G===GPUTextureFormat.BC2RGBAUnorm||G===GPUTextureFormat.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(G===GPUTextureFormat.BC3RGBAUnorm||G===GPUTextureFormat.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(G===GPUTextureFormat.BC4RUnorm||G===GPUTextureFormat.BC4RSNorm)return{byteLength:8,width:4,height:4};if(G===GPUTextureFormat.BC5RGUnorm||G===GPUTextureFormat.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(G===GPUTextureFormat.BC6HRGBUFloat||G===GPUTextureFormat.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(G===GPUTextureFormat.BC7RGBAUnorm||G===GPUTextureFormat.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(G===GPUTextureFormat.ETC2RGB8Unorm||G===GPUTextureFormat.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(G===GPUTextureFormat.ETC2RGB8A1Unorm||G===GPUTextureFormat.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(G===GPUTextureFormat.ETC2RGBA8Unorm||G===GPUTextureFormat.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(G===GPUTextureFormat.EACR11Unorm)return{byteLength:8,width:4,height:4};if(G===GPUTextureFormat.EACR11Snorm)return{byteLength:8,width:4,height:4};if(G===GPUTextureFormat.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(G===GPUTextureFormat.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(G===GPUTextureFormat.ASTC4x4Unorm||G===GPUTextureFormat.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(G===GPUTextureFormat.ASTC5x4Unorm||G===GPUTextureFormat.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(G===GPUTextureFormat.ASTC5x5Unorm||G===GPUTextureFormat.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(G===GPUTextureFormat.ASTC6x5Unorm||G===GPUTextureFormat.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(G===GPUTextureFormat.ASTC6x6Unorm||G===GPUTextureFormat.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(G===GPUTextureFormat.ASTC8x5Unorm||G===GPUTextureFormat.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(G===GPUTextureFormat.ASTC8x6Unorm||G===GPUTextureFormat.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(G===GPUTextureFormat.ASTC8x8Unorm||G===GPUTextureFormat.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(G===GPUTextureFormat.ASTC10x5Unorm||G===GPUTextureFormat.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(G===GPUTextureFormat.ASTC10x6Unorm||G===GPUTextureFormat.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(G===GPUTextureFormat.ASTC10x8Unorm||G===GPUTextureFormat.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(G===GPUTextureFormat.ASTC10x10Unorm||G===GPUTextureFormat.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(G===GPUTextureFormat.ASTC12x10Unorm||G===GPUTextureFormat.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(G===GPUTextureFormat.ASTC12x12Unorm||G===GPUTextureFormat.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(G){let Q=GPUAddressMode.ClampToEdge;return G===RepeatWrapping?Q=GPUAddressMode.Repeat:G===MirroredRepeatWrapping&&(Q=GPUAddressMode.MirrorRepeat),Q}_convertFilterMode(G){let Q=GPUFilterMode.Linear;return(G===NearestFilter||G===NearestMipmapNearestFilter||G===NearestMipmapLinearFilter)&&(Q=GPUFilterMode.Nearest),Q}_getBytesPerTexel(G){if(G===GPUTextureFormat.R8Unorm||G===GPUTextureFormat.R8Snorm||G===GPUTextureFormat.R8Uint||G===GPUTextureFormat.R8Sint)return 1;if(G===GPUTextureFormat.R16Uint||G===GPUTextureFormat.R16Sint||G===GPUTextureFormat.R16Float||G===GPUTextureFormat.RG8Unorm||G===GPUTextureFormat.RG8Snorm||G===GPUTextureFormat.RG8Uint||G===GPUTextureFormat.RG8Sint)return 2;if(G===GPUTextureFormat.R32Uint||G===GPUTextureFormat.R32Sint||G===GPUTextureFormat.R32Float||G===GPUTextureFormat.RG16Uint||G===GPUTextureFormat.RG16Sint||G===GPUTextureFormat.RG16Float||G===GPUTextureFormat.RGBA8Unorm||G===GPUTextureFormat.RGBA8UnormSRGB||G===GPUTextureFormat.RGBA8Snorm||G===GPUTextureFormat.RGBA8Uint||G===GPUTextureFormat.RGBA8Sint||G===GPUTextureFormat.BGRA8Unorm||G===GPUTextureFormat.BGRA8UnormSRGB||G===GPUTextureFormat.RGB9E5UFloat||G===GPUTextureFormat.RGB10A2Unorm||G===GPUTextureFormat.RG11B10UFloat||G===GPUTextureFormat.Depth32Float||G===GPUTextureFormat.Depth24Plus||G===GPUTextureFormat.Depth24PlusStencil8||G===GPUTextureFormat.Depth32FloatStencil8)return 4;if(G===GPUTextureFormat.RG32Uint||G===GPUTextureFormat.RG32Sint||G===GPUTextureFormat.RG32Float||G===GPUTextureFormat.RGBA16Uint||G===GPUTextureFormat.RGBA16Sint||G===GPUTextureFormat.RGBA16Float)return 8;if(G===GPUTextureFormat.RGBA32Uint||G===GPUTextureFormat.RGBA32Sint||G===GPUTextureFormat.RGBA32Float)return 16}_getTypedArrayType(G){if(G===GPUTextureFormat.R8Uint)return Uint8Array;if(G===GPUTextureFormat.R8Sint)return Int8Array;if(G===GPUTextureFormat.R8Unorm)return Uint8Array;if(G===GPUTextureFormat.R8Snorm)return Int8Array;if(G===GPUTextureFormat.RG8Uint)return Uint8Array;if(G===GPUTextureFormat.RG8Sint)return Int8Array;if(G===GPUTextureFormat.RG8Unorm)return Uint8Array;if(G===GPUTextureFormat.RG8Snorm)return Int8Array;if(G===GPUTextureFormat.RGBA8Uint)return Uint8Array;if(G===GPUTextureFormat.RGBA8Sint)return Int8Array;if(G===GPUTextureFormat.RGBA8Unorm)return Uint8Array;if(G===GPUTextureFormat.RGBA8Snorm)return Int8Array;if(G===GPUTextureFormat.R16Uint)return Uint16Array;if(G===GPUTextureFormat.R16Sint)return Int16Array;if(G===GPUTextureFormat.RG16Uint)return Uint16Array;if(G===GPUTextureFormat.RG16Sint)return Int16Array;if(G===GPUTextureFormat.RGBA16Uint)return Uint16Array;if(G===GPUTextureFormat.RGBA16Sint)return Int16Array;if(G===GPUTextureFormat.R16Float||G===GPUTextureFormat.RG16Float||G===GPUTextureFormat.RGBA16Float)return Uint16Array;if(G===GPUTextureFormat.R32Uint)return Uint32Array;if(G===GPUTextureFormat.R32Sint)return Int32Array;if(G===GPUTextureFormat.R32Float)return Float32Array;if(G===GPUTextureFormat.RG32Uint)return Uint32Array;if(G===GPUTextureFormat.RG32Sint)return Int32Array;if(G===GPUTextureFormat.RG32Float)return Float32Array;if(G===GPUTextureFormat.RGBA32Uint)return Uint32Array;if(G===GPUTextureFormat.RGBA32Sint)return Int32Array;if(G===GPUTextureFormat.RGBA32Float)return Float32Array;if(G===GPUTextureFormat.BGRA8Unorm||G===GPUTextureFormat.BGRA8UnormSRGB)return Uint8Array;if(G===GPUTextureFormat.RGB10A2Unorm||G===GPUTextureFormat.RGB9E5UFloat||G===GPUTextureFormat.RG11B10UFloat)return Uint32Array;if(G===GPUTextureFormat.Depth32Float)return Float32Array;if(G===GPUTextureFormat.Depth24Plus||G===GPUTextureFormat.Depth24PlusStencil8)return Uint32Array;if(G===GPUTextureFormat.Depth32FloatStencil8)return Float32Array}_getDimension(G){let Q;return G.isData3DTexture?Q=GPUTextureDimension.ThreeD:Q=GPUTextureDimension.TwoD,Q}}function getFormat(U,G=null){const Q=U.format,q=U.type,W=U.colorSpace;let J;if(U.isFramebufferTexture===!0&&U.type===UnsignedByteType)J=GPUTextureFormat.BGRA8Unorm;else if(U.isCompressedTexture===!0||U.isCompressedArrayTexture===!0)switch(Q){case RGBA_S3TC_DXT1_Format:J=W===SRGBColorSpace?GPUTextureFormat.BC1RGBAUnormSRGB:GPUTextureFormat.BC1RGBAUnorm;break;case RGBA_S3TC_DXT3_Format:J=W===SRGBColorSpace?GPUTextureFormat.BC2RGBAUnormSRGB:GPUTextureFormat.BC2RGBAUnorm;break;case RGBA_S3TC_DXT5_Format:J=W===SRGBColorSpace?GPUTextureFormat.BC3RGBAUnormSRGB:GPUTextureFormat.BC3RGBAUnorm;break;case RGB_ETC2_Format:J=W===SRGBColorSpace?GPUTextureFormat.ETC2RGB8UnormSRGB:GPUTextureFormat.ETC2RGB8Unorm;break;case RGBA_ETC2_EAC_Format:J=W===SRGBColorSpace?GPUTextureFormat.ETC2RGBA8UnormSRGB:GPUTextureFormat.ETC2RGBA8Unorm;break;case RGBA_ASTC_4x4_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC4x4UnormSRGB:GPUTextureFormat.ASTC4x4Unorm;break;case RGBA_ASTC_5x4_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC5x4UnormSRGB:GPUTextureFormat.ASTC5x4Unorm;break;case RGBA_ASTC_5x5_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC5x5UnormSRGB:GPUTextureFormat.ASTC5x5Unorm;break;case RGBA_ASTC_6x5_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC6x5UnormSRGB:GPUTextureFormat.ASTC6x5Unorm;break;case RGBA_ASTC_6x6_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC6x6UnormSRGB:GPUTextureFormat.ASTC6x6Unorm;break;case RGBA_ASTC_8x5_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC8x5UnormSRGB:GPUTextureFormat.ASTC8x5Unorm;break;case RGBA_ASTC_8x6_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC8x6UnormSRGB:GPUTextureFormat.ASTC8x6Unorm;break;case RGBA_ASTC_8x8_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC8x8UnormSRGB:GPUTextureFormat.ASTC8x8Unorm;break;case RGBA_ASTC_10x5_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC10x5UnormSRGB:GPUTextureFormat.ASTC10x5Unorm;break;case RGBA_ASTC_10x6_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC10x6UnormSRGB:GPUTextureFormat.ASTC10x6Unorm;break;case RGBA_ASTC_10x8_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC10x8UnormSRGB:GPUTextureFormat.ASTC10x8Unorm;break;case RGBA_ASTC_10x10_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC10x10UnormSRGB:GPUTextureFormat.ASTC10x10Unorm;break;case RGBA_ASTC_12x10_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC12x10UnormSRGB:GPUTextureFormat.ASTC12x10Unorm;break;case RGBA_ASTC_12x12_Format:J=W===SRGBColorSpace?GPUTextureFormat.ASTC12x12UnormSRGB:GPUTextureFormat.ASTC12x12Unorm;break;default:console.error("WebGPURenderer: Unsupported texture format.",Q)}else switch(Q){case RGBAFormat:switch(q){case ByteType:J=GPUTextureFormat.RGBA8Snorm;break;case ShortType:J=GPUTextureFormat.RGBA16Sint;break;case UnsignedShortType:J=GPUTextureFormat.RGBA16Uint;break;case UnsignedIntType:J=GPUTextureFormat.RGBA32Uint;break;case IntType:J=GPUTextureFormat.RGBA32Sint;break;case UnsignedByteType:J=W===SRGBColorSpace?GPUTextureFormat.RGBA8UnormSRGB:GPUTextureFormat.RGBA8Unorm;break;case HalfFloatType:J=GPUTextureFormat.RGBA16Float;break;case FloatType:J=GPUTextureFormat.RGBA32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAFormat.",q)}break;case RGBFormat:switch(q){case UnsignedInt5999Type:J=GPUTextureFormat.RGB9E5UFloat;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBFormat.",q)}break;case RedFormat:switch(q){case ByteType:J=GPUTextureFormat.R8Snorm;break;case ShortType:J=GPUTextureFormat.R16Sint;break;case UnsignedShortType:J=GPUTextureFormat.R16Uint;break;case UnsignedIntType:J=GPUTextureFormat.R32Uint;break;case IntType:J=GPUTextureFormat.R32Sint;break;case UnsignedByteType:J=GPUTextureFormat.R8Unorm;break;case HalfFloatType:J=GPUTextureFormat.R16Float;break;case FloatType:J=GPUTextureFormat.R32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RedFormat.",q)}break;case RGFormat:switch(q){case ByteType:J=GPUTextureFormat.RG8Snorm;break;case ShortType:J=GPUTextureFormat.RG16Sint;break;case UnsignedShortType:J=GPUTextureFormat.RG16Uint;break;case UnsignedIntType:J=GPUTextureFormat.RG32Uint;break;case IntType:J=GPUTextureFormat.RG32Sint;break;case UnsignedByteType:J=GPUTextureFormat.RG8Unorm;break;case HalfFloatType:J=GPUTextureFormat.RG16Float;break;case FloatType:J=GPUTextureFormat.RG32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGFormat.",q)}break;case DepthFormat:switch(q){case UnsignedShortType:J=GPUTextureFormat.Depth16Unorm;break;case UnsignedIntType:J=GPUTextureFormat.Depth24Plus;break;case FloatType:J=GPUTextureFormat.Depth32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthFormat.",q)}break;case DepthStencilFormat:switch(q){case UnsignedInt248Type:J=GPUTextureFormat.Depth24PlusStencil8;break;case FloatType:G&&G.features.has(GPUFeatureName.Depth32FloatStencil8)===!1&&console.error('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),J=GPUTextureFormat.Depth32FloatStencil8;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",q)}break;case RedIntegerFormat:switch(q){case IntType:J=GPUTextureFormat.R32Sint;break;case UnsignedIntType:J=GPUTextureFormat.R32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",q)}break;case RGIntegerFormat:switch(q){case IntType:J=GPUTextureFormat.RG32Sint;break;case UnsignedIntType:J=GPUTextureFormat.RG32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",q)}break;case RGBAIntegerFormat:switch(q){case IntType:J=GPUTextureFormat.RGBA32Sint;break;case UnsignedIntType:J=GPUTextureFormat.RGBA32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",q)}break;default:console.error("WebGPURenderer: Unsupported texture format.",Q)}return J}const declarationRegexp=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,propertiesRegexp=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/ig,wgslTypeLib$1={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"},parse=U=>{U=U.trim();const G=U.match(declarationRegexp);if(G!==null&&G.length===4){const Q=G[2],q=[];let W=null;for(;(W=propertiesRegexp.exec(Q))!==null;)q.push({name:W[1],type:W[2]});const J=[];for(let te=0;te<q.length;te++){const{name:re,type:ne}=q[te];let ie=ne;ie.startsWith("texture")&&(ie=ne.split("<")[0]),ie=wgslTypeLib$1[ie]||ie,J.push(new NodeFunctionInput(ie,re))}const F=U.substring(G[0].length),Y=G[3]||"void",X=G[1]!==void 0?G[1]:"";return{type:wgslTypeLib$1[Y]||Y,inputs:J,name:X,inputsCode:Q,blockCode:F,outputType:Y}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class WGSLNodeFunction extends NodeFunction{constructor(G){const{type:Q,inputs:q,name:W,inputsCode:J,blockCode:F,outputType:Y}=parse(G);super(Q,q,W),this.inputsCode=J,this.blockCode=F,this.outputType=Y}getCode(G=this.name){const Q=this.outputType!=="void"?"-> "+this.outputType:"";return`fn ${G} ( ${this.inputsCode.trim()} ) ${Q}`+this.blockCode}}class WGSLNodeParser extends NodeParser{parseFunction(G){return new WGSLNodeFunction(G)}}const GPUShaderStage=self.GPUShaderStage,gpuShaderStageLib={vertex:GPUShaderStage?GPUShaderStage.VERTEX:1,fragment:GPUShaderStage?GPUShaderStage.FRAGMENT:2,compute:GPUShaderStage?GPUShaderStage.COMPUTE:4},supports$2={instance:!0,swizzleAssign:!1,storageBuffer:!0},wgslFnOpLib={"^^":"tsl_xor"},wgslTypeLib={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",imat2:"mat2x2<i32>",umat2:"mat2x2<u32>",bmat2:"mat2x2<bool>",mat3:"mat3x3<f32>",imat3:"mat3x3<i32>",umat3:"mat3x3<u32>",bmat3:"mat3x3<bool>",mat4:"mat4x4<f32>",imat4:"mat4x4<i32>",umat4:"mat4x4<u32>",bmat4:"mat4x4<bool>"},wgslPolyfill={tsl_xor:new CodeNode("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new CodeNode("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new CodeNode("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new CodeNode("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new CodeNode("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new CodeNode("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new CodeNode("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new CodeNode("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new CodeNode("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping:new CodeNode(`
fn tsl_repeatWrapping( uv : vec2<f32>, dimension : vec2<u32> ) -> vec2<u32> {

	let uvScaled = vec2<u32>( uv * vec2<f32>( dimension ) );

	return ( ( uvScaled % dimension ) + dimension ) % dimension;

}
`),biquadraticTexture:new CodeNode(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, level : i32 ) -> vec4f {

	let iRes = vec2i( textureDimensions( map, level ) );
	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2i( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2i( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2i( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2i( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`)},wgslMethods={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>"};/Windows/g.test(navigator.userAgent)&&(wgslPolyfill.pow_float=new CodeNode("fn tsl_pow_float( a : f32, b : f32 ) -> f32 { return select( -pow( -a, b ), pow( a, b ), a > 0.0 ); }"),wgslPolyfill.pow_vec2=new CodeNode("fn tsl_pow_vec2( a : vec2f, b : vec2f ) -> vec2f { return vec2f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ) ); }",[wgslPolyfill.pow_float]),wgslPolyfill.pow_vec3=new CodeNode("fn tsl_pow_vec3( a : vec3f, b : vec3f ) -> vec3f { return vec3f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ) ); }",[wgslPolyfill.pow_float]),wgslPolyfill.pow_vec4=new CodeNode("fn tsl_pow_vec4( a : vec4f, b : vec4f ) -> vec4f { return vec4f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ), tsl_pow_float( a.w, b.w ) ); }",[wgslPolyfill.pow_float]),wgslMethods.pow_float="tsl_pow_float",wgslMethods.pow_vec2="tsl_pow_vec2",wgslMethods.pow_vec3="tsl_pow_vec3",wgslMethods.pow_vec4="tsl_pow_vec4");let diagnostics="";/Firefox/g.test(navigator.userAgent)!==!0&&(diagnostics+=`diagnostic( off, derivative_uniformity );
`);class WGSLNodeBuilder extends NodeBuilder{constructor(G,Q){super(G,Q,new WGSLNodeParser),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}needsToWorkingColorSpace(G){return G.isVideoTexture===!0&&G.colorSpace!==NoColorSpace}_generateTextureSample(G,Q,q,W,J=this.shaderStage){return J==="fragment"?W?`textureSample( ${Q}, ${Q}_sampler, ${q}, ${W} )`:`textureSample( ${Q}, ${Q}_sampler, ${q} )`:this.isFilteredTexture(G)?this.generateFilteredTexture(G,Q,q):this.generateTextureLod(G,Q,q,"0")}_generateVideoSample(G,Q,q=this.shaderStage){if(q==="fragment")return`textureSampleBaseClampToEdge( ${G}, ${G}_sampler, vec2<f32>( ${Q}.x, 1.0 - ${Q}.y ) )`;console.error(`WebGPURenderer: THREE.VideoTexture does not support ${q} shader.`)}_generateTextureSampleLevel(G,Q,q,W,J,F=this.shaderStage){return F==="fragment"&&this.isUnfilterable(G)===!1?`textureSampleLevel( ${Q}, ${Q}_sampler, ${q}, ${W} )`:this.isFilteredTexture(G)?this.generateFilteredTexture(G,Q,q,W):this.generateTextureLod(G,Q,q,W)}generateFilteredTexture(G,Q,q,W="0"){return this._include("biquadraticTexture"),`tsl_biquadraticTexture( ${Q}, ${q}, i32( ${W} ) )`}generateTextureLod(G,Q,q,W="0"){this._include("repeatWrapping");const J=G.isMultisampleRenderTargetTexture===!0?`textureDimensions( ${Q} )`:`textureDimensions( ${Q}, 0 )`;return`textureLoad( ${Q}, tsl_repeatWrapping( ${q}, ${J} ), i32( ${W} ) )`}generateTextureLoad(G,Q,q,W,J="0u"){return W?`textureLoad( ${Q}, ${q}, ${W}, ${J} )`:`textureLoad( ${Q}, ${q}, ${J} )`}generateTextureStore(G,Q,q,W){return`textureStore( ${Q}, ${q}, ${W} )`}isUnfilterable(G){return this.getComponentTypeFromTexture(G)!=="float"||!this.isAvailable("float32Filterable")&&G.isDataTexture===!0&&G.type===FloatType||G.isMultisampleRenderTargetTexture===!0}generateTexture(G,Q,q,W,J=this.shaderStage){let F=null;return G.isVideoTexture===!0?F=this._generateVideoSample(Q,q,J):this.isUnfilterable(G)?F=this.generateTextureLod(G,Q,q,"0",W,J):F=this._generateTextureSample(G,Q,q,W,J),F}generateTextureGrad(G,Q,q,W,J,F=this.shaderStage){if(F==="fragment")return`textureSampleGrad( ${Q}, ${Q}_sampler, ${q},  ${W[0]}, ${W[1]} )`;console.error(`WebGPURenderer: THREE.TextureNode.gradient() does not support ${F} shader.`)}generateTextureCompare(G,Q,q,W,J,F=this.shaderStage){if(F==="fragment")return`textureSampleCompare( ${Q}, ${Q}_sampler, ${q}, ${W} )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${F} shader.`)}generateTextureLevel(G,Q,q,W,J,F=this.shaderStage){let Y=null;return G.isVideoTexture===!0?Y=this._generateVideoSample(Q,q,F):Y=this._generateTextureSampleLevel(G,Q,q,W,J,F),Y}generateTextureBias(G,Q,q,W,J,F=this.shaderStage){if(F==="fragment")return`textureSampleBias( ${Q}, ${Q}_sampler, ${q}, ${W} )`;console.error(`WebGPURenderer: THREE.TextureNode.biasNode does not support ${F} shader.`)}getPropertyName(G,Q=this.shaderStage){if(G.isNodeVarying===!0&&G.needsInterpolation===!0){if(Q==="vertex")return`varyings.${G.name}`}else if(G.isNodeUniform===!0){const q=G.name,W=G.type;return W==="texture"||W==="cubeTexture"||W==="storageTexture"||W==="texture3D"?q:W==="buffer"||W==="storageBuffer"?`NodeBuffer_${G.id}.${q}`:G.groupNode.name+"."+q}return super.getPropertyName(G)}getOutputStructName(){return"output"}_getUniformGroupCount(G){return Object.keys(this.uniforms[G]).length}getFunctionOperator(G){const Q=wgslFnOpLib[G];return Q!==void 0?(this._include(Q),Q):null}getStorageAccess(G){if(G.isStorageTextureNode)switch(G.access){case GPUStorageTextureAccess.ReadOnly:return"read";case GPUStorageTextureAccess.WriteOnly:return"write";default:return"read_write"}else switch(G.access){case GPUBufferBindingType.Storage:return"read_write";case GPUBufferBindingType.ReadOnlyStorage:return"read";default:return"write"}}getUniformFromNode(G,Q,q,W=null){const J=super.getUniformFromNode(G,Q,q,W),F=this.getDataFromNode(G,q,this.globalCache);if(F.uniformGPU===void 0){let Y;const X=G.groupNode,te=X.name,re=this.getBindGroupArray(te,q);if(Q==="texture"||Q==="cubeTexture"||Q==="storageTexture"||Q==="texture3D"){let ne=null;if(Q==="texture"||Q==="storageTexture"?ne=new NodeSampledTexture(J.name,J.node,X,G.access?G.access:null):Q==="cubeTexture"?ne=new NodeSampledCubeTexture(J.name,J.node,X,G.access?G.access:null):Q==="texture3D"&&(ne=new NodeSampledTexture3D(J.name,J.node,X,G.access?G.access:null)),ne.store=G.isStorageTextureNode===!0,ne.setVisibility(gpuShaderStageLib[q]),q==="fragment"&&this.isUnfilterable(G.value)===!1&&ne.store===!1){const ie=new NodeSampler(`${J.name}_sampler`,J.node,X);ie.setVisibility(gpuShaderStageLib[q]),re.push(ie,ne),Y=[ie,ne]}else re.push(ne),Y=[ne]}else if(Q==="buffer"||Q==="storageBuffer"){const ne=Q==="storageBuffer"?NodeStorageBuffer:NodeUniformBuffer,ie=new ne(G,X);ie.setVisibility(gpuShaderStageLib[q]),re.push(ie),Y=ie}else{const ne=this.uniformGroups[q]||(this.uniformGroups[q]={});let ie=ne[te];ie===void 0&&(ie=new NodeUniformsGroup(te,X),ie.setVisibility(gpuShaderStageLib[q]),ne[te]=ie,re.push(ie)),Y=this.getNodeUniform(J,Q),ie.addUniform(Y)}F.uniformGPU=Y}return J}getBuiltin(G,Q,q,W=this.shaderStage){const J=this.builtins[W]||(this.builtins[W]=new Map);return J.has(G)===!1&&J.set(G,{name:G,property:Q,type:q}),Q}hasBuiltin(G,Q=this.shaderStage){return this.builtins[Q]!==void 0&&this.builtins[Q].has(G)}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(G){const Q=G.layout,q=this.flowShaderNode(G),W=[];for(const F of Q.inputs)W.push(F.name+" : "+this.getType(F.type));let J=`fn ${Q.name}( ${W.join(", ")} ) -> ${this.getType(Q.type)} {
${q.vars}
${q.code}
`;return q.result&&(J+=`	return ${q.result};
`),J+=`
}
`,J}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}isFlipY(){return!1}enableDirective(G,Q=this.shaderStage){(this.directives[Q]||(this.directives[Q]=new Set)).add(G)}getDirectives(G){const Q=[],q=this.directives[G];if(q!==void 0)for(const W of q)Q.push(`enable ${W};`);return Q.join(`
`)}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}getBuiltins(G){const Q=[],q=this.builtins[G];if(q!==void 0)for(const{name:W,property:J,type:F}of q.values())Q.push(`@builtin( ${W} ) ${J} : ${F}`);return Q.join(`,
	`)}getScopedArray(G,Q,q,W){return this.scopedArrays.has(G)===!1&&this.scopedArrays.set(G,{name:G,scope:Q,bufferType:q,bufferCount:W}),G}getScopedArrays(G){if(G!=="compute")return;const Q=[];for(const{name:q,scope:W,bufferType:J,bufferCount:F}of this.scopedArrays.values()){const Y=this.getType(J);Q.push(`var<${W}> ${q}: array< ${Y}, ${F} >;`)}return Q.join(`
`)}getAttributes(G){const Q=[];if(G==="compute"&&(this.getBuiltin("global_invocation_id","id","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",G),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),G==="vertex"||G==="compute"){const q=this.getBuiltins("attribute");q&&Q.push(q);const W=this.getAttributesArray();for(let J=0,F=W.length;J<F;J++){const Y=W[J],X=Y.name,te=this.getType(Y.type);Q.push(`@location( ${J} ) ${X} : ${te}`)}}return Q.join(`,
	`)}getStructMembers(G){const Q=[],q=G.getMemberTypes();for(let J=0;J<q.length;J++){const F=q[J];Q.push(`	@location( ${J} ) m${J} : ${F}<f32>`)}const W=this.getBuiltins("output");return W&&Q.push("	"+W),Q.join(`,
`)}getStructs(G){const Q=[],q=this.structs[G];for(let W=0,J=q.length;W<J;W++){const F=q[W],Y=F.name;let X=`struct ${Y} {
`;X+=this.getStructMembers(F),X+=`
}`,Q.push(X),Q.push(`
var<private> output : ${Y};

`)}return Q.join(`

`)}getVar(G,Q){return`var ${Q} : ${this.getType(G)}`}getVars(G){const Q=[],q=this.vars[G];if(q!==void 0)for(const W of q)Q.push(`	${this.getVar(W.type,W.name)};`);return`
${Q.join(`
`)}
`}getVaryings(G){const Q=[];if(G==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),G==="vertex"||G==="fragment"){const J=this.varyings,F=this.vars[G];for(let Y=0;Y<J.length;Y++){const X=J[Y];if(X.needsInterpolation){let te=`@location( ${Y} )`;/^(int|uint|ivec|uvec)/.test(X.type)&&(te+=" @interpolate( flat )"),Q.push(`${te} ${X.name} : ${this.getType(X.type)}`)}else G==="vertex"&&F.includes(X)===!1&&F.push(X)}}const q=this.getBuiltins(G);q&&Q.push(q);const W=Q.join(`,
	`);return G==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+W):W}getUniforms(G){const Q=this.uniforms[G],q=[],W=[],J=[],F={};for(const X of Q){const te=X.groupNode.name,re=this.bindingsIndexes[te];if(X.type==="texture"||X.type==="cubeTexture"||X.type==="storageTexture"||X.type==="texture3D"){const ne=X.node.value;G==="fragment"&&this.isUnfilterable(ne)===!1&&X.node.isStorageTextureNode!==!0&&(ne.isDepthTexture===!0&&ne.compareFunction!==null?q.push(`@binding( ${re.binding++} ) @group( ${re.group} ) var ${X.name}_sampler : sampler_comparison;`):q.push(`@binding( ${re.binding++} ) @group( ${re.group} ) var ${X.name}_sampler : sampler;`));let ie,oe="";if(ne.isMultisampleRenderTargetTexture===!0&&(oe="_multisampled"),ne.isCubeTexture===!0)ie="texture_cube<f32>";else if(ne.isDataArrayTexture===!0||ne.isCompressedArrayTexture===!0)ie="texture_2d_array<f32>";else if(ne.isDepthTexture===!0)ie=`texture_depth${oe}_2d`;else if(ne.isVideoTexture===!0)ie="texture_external";else if(ne.isData3DTexture===!0)ie="texture_3d<f32>";else if(X.node.isStorageTextureNode===!0){const ae=getFormat(ne),ue=this.getStorageAccess(X.node);ie=`texture_storage_2d<${ae}, ${ue}>`}else{const ae=this.getComponentTypeFromTexture(ne).charAt(0);ie=`texture${oe}_2d<${ae}32>`}q.push(`@binding( ${re.binding++} ) @group( ${re.group} ) var ${X.name} : ${ie};`)}else if(X.type==="buffer"||X.type==="storageBuffer"){const ne=X.node,ie=this.getType(ne.bufferType),oe=ne.bufferCount,ae=oe>0?", "+oe:"",ue=ne.isAtomic?`atomic<${ie}>`:`${ie}`,ce=`	${X.name} : array< ${ue}${ae} >
`,se=ne.isStorageBufferNode?`storage, ${this.getStorageAccess(ne)}`:"uniform";W.push(this._getWGSLStructBinding("NodeBuffer_"+ne.id,ce,se,re.binding++,re.group))}else{const ne=this.getType(this.getVectorType(X.type)),ie=X.groupNode.name;(F[ie]||(F[ie]={index:re.binding++,id:re.group,snippets:[]})).snippets.push(`	${X.name} : ${ne}`)}}for(const X in F){const te=F[X];J.push(this._getWGSLStructBinding(X,te.snippets.join(`,
`),"uniform",te.index,te.id))}let Y=q.join(`
`);return Y+=W.join(`
`),Y+=J.join(`
`),Y}buildCode(){const G=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const Q in G){const q=G[Q];q.uniforms=this.getUniforms(Q),q.attributes=this.getAttributes(Q),q.varyings=this.getVaryings(Q),q.structs=this.getStructs(Q),q.vars=this.getVars(Q),q.codes=this.getCodes(Q),q.directives=this.getDirectives(Q),q.scopedArrays=this.getScopedArrays(Q);let W=`// code

`;W+=this.flowCode[Q];const J=this.flowNodes[Q],F=J[J.length-1],Y=F.outputNode,X=Y!==void 0&&Y.isOutputStructNode===!0;for(const te of J){const re=this.getFlowData(te),ne=te.name;if(ne&&(W.length>0&&(W+=`
`),W+=`	// flow -> ${ne}
	`),W+=`${re.code}
	`,te===F&&Q!=="compute"){if(W+=`// result

	`,Q==="vertex")W+=`varyings.Vertex = ${re.result};`;else if(Q==="fragment")if(X)q.returnType=Y.nodeType,W+=`return ${re.result};`;else{let ie="	@location(0) color: vec4<f32>";const oe=this.getBuiltins("output");oe&&(ie+=`,
	`+oe),q.returnType="OutputStruct",q.structs+=this._getWGSLStruct("OutputStruct",ie),q.structs+=`
var<private> output : OutputStruct;

`,W+=`output.color = ${re.result};

	return output;`}}}q.flow=W}this.material!==null?(this.vertexShader=this._getWGSLVertexCode(G.vertex),this.fragmentShader=this._getWGSLFragmentCode(G.fragment)):this.computeShader=this._getWGSLComputeCode(G.compute,(this.object.workgroupSize||[64]).join(", "))}getMethod(G,Q=null){let q;return Q!==null&&(q=this._getWGSLMethod(G+"_"+Q)),q===void 0&&(q=this._getWGSLMethod(G)),q||G}getType(G){return wgslTypeLib[G]||G}isAvailable(G){let Q=supports$2[G];return Q===void 0&&(G==="float32Filterable"&&(Q=this.renderer.hasFeature("float32-filterable")),supports$2[G]=Q),Q}_getWGSLMethod(G){return wgslPolyfill[G]!==void 0&&this._include(G),wgslMethods[G]}_include(G){const Q=wgslPolyfill[G];return Q.build(this),this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(Q),Q}_getWGSLVertexCode(G){return`${this.getSignature()}
// directives
${G.directives}

// uniforms
${G.uniforms}

// varyings
${G.varyings}
var<private> varyings : VaryingsStruct;

// codes
${G.codes}

@vertex
fn main( ${G.attributes} ) -> VaryingsStruct {

	// vars
	${G.vars}

	// flow
	${G.flow}

	return varyings;

}
`}_getWGSLFragmentCode(G){return`${this.getSignature()}
// global
${diagnostics}

// uniforms
${G.uniforms}

// structs
${G.structs}

// codes
${G.codes}

@fragment
fn main( ${G.varyings} ) -> ${G.returnType} {

	// vars
	${G.vars}

	// flow
	${G.flow}

}
`}_getWGSLComputeCode(G,Q){return`${this.getSignature()}
// directives
${G.directives}

// system
var<private> instanceIndex : u32;

// locals
${G.scopedArrays}

// uniforms
${G.uniforms}

// codes
${G.codes}

@compute @workgroup_size( ${Q} )
fn main( ${G.attributes} ) {

	// system
	instanceIndex = id.x + id.y * numWorkgroups.x * u32(${Q}) + id.z * numWorkgroups.x * numWorkgroups.y * u32(${Q});

	// vars
	${G.vars}

	// flow
	${G.flow}

}
`}_getWGSLStruct(G,Q){return`
struct ${G} {
${Q}
};`}_getWGSLStructBinding(G,Q,q,W=0,J=0){const F=G+"Struct";return`${this._getWGSLStruct(F,Q)}
@binding( ${W} ) @group( ${J} )
var<${q}> ${G} : ${F};`}}class WebGPUUtils{constructor(G){this.backend=G}getCurrentDepthStencilFormat(G){let Q;return G.depthTexture!==null?Q=this.getTextureFormatGPU(G.depthTexture):G.depth&&G.stencil?Q=GPUTextureFormat.Depth24PlusStencil8:G.depth&&(Q=GPUTextureFormat.Depth24Plus),Q}getTextureFormatGPU(G){return this.backend.get(G).format}getCurrentColorFormat(G){let Q;return G.textures!==null?Q=this.getTextureFormatGPU(G.textures[0]):Q=this.getPreferredCanvasFormat(),Q}getCurrentColorSpace(G){return G.textures!==null?G.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(G,Q){if(G.isPoints)return GPUPrimitiveTopology.PointList;if(G.isLineSegments||G.isMesh&&Q.wireframe===!0)return GPUPrimitiveTopology.LineList;if(G.isLine)return GPUPrimitiveTopology.LineStrip;if(G.isMesh)return GPUPrimitiveTopology.TriangleList}getSampleCount(G){let Q=1;return G>1&&(Q=Math.pow(2,Math.floor(Math.log2(G))),Q===2&&(Q=4)),Q}getSampleCountRenderContext(G){return G.textures!==null?this.getSampleCount(G.sampleCount):this.getSampleCount(this.backend.renderer.samples)}getPreferredCanvasFormat(){return navigator.userAgent.includes("Quest")?GPUTextureFormat.BGRA8Unorm:navigator.gpu.getPreferredCanvasFormat()}}const typedArraysToVertexFormatPrefix=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]),typedAttributeToVertexFormatPrefix=new Map([[Float16BufferAttribute,["float16"]]]),typeArraysToVertexFormatPrefixForItemSize1=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class WebGPUAttributeUtils{constructor(G){this.backend=G}createAttribute(G,Q){const q=this._getBufferAttribute(G),W=this.backend,J=W.get(q);let F=J.buffer;if(F===void 0){const Y=W.device;let X=q.array;if(G.normalized===!1&&(X.constructor===Int16Array||X.constructor===Uint16Array)){const re=new Uint32Array(X.length);for(let ne=0;ne<X.length;ne++)re[ne]=X[ne];X=re}if(q.array=X,(q.isStorageBufferAttribute||q.isStorageInstancedBufferAttribute)&&q.itemSize===3){X=new X.constructor(q.count*4);for(let re=0;re<q.count;re++)X.set(q.array.subarray(re*3,re*3+3),re*4);q.itemSize=4,q.array=X}const te=X.byteLength+(4-X.byteLength%4)%4;F=Y.createBuffer({label:q.name,size:te,usage:Q,mappedAtCreation:!0}),new X.constructor(F.getMappedRange()).set(X),F.unmap(),J.buffer=F}}updateAttribute(G){const Q=this._getBufferAttribute(G),q=this.backend,W=q.device,J=q.get(Q).buffer,F=Q.array,Y=Q.updateRanges;if(Y.length===0)W.queue.writeBuffer(J,0,F,0);else{for(let X=0,te=Y.length;X<te;X++){const re=Y[X];W.queue.writeBuffer(J,0,F,re.start*F.BYTES_PER_ELEMENT,re.count*F.BYTES_PER_ELEMENT)}Q.clearUpdateRanges()}}createShaderVertexBuffers(G){const Q=G.getAttributes(),q=new Map;for(let W=0;W<Q.length;W++){const J=Q[W],F=J.array.BYTES_PER_ELEMENT,Y=this._getBufferAttribute(J);let X=q.get(Y);if(X===void 0){let ne,ie;J.isInterleavedBufferAttribute===!0?(ne=J.data.stride*F,ie=J.data.isInstancedInterleavedBuffer?GPUInputStepMode.Instance:GPUInputStepMode.Vertex):(ne=J.itemSize*F,ie=J.isInstancedBufferAttribute?GPUInputStepMode.Instance:GPUInputStepMode.Vertex),J.normalized===!1&&(J.array.constructor===Int16Array||J.array.constructor===Uint16Array)&&(ne=4),X={arrayStride:ne,attributes:[],stepMode:ie},q.set(Y,X)}const te=this._getVertexFormat(J),re=J.isInterleavedBufferAttribute===!0?J.offset*F:0;X.attributes.push({shaderLocation:W,offset:re,format:te})}return Array.from(q.values())}destroyAttribute(G){const Q=this.backend;Q.get(this._getBufferAttribute(G)).buffer.destroy(),Q.delete(G)}async getArrayBufferAsync(G){const Q=this.backend,q=Q.device,W=Q.get(this._getBufferAttribute(G)).buffer,J=W.size,F=q.createBuffer({label:G.name,size:J,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),Y=q.createCommandEncoder({});Y.copyBufferToBuffer(W,0,F,0,J),F.unmap();const X=Y.finish();return q.queue.submit([X]),await F.mapAsync(GPUMapMode.READ),F.getMappedRange()}_getVertexFormat(G){const{itemSize:Q,normalized:q}=G,W=G.array.constructor,J=G.constructor;let F;if(Q==1)F=typeArraysToVertexFormatPrefixForItemSize1.get(W);else{const Y=(typedAttributeToVertexFormatPrefix.get(J)||typedArraysToVertexFormatPrefix.get(W))[q?1:0];if(Y){const X=W.BYTES_PER_ELEMENT*Q,te=Math.floor((X+3)/4)*4/W.BYTES_PER_ELEMENT;if(te%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");F=`${Y}x${te}`}}return F||console.error("THREE.WebGPUAttributeUtils: Vertex format not supported yet."),F}_getBufferAttribute(G){return G.isInterleavedBufferAttribute&&(G=G.data),G}}class WebGPUBindingUtils{constructor(G){this.backend=G,this.bindGroupLayoutCache=new WeakMap}createBindingsLayout(G){const Q=this.backend.device,q=[];let W=0;for(const J of G.bindings){const F={binding:W++,visibility:J.visibility};if(J.isUniformBuffer||J.isStorageBuffer){const Y={};J.isStorageBuffer&&(Y.type=J.access),F.buffer=Y}else if(J.isSampler){const Y={};J.texture.isDepthTexture&&J.texture.compareFunction!==null&&(Y.type="comparison"),F.sampler=Y}else if(J.isSampledTexture&&J.texture.isVideoTexture)F.externalTexture={};else if(J.isSampledTexture&&J.store){const Y=this.backend.get(J.texture).texture.format,X=J.access;F.storageTexture={format:Y,access:X}}else if(J.isSampledTexture){const Y={};if(J.texture.isMultisampleRenderTargetTexture===!0&&(Y.multisampled=!0),J.texture.isDepthTexture)Y.sampleType=GPUTextureSampleType.Depth;else if(J.texture.isDataTexture||J.texture.isDataArrayTexture||J.texture.isData3DTexture){const X=J.texture.type;X===IntType?Y.sampleType=GPUTextureSampleType.SInt:X===UnsignedIntType?Y.sampleType=GPUTextureSampleType.UInt:X===FloatType&&(this.backend.hasFeature("float32-filterable")?Y.sampleType=GPUTextureSampleType.Float:Y.sampleType=GPUTextureSampleType.UnfilterableFloat)}J.isSampledCubeTexture?Y.viewDimension=GPUTextureViewDimension.Cube:J.texture.isDataArrayTexture||J.texture.isCompressedArrayTexture?Y.viewDimension=GPUTextureViewDimension.TwoDArray:J.isSampledTexture3D&&(Y.viewDimension=GPUTextureViewDimension.ThreeD),F.texture=Y}else console.error(`WebGPUBindingUtils: Unsupported binding "${J}".`);q.push(F)}return Q.createBindGroupLayout({entries:q})}createBindings(G){const{backend:Q,bindGroupLayoutCache:q}=this,W=Q.get(G);let J=q.get(G.bindingsReference);J===void 0&&(J=this.createBindingsLayout(G),q.set(G.bindingsReference,J));const F=this.createBindGroup(G,J);W.layout=J,W.group=F}updateBinding(G){const Q=this.backend,q=Q.device,W=G.buffer,J=Q.get(G).buffer;q.queue.writeBuffer(J,0,W,0)}createBindGroup(G,Q){const q=this.backend,W=q.device;let J=0;const F=[];for(const Y of G.bindings){if(Y.isUniformBuffer){const X=q.get(Y);if(X.buffer===void 0){const te=Y.byteLength,re=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,ne=W.createBuffer({label:"bindingBuffer_"+Y.name,size:te,usage:re});X.buffer=ne}F.push({binding:J,resource:{buffer:X.buffer}})}else if(Y.isStorageBuffer){const X=q.get(Y);if(X.buffer===void 0){const te=Y.attribute;X.buffer=q.get(te).buffer}F.push({binding:J,resource:{buffer:X.buffer}})}else if(Y.isSampler){const X=q.get(Y.texture);F.push({binding:J,resource:X.sampler})}else if(Y.isSampledTexture){const X=q.get(Y.texture);let te;if(X.externalTexture!==void 0)te=W.importExternalTexture({source:X.externalTexture});else{const re=Y.store?1:X.texture.mipLevelCount,ne=`view-${X.texture.width}-${X.texture.height}-${re}`;if(te=X[ne],te===void 0){const ie=GPUTextureAspect.All;let oe;Y.isSampledCubeTexture?oe=GPUTextureViewDimension.Cube:Y.isSampledTexture3D?oe=GPUTextureViewDimension.ThreeD:Y.texture.isDataArrayTexture||Y.texture.isCompressedArrayTexture?oe=GPUTextureViewDimension.TwoDArray:oe=GPUTextureViewDimension.TwoD,te=X[ne]=X.texture.createView({aspect:ie,dimension:oe,mipLevelCount:re})}}F.push({binding:J,resource:te})}J++}return W.createBindGroup({label:"bindGroup_"+G.name,layout:Q,entries:F})}}class WebGPUPipelineUtils{constructor(G){this.backend=G}_getSampleCount(G){return this.backend.utils.getSampleCountRenderContext(G)}createRenderPipeline(G,Q){const{object:q,material:W,geometry:J,pipeline:F}=G,{vertexProgram:Y,fragmentProgram:X}=F,te=this.backend,re=te.device,ne=te.utils,ie=te.get(F),oe=[];for(const ke of G.getBindings()){const Pe=te.get(ke);oe.push(Pe.layout)}const ae=te.attributeUtils.createShaderVertexBuffers(G);let ue;W.transparent===!0&&W.blending!==NoBlending&&(ue=this._getBlending(W));let ce={};W.stencilWrite===!0&&(ce={compare:this._getStencilCompare(W),failOp:this._getStencilOperation(W.stencilFail),depthFailOp:this._getStencilOperation(W.stencilZFail),passOp:this._getStencilOperation(W.stencilZPass)});const se=this._getColorWriteMask(W),le=[];if(G.context.textures!==null){const ke=G.context.textures;for(let Pe=0;Pe<ke.length;Pe++){const Te=ne.getTextureFormatGPU(ke[Pe]);le.push({format:Te,blend:ue,writeMask:se})}}else{const ke=ne.getCurrentColorFormat(G.context);le.push({format:ke,blend:ue,writeMask:se})}const de=te.get(Y).module,he=te.get(X).module,pe=this._getPrimitiveState(q,J,W),ge=this._getDepthCompare(W),be=ne.getCurrentDepthStencilFormat(G.context),ve=this._getSampleCount(G.context),Ee={label:`renderPipeline_${W.name||W.type}_${W.id}`,vertex:Object.assign({},de,{buffers:ae}),fragment:Object.assign({},he,{targets:le}),primitive:pe,depthStencil:{format:be,depthWriteEnabled:W.depthWrite,depthCompare:ge,stencilFront:ce,stencilBack:{},stencilReadMask:W.stencilFuncMask,stencilWriteMask:W.stencilWriteMask},multisample:{count:ve,alphaToCoverageEnabled:W.alphaToCoverage&&ve>1},layout:re.createPipelineLayout({bindGroupLayouts:oe})};if(Q===null)ie.pipeline=re.createRenderPipeline(Ee);else{const ke=new Promise(Pe=>{re.createRenderPipelineAsync(Ee).then(Te=>{ie.pipeline=Te,Pe()})});Q.push(ke)}}createBundleEncoder(G){const Q=this.backend,{utils:q,device:W}=Q,J=q.getCurrentDepthStencilFormat(G),F=q.getCurrentColorFormat(G),Y=this._getSampleCount(G),X={label:"renderBundleEncoder",colorFormats:[F],depthStencilFormat:J,sampleCount:Y};return W.createRenderBundleEncoder(X)}createComputePipeline(G,Q){const q=this.backend,W=q.device,J=q.get(G.computeProgram).module,F=q.get(G),Y=[];for(const X of Q){const te=q.get(X);Y.push(te.layout)}F.pipeline=W.createComputePipeline({compute:J,layout:W.createPipelineLayout({bindGroupLayouts:Y})})}_getBlending(G){let Q,q;const W=G.blending,J=G.blendSrc,F=G.blendDst,Y=G.blendEquation;if(W===CustomBlending){const X=G.blendSrcAlpha!==null?G.blendSrcAlpha:J,te=G.blendDstAlpha!==null?G.blendDstAlpha:F,re=G.blendEquationAlpha!==null?G.blendEquationAlpha:Y;Q={srcFactor:this._getBlendFactor(J),dstFactor:this._getBlendFactor(F),operation:this._getBlendOperation(Y)},q={srcFactor:this._getBlendFactor(X),dstFactor:this._getBlendFactor(te),operation:this._getBlendOperation(re)}}else{const X=G.premultipliedAlpha,te=(re,ne,ie,oe)=>{Q={srcFactor:re,dstFactor:ne,operation:GPUBlendOperation.Add},q={srcFactor:ie,dstFactor:oe,operation:GPUBlendOperation.Add}};if(X)switch(W){case NormalBlending:te(GPUBlendFactor.One,GPUBlendFactor.OneMinusSrcAlpha,GPUBlendFactor.One,GPUBlendFactor.OneMinusSrcAlpha);break;case AdditiveBlending:te(GPUBlendFactor.One,GPUBlendFactor.One,GPUBlendFactor.One,GPUBlendFactor.One);break;case SubtractiveBlending:te(GPUBlendFactor.Zero,GPUBlendFactor.OneMinusSrc,GPUBlendFactor.Zero,GPUBlendFactor.One);break;case MultiplyBlending:te(GPUBlendFactor.Zero,GPUBlendFactor.Src,GPUBlendFactor.Zero,GPUBlendFactor.SrcAlpha);break}else switch(W){case NormalBlending:te(GPUBlendFactor.SrcAlpha,GPUBlendFactor.OneMinusSrcAlpha,GPUBlendFactor.One,GPUBlendFactor.OneMinusSrcAlpha);break;case AdditiveBlending:te(GPUBlendFactor.SrcAlpha,GPUBlendFactor.One,GPUBlendFactor.SrcAlpha,GPUBlendFactor.One);break;case SubtractiveBlending:te(GPUBlendFactor.Zero,GPUBlendFactor.OneMinusSrc,GPUBlendFactor.Zero,GPUBlendFactor.One);break;case MultiplyBlending:te(GPUBlendFactor.Zero,GPUBlendFactor.Src,GPUBlendFactor.Zero,GPUBlendFactor.Src);break}}if(Q!==void 0&&q!==void 0)return{color:Q,alpha:q};console.error("THREE.WebGPURenderer: Invalid blending: ",W)}_getBlendFactor(G){let Q;switch(G){case ZeroFactor:Q=GPUBlendFactor.Zero;break;case OneFactor:Q=GPUBlendFactor.One;break;case SrcColorFactor:Q=GPUBlendFactor.Src;break;case OneMinusSrcColorFactor:Q=GPUBlendFactor.OneMinusSrc;break;case SrcAlphaFactor:Q=GPUBlendFactor.SrcAlpha;break;case OneMinusSrcAlphaFactor:Q=GPUBlendFactor.OneMinusSrcAlpha;break;case DstColorFactor:Q=GPUBlendFactor.Dst;break;case OneMinusDstColorFactor:Q=GPUBlendFactor.OneMinusDstColor;break;case DstAlphaFactor:Q=GPUBlendFactor.DstAlpha;break;case OneMinusDstAlphaFactor:Q=GPUBlendFactor.OneMinusDstAlpha;break;case SrcAlphaSaturateFactor:Q=GPUBlendFactor.SrcAlphaSaturated;break;case BlendColorFactor:Q=GPUBlendFactor.Constant;break;case OneMinusBlendColorFactor:Q=GPUBlendFactor.OneMinusConstant;break;default:console.error("THREE.WebGPURenderer: Blend factor not supported.",G)}return Q}_getStencilCompare(G){let Q;const q=G.stencilFunc;switch(q){case NeverStencilFunc:Q=GPUCompareFunction.Never;break;case AlwaysStencilFunc:Q=GPUCompareFunction.Always;break;case LessStencilFunc:Q=GPUCompareFunction.Less;break;case LessEqualStencilFunc:Q=GPUCompareFunction.LessEqual;break;case EqualStencilFunc:Q=GPUCompareFunction.Equal;break;case GreaterEqualStencilFunc:Q=GPUCompareFunction.GreaterEqual;break;case GreaterStencilFunc:Q=GPUCompareFunction.Greater;break;case NotEqualStencilFunc:Q=GPUCompareFunction.NotEqual;break;default:console.error("THREE.WebGPURenderer: Invalid stencil function.",q)}return Q}_getStencilOperation(G){let Q;switch(G){case KeepStencilOp:Q=GPUStencilOperation.Keep;break;case ZeroStencilOp:Q=GPUStencilOperation.Zero;break;case ReplaceStencilOp:Q=GPUStencilOperation.Replace;break;case InvertStencilOp:Q=GPUStencilOperation.Invert;break;case IncrementStencilOp:Q=GPUStencilOperation.IncrementClamp;break;case DecrementStencilOp:Q=GPUStencilOperation.DecrementClamp;break;case IncrementWrapStencilOp:Q=GPUStencilOperation.IncrementWrap;break;case DecrementWrapStencilOp:Q=GPUStencilOperation.DecrementWrap;break;default:console.error("THREE.WebGPURenderer: Invalid stencil operation.",Q)}return Q}_getBlendOperation(G){let Q;switch(G){case AddEquation:Q=GPUBlendOperation.Add;break;case SubtractEquation:Q=GPUBlendOperation.Subtract;break;case ReverseSubtractEquation:Q=GPUBlendOperation.ReverseSubtract;break;case MinEquation:Q=GPUBlendOperation.Min;break;case MaxEquation:Q=GPUBlendOperation.Max;break;default:console.error("THREE.WebGPUPipelineUtils: Blend equation not supported.",G)}return Q}_getPrimitiveState(G,Q,q){const W={},J=this.backend.utils;switch(W.topology=J.getPrimitiveTopology(G,q),Q.index!==null&&G.isLine===!0&&G.isLineSegments!==!0&&(W.stripIndexFormat=Q.index.array instanceof Uint16Array?GPUIndexFormat.Uint16:GPUIndexFormat.Uint32),q.side){case FrontSide:W.frontFace=GPUFrontFace.CCW,W.cullMode=GPUCullMode.Back;break;case BackSide:W.frontFace=GPUFrontFace.CCW,W.cullMode=GPUCullMode.Front;break;case DoubleSide:W.frontFace=GPUFrontFace.CCW,W.cullMode=GPUCullMode.None;break;default:console.error("THREE.WebGPUPipelineUtils: Unknown material.side value.",q.side);break}return W}_getColorWriteMask(G){return G.colorWrite===!0?GPUColorWriteFlags.All:GPUColorWriteFlags.None}_getDepthCompare(G){let Q;if(G.depthTest===!1)Q=GPUCompareFunction.Always;else{const q=G.depthFunc;switch(q){case NeverDepth:Q=GPUCompareFunction.Never;break;case AlwaysDepth:Q=GPUCompareFunction.Always;break;case LessDepth:Q=GPUCompareFunction.Less;break;case LessEqualDepth:Q=GPUCompareFunction.LessEqual;break;case EqualDepth:Q=GPUCompareFunction.Equal;break;case GreaterEqualDepth:Q=GPUCompareFunction.GreaterEqual;break;case GreaterDepth:Q=GPUCompareFunction.Greater;break;case NotEqualDepth:Q=GPUCompareFunction.NotEqual;break;default:console.error("THREE.WebGPUPipelineUtils: Invalid depth function.",q)}}return Q}}class WebGPUBackend extends Backend{constructor(G={}){super(G),this.isWebGPUBackend=!0,this.parameters.alpha=G.alpha===void 0?!0:G.alpha,this.parameters.requiredLimits=G.requiredLimits===void 0?{}:G.requiredLimits,this.trackTimestamp=G.trackTimestamp===!0,this.device=null,this.context=null,this.colorBuffer=null,this.defaultRenderPassdescriptor=null,this.utils=new WebGPUUtils(this),this.attributeUtils=new WebGPUAttributeUtils(this),this.bindingUtils=new WebGPUBindingUtils(this),this.pipelineUtils=new WebGPUPipelineUtils(this),this.textureUtils=new WebGPUTextureUtils(this),this.occludedResolveCache=new Map}async init(G){await super.init(G);const Q=this.parameters;let q;if(Q.device===void 0){const F={powerPreference:Q.powerPreference},Y=await navigator.gpu.requestAdapter(F);if(Y===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const X=Object.values(GPUFeatureName),te=[];for(const ne of X)Y.features.has(ne)&&te.push(ne);const re={requiredFeatures:te,requiredLimits:Q.requiredLimits};q=await Y.requestDevice(re)}else q=Q.device;const W=Q.context!==void 0?Q.context:G.domElement.getContext("webgpu");this.device=q,this.context=W;const J=Q.alpha?"premultiplied":"opaque";this.trackTimestamp=this.trackTimestamp&&this.hasFeature(GPUFeatureName.TimestampQuery),this.context.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:J}),this.updateSize()}get coordinateSystem(){return WebGPUCoordinateSystem}async getArrayBufferAsync(G){return await this.attributeUtils.getArrayBufferAsync(G)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){let G=this.defaultRenderPassdescriptor;if(G===null){const q=this.renderer;G={colorAttachments:[{view:null}],depthStencilAttachment:{view:this.textureUtils.getDepthBuffer(q.depth,q.stencil).createView()}};const W=G.colorAttachments[0];this.renderer.samples>0?W.view=this.colorBuffer.createView():W.resolveTarget=void 0,this.defaultRenderPassdescriptor=G}const Q=G.colorAttachments[0];return this.renderer.samples>0?Q.resolveTarget=this.context.getCurrentTexture().createView():Q.view=this.context.getCurrentTexture().createView(),G}_getRenderPassDescriptor(G){const Q=G.renderTarget,q=this.get(Q);let W=q.descriptors;if(W===void 0||q.width!==Q.width||q.height!==Q.height||q.activeMipmapLevel!==Q.activeMipmapLevel||q.samples!==Q.samples){W={},q.descriptors=W;const Y=()=>{Q.removeEventListener("dispose",Y),this.delete(Q)};Q.addEventListener("dispose",Y)}const J=G.getCacheKey();let F=W[J];if(F===void 0){const Y=G.textures,X=[];for(let re=0;re<Y.length;re++){const ne=this.get(Y[re]),ie=ne.texture.createView({baseMipLevel:G.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:G.activeCubeFace,dimension:GPUTextureViewDimension.TwoD});let oe,ae;ne.msaaTexture!==void 0?(oe=ne.msaaTexture.createView(),ae=ie):(oe=ie,ae=void 0),X.push({view:oe,resolveTarget:ae,loadOp:GPULoadOp.Load,storeOp:GPUStoreOp.Store})}const te={view:this.get(G.depthTexture).texture.createView()};F={colorAttachments:X,depthStencilAttachment:te},W[J]=F,q.width=Q.width,q.height=Q.height,q.samples=Q.samples,q.activeMipmapLevel=Q.activeMipmapLevel}return F}beginRender(G){const Q=this.get(G),q=this.device,W=G.occlusionQueryCount;let J;W>0&&(Q.currentOcclusionQuerySet&&Q.currentOcclusionQuerySet.destroy(),Q.currentOcclusionQueryBuffer&&Q.currentOcclusionQueryBuffer.destroy(),Q.currentOcclusionQuerySet=Q.occlusionQuerySet,Q.currentOcclusionQueryBuffer=Q.occlusionQueryBuffer,Q.currentOcclusionQueryObjects=Q.occlusionQueryObjects,J=q.createQuerySet({type:"occlusion",count:W}),Q.occlusionQuerySet=J,Q.occlusionQueryIndex=0,Q.occlusionQueryObjects=new Array(W),Q.lastOcclusionObject=null);let F;G.textures===null?F=this._getDefaultRenderPassDescriptor():F=this._getRenderPassDescriptor(G),this.initTimestampQuery(G,F),F.occlusionQuerySet=J;const Y=F.depthStencilAttachment;if(G.textures!==null){const re=F.colorAttachments;for(let ne=0;ne<re.length;ne++){const ie=re[ne];G.clearColor?(ie.clearValue=ne===0?G.clearColorValue:{r:0,g:0,b:0,a:1},ie.loadOp=GPULoadOp.Clear,ie.storeOp=GPUStoreOp.Store):(ie.loadOp=GPULoadOp.Load,ie.storeOp=GPUStoreOp.Store)}}else{const re=F.colorAttachments[0];G.clearColor?(re.clearValue=G.clearColorValue,re.loadOp=GPULoadOp.Clear,re.storeOp=GPUStoreOp.Store):(re.loadOp=GPULoadOp.Load,re.storeOp=GPUStoreOp.Store)}G.depth&&(G.clearDepth?(Y.depthClearValue=G.clearDepthValue,Y.depthLoadOp=GPULoadOp.Clear,Y.depthStoreOp=GPUStoreOp.Store):(Y.depthLoadOp=GPULoadOp.Load,Y.depthStoreOp=GPUStoreOp.Store)),G.stencil&&(G.clearStencil?(Y.stencilClearValue=G.clearStencilValue,Y.stencilLoadOp=GPULoadOp.Clear,Y.stencilStoreOp=GPUStoreOp.Store):(Y.stencilLoadOp=GPULoadOp.Load,Y.stencilStoreOp=GPUStoreOp.Store));const X=q.createCommandEncoder({label:"renderContext_"+G.id}),te=X.beginRenderPass(F);if(Q.descriptor=F,Q.encoder=X,Q.currentPass=te,Q.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},Q.renderBundles=[],G.viewport&&this.updateViewport(G),G.scissor){const{x:re,y:ne,width:ie,height:oe}=G.scissorValue;te.setScissorRect(re,ne,ie,oe)}}finishRender(G){const Q=this.get(G),q=G.occlusionQueryCount;if(Q.renderBundles.length>0&&Q.currentPass.executeBundles(Q.renderBundles),q>Q.occlusionQueryIndex&&Q.currentPass.endOcclusionQuery(),Q.currentPass.end(),q>0){const W=q*8;let J=this.occludedResolveCache.get(W);J===void 0&&(J=this.device.createBuffer({size:W,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(W,J));const F=this.device.createBuffer({size:W,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});Q.encoder.resolveQuerySet(Q.occlusionQuerySet,0,q,J,0),Q.encoder.copyBufferToBuffer(J,0,F,0,W),Q.occlusionQueryBuffer=F,this.resolveOccludedAsync(G)}if(this.prepareTimestampBuffer(G,Q.encoder),this.device.queue.submit([Q.encoder.finish()]),G.textures!==null){const W=G.textures;for(let J=0;J<W.length;J++){const F=W[J];F.generateMipmaps===!0&&this.textureUtils.generateMipmaps(F)}}}isOccluded(G,Q){const q=this.get(G);return q.occluded&&q.occluded.has(Q)}async resolveOccludedAsync(G){const Q=this.get(G),{currentOcclusionQueryBuffer:q,currentOcclusionQueryObjects:W}=Q;if(q&&W){const J=new WeakSet;Q.currentOcclusionQueryObjects=null,Q.currentOcclusionQueryBuffer=null,await q.mapAsync(GPUMapMode.READ);const F=q.getMappedRange(),Y=new BigUint64Array(F);for(let X=0;X<W.length;X++)Y[X]!==BigInt(0)&&J.add(W[X]);q.destroy(),Q.occluded=J}}updateViewport(G){const{currentPass:Q}=this.get(G),{x:q,y:W,width:J,height:F,minDepth:Y,maxDepth:X}=G.viewportValue;Q.setViewport(q,W,J,F,Y,X)}clear(G,Q,q,W=null){const J=this.device,F=this.renderer;let Y=[],X,te,re,ne;if(G){const oe=this.getClearColor();if(this.renderer.alpha===!0){const ae=oe.a;te={r:oe.r*ae,g:oe.g*ae,b:oe.b*ae,a:ae}}else te={r:oe.r,g:oe.g,b:oe.b,a:oe.a}}if(W===null){re=F.depth,ne=F.stencil;const oe=this._getDefaultRenderPassDescriptor();if(G){Y=oe.colorAttachments;const ae=Y[0];ae.clearValue=te,ae.loadOp=GPULoadOp.Clear,ae.storeOp=GPUStoreOp.Store}(re||ne)&&(X=oe.depthStencilAttachment)}else{if(re=W.depth,ne=W.stencil,G)for(const oe of W.textures){const ae=this.get(oe),ue=ae.texture.createView();let ce,se;ae.msaaTexture!==void 0?(ce=ae.msaaTexture.createView(),se=ue):(ce=ue,se=void 0),Y.push({view:ce,resolveTarget:se,clearValue:te,loadOp:GPULoadOp.Clear,storeOp:GPUStoreOp.Store})}(re||ne)&&(X={view:this.get(W.depthTexture).texture.createView()})}re&&(Q?(X.depthLoadOp=GPULoadOp.Clear,X.depthClearValue=F.getClearDepth(),X.depthStoreOp=GPUStoreOp.Store):(X.depthLoadOp=GPULoadOp.Load,X.depthStoreOp=GPUStoreOp.Store)),ne&&(q?(X.stencilLoadOp=GPULoadOp.Clear,X.stencilClearValue=F.getClearStencil(),X.stencilStoreOp=GPUStoreOp.Store):(X.stencilLoadOp=GPULoadOp.Load,X.stencilStoreOp=GPUStoreOp.Store));const ie=J.createCommandEncoder({});ie.beginRenderPass({colorAttachments:Y,depthStencilAttachment:X}).end(),J.queue.submit([ie.finish()])}beginCompute(G){const Q=this.get(G),q={};this.initTimestampQuery(G,q),Q.cmdEncoderGPU=this.device.createCommandEncoder(),Q.passEncoderGPU=Q.cmdEncoderGPU.beginComputePass(q)}compute(G,Q,q,W){const{passEncoderGPU:J}=this.get(G),F=this.get(W).pipeline;J.setPipeline(F);for(let re=0,ne=q.length;re<ne;re++){const ie=q[re],oe=this.get(ie);J.setBindGroup(re,oe.group)}const Y=this.device.limits.maxComputeWorkgroupsPerDimension,X=this.get(Q);X.dispatchSize===void 0&&(X.dispatchSize={x:0,y:1,z:1});const{dispatchSize:te}=X;Q.dispatchCount>Y?(te.x=Math.min(Q.dispatchCount,Y),te.y=Math.ceil(Q.dispatchCount/Y)):te.x=Q.dispatchCount,J.dispatchWorkgroups(te.x,te.y,te.z)}finishCompute(G){const Q=this.get(G);Q.passEncoderGPU.end(),this.prepareTimestampBuffer(G,Q.cmdEncoderGPU),this.device.queue.submit([Q.cmdEncoderGPU.finish()])}draw(G,Q){const{object:q,context:W,pipeline:J}=G,F=G.getBindings(),Y=this.get(W),X=this.get(J).pipeline,te=Y.currentSets,re=Y.currentPass,ne=G.getDrawParameters();if(ne===null)return;te.pipeline!==X&&(re.setPipeline(X),te.pipeline=X);const ie=te.bindingGroups;for(let ce=0,se=F.length;ce<se;ce++){const le=F[ce],de=this.get(le);ie[le.index]!==le.id&&(re.setBindGroup(le.index,de.group),ie[le.index]=le.id)}const oe=G.getIndex(),ae=oe!==null;if(ae===!0&&te.index!==oe){const ce=this.get(oe).buffer,se=oe.array instanceof Uint16Array?GPUIndexFormat.Uint16:GPUIndexFormat.Uint32;re.setIndexBuffer(ce,se),te.index=oe}const ue=G.getVertexBuffers();for(let ce=0,se=ue.length;ce<se;ce++){const le=ue[ce];if(te.attributes[ce]!==le){const de=this.get(le).buffer;re.setVertexBuffer(ce,de),te.attributes[ce]=le}}if(Y.occlusionQuerySet!==void 0){const ce=Y.lastOcclusionObject;ce!==q&&(ce!==null&&ce.occlusionTest===!0&&(re.endOcclusionQuery(),Y.occlusionQueryIndex++),q.occlusionTest===!0&&(re.beginOcclusionQuery(Y.occlusionQueryIndex),Y.occlusionQueryObjects[Y.occlusionQueryIndex]=q),Y.lastOcclusionObject=q)}if(q.isBatchedMesh===!0){const ce=q._multiDrawStarts,se=q._multiDrawCounts,le=q._multiDrawCount,de=q._multiDrawInstances,he=ae?oe.array.BYTES_PER_ELEMENT:1;for(let pe=0;pe<le;pe++){const ge=de?de[pe]:1,be=ge>1?0:pe;re.drawIndexed(se[pe],ge,ce[pe]/he,0,be)}}else if(ae===!0){const{vertexCount:ce,instanceCount:se,firstVertex:le}=ne;re.drawIndexed(ce,se,le,0,0),Q.update(q,ce,se)}else{const{vertexCount:ce,instanceCount:se,firstVertex:le}=ne;re.draw(ce,se,le,0),Q.update(q,ce,se)}}needsRenderUpdate(G){const Q=this.get(G),{object:q,material:W}=G,J=this.utils,F=J.getSampleCountRenderContext(G.context),Y=J.getCurrentColorSpace(G.context),X=J.getCurrentColorFormat(G.context),te=J.getCurrentDepthStencilFormat(G.context),re=J.getPrimitiveTopology(q,W);let ne=!1;return(Q.material!==W||Q.materialVersion!==W.version||Q.transparent!==W.transparent||Q.blending!==W.blending||Q.premultipliedAlpha!==W.premultipliedAlpha||Q.blendSrc!==W.blendSrc||Q.blendDst!==W.blendDst||Q.blendEquation!==W.blendEquation||Q.blendSrcAlpha!==W.blendSrcAlpha||Q.blendDstAlpha!==W.blendDstAlpha||Q.blendEquationAlpha!==W.blendEquationAlpha||Q.colorWrite!==W.colorWrite||Q.depthWrite!==W.depthWrite||Q.depthTest!==W.depthTest||Q.depthFunc!==W.depthFunc||Q.stencilWrite!==W.stencilWrite||Q.stencilFunc!==W.stencilFunc||Q.stencilFail!==W.stencilFail||Q.stencilZFail!==W.stencilZFail||Q.stencilZPass!==W.stencilZPass||Q.stencilFuncMask!==W.stencilFuncMask||Q.stencilWriteMask!==W.stencilWriteMask||Q.side!==W.side||Q.alphaToCoverage!==W.alphaToCoverage||Q.sampleCount!==F||Q.colorSpace!==Y||Q.colorFormat!==X||Q.depthStencilFormat!==te||Q.primitiveTopology!==re||Q.clippingContextCacheKey!==G.clippingContext.cacheKey)&&(Q.material=W,Q.materialVersion=W.version,Q.transparent=W.transparent,Q.blending=W.blending,Q.premultipliedAlpha=W.premultipliedAlpha,Q.blendSrc=W.blendSrc,Q.blendDst=W.blendDst,Q.blendEquation=W.blendEquation,Q.blendSrcAlpha=W.blendSrcAlpha,Q.blendDstAlpha=W.blendDstAlpha,Q.blendEquationAlpha=W.blendEquationAlpha,Q.colorWrite=W.colorWrite,Q.depthWrite=W.depthWrite,Q.depthTest=W.depthTest,Q.depthFunc=W.depthFunc,Q.stencilWrite=W.stencilWrite,Q.stencilFunc=W.stencilFunc,Q.stencilFail=W.stencilFail,Q.stencilZFail=W.stencilZFail,Q.stencilZPass=W.stencilZPass,Q.stencilFuncMask=W.stencilFuncMask,Q.stencilWriteMask=W.stencilWriteMask,Q.side=W.side,Q.alphaToCoverage=W.alphaToCoverage,Q.sampleCount=F,Q.colorSpace=Y,Q.colorFormat=X,Q.depthStencilFormat=te,Q.primitiveTopology=re,Q.clippingContextCacheKey=G.clippingContext.cacheKey,ne=!0),ne}getRenderCacheKey(G){const{object:Q,material:q}=G,W=this.utils,J=G.context;return[q.transparent,q.blending,q.premultipliedAlpha,q.blendSrc,q.blendDst,q.blendEquation,q.blendSrcAlpha,q.blendDstAlpha,q.blendEquationAlpha,q.colorWrite,q.depthWrite,q.depthTest,q.depthFunc,q.stencilWrite,q.stencilFunc,q.stencilFail,q.stencilZFail,q.stencilZPass,q.stencilFuncMask,q.stencilWriteMask,q.side,W.getSampleCountRenderContext(J),W.getCurrentColorSpace(J),W.getCurrentColorFormat(J),W.getCurrentDepthStencilFormat(J),W.getPrimitiveTopology(Q,q),G.clippingContext.cacheKey].join()}createSampler(G){this.textureUtils.createSampler(G)}destroySampler(G){this.textureUtils.destroySampler(G)}createDefaultTexture(G){this.textureUtils.createDefaultTexture(G)}createTexture(G,Q){this.textureUtils.createTexture(G,Q)}updateTexture(G,Q){this.textureUtils.updateTexture(G,Q)}generateMipmaps(G){this.textureUtils.generateMipmaps(G)}destroyTexture(G){this.textureUtils.destroyTexture(G)}copyTextureToBuffer(G,Q,q,W,J,F){return this.textureUtils.copyTextureToBuffer(G,Q,q,W,J,F)}initTimestampQuery(G,Q){if(!this.trackTimestamp)return;const q=this.get(G);if(!q.timeStampQuerySet){const W=this.device.createQuerySet({type:"timestamp",count:2});Object.assign(Q,{timestampWrites:{querySet:W,beginningOfPassWriteIndex:0,endOfPassWriteIndex:1}}),q.timeStampQuerySet=W}}prepareTimestampBuffer(G,Q){if(!this.trackTimestamp)return;const q=this.get(G),W=2*BigInt64Array.BYTES_PER_ELEMENT;q.currentTimestampQueryBuffers===void 0&&(q.currentTimestampQueryBuffers={resolveBuffer:this.device.createBuffer({label:"timestamp resolve buffer",size:W,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),resultBuffer:this.device.createBuffer({label:"timestamp result buffer",size:W,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),isMappingPending:!1});const{resolveBuffer:J,resultBuffer:F,isMappingPending:Y}=q.currentTimestampQueryBuffers;Y!==!0&&(Q.resolveQuerySet(q.timeStampQuerySet,0,2,J,0),Q.copyBufferToBuffer(J,0,F,0,W))}async resolveTimestampAsync(G,Q="render"){if(!this.trackTimestamp)return;const q=this.get(G);if(q.currentTimestampQueryBuffers===void 0)return;const{resultBuffer:W,isMappingPending:J}=q.currentTimestampQueryBuffers;J!==!0&&(q.currentTimestampQueryBuffers.isMappingPending=!0,W.mapAsync(GPUMapMode.READ).then(()=>{const F=new BigUint64Array(W.getMappedRange()),Y=Number(F[1]-F[0])/1e6;this.renderer.info.updateTimestamp(Q,Y),W.unmap(),q.currentTimestampQueryBuffers.isMappingPending=!1}))}createNodeBuilder(G,Q){return new WGSLNodeBuilder(G,Q)}createProgram(G){const Q=this.get(G);Q.module={module:this.device.createShaderModule({code:G.code,label:G.stage}),entryPoint:"main"}}destroyProgram(G){this.delete(G)}createRenderPipeline(G,Q){this.pipelineUtils.createRenderPipeline(G,Q)}createComputePipeline(G,Q){this.pipelineUtils.createComputePipeline(G,Q)}beginBundle(G){const Q=this.get(G);Q._currentPass=Q.currentPass,Q._currentSets=Q.currentSets,Q.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},Q.currentPass=this.pipelineUtils.createBundleEncoder(G)}finishBundle(G,Q){const q=this.get(G),W=q.currentPass.finish();this.get(Q).bundleGPU=W,q.currentSets=q._currentSets,q.currentPass=q._currentPass}addBundle(G,Q){this.get(G).renderBundles.push(this.get(Q).bundleGPU)}createBindings(G){this.bindingUtils.createBindings(G)}updateBindings(G){this.bindingUtils.createBindings(G)}updateBinding(G){this.bindingUtils.updateBinding(G)}createIndexAttribute(G){this.attributeUtils.createAttribute(G,GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createAttribute(G){this.attributeUtils.createAttribute(G,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(G){this.attributeUtils.createAttribute(G,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(G){this.attributeUtils.updateAttribute(G)}destroyAttribute(G){this.attributeUtils.destroyAttribute(G)}updateSize(){this.colorBuffer=this.textureUtils.getColorBuffer(),this.defaultRenderPassdescriptor=null}getMaxAnisotropy(){return 16}hasFeature(G){return this.device.features.has(G)}copyTextureToTexture(G,Q,q=null,W=null,J=0){let F=0,Y=0,X=0,te=0,re=0,ne=0,ie=G.image.width,oe=G.image.height;q!==null&&(te=q.x,re=q.y,ne=q.z||0,ie=q.width,oe=q.height),W!==null&&(F=W.x,Y=W.y,X=W.z||0);const ae=this.device.createCommandEncoder({label:"copyTextureToTexture_"+G.id+"_"+Q.id}),ue=this.get(G).texture,ce=this.get(Q).texture;ae.copyTextureToTexture({texture:ue,mipLevel:J,origin:{x:te,y:re,z:ne}},{texture:ce,mipLevel:J,origin:{x:F,y:Y,z:X}},[ie,oe,1]),this.device.queue.submit([ae.finish()])}copyFramebufferToTexture(G,Q,q){const W=this.get(Q),{encoder:J,descriptor:F}=W;let Y=null;Q.renderTarget?G.isDepthTexture?Y=this.get(Q.depthTexture).texture:Y=this.get(Q.textures[0]).texture:G.isDepthTexture?Y=this.textureUtils.getDepthBuffer(Q.depth,Q.stencil):Y=this.context.getCurrentTexture();const X=this.get(G).texture;if(Y.format!==X.format){console.error("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",Y.format,X.format);return}W.currentPass.end(),J.copyTextureToTexture({texture:Y,origin:{x:q.x,y:q.y,z:0}},{texture:X},[q.z,q.w]),G.generateMipmaps&&this.textureUtils.generateMipmaps(G);for(let te=0;te<F.colorAttachments.length;te++)F.colorAttachments[te].loadOp=GPULoadOp.Load;Q.depth&&(F.depthStencilAttachment.depthLoadOp=GPULoadOp.Load),Q.stencil&&(F.depthStencilAttachment.stencilLoadOp=GPULoadOp.Load),W.currentPass=J.beginRenderPass(F),W.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null}}}class IESSpotLight extends SpotLight{constructor(G,Q,q,W,J,F){super(G,Q,q,W,J,F),this.iesMap=null}copy(G,Q){return super.copy(G,Q),this.iesMap=G.iesMap,this}}class StandardNodeLibrary extends NodeLibrary{constructor(){super(),this.addMaterial(MeshPhongNodeMaterial,MeshPhongMaterial),this.addMaterial(MeshStandardNodeMaterial,MeshStandardMaterial),this.addMaterial(MeshPhysicalNodeMaterial,MeshPhysicalMaterial),this.addMaterial(MeshToonNodeMaterial,MeshToonMaterial),this.addMaterial(MeshBasicNodeMaterial,MeshBasicMaterial),this.addMaterial(MeshLambertNodeMaterial,MeshLambertMaterial),this.addMaterial(MeshNormalNodeMaterial,MeshNormalMaterial),this.addMaterial(MeshMatcapNodeMaterial,MeshMatcapMaterial),this.addMaterial(LineBasicNodeMaterial,LineBasicMaterial),this.addMaterial(LineDashedNodeMaterial,LineDashedMaterial),this.addMaterial(PointsNodeMaterial,PointsMaterial),this.addMaterial(SpriteNodeMaterial,SpriteMaterial),this.addMaterial(ShadowNodeMaterial,ShadowMaterial),this.addLight(PointLightNode,PointLight),this.addLight(DirectionalLightNode,DirectionalLight),this.addLight(RectAreaLightNode,RectAreaLight),this.addLight(SpotLightNode,SpotLight),this.addLight(AmbientLightNode,AmbientLight),this.addLight(HemisphereLightNode,HemisphereLight),this.addLight(LightProbeNode,LightProbe),this.addLight(IESSpotLightNode,IESSpotLight),this.addToneMapping(linearToneMapping,LinearToneMapping),this.addToneMapping(reinhardToneMapping,ReinhardToneMapping),this.addToneMapping(cineonToneMapping,CineonToneMapping),this.addToneMapping(acesFilmicToneMapping,ACESFilmicToneMapping),this.addToneMapping(agxToneMapping,AgXToneMapping),this.addToneMapping(neutralToneMapping,NeutralToneMapping),this.addColorSpace(linearSRGBTosRGB,getColorSpaceMethod(LinearSRGBColorSpace,SRGBColorSpace)),this.addColorSpace(sRGBToLinearSRGB,getColorSpaceMethod(SRGBColorSpace,LinearSRGBColorSpace))}}class WebGPURenderer extends Renderer{constructor(G={}){let Q;G.forceWebGL?Q=WebGLBackend:(Q=WebGPUBackend,G.getFallback=()=>(console.warn("THREE.WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new WebGLBackend(G)));const q=new Q(G);super(q,G),this.nodes.library=new StandardNodeLibrary,this.isWebGPURenderer=!0}}class StorageInstancedBufferAttribute extends InstancedBufferAttribute{constructor(G,Q,q=Float32Array){ArrayBuffer.isView(G)===!1&&(G=new q(G*Q)),super(G,Q),this.isStorageInstancedBufferAttribute=!0}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const getCamerasUniforms=moize.infinite(U=>({globalProjection:uniform(new Matrix4),globalView:uniform(new Matrix4),zoomedProjection:uniform(new Matrix4),zoomedView:uniform(new Matrix4),fixedProjection:uniform(new Matrix4),fixedView:uniform(new Matrix4),distance:uniform(0),center:uniform(new Vector3(0,0,0)),rotationCenter:uniform(new Vector3(0,0,0))})),cameraUniformsGroupUpdater=U=>moize(proxy((G,Q,q,W,J,F,Y)=>{const X=getCamerasUniforms(U);X.globalProjection.value.fromArray(G),X.globalView.value.fromArray(Q),X.zoomedProjection.value.fromArray(q),X.zoomedView.value.fromArray(W),X.fixedProjection.value.fromArray(J),X.fixedView.value.fromArray(F),X.distance.value=Y[0],X.center.value.fromArray(Y.slice(1,4)),X.rotationCenter.value.fromArray(Y.slice(4,7))}));var mouse$1={};function mouseButtons(U){if(typeof U=="object"){if("buttons"in U)return U.buttons;if("which"in U){var G=U.which;if(G===2)return 4;if(G===3)return 2;if(G>0)return 1<<G-1}else if("button"in U){var G=U.button;if(G===1)return 4;if(G===2)return 2;if(G>=0)return 1<<G}}return 0}mouse$1.buttons=mouseButtons;function mouseElement(U){return U.target||U.srcElement||window}mouse$1.element=mouseElement;function mouseRelativeX(U){if(typeof U=="object"){if("offsetX"in U)return U.offsetX;var G=mouseElement(U),Q=G.getBoundingClientRect();return U.clientX-Q.left}return 0}mouse$1.x=mouseRelativeX;function mouseRelativeY(U){if(typeof U=="object"){if("offsetY"in U)return U.offsetY;var G=mouseElement(U),Q=G.getBoundingClientRect();return U.clientY-Q.top}return 0}mouse$1.y=mouseRelativeY;var mouseListen_1=mouseListen,mouse=mouse$1;function mouseListen(U,G){G||(G=U,U=window);var Q=0,q=0,W=0,J={shift:!1,alt:!1,control:!1,meta:!1},F=!1;function Y(le){var de=!1;return"altKey"in le&&(de=de||le.altKey!==J.alt,J.alt=!!le.altKey),"shiftKey"in le&&(de=de||le.shiftKey!==J.shift,J.shift=!!le.shiftKey),"ctrlKey"in le&&(de=de||le.ctrlKey!==J.control,J.control=!!le.ctrlKey),"metaKey"in le&&(de=de||le.metaKey!==J.meta,J.meta=!!le.metaKey),de}function X(le,de){var he=mouse.x(de),pe=mouse.y(de);"buttons"in de&&(le=de.buttons|0),(le!==Q||he!==q||pe!==W||Y(de))&&(Q=le|0,q=he||0,W=pe||0,G&&G(Q,q,W,J))}function te(le){X(0,le)}function re(){(Q||q||W||J.shift||J.alt||J.meta||J.control)&&(q=W=0,Q=0,J.shift=J.alt=J.control=J.meta=!1,G&&G(0,0,0,J))}function ne(le){Y(le)&&G&&G(Q,q,W,J)}function ie(le){mouse.buttons(le)===0?X(0,le):X(Q,le)}function oe(le){X(Q|mouse.buttons(le),le)}function ae(le){X(Q&~mouse.buttons(le),le)}function ue(){F||(F=!0,U.addEventListener("mousemove",ie),U.addEventListener("mousedown",oe),U.addEventListener("mouseup",ae),U.addEventListener("mouseleave",te),U.addEventListener("mouseenter",te),U.addEventListener("mouseout",te),U.addEventListener("mouseover",te),U.addEventListener("blur",re),U.addEventListener("keyup",ne),U.addEventListener("keydown",ne),U.addEventListener("keypress",ne),U!==window&&(window.addEventListener("blur",re),window.addEventListener("keyup",ne),window.addEventListener("keydown",ne),window.addEventListener("keypress",ne)))}function ce(){F&&(F=!1,U.removeEventListener("mousemove",ie),U.removeEventListener("mousedown",oe),U.removeEventListener("mouseup",ae),U.removeEventListener("mouseleave",te),U.removeEventListener("mouseenter",te),U.removeEventListener("mouseout",te),U.removeEventListener("mouseover",te),U.removeEventListener("blur",re),U.removeEventListener("keyup",ne),U.removeEventListener("keydown",ne),U.removeEventListener("keypress",ne),U!==window&&(window.removeEventListener("blur",re),window.removeEventListener("keyup",ne),window.removeEventListener("keydown",ne),window.removeEventListener("keypress",ne)))}ue();var se={element:U};return Object.defineProperties(se,{enabled:{get:function(){return F},set:function(le){le?ue():ce()},enumerable:!0},buttons:{get:function(){return Q},enumerable:!0},x:{get:function(){return q},enumerable:!0},y:{get:function(){return W},enumerable:!0},mods:{get:function(){return J},enumerable:!0}}),se}var rootPosition={left:0,top:0},mouseEventOffset_1=mouseEventOffset;function mouseEventOffset(U,G,Q){G=G||U.currentTarget||U.srcElement,Array.isArray(Q)||(Q=[0,0]);var q=U.clientX||0,W=U.clientY||0,J=getBoundingClientOffset(G);return Q[0]=q-J.left,Q[1]=W-J.top,Q}function getBoundingClientOffset(U){return U===window||U===document||U===document.body?rootPosition:U.getBoundingClientRect()}var eventEmitter$1={exports:{}},d$6={exports:{}},_undefined$1=void 0,is$4=function(U){return U!==_undefined$1&&U!==null},isValue$6=is$4,possibleTypes={object:!0,function:!0,undefined:!0},is$3=function(U){return isValue$6(U)?hasOwnProperty.call(possibleTypes,typeof U):!1},isObject$3=is$3,is$2=function(U){if(!isObject$3(U))return!1;try{return U.constructor?U.constructor.prototype===U:!1}catch{return!1}},isPrototype=is$2,is$1=function(U){if(typeof U!="function"||!hasOwnProperty.call(U,"length"))return!1;try{if(typeof U.length!="number"||typeof U.call!="function"||typeof U.apply!="function")return!1}catch{return!1}return!isPrototype(U)},isFunction$3=is$1,classRe=/^\s*class[\s{/}]/,functionToString=Function.prototype.toString,is=function(U){return!(!isFunction$3(U)||classRe.test(functionToString.call(U)))},isImplemented$7=function(){var U=Object.assign,G;return typeof U!="function"?!1:(G={foo:"raz"},U(G,{bar:"dwa"},{trzy:"trzy"}),G.foo+G.bar+G.trzy==="razdwatrzy")},isImplemented$6,hasRequiredIsImplemented$4;function requireIsImplemented$4(){return hasRequiredIsImplemented$4||(hasRequiredIsImplemented$4=1,isImplemented$6=function(){try{return Object.keys("primitive"),!0}catch{return!1}}),isImplemented$6}var noop$4=function(){},_undefined=noop$4(),isValue$5=function(U){return U!==_undefined&&U!==null},shim$5,hasRequiredShim$5;function requireShim$5(){if(hasRequiredShim$5)return shim$5;hasRequiredShim$5=1;var U=isValue$5,G=Object.keys;return shim$5=function(Q){return G(U(Q)?Object(Q):Q)},shim$5}var keys$1,hasRequiredKeys;function requireKeys(){return hasRequiredKeys||(hasRequiredKeys=1,keys$1=requireIsImplemented$4()()?Object.keys:requireShim$5()),keys$1}var isValue$4=isValue$5,validValue=function(U){if(!isValue$4(U))throw new TypeError("Cannot use null or undefined");return U},shim$4,hasRequiredShim$4;function requireShim$4(){if(hasRequiredShim$4)return shim$4;hasRequiredShim$4=1;var U=requireKeys(),G=validValue,Q=Math.max;return shim$4=function(q,W){var J,F,Y=Q(arguments.length,2),X;for(q=Object(G(q)),X=function(te){try{q[te]=W[te]}catch(re){J||(J=re)}},F=1;F<Y;++F)W=arguments[F],U(W).forEach(X);if(J!==void 0)throw J;return q},shim$4}var assign$1=isImplemented$7()?Object.assign:requireShim$4(),isValue$3=isValue$5,forEach$2=Array.prototype.forEach,create$3=Object.create,process$1=function(U,G){var Q;for(Q in U)G[Q]=U[Q]},normalizeOptions=function(U){var G=create$3(null);return forEach$2.call(arguments,function(Q){isValue$3(Q)&&process$1(Object(Q),G)}),G},str="razdwatrzy",isImplemented$5=function(){return typeof str.contains!="function"?!1:str.contains("dwa")===!0&&str.contains("foo")===!1},shim$3,hasRequiredShim$3;function requireShim$3(){if(hasRequiredShim$3)return shim$3;hasRequiredShim$3=1;var U=String.prototype.indexOf;return shim$3=function(G){return U.call(this,G,arguments[1])>-1},shim$3}var contains$1=isImplemented$5()?String.prototype.contains:requireShim$3(),isValue$2=is$4,isPlainFunction=is,assign=assign$1,normalizeOpts$1=normalizeOptions,contains=contains$1,d$5=d$6.exports=function(U,G){var Q,q,W,J,F;return arguments.length<2||typeof U!="string"?(J=G,G=U,U=null):J=arguments[2],isValue$2(U)?(Q=contains.call(U,"c"),q=contains.call(U,"e"),W=contains.call(U,"w")):(Q=W=!0,q=!1),F={value:G,configurable:Q,enumerable:q,writable:W},J?assign(normalizeOpts$1(J),F):F};d$5.gs=function(U,G,Q){var q,W,J,F;return typeof U!="string"?(J=Q,Q=G,G=U,U=null):J=arguments[3],isValue$2(G)?isPlainFunction(G)?isValue$2(Q)?isPlainFunction(Q)||(J=Q,Q=void 0):Q=void 0:(J=G,G=Q=void 0):G=void 0,isValue$2(U)?(q=contains.call(U,"c"),W=contains.call(U,"e")):(q=!0,W=!1),F={get:G,set:Q,configurable:q,enumerable:W},J?assign(normalizeOpts$1(J),F):F};var dExports=d$6.exports,validCallable=function(U){if(typeof U!="function")throw new TypeError(U+" is not a function");return U};(function(U,G){var Q=dExports,q=validCallable,W=Function.prototype.apply,J=Function.prototype.call,F=Object.create,Y=Object.defineProperty,X=Object.defineProperties,te=Object.prototype.hasOwnProperty,re={configurable:!0,enumerable:!1,writable:!0},ne,ie,oe,ae,ue,ce,se;ne=function(le,de){var he;return q(de),te.call(this,"__ee__")?he=this.__ee__:(he=re.value=F(null),Y(this,"__ee__",re),re.value=null),he[le]?typeof he[le]=="object"?he[le].push(de):he[le]=[he[le],de]:he[le]=de,this},ie=function(le,de){var he,pe;return q(de),pe=this,ne.call(this,le,he=function(){oe.call(pe,le,he),W.call(de,this,arguments)}),he.__eeOnceListener__=de,this},oe=function(le,de){var he,pe,ge,be;if(q(de),!te.call(this,"__ee__"))return this;if(he=this.__ee__,!he[le])return this;if(pe=he[le],typeof pe=="object")for(be=0;ge=pe[be];++be)(ge===de||ge.__eeOnceListener__===de)&&(pe.length===2?he[le]=pe[be?0:1]:pe.splice(be,1));else(pe===de||pe.__eeOnceListener__===de)&&delete he[le];return this},ae=function(le){var de,he,pe,ge,be;if(te.call(this,"__ee__")&&(ge=this.__ee__[le],!!ge))if(typeof ge=="object"){for(he=arguments.length,be=new Array(he-1),de=1;de<he;++de)be[de-1]=arguments[de];for(ge=ge.slice(),de=0;pe=ge[de];++de)W.call(pe,this,be)}else switch(arguments.length){case 1:J.call(ge,this);break;case 2:J.call(ge,this,arguments[1]);break;case 3:J.call(ge,this,arguments[1],arguments[2]);break;default:for(he=arguments.length,be=new Array(he-1),de=1;de<he;++de)be[de-1]=arguments[de];W.call(ge,this,be)}},ue={on:ne,once:ie,off:oe,emit:ae},ce={on:Q(ne),once:Q(ie),off:Q(oe),emit:Q(ae)},se=X({},ce),U.exports=G=function(le){return le==null?F(se):X(Object(le),ce)},G.methods=ue})(eventEmitter$1,eventEmitter$1.exports);var eventEmitterExports=eventEmitter$1.exports,normalizedInteractionEvents_1=normalizedInteractionEvents,mouseChange=mouseListen_1,eventOffset=mouseEventOffset_1,eventEmitter=eventEmitterExports;function normalizedInteractionEvents(U){U=U||window;var G=eventEmitter(),Q=[null,null],q=[null,null],W=[null,null],J=[null,null],F=0,Y={},X,te,re=U===window?function(){X=window.innerWidth,te=window.innerHeight}:function(){X=U.clientWidth,te=U.clientHeight},ne=0,ie,oe,ae={},ue=mouseChange(U,function(Ne,Se,Ge,Ce){ie=Se,oe=Ge,ne=Ne,ae=Ce});function ce(Ne){eventOffset(Ne,U,W),re(),Y.buttons=ne,Y.mods=ae,Y.x0=Y.x=Y.x1=2*W[0]/X-1,Y.y0=Y.y=Y.y1=1-2*W[1]/te,Y.x2=null,Y.y2=null,Y.dx=2*Ne.deltaX/X,Y.dy=-2*Ne.deltaY/te,Y.dz=2*Ne.deltaZ/X,Y.active=1,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=Ne,G.emit("wheel",Y),Q[0]=W[0],Q[1]=W[1]}var se=null,le=null,de=0;function he(Ne){eventOffset(Ne,U,W),de=0,re(),Y.buttons=ne,Y.mods=ae,Y.x=Y.x1=2*W[0]/X-1,Y.y=Y.y1=1-2*W[1]/te,Y.x2=null,Y.y2=null,Y.active=de,Y.x0=2*se/X-1,Y.y0=1-2*le/te,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=Ne,G.emit("mouseup",Y),se=le=null,Q[0]=W[0],Q[1]=W[1]}function pe(Ne){eventOffset(Ne,U,W),de=1,re(),se=ie,le=oe,Y.buttons=ne,Y.mods=ae,Y.x=Y.x0=Y.x1=2*W[0]/X-1,Y.y=Y.y0=Y.y1=1-2*W[1]/te,Y.x2=null,Y.y2=null,Y.active=de,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=Ne,G.emit("mousedown",Y),Q[0]=W[0],Q[1]=W[1]}function ge(Ne){eventOffset(Ne,U,W),re(),Y.buttons=ne,Y.mods=ae,Y.x0=2*se/X-1,Y.y0=1-2*le/te,Y.x=Y.x1=2*W[0]/X-1,Y.y=Y.y1=1-2*W[1]/te,Y.x2=null,Y.y2=null,Y.dx=2*(W[0]-Q[0])/X,Y.dy=-2*(W[1]-Q[1])/te,Y.active=de,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=Ne,G.emit("mousemove",Y),Q[0]=W[0],Q[1]=W[1]}function be(Ne){for(var Se=Ne.identifier,Ge=0;Ge<J.length;Ge++)if(J[Ge]&&J[Ge].touch&&J[Ge].touch.identifier===Se)return Ge;return-1}function ve(Ne){q[0]=null,q[1]=null;for(var Se=0;Se<Ne.changedTouches.length;Se++){var Ge=Ne.changedTouches[Se],Ce=Ge.identifier,ze=be(Ce);if(ze===-1&&F<2){var Ve=J[0]?1:0,Ke=J[0]?0:1,Ze={position:[0,0],touch:null};J[Ve]=Ze,F++,Ze.touch=Ge,eventOffset(Ge,U,Ze.position),J[Ke]&&J[Ke].touch}}for(var et=0,ot=0,nt=0,Se=0;Se<J.length;Se++)J[Se]&&(et+=J[Se].position[0],ot+=J[Se].position[1],nt++);if(et/=nt,ot/=nt,F>0){if(Y.theta=0,nt>1){var dt=J[1].position[0]-J[0].position[0],Fe=(J[0].position[1]-J[1].position[1])*X/te;Y.theta=Math.atan2(Fe,dt)}re(),Y.buttons=0,Y.mods={},Y.active=F,se=et,le=ot,Y.x0=2*se/X-1,Y.y0=1-2*le/te,Y.x=2*et/X-1,Y.y=1-2*ot/te,Y.x1=2*J[0].position[0]/X-1,Y.y1=1-2*J[0].position[1]/te,F>1&&(Y.x2=2*J[1].position[0]/X-1,Y.y2=1-2*J[1].position[1]/te),Y.active=F,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.dtheta=0,Y.originalEvent=Ne,G.emit(F===1?"touchstart":"pinchstart",Y)}}function Ee(Ne){for(var Se,Ge=!1,Ce=0;Ce<Ne.changedTouches.length;Ce++){var ze=Ne.changedTouches[Ce];Se=be(ze),Se!==-1&&(Ge=!0,J[Se].touch=ze,eventOffset(ze,U,J[Se].position))}if(Ge){if(F===1){for(Se=0;Se<J.length&&!J[Se];Se++);if(J[Se]&&q[Se]){var Ve=J[Se].position[0],Ke=J[Se].position[1],Ze=Ve-q[Se][0],et=Ke-q[Se][1];Y.buttons=0,Y.mods={},Y.active=F,Y.x=Y.x1=2*Ve/X-1,Y.y=Y.y1=1-2*Ke/te,Y.x2=null,Y.y2=null,Y.x0=2*se/X-1,Y.y0=1-2*le/te,Y.dx=2*Ze/X,Y.dy=-2*et/te,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=Ne,G.emit("touchmove",Y)}}else if(F===2&&q[0]&&q[1]){var ot=q[0],nt=q[1],dt=nt[0]-ot[0],Fe=(nt[1]-ot[1])*X/te,Xe=J[0].position,pt=J[1].position,yt=pt[0]-Xe[0],vt=(Xe[1]-pt[1])*X/te,mt=Math.sqrt(dt*dt+Fe*Fe)*.5,Tt=Math.atan2(Fe,dt),we=Math.sqrt(yt*yt+vt*vt)*.5,Re=Math.atan2(vt,yt),_e=(nt[0]+ot[0])*.5,Me=(nt[1]+ot[1])*.5,Ze=.5*(pt[0]+Xe[0]-ot[0]-nt[0]),et=.5*(pt[1]+Xe[1]-ot[1]-nt[1]),Ie=we/mt,De=Re-Tt;Y.buttons=0,Y.mods=ae,Y.active=F,Y.x=2*_e/X-1,Y.y=1-2*Me/te,Y.x0=2*se/X-1,Y.y0=1-2*le/te,Y.x1=2*Xe[0]/X-1,Y.y1=1-2*Xe[1]/te,Y.x2=2*pt[0]/X-1,Y.y2=1-2*pt[1]/te,Y.dx=2*Ze/X,Y.dy=-2*et/te,Y.dz=0,Y.zoomx=Ie,Y.zoomy=Ie,Y.theta=Re,Y.dtheta=De,Y.originalEvent=Ne,G.emit("pinchmove",Y)}}J[0]&&(q[0]=J[0].position.slice()),J[1]&&(q[1]=J[1].position.slice())}function ke(Ne){for(var Se,Ge=0;Ge<Ne.changedTouches.length;Ge++){var Ce=Ne.changedTouches[Ge],ze=be(Ce);if(ze!==-1){Se=J[ze],J[ze]=null,F--;var Ve=ze===0?1:0;J[Ve]&&J[Ve].touch}}var Ke=0,Ze=0;if(F===0)Se&&(Ke=Se.position[0],Ze=Se.position[1]);else{for(var et=0,Ge=0;Ge<J.length;Ge++)J[Ge]&&(Ke+=J[Ge].position[0],Ze+=J[Ge].position[1],et++);Ke/=et,Ze/=et}F<2&&(Y.buttons=0,Y.mods=ae,Y.active=F,Y.x=2*Ke/X-1,Y.y=1-2*Ze/te,Y.x0=2*se/X-1,Y.y0=1-2*le/te,Y.dx=0,Y.dy=0,Y.dz=0,Y.zoomx=1,Y.zoomy=1,Y.theta=0,Y.dtheta=0,Y.originalEvent=Ne,G.emit(F===0?"touchend":"pinchend",Y)),F===0&&(se=le=null)}var Pe=!1;function Te(){Pe||(Pe=!0,ue.enabled=!0,U.addEventListener("wheel",ce,!1),U.addEventListener("mousedown",pe,!1),window.addEventListener("mousemove",ge,!1),window.addEventListener("mouseup",he,!1),U.addEventListener("touchstart",ve,!1),window.addEventListener("touchmove",Ee,!1),window.addEventListener("touchend",ke,!1),window.addEventListener("touchcancel",ke,!1))}function xe(){Pe&&(Pe=!1,ue.enabled=!1,U.removeEventListener("wheel",ce,!1),U.removeEventListener("mousedown",pe,!1),window.removeEventListener("mousemove",ge,!1),window.removeEventListener("mouseup",he,!1),U.removeEventListener("touchstart",ve,!1),window.removeEventListener("touchmove",Ee,!1),window.removeEventListener("touchend",ke,!1),window.removeEventListener("touchcancel",ke,!1))}return Te(),G.enable=Te,G.disable=xe,G}const interactionEvents=getDefaultExportFromCjs(normalizedInteractionEvents_1);function WorkerWrapper(){return new Worker("/assets/worker-90e2977d.js",{type:"module"})}var abstractLevel$1={},abstractLevel={},levelSupports={};levelSupports.supports=function(...U){const G=U.reduce((Q,q)=>Object.assign(Q,q),{});return Object.assign(G,{snapshots:G.snapshots||!1,permanence:G.permanence||!1,seek:G.seek||!1,clear:G.clear||!1,getMany:G.getMany||!1,keyIterator:G.keyIterator||!1,valueIterator:G.valueIterator||!1,iteratorNextv:G.iteratorNextv||!1,iteratorAll:G.iteratorAll||!1,status:G.status||!1,createIfMissing:G.createIfMissing||!1,errorIfExists:G.errorIfExists||!1,deferredOpen:G.deferredOpen||!1,promises:G.promises||!1,streams:G.streams||!1,encodings:Object.assign({},G.encodings),events:Object.assign({},G.events),additionalMethods:Object.assign({},G.additionalMethods)})};var levelTranscoder={},moduleError=class extends Error{constructor(U,G){super(U||""),typeof G=="object"&&G!==null&&(G.code&&(this.code=String(G.code)),G.expected&&(this.expected=!0),G.transient&&(this.transient=!0),G.cause&&(this.cause=G.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},encodings$1={},buffer={},base64Js={};base64Js.byteLength=byteLength,base64Js.toByteArray=toByteArray,base64Js.fromByteArray=fromByteArray;for(var lookup$1=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i$3=0,len=code.length;i$3<len;++i$3)lookup$1[i$3]=code[i$3],revLookup[code.charCodeAt(i$3)]=i$3;revLookup[45]=62,revLookup[95]=63;function getLens(U){var G=U.length;if(G%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Q=U.indexOf("=");Q===-1&&(Q=G);var q=Q===G?0:4-Q%4;return[Q,q]}function byteLength(U){var G=getLens(U),Q=G[0],q=G[1];return(Q+q)*3/4-q}function _byteLength(U,G,Q){return(G+Q)*3/4-Q}function toByteArray(U){var G,Q=getLens(U),q=Q[0],W=Q[1],J=new Arr(_byteLength(U,q,W)),F=0,Y=W>0?q-4:q,X;for(X=0;X<Y;X+=4)G=revLookup[U.charCodeAt(X)]<<18|revLookup[U.charCodeAt(X+1)]<<12|revLookup[U.charCodeAt(X+2)]<<6|revLookup[U.charCodeAt(X+3)],J[F++]=G>>16&255,J[F++]=G>>8&255,J[F++]=G&255;return W===2&&(G=revLookup[U.charCodeAt(X)]<<2|revLookup[U.charCodeAt(X+1)]>>4,J[F++]=G&255),W===1&&(G=revLookup[U.charCodeAt(X)]<<10|revLookup[U.charCodeAt(X+1)]<<4|revLookup[U.charCodeAt(X+2)]>>2,J[F++]=G>>8&255,J[F++]=G&255),J}function tripletToBase64(U){return lookup$1[U>>18&63]+lookup$1[U>>12&63]+lookup$1[U>>6&63]+lookup$1[U&63]}function encodeChunk(U,G,Q){for(var q,W=[],J=G;J<Q;J+=3)q=(U[J]<<16&16711680)+(U[J+1]<<8&65280)+(U[J+2]&255),W.push(tripletToBase64(q));return W.join("")}function fromByteArray(U){for(var G,Q=U.length,q=Q%3,W=[],J=16383,F=0,Y=Q-q;F<Y;F+=J)W.push(encodeChunk(U,F,F+J>Y?Y:F+J));return q===1?(G=U[Q-1],W.push(lookup$1[G>>2]+lookup$1[G<<4&63]+"==")):q===2&&(G=(U[Q-2]<<8)+U[Q-1],W.push(lookup$1[G>>10]+lookup$1[G>>4&63]+lookup$1[G<<2&63]+"=")),W.join("")}var ieee754={};ieee754.read=function(U,G,Q,q,W){var J,F,Y=W*8-q-1,X=(1<<Y)-1,te=X>>1,re=-7,ne=Q?W-1:0,ie=Q?-1:1,oe=U[G+ne];for(ne+=ie,J=oe&(1<<-re)-1,oe>>=-re,re+=Y;re>0;J=J*256+U[G+ne],ne+=ie,re-=8);for(F=J&(1<<-re)-1,J>>=-re,re+=q;re>0;F=F*256+U[G+ne],ne+=ie,re-=8);if(J===0)J=1-te;else{if(J===X)return F?NaN:(oe?-1:1)*(1/0);F=F+Math.pow(2,q),J=J-te}return(oe?-1:1)*F*Math.pow(2,J-q)},ieee754.write=function(U,G,Q,q,W,J){var F,Y,X,te=J*8-W-1,re=(1<<te)-1,ne=re>>1,ie=W===23?Math.pow(2,-24)-Math.pow(2,-77):0,oe=q?0:J-1,ae=q?1:-1,ue=G<0||G===0&&1/G<0?1:0;for(G=Math.abs(G),isNaN(G)||G===1/0?(Y=isNaN(G)?1:0,F=re):(F=Math.floor(Math.log(G)/Math.LN2),G*(X=Math.pow(2,-F))<1&&(F--,X*=2),F+ne>=1?G+=ie/X:G+=ie*Math.pow(2,1-ne),G*X>=2&&(F++,X/=2),F+ne>=re?(Y=0,F=re):F+ne>=1?(Y=(G*X-1)*Math.pow(2,W),F=F+ne):(Y=G*Math.pow(2,ne-1)*Math.pow(2,W),F=0));W>=8;U[Q+oe]=Y&255,oe+=ae,Y/=256,W-=8);for(F=F<<W|Y,te+=W;te>0;U[Q+oe]=F&255,oe+=ae,F/=256,te-=8);U[Q+oe-ae]|=ue*128},function(U){const G=base64Js,Q=ieee754,q=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=Y,U.SlowBuffer=le,U.INSPECT_MAX_BYTES=50;const W=2147483647;U.kMaxLength=W,Y.TYPED_ARRAY_SUPPORT=J(),!Y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function J(){try{const me=new Uint8Array(1),fe={foo:function(){return 42}};return Object.setPrototypeOf(fe,Uint8Array.prototype),Object.setPrototypeOf(me,fe),me.foo()===42}catch{return!1}}Object.defineProperty(Y.prototype,"parent",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.buffer}}),Object.defineProperty(Y.prototype,"offset",{enumerable:!0,get:function(){if(Y.isBuffer(this))return this.byteOffset}});function F(me){if(me>W)throw new RangeError('The value "'+me+'" is invalid for option "size"');const fe=new Uint8Array(me);return Object.setPrototypeOf(fe,Y.prototype),fe}function Y(me,fe,ye){if(typeof me=="number"){if(typeof fe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ne(me)}return X(me,fe,ye)}Y.poolSize=8192;function X(me,fe,ye){if(typeof me=="string")return ie(me,fe);if(ArrayBuffer.isView(me))return ae(me);if(me==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof me);if(We(me,ArrayBuffer)||me&&We(me.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(We(me,SharedArrayBuffer)||me&&We(me.buffer,SharedArrayBuffer)))return ue(me,fe,ye);if(typeof me=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ae=me.valueOf&&me.valueOf();if(Ae!=null&&Ae!==me)return Y.from(Ae,fe,ye);const Be=ce(me);if(Be)return Be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof me[Symbol.toPrimitive]=="function")return Y.from(me[Symbol.toPrimitive]("string"),fe,ye);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof me)}Y.from=function(me,fe,ye){return X(me,fe,ye)},Object.setPrototypeOf(Y.prototype,Uint8Array.prototype),Object.setPrototypeOf(Y,Uint8Array);function te(me){if(typeof me!="number")throw new TypeError('"size" argument must be of type number');if(me<0)throw new RangeError('The value "'+me+'" is invalid for option "size"')}function re(me,fe,ye){return te(me),me<=0?F(me):fe!==void 0?typeof ye=="string"?F(me).fill(fe,ye):F(me).fill(fe):F(me)}Y.alloc=function(me,fe,ye){return re(me,fe,ye)};function ne(me){return te(me),F(me<0?0:se(me)|0)}Y.allocUnsafe=function(me){return ne(me)},Y.allocUnsafeSlow=function(me){return ne(me)};function ie(me,fe){if((typeof fe!="string"||fe==="")&&(fe="utf8"),!Y.isEncoding(fe))throw new TypeError("Unknown encoding: "+fe);const ye=de(me,fe)|0;let Ae=F(ye);const Be=Ae.write(me,fe);return Be!==ye&&(Ae=Ae.slice(0,Be)),Ae}function oe(me){const fe=me.length<0?0:se(me.length)|0,ye=F(fe);for(let Ae=0;Ae<fe;Ae+=1)ye[Ae]=me[Ae]&255;return ye}function ae(me){if(We(me,Uint8Array)){const fe=new Uint8Array(me);return ue(fe.buffer,fe.byteOffset,fe.byteLength)}return oe(me)}function ue(me,fe,ye){if(fe<0||me.byteLength<fe)throw new RangeError('"offset" is outside of buffer bounds');if(me.byteLength<fe+(ye||0))throw new RangeError('"length" is outside of buffer bounds');let Ae;return fe===void 0&&ye===void 0?Ae=new Uint8Array(me):ye===void 0?Ae=new Uint8Array(me,fe):Ae=new Uint8Array(me,fe,ye),Object.setPrototypeOf(Ae,Y.prototype),Ae}function ce(me){if(Y.isBuffer(me)){const fe=se(me.length)|0,ye=F(fe);return ye.length===0||me.copy(ye,0,0,fe),ye}if(me.length!==void 0)return typeof me.length!="number"||$e(me.length)?F(0):oe(me);if(me.type==="Buffer"&&Array.isArray(me.data))return oe(me.data)}function se(me){if(me>=W)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+W.toString(16)+" bytes");return me|0}function le(me){return+me!=me&&(me=0),Y.alloc(+me)}Y.isBuffer=function(me){return me!=null&&me._isBuffer===!0&&me!==Y.prototype},Y.compare=function(me,fe){if(We(me,Uint8Array)&&(me=Y.from(me,me.offset,me.byteLength)),We(fe,Uint8Array)&&(fe=Y.from(fe,fe.offset,fe.byteLength)),!Y.isBuffer(me)||!Y.isBuffer(fe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(me===fe)return 0;let ye=me.length,Ae=fe.length;for(let Be=0,He=Math.min(ye,Ae);Be<He;++Be)if(me[Be]!==fe[Be]){ye=me[Be],Ae=fe[Be];break}return ye<Ae?-1:Ae<ye?1:0},Y.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Y.concat=function(me,fe){if(!Array.isArray(me))throw new TypeError('"list" argument must be an Array of Buffers');if(me.length===0)return Y.alloc(0);let ye;if(fe===void 0)for(fe=0,ye=0;ye<me.length;++ye)fe+=me[ye].length;const Ae=Y.allocUnsafe(fe);let Be=0;for(ye=0;ye<me.length;++ye){let He=me[ye];if(We(He,Uint8Array))Be+He.length>Ae.length?(Y.isBuffer(He)||(He=Y.from(He)),He.copy(Ae,Be)):Uint8Array.prototype.set.call(Ae,He,Be);else if(Y.isBuffer(He))He.copy(Ae,Be);else throw new TypeError('"list" argument must be an Array of Buffers');Be+=He.length}return Ae};function de(me,fe){if(Y.isBuffer(me))return me.length;if(ArrayBuffer.isView(me)||We(me,ArrayBuffer))return me.byteLength;if(typeof me!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof me);const ye=me.length,Ae=arguments.length>2&&arguments[2]===!0;if(!Ae&&ye===0)return 0;let Be=!1;for(;;)switch(fe){case"ascii":case"latin1":case"binary":return ye;case"utf8":case"utf-8":return Ie(me).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye*2;case"hex":return ye>>>1;case"base64":return Le(me).length;default:if(Be)return Ae?-1:Ie(me).length;fe=(""+fe).toLowerCase(),Be=!0}}Y.byteLength=de;function he(me,fe,ye){let Ae=!1;if((fe===void 0||fe<0)&&(fe=0),fe>this.length||((ye===void 0||ye>this.length)&&(ye=this.length),ye<=0)||(ye>>>=0,fe>>>=0,ye<=fe))return"";for(me||(me="utf8");;)switch(me){case"hex":return Ve(this,fe,ye);case"utf8":case"utf-8":return Ne(this,fe,ye);case"ascii":return Ce(this,fe,ye);case"latin1":case"binary":return ze(this,fe,ye);case"base64":return xe(this,fe,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ke(this,fe,ye);default:if(Ae)throw new TypeError("Unknown encoding: "+me);me=(me+"").toLowerCase(),Ae=!0}}Y.prototype._isBuffer=!0;function pe(me,fe,ye){const Ae=me[fe];me[fe]=me[ye],me[ye]=Ae}Y.prototype.swap16=function(){const me=this.length;if(me%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let fe=0;fe<me;fe+=2)pe(this,fe,fe+1);return this},Y.prototype.swap32=function(){const me=this.length;if(me%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let fe=0;fe<me;fe+=4)pe(this,fe,fe+3),pe(this,fe+1,fe+2);return this},Y.prototype.swap64=function(){const me=this.length;if(me%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let fe=0;fe<me;fe+=8)pe(this,fe,fe+7),pe(this,fe+1,fe+6),pe(this,fe+2,fe+5),pe(this,fe+3,fe+4);return this},Y.prototype.toString=function(){const me=this.length;return me===0?"":arguments.length===0?Ne(this,0,me):he.apply(this,arguments)},Y.prototype.toLocaleString=Y.prototype.toString,Y.prototype.equals=function(me){if(!Y.isBuffer(me))throw new TypeError("Argument must be a Buffer");return this===me?!0:Y.compare(this,me)===0},Y.prototype.inspect=function(){let me="";const fe=U.INSPECT_MAX_BYTES;return me=this.toString("hex",0,fe).replace(/(.{2})/g,"$1 ").trim(),this.length>fe&&(me+=" ... "),"<Buffer "+me+">"},q&&(Y.prototype[q]=Y.prototype.inspect),Y.prototype.compare=function(me,fe,ye,Ae,Be){if(We(me,Uint8Array)&&(me=Y.from(me,me.offset,me.byteLength)),!Y.isBuffer(me))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof me);if(fe===void 0&&(fe=0),ye===void 0&&(ye=me?me.length:0),Ae===void 0&&(Ae=0),Be===void 0&&(Be=this.length),fe<0||ye>me.length||Ae<0||Be>this.length)throw new RangeError("out of range index");if(Ae>=Be&&fe>=ye)return 0;if(Ae>=Be)return-1;if(fe>=ye)return 1;if(fe>>>=0,ye>>>=0,Ae>>>=0,Be>>>=0,this===me)return 0;let He=Be-Ae,Je=ye-fe;const st=Math.min(He,Je),ut=this.slice(Ae,Be),ft=me.slice(fe,ye);for(let At=0;At<st;++At)if(ut[At]!==ft[At]){He=ut[At],Je=ft[At];break}return He<Je?-1:Je<He?1:0};function ge(me,fe,ye,Ae,Be){if(me.length===0)return-1;if(typeof ye=="string"?(Ae=ye,ye=0):ye>2147483647?ye=2147483647:ye<-2147483648&&(ye=-2147483648),ye=+ye,$e(ye)&&(ye=Be?0:me.length-1),ye<0&&(ye=me.length+ye),ye>=me.length){if(Be)return-1;ye=me.length-1}else if(ye<0)if(Be)ye=0;else return-1;if(typeof fe=="string"&&(fe=Y.from(fe,Ae)),Y.isBuffer(fe))return fe.length===0?-1:be(me,fe,ye,Ae,Be);if(typeof fe=="number")return fe=fe&255,typeof Uint8Array.prototype.indexOf=="function"?Be?Uint8Array.prototype.indexOf.call(me,fe,ye):Uint8Array.prototype.lastIndexOf.call(me,fe,ye):be(me,[fe],ye,Ae,Be);throw new TypeError("val must be string, number or Buffer")}function be(me,fe,ye,Ae,Be){let He=1,Je=me.length,st=fe.length;if(Ae!==void 0&&(Ae=String(Ae).toLowerCase(),Ae==="ucs2"||Ae==="ucs-2"||Ae==="utf16le"||Ae==="utf-16le")){if(me.length<2||fe.length<2)return-1;He=2,Je/=2,st/=2,ye/=2}function ut(At,bt){return He===1?At[bt]:At.readUInt16BE(bt*He)}let ft;if(Be){let At=-1;for(ft=ye;ft<Je;ft++)if(ut(me,ft)===ut(fe,At===-1?0:ft-At)){if(At===-1&&(At=ft),ft-At+1===st)return At*He}else At!==-1&&(ft-=ft-At),At=-1}else for(ye+st>Je&&(ye=Je-st),ft=ye;ft>=0;ft--){let At=!0;for(let bt=0;bt<st;bt++)if(ut(me,ft+bt)!==ut(fe,bt)){At=!1;break}if(At)return ft}return-1}Y.prototype.includes=function(me,fe,ye){return this.indexOf(me,fe,ye)!==-1},Y.prototype.indexOf=function(me,fe,ye){return ge(this,me,fe,ye,!0)},Y.prototype.lastIndexOf=function(me,fe,ye){return ge(this,me,fe,ye,!1)};function ve(me,fe,ye,Ae){ye=Number(ye)||0;const Be=me.length-ye;Ae?(Ae=Number(Ae),Ae>Be&&(Ae=Be)):Ae=Be;const He=fe.length;Ae>He/2&&(Ae=He/2);let Je;for(Je=0;Je<Ae;++Je){const st=parseInt(fe.substr(Je*2,2),16);if($e(st))return Je;me[ye+Je]=st}return Je}function Ee(me,fe,ye,Ae){return Qe(Ie(fe,me.length-ye),me,ye,Ae)}function ke(me,fe,ye,Ae){return Qe(De(fe),me,ye,Ae)}function Pe(me,fe,ye,Ae){return Qe(Le(fe),me,ye,Ae)}function Te(me,fe,ye,Ae){return Qe(qe(fe,me.length-ye),me,ye,Ae)}Y.prototype.write=function(me,fe,ye,Ae){if(fe===void 0)Ae="utf8",ye=this.length,fe=0;else if(ye===void 0&&typeof fe=="string")Ae=fe,ye=this.length,fe=0;else if(isFinite(fe))fe=fe>>>0,isFinite(ye)?(ye=ye>>>0,Ae===void 0&&(Ae="utf8")):(Ae=ye,ye=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Be=this.length-fe;if((ye===void 0||ye>Be)&&(ye=Be),me.length>0&&(ye<0||fe<0)||fe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ae||(Ae="utf8");let He=!1;for(;;)switch(Ae){case"hex":return ve(this,me,fe,ye);case"utf8":case"utf-8":return Ee(this,me,fe,ye);case"ascii":case"latin1":case"binary":return ke(this,me,fe,ye);case"base64":return Pe(this,me,fe,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Te(this,me,fe,ye);default:if(He)throw new TypeError("Unknown encoding: "+Ae);Ae=(""+Ae).toLowerCase(),He=!0}},Y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function xe(me,fe,ye){return fe===0&&ye===me.length?G.fromByteArray(me):G.fromByteArray(me.slice(fe,ye))}function Ne(me,fe,ye){ye=Math.min(me.length,ye);const Ae=[];let Be=fe;for(;Be<ye;){const He=me[Be];let Je=null,st=He>239?4:He>223?3:He>191?2:1;if(Be+st<=ye){let ut,ft,At,bt;switch(st){case 1:He<128&&(Je=He);break;case 2:ut=me[Be+1],(ut&192)===128&&(bt=(He&31)<<6|ut&63,bt>127&&(Je=bt));break;case 3:ut=me[Be+1],ft=me[Be+2],(ut&192)===128&&(ft&192)===128&&(bt=(He&15)<<12|(ut&63)<<6|ft&63,bt>2047&&(bt<55296||bt>57343)&&(Je=bt));break;case 4:ut=me[Be+1],ft=me[Be+2],At=me[Be+3],(ut&192)===128&&(ft&192)===128&&(At&192)===128&&(bt=(He&15)<<18|(ut&63)<<12|(ft&63)<<6|At&63,bt>65535&&bt<1114112&&(Je=bt))}}Je===null?(Je=65533,st=1):Je>65535&&(Je-=65536,Ae.push(Je>>>10&1023|55296),Je=56320|Je&1023),Ae.push(Je),Be+=st}return Ge(Ae)}const Se=4096;function Ge(me){const fe=me.length;if(fe<=Se)return String.fromCharCode.apply(String,me);let ye="",Ae=0;for(;Ae<fe;)ye+=String.fromCharCode.apply(String,me.slice(Ae,Ae+=Se));return ye}function Ce(me,fe,ye){let Ae="";ye=Math.min(me.length,ye);for(let Be=fe;Be<ye;++Be)Ae+=String.fromCharCode(me[Be]&127);return Ae}function ze(me,fe,ye){let Ae="";ye=Math.min(me.length,ye);for(let Be=fe;Be<ye;++Be)Ae+=String.fromCharCode(me[Be]);return Ae}function Ve(me,fe,ye){const Ae=me.length;(!fe||fe<0)&&(fe=0),(!ye||ye<0||ye>Ae)&&(ye=Ae);let Be="";for(let He=fe;He<ye;++He)Be+=Ye[me[He]];return Be}function Ke(me,fe,ye){const Ae=me.slice(fe,ye);let Be="";for(let He=0;He<Ae.length-1;He+=2)Be+=String.fromCharCode(Ae[He]+Ae[He+1]*256);return Be}Y.prototype.slice=function(me,fe){const ye=this.length;me=~~me,fe=fe===void 0?ye:~~fe,me<0?(me+=ye,me<0&&(me=0)):me>ye&&(me=ye),fe<0?(fe+=ye,fe<0&&(fe=0)):fe>ye&&(fe=ye),fe<me&&(fe=me);const Ae=this.subarray(me,fe);return Object.setPrototypeOf(Ae,Y.prototype),Ae};function Ze(me,fe,ye){if(me%1!==0||me<0)throw new RangeError("offset is not uint");if(me+fe>ye)throw new RangeError("Trying to access beyond buffer length")}Y.prototype.readUintLE=Y.prototype.readUIntLE=function(me,fe,ye){me=me>>>0,fe=fe>>>0,ye||Ze(me,fe,this.length);let Ae=this[me],Be=1,He=0;for(;++He<fe&&(Be*=256);)Ae+=this[me+He]*Be;return Ae},Y.prototype.readUintBE=Y.prototype.readUIntBE=function(me,fe,ye){me=me>>>0,fe=fe>>>0,ye||Ze(me,fe,this.length);let Ae=this[me+--fe],Be=1;for(;fe>0&&(Be*=256);)Ae+=this[me+--fe]*Be;return Ae},Y.prototype.readUint8=Y.prototype.readUInt8=function(me,fe){return me=me>>>0,fe||Ze(me,1,this.length),this[me]},Y.prototype.readUint16LE=Y.prototype.readUInt16LE=function(me,fe){return me=me>>>0,fe||Ze(me,2,this.length),this[me]|this[me+1]<<8},Y.prototype.readUint16BE=Y.prototype.readUInt16BE=function(me,fe){return me=me>>>0,fe||Ze(me,2,this.length),this[me]<<8|this[me+1]},Y.prototype.readUint32LE=Y.prototype.readUInt32LE=function(me,fe){return me=me>>>0,fe||Ze(me,4,this.length),(this[me]|this[me+1]<<8|this[me+2]<<16)+this[me+3]*16777216},Y.prototype.readUint32BE=Y.prototype.readUInt32BE=function(me,fe){return me=me>>>0,fe||Ze(me,4,this.length),this[me]*16777216+(this[me+1]<<16|this[me+2]<<8|this[me+3])},Y.prototype.readBigUInt64LE=rt(function(me){me=me>>>0,we(me,"offset");const fe=this[me],ye=this[me+7];(fe===void 0||ye===void 0)&&Re(me,this.length-8);const Ae=fe+this[++me]*2**8+this[++me]*2**16+this[++me]*2**24,Be=this[++me]+this[++me]*2**8+this[++me]*2**16+ye*2**24;return BigInt(Ae)+(BigInt(Be)<<BigInt(32))}),Y.prototype.readBigUInt64BE=rt(function(me){me=me>>>0,we(me,"offset");const fe=this[me],ye=this[me+7];(fe===void 0||ye===void 0)&&Re(me,this.length-8);const Ae=fe*2**24+this[++me]*2**16+this[++me]*2**8+this[++me],Be=this[++me]*2**24+this[++me]*2**16+this[++me]*2**8+ye;return(BigInt(Ae)<<BigInt(32))+BigInt(Be)}),Y.prototype.readIntLE=function(me,fe,ye){me=me>>>0,fe=fe>>>0,ye||Ze(me,fe,this.length);let Ae=this[me],Be=1,He=0;for(;++He<fe&&(Be*=256);)Ae+=this[me+He]*Be;return Be*=128,Ae>=Be&&(Ae-=Math.pow(2,8*fe)),Ae},Y.prototype.readIntBE=function(me,fe,ye){me=me>>>0,fe=fe>>>0,ye||Ze(me,fe,this.length);let Ae=fe,Be=1,He=this[me+--Ae];for(;Ae>0&&(Be*=256);)He+=this[me+--Ae]*Be;return Be*=128,He>=Be&&(He-=Math.pow(2,8*fe)),He},Y.prototype.readInt8=function(me,fe){return me=me>>>0,fe||Ze(me,1,this.length),this[me]&128?(255-this[me]+1)*-1:this[me]},Y.prototype.readInt16LE=function(me,fe){me=me>>>0,fe||Ze(me,2,this.length);const ye=this[me]|this[me+1]<<8;return ye&32768?ye|4294901760:ye},Y.prototype.readInt16BE=function(me,fe){me=me>>>0,fe||Ze(me,2,this.length);const ye=this[me+1]|this[me]<<8;return ye&32768?ye|4294901760:ye},Y.prototype.readInt32LE=function(me,fe){return me=me>>>0,fe||Ze(me,4,this.length),this[me]|this[me+1]<<8|this[me+2]<<16|this[me+3]<<24},Y.prototype.readInt32BE=function(me,fe){return me=me>>>0,fe||Ze(me,4,this.length),this[me]<<24|this[me+1]<<16|this[me+2]<<8|this[me+3]},Y.prototype.readBigInt64LE=rt(function(me){me=me>>>0,we(me,"offset");const fe=this[me],ye=this[me+7];(fe===void 0||ye===void 0)&&Re(me,this.length-8);const Ae=this[me+4]+this[me+5]*2**8+this[me+6]*2**16+(ye<<24);return(BigInt(Ae)<<BigInt(32))+BigInt(fe+this[++me]*2**8+this[++me]*2**16+this[++me]*2**24)}),Y.prototype.readBigInt64BE=rt(function(me){me=me>>>0,we(me,"offset");const fe=this[me],ye=this[me+7];(fe===void 0||ye===void 0)&&Re(me,this.length-8);const Ae=(fe<<24)+this[++me]*2**16+this[++me]*2**8+this[++me];return(BigInt(Ae)<<BigInt(32))+BigInt(this[++me]*2**24+this[++me]*2**16+this[++me]*2**8+ye)}),Y.prototype.readFloatLE=function(me,fe){return me=me>>>0,fe||Ze(me,4,this.length),Q.read(this,me,!0,23,4)},Y.prototype.readFloatBE=function(me,fe){return me=me>>>0,fe||Ze(me,4,this.length),Q.read(this,me,!1,23,4)},Y.prototype.readDoubleLE=function(me,fe){return me=me>>>0,fe||Ze(me,8,this.length),Q.read(this,me,!0,52,8)},Y.prototype.readDoubleBE=function(me,fe){return me=me>>>0,fe||Ze(me,8,this.length),Q.read(this,me,!1,52,8)};function et(me,fe,ye,Ae,Be,He){if(!Y.isBuffer(me))throw new TypeError('"buffer" argument must be a Buffer instance');if(fe>Be||fe<He)throw new RangeError('"value" argument is out of bounds');if(ye+Ae>me.length)throw new RangeError("Index out of range")}Y.prototype.writeUintLE=Y.prototype.writeUIntLE=function(me,fe,ye,Ae){if(me=+me,fe=fe>>>0,ye=ye>>>0,!Ae){const Je=Math.pow(2,8*ye)-1;et(this,me,fe,ye,Je,0)}let Be=1,He=0;for(this[fe]=me&255;++He<ye&&(Be*=256);)this[fe+He]=me/Be&255;return fe+ye},Y.prototype.writeUintBE=Y.prototype.writeUIntBE=function(me,fe,ye,Ae){if(me=+me,fe=fe>>>0,ye=ye>>>0,!Ae){const Je=Math.pow(2,8*ye)-1;et(this,me,fe,ye,Je,0)}let Be=ye-1,He=1;for(this[fe+Be]=me&255;--Be>=0&&(He*=256);)this[fe+Be]=me/He&255;return fe+ye},Y.prototype.writeUint8=Y.prototype.writeUInt8=function(me,fe,ye){return me=+me,fe=fe>>>0,ye||et(this,me,fe,1,255,0),this[fe]=me&255,fe+1},Y.prototype.writeUint16LE=Y.prototype.writeUInt16LE=function(me,fe,ye){return me=+me,fe=fe>>>0,ye||et(this,me,fe,2,65535,0),this[fe]=me&255,this[fe+1]=me>>>8,fe+2},Y.prototype.writeUint16BE=Y.prototype.writeUInt16BE=function(me,fe,ye){return me=+me,fe=fe>>>0,ye||et(this,me,fe,2,65535,0),this[fe]=me>>>8,this[fe+1]=me&255,fe+2},Y.prototype.writeUint32LE=Y.prototype.writeUInt32LE=function(me,fe,ye){return me=+me,fe=fe>>>0,ye||et(this,me,fe,4,4294967295,0),this[fe+3]=me>>>24,this[fe+2]=me>>>16,this[fe+1]=me>>>8,this[fe]=me&255,fe+4},Y.prototype.writeUint32BE=Y.prototype.writeUInt32BE=function(me,fe,ye){return me=+me,fe=fe>>>0,ye||et(this,me,fe,4,4294967295,0),this[fe]=me>>>24,this[fe+1]=me>>>16,this[fe+2]=me>>>8,this[fe+3]=me&255,fe+4};function ot(me,fe,ye,Ae,Be){Tt(fe,Ae,Be,me,ye,7);let He=Number(fe&BigInt(4294967295));me[ye++]=He,He=He>>8,me[ye++]=He,He=He>>8,me[ye++]=He,He=He>>8,me[ye++]=He;let Je=Number(fe>>BigInt(32)&BigInt(4294967295));return me[ye++]=Je,Je=Je>>8,me[ye++]=Je,Je=Je>>8,me[ye++]=Je,Je=Je>>8,me[ye++]=Je,ye}function nt(me,fe,ye,Ae,Be){Tt(fe,Ae,Be,me,ye,7);let He=Number(fe&BigInt(4294967295));me[ye+7]=He,He=He>>8,me[ye+6]=He,He=He>>8,me[ye+5]=He,He=He>>8,me[ye+4]=He;let Je=Number(fe>>BigInt(32)&BigInt(4294967295));return me[ye+3]=Je,Je=Je>>8,me[ye+2]=Je,Je=Je>>8,me[ye+1]=Je,Je=Je>>8,me[ye]=Je,ye+8}Y.prototype.writeBigUInt64LE=rt(function(me,fe=0){return ot(this,me,fe,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeBigUInt64BE=rt(function(me,fe=0){return nt(this,me,fe,BigInt(0),BigInt("0xffffffffffffffff"))}),Y.prototype.writeIntLE=function(me,fe,ye,Ae){if(me=+me,fe=fe>>>0,!Ae){const st=Math.pow(2,8*ye-1);et(this,me,fe,ye,st-1,-st)}let Be=0,He=1,Je=0;for(this[fe]=me&255;++Be<ye&&(He*=256);)me<0&&Je===0&&this[fe+Be-1]!==0&&(Je=1),this[fe+Be]=(me/He>>0)-Je&255;return fe+ye},Y.prototype.writeIntBE=function(me,fe,ye,Ae){if(me=+me,fe=fe>>>0,!Ae){const st=Math.pow(2,8*ye-1);et(this,me,fe,ye,st-1,-st)}let Be=ye-1,He=1,Je=0;for(this[fe+Be]=me&255;--Be>=0&&(He*=256);)me<0&&Je===0&&this[fe+Be+1]!==0&&(Je=1),this[fe+Be]=(me/He>>0)-Je&255;return fe+ye},Y.prototype.writeInt8=function(me,fe,ye){return me=+me,fe=fe>>>0,ye||et(this,me,fe,1,127,-128),me<0&&(me=255+me+1),this[fe]=me&255,fe+1},Y.prototype.writeInt16LE=function(me,fe,ye){return me=+me,fe=fe>>>0,ye||et(this,me,fe,2,32767,-32768),this[fe]=me&255,this[fe+1]=me>>>8,fe+2},Y.prototype.writeInt16BE=function(me,fe,ye){return me=+me,fe=fe>>>0,ye||et(this,me,fe,2,32767,-32768),this[fe]=me>>>8,this[fe+1]=me&255,fe+2},Y.prototype.writeInt32LE=function(me,fe,ye){return me=+me,fe=fe>>>0,ye||et(this,me,fe,4,2147483647,-2147483648),this[fe]=me&255,this[fe+1]=me>>>8,this[fe+2]=me>>>16,this[fe+3]=me>>>24,fe+4},Y.prototype.writeInt32BE=function(me,fe,ye){return me=+me,fe=fe>>>0,ye||et(this,me,fe,4,2147483647,-2147483648),me<0&&(me=4294967295+me+1),this[fe]=me>>>24,this[fe+1]=me>>>16,this[fe+2]=me>>>8,this[fe+3]=me&255,fe+4},Y.prototype.writeBigInt64LE=rt(function(me,fe=0){return ot(this,me,fe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),Y.prototype.writeBigInt64BE=rt(function(me,fe=0){return nt(this,me,fe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function dt(me,fe,ye,Ae,Be,He){if(ye+Ae>me.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("Index out of range")}function Fe(me,fe,ye,Ae,Be){return fe=+fe,ye=ye>>>0,Be||dt(me,fe,ye,4),Q.write(me,fe,ye,Ae,23,4),ye+4}Y.prototype.writeFloatLE=function(me,fe,ye){return Fe(this,me,fe,!0,ye)},Y.prototype.writeFloatBE=function(me,fe,ye){return Fe(this,me,fe,!1,ye)};function Xe(me,fe,ye,Ae,Be){return fe=+fe,ye=ye>>>0,Be||dt(me,fe,ye,8),Q.write(me,fe,ye,Ae,52,8),ye+8}Y.prototype.writeDoubleLE=function(me,fe,ye){return Xe(this,me,fe,!0,ye)},Y.prototype.writeDoubleBE=function(me,fe,ye){return Xe(this,me,fe,!1,ye)},Y.prototype.copy=function(me,fe,ye,Ae){if(!Y.isBuffer(me))throw new TypeError("argument should be a Buffer");if(ye||(ye=0),!Ae&&Ae!==0&&(Ae=this.length),fe>=me.length&&(fe=me.length),fe||(fe=0),Ae>0&&Ae<ye&&(Ae=ye),Ae===ye||me.length===0||this.length===0)return 0;if(fe<0)throw new RangeError("targetStart out of bounds");if(ye<0||ye>=this.length)throw new RangeError("Index out of range");if(Ae<0)throw new RangeError("sourceEnd out of bounds");Ae>this.length&&(Ae=this.length),me.length-fe<Ae-ye&&(Ae=me.length-fe+ye);const Be=Ae-ye;return this===me&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(fe,ye,Ae):Uint8Array.prototype.set.call(me,this.subarray(ye,Ae),fe),Be},Y.prototype.fill=function(me,fe,ye,Ae){if(typeof me=="string"){if(typeof fe=="string"?(Ae=fe,fe=0,ye=this.length):typeof ye=="string"&&(Ae=ye,ye=this.length),Ae!==void 0&&typeof Ae!="string")throw new TypeError("encoding must be a string");if(typeof Ae=="string"&&!Y.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae);if(me.length===1){const He=me.charCodeAt(0);(Ae==="utf8"&&He<128||Ae==="latin1")&&(me=He)}}else typeof me=="number"?me=me&255:typeof me=="boolean"&&(me=Number(me));if(fe<0||this.length<fe||this.length<ye)throw new RangeError("Out of range index");if(ye<=fe)return this;fe=fe>>>0,ye=ye===void 0?this.length:ye>>>0,me||(me=0);let Be;if(typeof me=="number")for(Be=fe;Be<ye;++Be)this[Be]=me;else{const He=Y.isBuffer(me)?me:Y.from(me,Ae),Je=He.length;if(Je===0)throw new TypeError('The value "'+me+'" is invalid for argument "value"');for(Be=0;Be<ye-fe;++Be)this[Be+fe]=He[Be%Je]}return this};const pt={};function yt(me,fe,ye){pt[me]=class extends ye{constructor(){super(),Object.defineProperty(this,"message",{value:fe.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${me}]`,this.stack,delete this.name}get code(){return me}set code(Ae){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ae,writable:!0})}toString(){return`${this.name} [${me}]: ${this.message}`}}}yt("ERR_BUFFER_OUT_OF_BOUNDS",function(me){return me?`${me} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),yt("ERR_INVALID_ARG_TYPE",function(me,fe){return`The "${me}" argument must be of type number. Received type ${typeof fe}`},TypeError),yt("ERR_OUT_OF_RANGE",function(me,fe,ye){let Ae=`The value of "${me}" is out of range.`,Be=ye;return Number.isInteger(ye)&&Math.abs(ye)>2**32?Be=vt(String(ye)):typeof ye=="bigint"&&(Be=String(ye),(ye>BigInt(2)**BigInt(32)||ye<-(BigInt(2)**BigInt(32)))&&(Be=vt(Be)),Be+="n"),Ae+=` It must be ${fe}. Received ${Be}`,Ae},RangeError);function vt(me){let fe="",ye=me.length;const Ae=me[0]==="-"?1:0;for(;ye>=Ae+4;ye-=3)fe=`_${me.slice(ye-3,ye)}${fe}`;return`${me.slice(0,ye)}${fe}`}function mt(me,fe,ye){we(fe,"offset"),(me[fe]===void 0||me[fe+ye]===void 0)&&Re(fe,me.length-(ye+1))}function Tt(me,fe,ye,Ae,Be,He){if(me>ye||me<fe){const Je=typeof fe=="bigint"?"n":"";let st;throw fe===0||fe===BigInt(0)?st=`>= 0${Je} and < 2${Je} ** ${(He+1)*8}${Je}`:st=`>= -(2${Je} ** ${(He+1)*8-1}${Je}) and < 2 ** ${(He+1)*8-1}${Je}`,new pt.ERR_OUT_OF_RANGE("value",st,me)}mt(Ae,Be,He)}function we(me,fe){if(typeof me!="number")throw new pt.ERR_INVALID_ARG_TYPE(fe,"number",me)}function Re(me,fe,ye){throw Math.floor(me)!==me?(we(me,ye),new pt.ERR_OUT_OF_RANGE("offset","an integer",me)):fe<0?new pt.ERR_BUFFER_OUT_OF_BOUNDS:new pt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${fe}`,me)}const _e=/[^+/0-9A-Za-z-_]/g;function Me(me){if(me=me.split("=")[0],me=me.trim().replace(_e,""),me.length<2)return"";for(;me.length%4!==0;)me=me+"=";return me}function Ie(me,fe){fe=fe||1/0;let ye;const Ae=me.length;let Be=null;const He=[];for(let Je=0;Je<Ae;++Je){if(ye=me.charCodeAt(Je),ye>55295&&ye<57344){if(!Be){if(ye>56319){(fe-=3)>-1&&He.push(239,191,189);continue}else if(Je+1===Ae){(fe-=3)>-1&&He.push(239,191,189);continue}Be=ye;continue}if(ye<56320){(fe-=3)>-1&&He.push(239,191,189),Be=ye;continue}ye=(Be-55296<<10|ye-56320)+65536}else Be&&(fe-=3)>-1&&He.push(239,191,189);if(Be=null,ye<128){if((fe-=1)<0)break;He.push(ye)}else if(ye<2048){if((fe-=2)<0)break;He.push(ye>>6|192,ye&63|128)}else if(ye<65536){if((fe-=3)<0)break;He.push(ye>>12|224,ye>>6&63|128,ye&63|128)}else if(ye<1114112){if((fe-=4)<0)break;He.push(ye>>18|240,ye>>12&63|128,ye>>6&63|128,ye&63|128)}else throw new Error("Invalid code point")}return He}function De(me){const fe=[];for(let ye=0;ye<me.length;++ye)fe.push(me.charCodeAt(ye)&255);return fe}function qe(me,fe){let ye,Ae,Be;const He=[];for(let Je=0;Je<me.length&&!((fe-=2)<0);++Je)ye=me.charCodeAt(Je),Ae=ye>>8,Be=ye%256,He.push(Be),He.push(Ae);return He}function Le(me){return G.toByteArray(Me(me))}function Qe(me,fe,ye,Ae){let Be;for(Be=0;Be<Ae&&!(Be+ye>=fe.length||Be>=me.length);++Be)fe[Be+ye]=me[Be];return Be}function We(me,fe){return me instanceof fe||me!=null&&me.constructor!=null&&me.constructor.name!=null&&me.constructor.name===fe.name}function $e(me){return me!==me}const Ye=function(){const me="0123456789abcdef",fe=new Array(256);for(let ye=0;ye<16;++ye){const Ae=ye*16;for(let Be=0;Be<16;++Be)fe[Ae+Be]=me[ye]+me[Be]}return fe}();function rt(me){return typeof BigInt>"u"?at:me}function at(){throw new Error("BigInt not supported")}}(buffer);let lazy=null;var textEndec$1=function(){return lazy===null&&(lazy={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),lazy},formats$2={},encoding={};const ModuleError$8=moduleError,formats$1=new Set(["buffer","view","utf8"]);let Encoding$2=class{constructor(U){if(this.encode=U.encode||this.encode,this.decode=U.decode||this.decode,this.name=U.name||this.name,this.format=U.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!formats$1.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");U.createViewTranscoder&&(this.createViewTranscoder=U.createViewTranscoder),U.createBufferTranscoder&&(this.createBufferTranscoder=U.createBufferTranscoder),U.createUTF8Transcoder&&(this.createUTF8Transcoder=U.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new ModuleError$8(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};encoding.Encoding=Encoding$2;const{Buffer:Buffer$1}=buffer||{},{Encoding:Encoding$1}=encoding,textEndec=textEndec$1;let BufferFormat$2=class extends Encoding$1{constructor(U){super({...U,format:"buffer"})}createViewTranscoder(){return new ViewFormat$2({encode:this.encode,decode:U=>this.decode(Buffer$1.from(U.buffer,U.byteOffset,U.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},ViewFormat$2=class extends Encoding$1{constructor(U){super({...U,format:"view"})}createBufferTranscoder(){return new BufferFormat$2({encode:U=>{const G=this.encode(U);return Buffer$1.from(G.buffer,G.byteOffset,G.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},UTF8Format$2=class extends Encoding$1{constructor(U){super({...U,format:"utf8"})}createBufferTranscoder(){return new BufferFormat$2({encode:U=>Buffer$1.from(this.encode(U),"utf8"),decode:U=>this.decode(U.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){const{textEncoder:U,textDecoder:G}=textEndec();return new ViewFormat$2({encode:Q=>U.encode(this.encode(Q)),decode:Q=>this.decode(G.decode(Q)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};formats$2.BufferFormat=BufferFormat$2,formats$2.ViewFormat=ViewFormat$2,formats$2.UTF8Format=UTF8Format$2;const{Buffer}=buffer||{Buffer:{isBuffer:()=>!1}},{textEncoder,textDecoder}=textEndec$1(),{BufferFormat:BufferFormat$1,ViewFormat:ViewFormat$1,UTF8Format:UTF8Format$1}=formats$2,identity$4=U=>U;encodings$1.utf8=new UTF8Format$1({encode:function(U){return Buffer.isBuffer(U)?U.toString("utf8"):ArrayBuffer.isView(U)?textDecoder.decode(U):String(U)},decode:identity$4,name:"utf8",createViewTranscoder(){return new ViewFormat$1({encode:function(U){return ArrayBuffer.isView(U)?U:textEncoder.encode(U)},decode:function(U){return textDecoder.decode(U)},name:`${this.name}+view`})},createBufferTranscoder(){return new BufferFormat$1({encode:function(U){return Buffer.isBuffer(U)?U:ArrayBuffer.isView(U)?Buffer.from(U.buffer,U.byteOffset,U.byteLength):Buffer.from(String(U),"utf8")},decode:function(U){return U.toString("utf8")},name:`${this.name}+buffer`})}}),encodings$1.json=new UTF8Format$1({encode:JSON.stringify,decode:JSON.parse,name:"json"}),encodings$1.buffer=new BufferFormat$1({encode:function(U){return Buffer.isBuffer(U)?U:ArrayBuffer.isView(U)?Buffer.from(U.buffer,U.byteOffset,U.byteLength):Buffer.from(String(U),"utf8")},decode:identity$4,name:"buffer",createViewTranscoder(){return new ViewFormat$1({encode:function(U){return ArrayBuffer.isView(U)?U:Buffer.from(String(U),"utf8")},decode:function(U){return Buffer.from(U.buffer,U.byteOffset,U.byteLength)},name:`${this.name}+view`})}}),encodings$1.view=new ViewFormat$1({encode:function(U){return ArrayBuffer.isView(U)?U:textEncoder.encode(U)},decode:identity$4,name:"view",createBufferTranscoder(){return new BufferFormat$1({encode:function(U){return Buffer.isBuffer(U)?U:ArrayBuffer.isView(U)?Buffer.from(U.buffer,U.byteOffset,U.byteLength):Buffer.from(String(U),"utf8")},decode:identity$4,name:`${this.name}+buffer`})}}),encodings$1.hex=new BufferFormat$1({encode:function(U){return Buffer.isBuffer(U)?U:Buffer.from(String(U),"hex")},decode:function(U){return U.toString("hex")},name:"hex"}),encodings$1.base64=new BufferFormat$1({encode:function(U){return Buffer.isBuffer(U)?U:Buffer.from(String(U),"base64")},decode:function(U){return U.toString("base64")},name:"base64"});const ModuleError$7=moduleError,encodings=encodings$1,{Encoding}=encoding,{BufferFormat,ViewFormat,UTF8Format}=formats$2,kFormats=Symbol("formats"),kEncodings=Symbol("encodings"),validFormats=new Set(["buffer","view","utf8"]);let Transcoder$1=class{constructor(U){if(Array.isArray(U)){if(!U.every(G=>validFormats.has(G)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[kEncodings]=new Map,this[kFormats]=new Set(U);for(const G in encodings)try{this.encoding(G)}catch(Q){if(Q.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw Q}}encodings(){return Array.from(new Set(this[kEncodings].values()))}encoding(U){let G=this[kEncodings].get(U);if(G===void 0){if(typeof U=="string"&&U!==""){if(G=lookup[U],!G)throw new ModuleError$7(`Encoding '${U}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof U!="object"||U===null)throw new TypeError("First argument 'encoding' must be a string or object");G=from$2(U)}const{name:Q,format:q}=G;if(!this[kFormats].has(q))if(this[kFormats].has("view"))G=G.createViewTranscoder();else if(this[kFormats].has("buffer"))G=G.createBufferTranscoder();else if(this[kFormats].has("utf8"))G=G.createUTF8Transcoder();else throw new ModuleError$7(`Encoding '${Q}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(const W of[U,Q,G.name,G.commonName])this[kEncodings].set(W,G)}return G}};levelTranscoder.Transcoder=Transcoder$1;function from$2(U){if(U instanceof Encoding)return U;const G="type"in U&&typeof U.type=="string"?U.type:void 0,Q=U.name||G||`anonymous-${anonymousCount++}`;switch(detectFormat(U)){case"view":return new ViewFormat({...U,name:Q});case"utf8":return new UTF8Format({...U,name:Q});case"buffer":return new BufferFormat({...U,name:Q});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function detectFormat(U){return"format"in U&&U.format!==void 0?U.format:"buffer"in U&&typeof U.buffer=="boolean"?U.buffer?"buffer":"utf8":"code"in U&&Number.isInteger(U.code)?"view":"buffer"}const aliases={binary:encodings.buffer,"utf-8":encodings.utf8},lookup={...encodings,...aliases};let anonymousCount=0;var events={exports:{}},R$1=typeof Reflect=="object"?Reflect:null,ReflectApply=R$1&&typeof R$1.apply=="function"?R$1.apply:function(U,G,Q){return Function.prototype.apply.call(U,G,Q)},ReflectOwnKeys;R$1&&typeof R$1.ownKeys=="function"?ReflectOwnKeys=R$1.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(U){return Object.getOwnPropertyNames(U).concat(Object.getOwnPropertySymbols(U))}:ReflectOwnKeys=function(U){return Object.getOwnPropertyNames(U)};function ProcessEmitWarning(U){console&&console.warn&&console.warn(U)}var NumberIsNaN=Number.isNaN||function(U){return U!==U};function EventEmitter$1(){EventEmitter$1.init.call(this)}events.exports=EventEmitter$1,events.exports.once=once,EventEmitter$1.EventEmitter=EventEmitter$1,EventEmitter$1.prototype._events=void 0,EventEmitter$1.prototype._eventsCount=0,EventEmitter$1.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(U){if(typeof U!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof U)}Object.defineProperty(EventEmitter$1,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(U){if(typeof U!="number"||U<0||NumberIsNaN(U))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+U+".");defaultMaxListeners=U}}),EventEmitter$1.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter$1.prototype.setMaxListeners=function(U){if(typeof U!="number"||U<0||NumberIsNaN(U))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+U+".");return this._maxListeners=U,this};function _getMaxListeners(U){return U._maxListeners===void 0?EventEmitter$1.defaultMaxListeners:U._maxListeners}EventEmitter$1.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter$1.prototype.emit=function(U){for(var G=[],Q=1;Q<arguments.length;Q++)G.push(arguments[Q]);var q=U==="error",W=this._events;if(W!==void 0)q=q&&W.error===void 0;else if(!q)return!1;if(q){var J;if(G.length>0&&(J=G[0]),J instanceof Error)throw J;var F=new Error("Unhandled error."+(J?" ("+J.message+")":""));throw F.context=J,F}var Y=W[U];if(Y===void 0)return!1;if(typeof Y=="function")ReflectApply(Y,this,G);else for(var X=Y.length,te=arrayClone(Y,X),Q=0;Q<X;++Q)ReflectApply(te[Q],this,G);return!0};function _addListener(U,G,Q,q){var W,J,F;if(checkListener(Q),J=U._events,J===void 0?(J=U._events=Object.create(null),U._eventsCount=0):(J.newListener!==void 0&&(U.emit("newListener",G,Q.listener?Q.listener:Q),J=U._events),F=J[G]),F===void 0)F=J[G]=Q,++U._eventsCount;else if(typeof F=="function"?F=J[G]=q?[Q,F]:[F,Q]:q?F.unshift(Q):F.push(Q),W=_getMaxListeners(U),W>0&&F.length>W&&!F.warned){F.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(G)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=U,Y.type=G,Y.count=F.length,ProcessEmitWarning(Y)}return U}EventEmitter$1.prototype.addListener=function(U,G){return _addListener(this,U,G,!1)},EventEmitter$1.prototype.on=EventEmitter$1.prototype.addListener,EventEmitter$1.prototype.prependListener=function(U,G){return _addListener(this,U,G,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(U,G,Q){var q={fired:!1,wrapFn:void 0,target:U,type:G,listener:Q},W=onceWrapper.bind(q);return W.listener=Q,q.wrapFn=W,W}EventEmitter$1.prototype.once=function(U,G){return checkListener(G),this.on(U,_onceWrap(this,U,G)),this},EventEmitter$1.prototype.prependOnceListener=function(U,G){return checkListener(G),this.prependListener(U,_onceWrap(this,U,G)),this},EventEmitter$1.prototype.removeListener=function(U,G){var Q,q,W,J,F;if(checkListener(G),q=this._events,q===void 0)return this;if(Q=q[U],Q===void 0)return this;if(Q===G||Q.listener===G)--this._eventsCount===0?this._events=Object.create(null):(delete q[U],q.removeListener&&this.emit("removeListener",U,Q.listener||G));else if(typeof Q!="function"){for(W=-1,J=Q.length-1;J>=0;J--)if(Q[J]===G||Q[J].listener===G){F=Q[J].listener,W=J;break}if(W<0)return this;W===0?Q.shift():spliceOne(Q,W),Q.length===1&&(q[U]=Q[0]),q.removeListener!==void 0&&this.emit("removeListener",U,F||G)}return this},EventEmitter$1.prototype.off=EventEmitter$1.prototype.removeListener,EventEmitter$1.prototype.removeAllListeners=function(U){var G,Q,q;if(Q=this._events,Q===void 0)return this;if(Q.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Q[U]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Q[U]),this;if(arguments.length===0){var W=Object.keys(Q),J;for(q=0;q<W.length;++q)J=W[q],J!=="removeListener"&&this.removeAllListeners(J);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(G=Q[U],typeof G=="function")this.removeListener(U,G);else if(G!==void 0)for(q=G.length-1;q>=0;q--)this.removeListener(U,G[q]);return this};function _listeners(U,G,Q){var q=U._events;if(q===void 0)return[];var W=q[G];return W===void 0?[]:typeof W=="function"?Q?[W.listener||W]:[W]:Q?unwrapListeners(W):arrayClone(W,W.length)}EventEmitter$1.prototype.listeners=function(U){return _listeners(this,U,!0)},EventEmitter$1.prototype.rawListeners=function(U){return _listeners(this,U,!1)},EventEmitter$1.listenerCount=function(U,G){return typeof U.listenerCount=="function"?U.listenerCount(G):listenerCount.call(U,G)},EventEmitter$1.prototype.listenerCount=listenerCount;function listenerCount(U){var G=this._events;if(G!==void 0){var Q=G[U];if(typeof Q=="function")return 1;if(Q!==void 0)return Q.length}return 0}EventEmitter$1.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(U,G){for(var Q=new Array(G),q=0;q<G;++q)Q[q]=U[q];return Q}function spliceOne(U,G){for(;G+1<U.length;G++)U[G]=U[G+1];U.pop()}function unwrapListeners(U){for(var G=new Array(U.length),Q=0;Q<G.length;++Q)G[Q]=U[Q].listener||U[Q];return G}function once(U,G){return new Promise(function(Q,q){function W(F){U.removeListener(G,J),q(F)}function J(){typeof U.removeListener=="function"&&U.removeListener("error",W),Q([].slice.call(arguments))}eventTargetAgnosticAddListener(U,G,J,{once:!0}),G!=="error"&&addErrorHandlerIfEventEmitter(U,W,{once:!0})})}function addErrorHandlerIfEventEmitter(U,G,Q){typeof U.on=="function"&&eventTargetAgnosticAddListener(U,"error",G,Q)}function eventTargetAgnosticAddListener(U,G,Q,q){if(typeof U.on=="function")q.once?U.once(G,Q):U.on(G,Q);else if(typeof U.addEventListener=="function")U.addEventListener(G,function W(J){q.once&&U.removeEventListener(G,W),Q(J)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof U)}var eventsExports=events.exports,catering={},nextTickBrowser$1=typeof queueMicrotask=="function"?queueMicrotask:U=>Promise.resolve().then(U),nextTick$1=nextTickBrowser$1;catering.fromCallback=function(U,G){if(U===void 0){var Q=new Promise(function(q,W){U=function(J,F){J?W(J):q(F)}});U[G!==void 0?G:"promise"]=Q}else if(typeof U!="function")throw new TypeError("Callback must be a function");return U},catering.fromPromise=function(U,G){if(G===void 0)return U;U.then(function(Q){nextTick$1(()=>G(null,Q))}).catch(function(Q){nextTick$1(()=>G(Q))})};var abstractIterator={},common$6={};common$6.getCallback=function(U,G){return typeof U=="function"?U:G},common$6.getOptions=function(U,G){return typeof U=="object"&&U!==null?U:G!==void 0?G:{}};const{fromCallback:fromCallback$2}=catering,ModuleError$6=moduleError,{getOptions:getOptions$2,getCallback:getCallback$2}=common$6,kPromise$2=Symbol("promise"),kCallback$1=Symbol("callback"),kWorking=Symbol("working"),kHandleOne$1=Symbol("handleOne"),kHandleMany$1=Symbol("handleMany"),kAutoClose=Symbol("autoClose"),kFinishWork=Symbol("finishWork"),kReturnMany=Symbol("returnMany"),kClosing=Symbol("closing"),kHandleClose=Symbol("handleClose"),kClosed=Symbol("closed"),kCloseCallbacks$1=Symbol("closeCallbacks"),kKeyEncoding$1=Symbol("keyEncoding"),kValueEncoding$1=Symbol("valueEncoding"),kAbortOnClose=Symbol("abortOnClose"),kLegacy=Symbol("legacy"),kKeys=Symbol("keys"),kValues=Symbol("values"),kLimit=Symbol("limit"),kCount=Symbol("count"),emptyOptions=Object.freeze({}),noop$3=()=>{};let warnedEnd=!1;class CommonIterator{constructor(G,Q,q){if(typeof G!="object"||G===null){const W=G===null?"null":typeof G;throw new TypeError(`The first argument must be an abstract-level database, received ${W}`)}if(typeof Q!="object"||Q===null)throw new TypeError("The second argument must be an options object");this[kClosed]=!1,this[kCloseCallbacks$1]=[],this[kWorking]=!1,this[kClosing]=!1,this[kAutoClose]=!1,this[kCallback$1]=null,this[kHandleOne$1]=this[kHandleOne$1].bind(this),this[kHandleMany$1]=this[kHandleMany$1].bind(this),this[kHandleClose]=this[kHandleClose].bind(this),this[kKeyEncoding$1]=Q[kKeyEncoding$1],this[kValueEncoding$1]=Q[kValueEncoding$1],this[kLegacy]=q,this[kLimit]=Number.isInteger(Q.limit)&&Q.limit>=0?Q.limit:1/0,this[kCount]=0,this[kAbortOnClose]=!!Q.abortOnClose,this.db=G,this.db.attachResource(this),this.nextTick=G.nextTick}get count(){return this[kCount]}get limit(){return this[kLimit]}next(G){let Q;if(G===void 0)Q=new Promise((q,W)=>{G=(J,F,Y)=>{J?W(J):this[kLegacy]?F===void 0&&Y===void 0?q():q([F,Y]):q(F)}});else if(typeof G!="function")throw new TypeError("Callback must be a function");return this[kClosing]?this.nextTick(G,new ModuleError$6("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(G,new ModuleError$6("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[kWorking]=!0,this[kCallback$1]=G,this[kCount]>=this[kLimit]?this.nextTick(this[kHandleOne$1],null):this._next(this[kHandleOne$1])),Q}_next(G){this.nextTick(G)}nextv(G,Q,q){return q=getCallback$2(Q,q),q=fromCallback$2(q,kPromise$2),Q=getOptions$2(Q,emptyOptions),Number.isInteger(G)?(this[kClosing]?this.nextTick(q,new ModuleError$6("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(q,new ModuleError$6("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(G<1&&(G=1),this[kLimit]<1/0&&(G=Math.min(G,this[kLimit]-this[kCount])),this[kWorking]=!0,this[kCallback$1]=q,G<=0?this.nextTick(this[kHandleMany$1],null,[]):this._nextv(G,Q,this[kHandleMany$1])),q[kPromise$2]):(this.nextTick(q,new TypeError("The first argument 'size' must be an integer")),q[kPromise$2])}_nextv(G,Q,q){const W=[],J=(F,Y,X)=>{if(F)return q(F);if(this[kLegacy]?Y===void 0&&X===void 0:Y===void 0)return q(null,W);W.push(this[kLegacy]?[Y,X]:Y),W.length===G?q(null,W):this._next(J)};this._next(J)}all(G,Q){return Q=getCallback$2(G,Q),Q=fromCallback$2(Q,kPromise$2),G=getOptions$2(G,emptyOptions),this[kClosing]?this.nextTick(Q,new ModuleError$6("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[kWorking]?this.nextTick(Q,new ModuleError$6("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[kWorking]=!0,this[kCallback$1]=Q,this[kAutoClose]=!0,this[kCount]>=this[kLimit]?this.nextTick(this[kHandleMany$1],null,[]):this._all(G,this[kHandleMany$1])),Q[kPromise$2]}_all(G,Q){let q=this[kCount];const W=[],J=()=>{const Y=this[kLimit]<1/0?Math.min(1e3,this[kLimit]-q):1e3;Y<=0?this.nextTick(Q,null,W):this._nextv(Y,emptyOptions,F)},F=(Y,X)=>{Y?Q(Y):X.length===0?Q(null,W):(W.push.apply(W,X),q+=X.length,J())};J()}[kFinishWork](){const G=this[kCallback$1];return this[kAbortOnClose]&&G===null?noop$3:(this[kWorking]=!1,this[kCallback$1]=null,this[kClosing]&&this._close(this[kHandleClose]),G)}[kReturnMany](G,Q,q){this[kAutoClose]?this.close(G.bind(null,Q,q)):G(Q,q)}seek(G,Q){if(Q=getOptions$2(Q,emptyOptions),!this[kClosing]){if(this[kWorking])throw new ModuleError$6("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{const q=this.db.keyEncoding(Q.keyEncoding||this[kKeyEncoding$1]),W=q.format;Q.keyEncoding!==W&&(Q={...Q,keyEncoding:W});const J=this.db.prefixKey(q.encode(G),W);this._seek(J,Q)}}}_seek(G,Q){throw new ModuleError$6("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(G){return G=fromCallback$2(G,kPromise$2),this[kClosed]?this.nextTick(G):this[kClosing]?this[kCloseCallbacks$1].push(G):(this[kClosing]=!0,this[kCloseCallbacks$1].push(G),this[kWorking]?this[kAbortOnClose]&&this[kFinishWork]()(new ModuleError$6("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[kHandleClose])),G[kPromise$2]}_close(G){this.nextTick(G)}[kHandleClose](){this[kClosed]=!0,this.db.detachResource(this);const G=this[kCloseCallbacks$1];this[kCloseCallbacks$1]=[];for(const Q of G)Q()}async*[Symbol.asyncIterator](){try{let G;for(;(G=await this.next())!==void 0;)yield G}finally{this[kClosed]||await this.close()}}}let AbstractIterator$3=class extends CommonIterator{constructor(U,G){super(U,G,!0),this[kKeys]=G.keys!==!1,this[kValues]=G.values!==!1}[kHandleOne$1](U,G,Q){const q=this[kFinishWork]();if(U)return q(U);try{G=this[kKeys]&&G!==void 0?this[kKeyEncoding$1].decode(G):void 0,Q=this[kValues]&&Q!==void 0?this[kValueEncoding$1].decode(Q):void 0}catch(W){return q(new IteratorDecodeError("entry",W))}G===void 0&&Q===void 0||this[kCount]++,q(null,G,Q)}[kHandleMany$1](U,G){const Q=this[kFinishWork]();if(U)return this[kReturnMany](Q,U);try{for(const q of G){const W=q[0],J=q[1];q[0]=this[kKeys]&&W!==void 0?this[kKeyEncoding$1].decode(W):void 0,q[1]=this[kValues]&&J!==void 0?this[kValueEncoding$1].decode(J):void 0}}catch(q){return this[kReturnMany](Q,new IteratorDecodeError("entries",q))}this[kCount]+=G.length,this[kReturnMany](Q,null,G)}end(U){return!warnedEnd&&typeof console<"u"&&(warnedEnd=!0,console.warn(new ModuleError$6("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(U)}},AbstractKeyIterator$3=class extends CommonIterator{constructor(U,G){super(U,G,!1)}[kHandleOne$1](U,G){const Q=this[kFinishWork]();if(U)return Q(U);try{G=G!==void 0?this[kKeyEncoding$1].decode(G):void 0}catch(q){return Q(new IteratorDecodeError("key",q))}G!==void 0&&this[kCount]++,Q(null,G)}[kHandleMany$1](U,G){const Q=this[kFinishWork]();if(U)return this[kReturnMany](Q,U);try{for(let q=0;q<G.length;q++){const W=G[q];G[q]=W!==void 0?this[kKeyEncoding$1].decode(W):void 0}}catch(q){return this[kReturnMany](Q,new IteratorDecodeError("keys",q))}this[kCount]+=G.length,this[kReturnMany](Q,null,G)}},AbstractValueIterator$3=class extends CommonIterator{constructor(U,G){super(U,G,!1)}[kHandleOne$1](U,G){const Q=this[kFinishWork]();if(U)return Q(U);try{G=G!==void 0?this[kValueEncoding$1].decode(G):void 0}catch(q){return Q(new IteratorDecodeError("value",q))}G!==void 0&&this[kCount]++,Q(null,G)}[kHandleMany$1](U,G){const Q=this[kFinishWork]();if(U)return this[kReturnMany](Q,U);try{for(let q=0;q<G.length;q++){const W=G[q];G[q]=W!==void 0?this[kValueEncoding$1].decode(W):void 0}}catch(q){return this[kReturnMany](Q,new IteratorDecodeError("values",q))}this[kCount]+=G.length,this[kReturnMany](Q,null,G)}};class IteratorDecodeError extends ModuleError$6{constructor(G,Q){super(`Iterator could not decode ${G}`,{code:"LEVEL_DECODE_ERROR",cause:Q})}}for(const U of["_ended property","_nexting property","_end method"])Object.defineProperty(AbstractIterator$3.prototype,U.split(" ")[0],{get(){throw new ModuleError$6(`The ${U} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new ModuleError$6(`The ${U} has been removed`,{code:"LEVEL_LEGACY"})}});AbstractIterator$3.keyEncoding=kKeyEncoding$1,AbstractIterator$3.valueEncoding=kValueEncoding$1,abstractIterator.AbstractIterator=AbstractIterator$3,abstractIterator.AbstractKeyIterator=AbstractKeyIterator$3,abstractIterator.AbstractValueIterator=AbstractValueIterator$3;var defaultKvIterator={};const{AbstractKeyIterator:AbstractKeyIterator$2,AbstractValueIterator:AbstractValueIterator$2}=abstractIterator,kIterator$1=Symbol("iterator"),kCallback=Symbol("callback"),kHandleOne=Symbol("handleOne"),kHandleMany=Symbol("handleMany");let DefaultKeyIterator$1=class extends AbstractKeyIterator$2{constructor(U,G){super(U,G),this[kIterator$1]=U.iterator({...G,keys:!0,values:!1}),this[kHandleOne]=this[kHandleOne].bind(this),this[kHandleMany]=this[kHandleMany].bind(this)}},DefaultValueIterator$1=class extends AbstractValueIterator$2{constructor(U,G){super(U,G),this[kIterator$1]=U.iterator({...G,keys:!1,values:!0}),this[kHandleOne]=this[kHandleOne].bind(this),this[kHandleMany]=this[kHandleMany].bind(this)}};for(const U of[DefaultKeyIterator$1,DefaultValueIterator$1]){const G=U===DefaultKeyIterator$1,Q=G?q=>q[0]:q=>q[1];U.prototype._next=function(q){this[kCallback]=q,this[kIterator$1].next(this[kHandleOne])},U.prototype[kHandleOne]=function(q,W,J){const F=this[kCallback];q?F(q):F(null,G?W:J)},U.prototype._nextv=function(q,W,J){this[kCallback]=J,this[kIterator$1].nextv(q,W,this[kHandleMany])},U.prototype._all=function(q,W){this[kCallback]=W,this[kIterator$1].all(q,this[kHandleMany])},U.prototype[kHandleMany]=function(q,W){const J=this[kCallback];q?J(q):J(null,W.map(Q))},U.prototype._seek=function(q,W){this[kIterator$1].seek(q,W)},U.prototype._close=function(q){this[kIterator$1].close(q)}}defaultKvIterator.DefaultKeyIterator=DefaultKeyIterator$1,defaultKvIterator.DefaultValueIterator=DefaultValueIterator$1;var deferredIterator={};const{AbstractIterator:AbstractIterator$2,AbstractKeyIterator:AbstractKeyIterator$1,AbstractValueIterator:AbstractValueIterator$1}=abstractIterator,ModuleError$5=moduleError,kNut=Symbol("nut"),kUndefer$1=Symbol("undefer"),kFactory=Symbol("factory");let DeferredIterator$1=class extends AbstractIterator$2{constructor(U,G){super(U,G),this[kNut]=null,this[kFactory]=()=>U.iterator(G),this.db.defer(()=>this[kUndefer$1]())}},DeferredKeyIterator$1=class extends AbstractKeyIterator$1{constructor(U,G){super(U,G),this[kNut]=null,this[kFactory]=()=>U.keys(G),this.db.defer(()=>this[kUndefer$1]())}},DeferredValueIterator$1=class extends AbstractValueIterator$1{constructor(U,G){super(U,G),this[kNut]=null,this[kFactory]=()=>U.values(G),this.db.defer(()=>this[kUndefer$1]())}};for(const U of[DeferredIterator$1,DeferredKeyIterator$1,DeferredValueIterator$1])U.prototype[kUndefer$1]=function(){this.db.status==="open"&&(this[kNut]=this[kFactory]())},U.prototype._next=function(G){this[kNut]!==null?this[kNut].next(G):this.db.status==="opening"?this.db.defer(()=>this._next(G)):this.nextTick(G,new ModuleError$5("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},U.prototype._nextv=function(G,Q,q){this[kNut]!==null?this[kNut].nextv(G,Q,q):this.db.status==="opening"?this.db.defer(()=>this._nextv(G,Q,q)):this.nextTick(q,new ModuleError$5("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},U.prototype._all=function(G,Q){this[kNut]!==null?this[kNut].all(Q):this.db.status==="opening"?this.db.defer(()=>this._all(G,Q)):this.nextTick(Q,new ModuleError$5("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},U.prototype._seek=function(G,Q){this[kNut]!==null?this[kNut]._seek(G,Q):this.db.status==="opening"&&this.db.defer(()=>this._seek(G,Q))},U.prototype._close=function(G){this[kNut]!==null?this[kNut].close(G):this.db.status==="opening"?this.db.defer(()=>this._close(G)):this.nextTick(G)};deferredIterator.DeferredIterator=DeferredIterator$1,deferredIterator.DeferredKeyIterator=DeferredKeyIterator$1,deferredIterator.DeferredValueIterator=DeferredValueIterator$1;var defaultChainedBatch={},abstractChainedBatch={};const{fromCallback:fromCallback$1}=catering,ModuleError$4=moduleError,{getCallback:getCallback$1,getOptions:getOptions$1}=common$6,kPromise$1=Symbol("promise"),kStatus$1=Symbol("status"),kOperations$1=Symbol("operations"),kFinishClose=Symbol("finishClose"),kCloseCallbacks=Symbol("closeCallbacks");let AbstractChainedBatch$1=class{constructor(U){if(typeof U!="object"||U===null){const G=U===null?"null":typeof U;throw new TypeError(`The first argument must be an abstract-level database, received ${G}`)}this[kOperations$1]=[],this[kCloseCallbacks]=[],this[kStatus$1]="open",this[kFinishClose]=this[kFinishClose].bind(this),this.db=U,this.db.attachResource(this),this.nextTick=U.nextTick}get length(){return this[kOperations$1].length}put(U,G,Q){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const q=this.db._checkKey(U)||this.db._checkValue(G);if(q)throw q;const W=Q&&Q.sublevel!=null?Q.sublevel:this.db,J=Q,F=W.keyEncoding(Q&&Q.keyEncoding),Y=W.valueEncoding(Q&&Q.valueEncoding),X=F.format;Q={...Q,keyEncoding:X,valueEncoding:Y.format},W!==this.db&&(Q.sublevel=null);const te=W.prefixKey(F.encode(U),X),re=Y.encode(G);return this._put(te,re,Q),this[kOperations$1].push({...J,type:"put",key:U,value:G}),this}_put(U,G,Q){}del(U,G){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});const Q=this.db._checkKey(U);if(Q)throw Q;const q=G&&G.sublevel!=null?G.sublevel:this.db,W=G,J=q.keyEncoding(G&&G.keyEncoding),F=J.format;return G={...G,keyEncoding:F},q!==this.db&&(G.sublevel=null),this._del(q.prefixKey(J.encode(U),F),G),this[kOperations$1].push({...W,type:"del",key:U}),this}_del(U,G){}clear(){if(this[kStatus$1]!=="open")throw new ModuleError$4("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[kOperations$1]=[],this}_clear(){}write(U,G){return G=getCallback$1(U,G),G=fromCallback$1(G,kPromise$1),U=getOptions$1(U),this[kStatus$1]!=="open"?this.nextTick(G,new ModuleError$4("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(G):(this[kStatus$1]="writing",this._write(U,Q=>{this[kStatus$1]="closing",this[kCloseCallbacks].push(()=>G(Q)),Q||this.db.emit("batch",this[kOperations$1]),this._close(this[kFinishClose])})),G[kPromise$1]}_write(U,G){}close(U){return U=fromCallback$1(U,kPromise$1),this[kStatus$1]==="closing"?this[kCloseCallbacks].push(U):this[kStatus$1]==="closed"?this.nextTick(U):(this[kCloseCallbacks].push(U),this[kStatus$1]!=="writing"&&(this[kStatus$1]="closing",this._close(this[kFinishClose]))),U[kPromise$1]}_close(U){this.nextTick(U)}[kFinishClose](){this[kStatus$1]="closed",this.db.detachResource(this);const U=this[kCloseCallbacks];this[kCloseCallbacks]=[];for(const G of U)G()}};abstractChainedBatch.AbstractChainedBatch=AbstractChainedBatch$1;const{AbstractChainedBatch}=abstractChainedBatch,ModuleError$3=moduleError,kEncoded=Symbol("encoded");let DefaultChainedBatch$1=class extends AbstractChainedBatch{constructor(U){super(U),this[kEncoded]=[]}_put(U,G,Q){this[kEncoded].push({...Q,type:"put",key:U,value:G})}_del(U,G){this[kEncoded].push({...G,type:"del",key:U})}_clear(){this[kEncoded]=[]}_write(U,G){this.db.status==="opening"?this.db.defer(()=>this._write(U,G)):this.db.status==="open"?this[kEncoded].length===0?this.nextTick(G):this.db._batch(this[kEncoded],U,G):this.nextTick(G,new ModuleError$3("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};defaultChainedBatch.DefaultChainedBatch=DefaultChainedBatch$1;const ModuleError$2=moduleError,hasOwnProperty$5=Object.prototype.hasOwnProperty,rangeOptions$2=new Set(["lt","lte","gt","gte"]);var rangeOptions_1=function(U,G){const Q={};for(const q in U)if(hasOwnProperty$5.call(U,q)&&!(q==="keyEncoding"||q==="valueEncoding")){if(q==="start"||q==="end")throw new ModuleError$2(`The legacy range option '${q}' has been removed`,{code:"LEVEL_LEGACY"});if(q==="encoding")throw new ModuleError$2("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});rangeOptions$2.has(q)?Q[q]=G.encode(U[q]):Q[q]=U[q]}return Q.reverse=!!Q.reverse,Q.limit=Number.isInteger(Q.limit)&&Q.limit>=0?Q.limit:-1,Q},queueMicrotask_1,hasRequiredQueueMicrotask;function requireQueueMicrotask(){if(hasRequiredQueueMicrotask)return queueMicrotask_1;hasRequiredQueueMicrotask=1;let U;return queueMicrotask_1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:commonjsGlobal):G=>(U||(U=Promise.resolve())).then(G).catch(Q=>setTimeout(()=>{throw Q},0)),queueMicrotask_1}var nextTickBrowser,hasRequiredNextTickBrowser;function requireNextTickBrowser(){if(hasRequiredNextTickBrowser)return nextTickBrowser;hasRequiredNextTickBrowser=1;const U=requireQueueMicrotask();return nextTickBrowser=function(G,...Q){Q.length===0?U(G):U(()=>G(...Q))},nextTickBrowser}var abstractSublevelIterator={},hasRequiredAbstractSublevelIterator;function requireAbstractSublevelIterator(){if(hasRequiredAbstractSublevelIterator)return abstractSublevelIterator;hasRequiredAbstractSublevelIterator=1;const{AbstractIterator:U,AbstractKeyIterator:G,AbstractValueIterator:Q}=abstractIterator,q=Symbol("unfix"),W=Symbol("iterator"),J=Symbol("handleOne"),F=Symbol("handleMany"),Y=Symbol("callback");class X extends U{constructor(ie,oe,ae,ue){super(ie,oe),this[W]=ae,this[q]=ue,this[J]=this[J].bind(this),this[F]=this[F].bind(this),this[Y]=null}[J](ie,oe,ae){const ue=this[Y];if(ie)return ue(ie);oe!==void 0&&(oe=this[q](oe)),ue(ie,oe,ae)}[F](ie,oe){const ae=this[Y];if(ie)return ae(ie);for(const ue of oe){const ce=ue[0];ce!==void 0&&(ue[0]=this[q](ce))}ae(ie,oe)}}class te extends G{constructor(ie,oe,ae,ue){super(ie,oe),this[W]=ae,this[q]=ue,this[J]=this[J].bind(this),this[F]=this[F].bind(this),this[Y]=null}[J](ie,oe){const ae=this[Y];if(ie)return ae(ie);oe!==void 0&&(oe=this[q](oe)),ae(ie,oe)}[F](ie,oe){const ae=this[Y];if(ie)return ae(ie);for(let ue=0;ue<oe.length;ue++){const ce=oe[ue];ce!==void 0&&(oe[ue]=this[q](ce))}ae(ie,oe)}}class re extends Q{constructor(ie,oe,ae){super(ie,oe),this[W]=ae}}for(const ne of[X,te])ne.prototype._next=function(ie){this[Y]=ie,this[W].next(this[J])},ne.prototype._nextv=function(ie,oe,ae){this[Y]=ae,this[W].nextv(ie,oe,this[F])},ne.prototype._all=function(ie,oe){this[Y]=oe,this[W].all(ie,this[F])};for(const ne of[re])ne.prototype._next=function(ie){this[W].next(ie)},ne.prototype._nextv=function(ie,oe,ae){this[W].nextv(ie,oe,ae)},ne.prototype._all=function(ie,oe){this[W].all(ie,oe)};for(const ne of[X,te,re])ne.prototype._seek=function(ie,oe){this[W].seek(ie,oe)},ne.prototype._close=function(ie){this[W].close(ie)};return abstractSublevelIterator.AbstractSublevelIterator=X,abstractSublevelIterator.AbstractSublevelKeyIterator=te,abstractSublevelIterator.AbstractSublevelValueIterator=re,abstractSublevelIterator}var abstractSublevel,hasRequiredAbstractSublevel;function requireAbstractSublevel(){if(hasRequiredAbstractSublevel)return abstractSublevel;hasRequiredAbstractSublevel=1;const U=moduleError,{Buffer:G}=buffer||{},{AbstractSublevelIterator:Q,AbstractSublevelKeyIterator:q,AbstractSublevelValueIterator:W}=requireAbstractSublevelIterator(),J=Symbol("prefix"),F=Symbol("upperBound"),Y=Symbol("prefixRange"),X=Symbol("parent"),te=Symbol("unfix"),re=new TextEncoder,ne={separator:"!"};abstractSublevel=function({AbstractLevel:se}){class le extends se{static defaults(he){if(typeof he=="string")throw new U("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(he&&he.open)throw new U("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return he==null?ne:he.separator?he:{...he,separator:"!"}}constructor(he,pe,ge){const{separator:be,manifest:ve,...Ee}=le.defaults(ge);pe=ce(pe,be);const ke=be.charCodeAt(0)+1,Pe=he[X]||he;if(!re.encode(pe).every(Ne=>Ne>ke&&Ne<127))throw new U(`Prefix must use bytes > ${ke} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(ie(Pe,ve),Ee);const Te=(he.prefix||"")+be+pe+be,xe=Te.slice(0,-1)+String.fromCharCode(ke);this[X]=Pe,this[J]=new ae(Te),this[F]=new ae(xe),this[te]=new ue,this.nextTick=Pe.nextTick}prefixKey(he,pe){if(pe==="utf8")return this[J].utf8+he;if(he.byteLength===0)return this[J][pe];if(pe==="view"){const ge=this[J].view,be=new Uint8Array(ge.byteLength+he.byteLength);return be.set(ge,0),be.set(he,ge.byteLength),be}else{const ge=this[J].buffer;return G.concat([ge,he],ge.byteLength+he.byteLength)}}[Y](he,pe){he.gte!==void 0?he.gte=this.prefixKey(he.gte,pe):he.gt!==void 0?he.gt=this.prefixKey(he.gt,pe):he.gte=this[J][pe],he.lte!==void 0?he.lte=this.prefixKey(he.lte,pe):he.lt!==void 0?he.lt=this.prefixKey(he.lt,pe):he.lte=this[F][pe]}get prefix(){return this[J].utf8}get db(){return this[X]}_open(he,pe){this[X].open({passive:!0},pe)}_put(he,pe,ge,be){this[X].put(he,pe,ge,be)}_get(he,pe,ge){this[X].get(he,pe,ge)}_getMany(he,pe,ge){this[X].getMany(he,pe,ge)}_del(he,pe,ge){this[X].del(he,pe,ge)}_batch(he,pe,ge){this[X].batch(he,pe,ge)}_clear(he,pe){this[Y](he,he.keyEncoding),this[X].clear(he,pe)}_iterator(he){this[Y](he,he.keyEncoding);const pe=this[X].iterator(he),ge=this[te].get(this[J].utf8.length,he.keyEncoding);return new Q(this,he,pe,ge)}_keys(he){this[Y](he,he.keyEncoding);const pe=this[X].keys(he),ge=this[te].get(this[J].utf8.length,he.keyEncoding);return new q(this,he,pe,ge)}_values(he){this[Y](he,he.keyEncoding);const pe=this[X].values(he);return new W(this,he,pe)}}return{AbstractSublevel:le}};const ie=function(se,le){return{...se.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...le,encodings:{utf8:oe(se,"utf8"),buffer:oe(se,"buffer"),view:oe(se,"view")}}},oe=function(se,le){return se.supports.encodings[le]?se.keyEncoding(le).name===le:!1};class ae{constructor(le){this.utf8=le,this.view=re.encode(le),this.buffer=G?G.from(this.view.buffer,0,this.view.byteLength):{}}}class ue{constructor(){this.cache=new Map}get(le,de){let he=this.cache.get(de);return he===void 0&&(de==="view"?he=(function(pe,ge){return ge.subarray(pe)}).bind(null,le):he=(function(pe,ge){return ge.slice(pe)}).bind(null,le),this.cache.set(de,he)),he}}const ce=function(se,le){let de=0,he=se.length;for(;de<he&&se[de]===le;)de++;for(;he>de&&se[he-1]===le;)he--;return se.slice(de,he)};return abstractSublevel}const{supports}=levelSupports,{Transcoder}=levelTranscoder,{EventEmitter}=eventsExports,{fromCallback}=catering,ModuleError$1=moduleError,{AbstractIterator:AbstractIterator$1}=abstractIterator,{DefaultKeyIterator,DefaultValueIterator}=defaultKvIterator,{DeferredIterator,DeferredKeyIterator,DeferredValueIterator}=deferredIterator,{DefaultChainedBatch}=defaultChainedBatch,{getCallback,getOptions}=common$6,rangeOptions$1=rangeOptions_1,kPromise=Symbol("promise"),kLanded=Symbol("landed"),kResources=Symbol("resources"),kCloseResources=Symbol("closeResources"),kOperations=Symbol("operations"),kUndefer=Symbol("undefer"),kDeferOpen=Symbol("deferOpen"),kOptions$1=Symbol("options"),kStatus=Symbol("status"),kDefaultOptions=Symbol("defaultOptions"),kTranscoder=Symbol("transcoder"),kKeyEncoding=Symbol("keyEncoding"),kValueEncoding=Symbol("valueEncoding"),noop$2=()=>{};let AbstractLevel$1=class extends EventEmitter{constructor(U,G){if(super(),typeof U!="object"||U===null)throw new TypeError("The first argument 'manifest' must be an object");G=getOptions(G);const{keyEncoding:Q,valueEncoding:q,passive:W,...J}=G;this[kResources]=new Set,this[kOperations]=[],this[kDeferOpen]=!0,this[kOptions$1]=J,this[kStatus]="opening",this.supports=supports(U,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:U.snapshots!==!1,permanence:U.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:U.encodings||{},events:Object.assign({},U.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[kTranscoder]=new Transcoder(formats(this)),this[kKeyEncoding]=this[kTranscoder].encoding(Q||"utf8"),this[kValueEncoding]=this[kTranscoder].encoding(q||"utf8");for(const F of this[kTranscoder].encodings())this.supports.encodings[F.commonName]||(this.supports.encodings[F.commonName]=!0);this[kDefaultOptions]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[kKeyEncoding].commonName,valueEncoding:this[kValueEncoding].commonName}),key:Object.freeze({keyEncoding:this[kKeyEncoding].commonName})},this.nextTick(()=>{this[kDeferOpen]&&this.open({passive:!1},noop$2)})}get status(){return this[kStatus]}keyEncoding(U){return this[kTranscoder].encoding(U??this[kKeyEncoding])}valueEncoding(U){return this[kTranscoder].encoding(U??this[kValueEncoding])}open(U,G){G=getCallback(U,G),G=fromCallback(G,kPromise),U={...this[kOptions$1],...getOptions(U)},U.createIfMissing=U.createIfMissing!==!1,U.errorIfExists=!!U.errorIfExists;const Q=q=>{this[kStatus]==="closing"||this[kStatus]==="opening"?this.once(kLanded,q?()=>Q(q):Q):this[kStatus]!=="open"?G(new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:q})):G()};return U.passive?this[kStatus]==="opening"?this.once(kLanded,Q):this.nextTick(Q):this[kStatus]==="closed"||this[kDeferOpen]?(this[kDeferOpen]=!1,this[kStatus]="opening",this.emit("opening"),this._open(U,q=>{if(q){this[kStatus]="closed",this[kCloseResources](()=>{this.emit(kLanded),Q(q)}),this[kUndefer]();return}this[kStatus]="open",this[kUndefer](),this.emit(kLanded),this[kStatus]==="open"&&this.emit("open"),this[kStatus]==="open"&&this.emit("ready"),Q()})):this[kStatus]==="open"?this.nextTick(Q):this.once(kLanded,()=>this.open(U,G)),G[kPromise]}_open(U,G){this.nextTick(G)}close(U){U=fromCallback(U,kPromise);const G=Q=>{this[kStatus]==="opening"||this[kStatus]==="closing"?this.once(kLanded,Q?G(Q):G):this[kStatus]!=="closed"?U(new ModuleError$1("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:Q})):U()};if(this[kStatus]==="open"){this[kStatus]="closing",this.emit("closing");const Q=q=>{this[kStatus]="open",this[kUndefer](),this.emit(kLanded),G(q)};this[kCloseResources](()=>{this._close(q=>{if(q)return Q(q);this[kStatus]="closed",this[kUndefer](),this.emit(kLanded),this[kStatus]==="closed"&&this.emit("closed"),G()})})}else this[kStatus]==="closed"?this.nextTick(G):this.once(kLanded,()=>this.close(U));return U[kPromise]}[kCloseResources](U){if(this[kResources].size===0)return this.nextTick(U);let G=this[kResources].size,Q=!0;const q=()=>{--G===0&&(Q?this.nextTick(U):U())};for(const W of this[kResources])W.close(q);Q=!1,this[kResources].clear()}_close(U){this.nextTick(U)}get(U,G,Q){if(Q=getCallback(G,Q),Q=fromCallback(Q,kPromise),G=getOptions(G,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.get(U,G,Q)),Q[kPromise];if(maybeError(this,Q))return Q[kPromise];const q=this._checkKey(U);if(q)return this.nextTick(Q,q),Q[kPromise];const W=this.keyEncoding(G.keyEncoding),J=this.valueEncoding(G.valueEncoding),F=W.format,Y=J.format;return(G.keyEncoding!==F||G.valueEncoding!==Y)&&(G=Object.assign({},G,{keyEncoding:F,valueEncoding:Y})),this._get(this.prefixKey(W.encode(U),F),G,(X,te)=>{if(X)return(X.code==="LEVEL_NOT_FOUND"||X.notFound||/NotFound/i.test(X))&&(X.code||(X.code="LEVEL_NOT_FOUND"),X.notFound||(X.notFound=!0),X.status||(X.status=404)),Q(X);try{te=J.decode(te)}catch(re){return Q(new ModuleError$1("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:re}))}Q(null,te)}),Q[kPromise]}_get(U,G,Q){this.nextTick(Q,new Error("NotFound"))}getMany(U,G,Q){if(Q=getCallback(G,Q),Q=fromCallback(Q,kPromise),G=getOptions(G,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.getMany(U,G,Q)),Q[kPromise];if(maybeError(this,Q))return Q[kPromise];if(!Array.isArray(U))return this.nextTick(Q,new TypeError("The first argument 'keys' must be an array")),Q[kPromise];if(U.length===0)return this.nextTick(Q,null,[]),Q[kPromise];const q=this.keyEncoding(G.keyEncoding),W=this.valueEncoding(G.valueEncoding),J=q.format,F=W.format;(G.keyEncoding!==J||G.valueEncoding!==F)&&(G=Object.assign({},G,{keyEncoding:J,valueEncoding:F}));const Y=new Array(U.length);for(let X=0;X<U.length;X++){const te=U[X],re=this._checkKey(te);if(re)return this.nextTick(Q,re),Q[kPromise];Y[X]=this.prefixKey(q.encode(te),J)}return this._getMany(Y,G,(X,te)=>{if(X)return Q(X);try{for(let re=0;re<te.length;re++)te[re]!==void 0&&(te[re]=W.decode(te[re]))}catch(re){return Q(new ModuleError$1(`Could not decode one or more of ${te.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:re}))}Q(null,te)}),Q[kPromise]}_getMany(U,G,Q){this.nextTick(Q,null,new Array(U.length).fill(void 0))}put(U,G,Q,q){if(q=getCallback(Q,q),q=fromCallback(q,kPromise),Q=getOptions(Q,this[kDefaultOptions].entry),this[kStatus]==="opening")return this.defer(()=>this.put(U,G,Q,q)),q[kPromise];if(maybeError(this,q))return q[kPromise];const W=this._checkKey(U)||this._checkValue(G);if(W)return this.nextTick(q,W),q[kPromise];const J=this.keyEncoding(Q.keyEncoding),F=this.valueEncoding(Q.valueEncoding),Y=J.format,X=F.format;(Q.keyEncoding!==Y||Q.valueEncoding!==X)&&(Q=Object.assign({},Q,{keyEncoding:Y,valueEncoding:X}));const te=this.prefixKey(J.encode(U),Y),re=F.encode(G);return this._put(te,re,Q,ne=>{if(ne)return q(ne);this.emit("put",U,G),q()}),q[kPromise]}_put(U,G,Q,q){this.nextTick(q)}del(U,G,Q){if(Q=getCallback(G,Q),Q=fromCallback(Q,kPromise),G=getOptions(G,this[kDefaultOptions].key),this[kStatus]==="opening")return this.defer(()=>this.del(U,G,Q)),Q[kPromise];if(maybeError(this,Q))return Q[kPromise];const q=this._checkKey(U);if(q)return this.nextTick(Q,q),Q[kPromise];const W=this.keyEncoding(G.keyEncoding),J=W.format;return G.keyEncoding!==J&&(G=Object.assign({},G,{keyEncoding:J})),this._del(this.prefixKey(W.encode(U),J),G,F=>{if(F)return Q(F);this.emit("del",U),Q()}),Q[kPromise]}_del(U,G,Q){this.nextTick(Q)}batch(U,G,Q){if(!arguments.length){if(this[kStatus]==="opening")return new DefaultChainedBatch(this);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof U=="function"?Q=U:Q=getCallback(G,Q),Q=fromCallback(Q,kPromise),G=getOptions(G,this[kDefaultOptions].empty),this[kStatus]==="opening")return this.defer(()=>this.batch(U,G,Q)),Q[kPromise];if(maybeError(this,Q))return Q[kPromise];if(!Array.isArray(U))return this.nextTick(Q,new TypeError("The first argument 'operations' must be an array")),Q[kPromise];if(U.length===0)return this.nextTick(Q),Q[kPromise];const q=new Array(U.length),{keyEncoding:W,valueEncoding:J,...F}=G;for(let Y=0;Y<U.length;Y++){if(typeof U[Y]!="object"||U[Y]===null)return this.nextTick(Q,new TypeError("A batch operation must be an object")),Q[kPromise];const X=Object.assign({},U[Y]);if(X.type!=="put"&&X.type!=="del")return this.nextTick(Q,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),Q[kPromise];const te=this._checkKey(X.key);if(te)return this.nextTick(Q,te),Q[kPromise];const re=X.sublevel!=null?X.sublevel:this,ne=re.keyEncoding(X.keyEncoding||W),ie=ne.format;if(X.key=re.prefixKey(ne.encode(X.key),ie),X.keyEncoding=ie,X.type==="put"){const oe=this._checkValue(X.value);if(oe)return this.nextTick(Q,oe),Q[kPromise];const ae=re.valueEncoding(X.valueEncoding||J);X.value=ae.encode(X.value),X.valueEncoding=ae.format}re!==this&&(X.sublevel=null),q[Y]=X}return this._batch(q,F,Y=>{if(Y)return Q(Y);this.emit("batch",U),Q()}),Q[kPromise]}_batch(U,G,Q){this.nextTick(Q)}sublevel(U,G){return this._sublevel(U,AbstractSublevel.defaults(G))}_sublevel(U,G){return new AbstractSublevel(this,U,G)}prefixKey(U,G){return U}clear(U,G){if(G=getCallback(U,G),G=fromCallback(G,kPromise),U=getOptions(U,this[kDefaultOptions].empty),this[kStatus]==="opening")return this.defer(()=>this.clear(U,G)),G[kPromise];if(maybeError(this,G))return G[kPromise];const Q=U,q=this.keyEncoding(U.keyEncoding);return U=rangeOptions$1(U,q),U.keyEncoding=q.format,U.limit===0?this.nextTick(G):this._clear(U,W=>{if(W)return G(W);this.emit("clear",Q),G()}),G[kPromise]}_clear(U,G){this.nextTick(G)}iterator(U){const G=this.keyEncoding(U&&U.keyEncoding),Q=this.valueEncoding(U&&U.valueEncoding);if(U=rangeOptions$1(U,G),U.keys=U.keys!==!1,U.values=U.values!==!1,U[AbstractIterator$1.keyEncoding]=G,U[AbstractIterator$1.valueEncoding]=Q,U.keyEncoding=G.format,U.valueEncoding=Q.format,this[kStatus]==="opening")return new DeferredIterator(this,U);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(U)}_iterator(U){return new AbstractIterator$1(this,U)}keys(U){const G=this.keyEncoding(U&&U.keyEncoding),Q=this.valueEncoding(U&&U.valueEncoding);if(U=rangeOptions$1(U,G),U[AbstractIterator$1.keyEncoding]=G,U[AbstractIterator$1.valueEncoding]=Q,U.keyEncoding=G.format,U.valueEncoding=Q.format,this[kStatus]==="opening")return new DeferredKeyIterator(this,U);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(U)}_keys(U){return new DefaultKeyIterator(this,U)}values(U){const G=this.keyEncoding(U&&U.keyEncoding),Q=this.valueEncoding(U&&U.valueEncoding);if(U=rangeOptions$1(U,G),U[AbstractIterator$1.keyEncoding]=G,U[AbstractIterator$1.valueEncoding]=Q,U.keyEncoding=G.format,U.valueEncoding=Q.format,this[kStatus]==="opening")return new DeferredValueIterator(this,U);if(this[kStatus]!=="open")throw new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(U)}_values(U){return new DefaultValueIterator(this,U)}defer(U){if(typeof U!="function")throw new TypeError("The first argument must be a function");this[kOperations].push(U)}[kUndefer](){if(this[kOperations].length===0)return;const U=this[kOperations];this[kOperations]=[];for(const G of U)G()}attachResource(U){if(typeof U!="object"||U===null||typeof U.close!="function")throw new TypeError("The first argument must be a resource object");this[kResources].add(U)}detachResource(U){this[kResources].delete(U)}_chainedBatch(){return new DefaultChainedBatch(this)}_checkKey(U){if(U==null)return new ModuleError$1("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(U){if(U==null)return new ModuleError$1("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};AbstractLevel$1.prototype.nextTick=requireNextTickBrowser();const{AbstractSublevel}=requireAbstractSublevel()({AbstractLevel:AbstractLevel$1});abstractLevel.AbstractLevel=AbstractLevel$1,abstractLevel.AbstractSublevel=AbstractSublevel;const maybeError=function(U,G){return U[kStatus]!=="open"?(U.nextTick(G,new ModuleError$1("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},formats=function(U){return Object.keys(U.supports.encodings).filter(G=>!!U.supports.encodings[G])};abstractLevel$1.AbstractLevel=abstractLevel.AbstractLevel,abstractLevel$1.AbstractSublevel=abstractLevel.AbstractSublevel,abstractLevel$1.AbstractIterator=abstractIterator.AbstractIterator,abstractLevel$1.AbstractKeyIterator=abstractIterator.AbstractKeyIterator,abstractLevel$1.AbstractValueIterator=abstractIterator.AbstractValueIterator,abstractLevel$1.AbstractChainedBatch=abstractChainedBatch.AbstractChainedBatch;var rbtree=createRBTree,RED=0,BLACK=1;function RBNode(U,G,Q,q,W,J){this._color=U,this.key=G,this.value=Q,this.left=q,this.right=W,this._count=J}function cloneNode(U){return new RBNode(U._color,U.key,U.value,U.left,U.right,U._count)}function repaint(U,G){return new RBNode(U,G.key,G.value,G.left,G.right,G._count)}function recount(U){U._count=1+(U.left?U.left._count:0)+(U.right?U.right._count:0)}function RedBlackTree(U,G){this._compare=U,this.root=G}var proto=RedBlackTree.prototype;Object.defineProperty(proto,"keys",{get:function(){var U=[];return this.forEach(function(G,Q){U.push(G)}),U}}),Object.defineProperty(proto,"values",{get:function(){var U=[];return this.forEach(function(G,Q){U.push(Q)}),U}}),Object.defineProperty(proto,"length",{get:function(){return this.root?this.root._count:0}}),proto.insert=function(U,G){for(var Q=this._compare,q=this.root,W=[],J=[];q;){var F=Q(U,q.key);W.push(q),J.push(F),F<=0?q=q.left:q=q.right}W.push(new RBNode(RED,U,G,null,null,1));for(var Y=W.length-2;Y>=0;--Y){var q=W[Y];J[Y]<=0?W[Y]=new RBNode(q._color,q.key,q.value,W[Y+1],q.right,q._count+1):W[Y]=new RBNode(q._color,q.key,q.value,q.left,W[Y+1],q._count+1)}for(var Y=W.length-1;Y>1;--Y){var X=W[Y-1],q=W[Y];if(X._color===BLACK||q._color===BLACK)break;var te=W[Y-2];if(te.left===X)if(X.left===q){var re=te.right;if(re&&re._color===RED)X._color=BLACK,te.right=repaint(BLACK,re),te._color=RED,Y-=1;else{if(te._color=RED,te.left=X.right,X._color=BLACK,X.right=te,W[Y-2]=X,W[Y-1]=q,recount(te),recount(X),Y>=3){var ne=W[Y-3];ne.left===te?ne.left=X:ne.right=X}break}}else{var re=te.right;if(re&&re._color===RED)X._color=BLACK,te.right=repaint(BLACK,re),te._color=RED,Y-=1;else{if(X.right=q.left,te._color=RED,te.left=q.right,q._color=BLACK,q.left=X,q.right=te,W[Y-2]=q,W[Y-1]=X,recount(te),recount(X),recount(q),Y>=3){var ne=W[Y-3];ne.left===te?ne.left=q:ne.right=q}break}}else if(X.right===q){var re=te.left;if(re&&re._color===RED)X._color=BLACK,te.left=repaint(BLACK,re),te._color=RED,Y-=1;else{if(te._color=RED,te.right=X.left,X._color=BLACK,X.left=te,W[Y-2]=X,W[Y-1]=q,recount(te),recount(X),Y>=3){var ne=W[Y-3];ne.right===te?ne.right=X:ne.left=X}break}}else{var re=te.left;if(re&&re._color===RED)X._color=BLACK,te.left=repaint(BLACK,re),te._color=RED,Y-=1;else{if(X.left=q.right,te._color=RED,te.right=q.left,q._color=BLACK,q.right=X,q.left=te,W[Y-2]=q,W[Y-1]=X,recount(te),recount(X),recount(q),Y>=3){var ne=W[Y-3];ne.right===te?ne.right=q:ne.left=q}break}}}return W[0]._color=BLACK,new RedBlackTree(Q,W[0])};function doVisitFull(U,G){if(G.left){var Q=doVisitFull(U,G.left);if(Q)return Q}var Q=U(G.key,G.value);if(Q)return Q;if(G.right)return doVisitFull(U,G.right)}function doVisitHalf(U,G,Q,q){var W=G(U,q.key);if(W<=0){if(q.left){var J=doVisitHalf(U,G,Q,q.left);if(J)return J}var J=Q(q.key,q.value);if(J)return J}if(q.right)return doVisitHalf(U,G,Q,q.right)}function doVisit(U,G,Q,q,W){var J=Q(U,W.key),F=Q(G,W.key),Y;if(J<=0&&(W.left&&(Y=doVisit(U,G,Q,q,W.left),Y)||F>0&&(Y=q(W.key,W.value),Y)))return Y;if(F>0&&W.right)return doVisit(U,G,Q,q,W.right)}proto.forEach=function(U,G,Q){if(this.root)switch(arguments.length){case 1:return doVisitFull(U,this.root);case 2:return doVisitHalf(G,this._compare,U,this.root);case 3:return this._compare(G,Q)>=0?void 0:doVisit(G,Q,this._compare,U,this.root)}},Object.defineProperty(proto,"begin",{get:function(){for(var U=[],G=this.root;G;)U.push(G),G=G.left;return new RedBlackTreeIterator(this,U)}}),Object.defineProperty(proto,"end",{get:function(){for(var U=[],G=this.root;G;)U.push(G),G=G.right;return new RedBlackTreeIterator(this,U)}}),proto.at=function(U){if(U<0)return new RedBlackTreeIterator(this,[]);for(var G=this.root,Q=[];;){if(Q.push(G),G.left){if(U<G.left._count){G=G.left;continue}U-=G.left._count}if(!U)return new RedBlackTreeIterator(this,Q);if(U-=1,G.right){if(U>=G.right._count)break;G=G.right}else break}return new RedBlackTreeIterator(this,[])},proto.ge=function(U){for(var G=this._compare,Q=this.root,q=[],W=0;Q;){var J=G(U,Q.key);q.push(Q),J<=0&&(W=q.length),J<=0?Q=Q.left:Q=Q.right}return q.length=W,new RedBlackTreeIterator(this,q)},proto.gt=function(U){for(var G=this._compare,Q=this.root,q=[],W=0;Q;){var J=G(U,Q.key);q.push(Q),J<0&&(W=q.length),J<0?Q=Q.left:Q=Q.right}return q.length=W,new RedBlackTreeIterator(this,q)},proto.lt=function(U){for(var G=this._compare,Q=this.root,q=[],W=0;Q;){var J=G(U,Q.key);q.push(Q),J>0&&(W=q.length),J<=0?Q=Q.left:Q=Q.right}return q.length=W,new RedBlackTreeIterator(this,q)},proto.le=function(U){for(var G=this._compare,Q=this.root,q=[],W=0;Q;){var J=G(U,Q.key);q.push(Q),J>=0&&(W=q.length),J<0?Q=Q.left:Q=Q.right}return q.length=W,new RedBlackTreeIterator(this,q)},proto.find=function(U){for(var G=this._compare,Q=this.root,q=[];Q;){var W=G(U,Q.key);if(q.push(Q),W===0)return new RedBlackTreeIterator(this,q);W<=0?Q=Q.left:Q=Q.right}return new RedBlackTreeIterator(this,[])},proto.remove=function(U){var G=this.find(U);return G?G.remove():this},proto.get=function(U){for(var G=this._compare,Q=this.root;Q;){var q=G(U,Q.key);if(q===0)return Q.value;q<=0?Q=Q.left:Q=Q.right}};function RedBlackTreeIterator(U,G){this.tree=U,this._stack=G}var iproto=RedBlackTreeIterator.prototype;Object.defineProperty(iproto,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(iproto,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),iproto.clone=function(){return new RedBlackTreeIterator(this.tree,this._stack.slice())};function swapNode(U,G){U.key=G.key,U.value=G.value,U.left=G.left,U.right=G.right,U._color=G._color,U._count=G._count}function fixDoubleBlack(U){for(var G,Q,q,W,J=U.length-1;J>=0;--J){if(G=U[J],J===0){G._color=BLACK;return}if(Q=U[J-1],Q.left===G){if(q=Q.right,q.right&&q.right._color===RED){if(q=Q.right=cloneNode(q),W=q.right=cloneNode(q.right),Q.right=q.left,q.left=Q,q.right=W,q._color=Q._color,G._color=BLACK,Q._color=BLACK,W._color=BLACK,recount(Q),recount(q),J>1){var F=U[J-2];F.left===Q?F.left=q:F.right=q}U[J-1]=q;return}else if(q.left&&q.left._color===RED){if(q=Q.right=cloneNode(q),W=q.left=cloneNode(q.left),Q.right=W.left,q.left=W.right,W.left=Q,W.right=q,W._color=Q._color,Q._color=BLACK,q._color=BLACK,G._color=BLACK,recount(Q),recount(q),recount(W),J>1){var F=U[J-2];F.left===Q?F.left=W:F.right=W}U[J-1]=W;return}if(q._color===BLACK)if(Q._color===RED){Q._color=BLACK,Q.right=repaint(RED,q);return}else{Q.right=repaint(RED,q);continue}else{if(q=cloneNode(q),Q.right=q.left,q.left=Q,q._color=Q._color,Q._color=RED,recount(Q),recount(q),J>1){var F=U[J-2];F.left===Q?F.left=q:F.right=q}U[J-1]=q,U[J]=Q,J+1<U.length?U[J+1]=G:U.push(G),J=J+2}}else{if(q=Q.left,q.left&&q.left._color===RED){if(q=Q.left=cloneNode(q),W=q.left=cloneNode(q.left),Q.left=q.right,q.right=Q,q.left=W,q._color=Q._color,G._color=BLACK,Q._color=BLACK,W._color=BLACK,recount(Q),recount(q),J>1){var F=U[J-2];F.right===Q?F.right=q:F.left=q}U[J-1]=q;return}else if(q.right&&q.right._color===RED){if(q=Q.left=cloneNode(q),W=q.right=cloneNode(q.right),Q.left=W.right,q.right=W.left,W.right=Q,W.left=q,W._color=Q._color,Q._color=BLACK,q._color=BLACK,G._color=BLACK,recount(Q),recount(q),recount(W),J>1){var F=U[J-2];F.right===Q?F.right=W:F.left=W}U[J-1]=W;return}if(q._color===BLACK)if(Q._color===RED){Q._color=BLACK,Q.left=repaint(RED,q);return}else{Q.left=repaint(RED,q);continue}else{if(q=cloneNode(q),Q.left=q.right,q.right=Q,q._color=Q._color,Q._color=RED,recount(Q),recount(q),J>1){var F=U[J-2];F.right===Q?F.right=q:F.left=q}U[J-1]=q,U[J]=Q,J+1<U.length?U[J+1]=G:U.push(G),J=J+2}}}}iproto.remove=function(){var U=this._stack;if(U.length===0)return this.tree;var G=new Array(U.length),Q=U[U.length-1];G[G.length-1]=new RBNode(Q._color,Q.key,Q.value,Q.left,Q.right,Q._count);for(var q=U.length-2;q>=0;--q){var Q=U[q];Q.left===U[q+1]?G[q]=new RBNode(Q._color,Q.key,Q.value,G[q+1],Q.right,Q._count):G[q]=new RBNode(Q._color,Q.key,Q.value,Q.left,G[q+1],Q._count)}if(Q=G[G.length-1],Q.left&&Q.right){var W=G.length;for(Q=Q.left;Q.right;)G.push(Q),Q=Q.right;var J=G[W-1];G.push(new RBNode(Q._color,J.key,J.value,Q.left,Q.right,Q._count)),G[W-1].key=Q.key,G[W-1].value=Q.value;for(var q=G.length-2;q>=W;--q)Q=G[q],G[q]=new RBNode(Q._color,Q.key,Q.value,Q.left,G[q+1],Q._count);G[W-1].left=G[W]}if(Q=G[G.length-1],Q._color===RED){var F=G[G.length-2];F.left===Q?F.left=null:F.right===Q&&(F.right=null),G.pop();for(var q=0;q<G.length;++q)G[q]._count--;return new RedBlackTree(this.tree._compare,G[0])}else if(Q.left||Q.right){Q.left?swapNode(Q,Q.left):Q.right&&swapNode(Q,Q.right),Q._color=BLACK;for(var q=0;q<G.length-1;++q)G[q]._count--;return new RedBlackTree(this.tree._compare,G[0])}else{if(G.length===1)return new RedBlackTree(this.tree._compare,null);for(var q=0;q<G.length;++q)G[q]._count--;var Y=G[G.length-2];fixDoubleBlack(G),Y.left===Q?Y.left=null:Y.right=null}return new RedBlackTree(this.tree._compare,G[0])},Object.defineProperty(iproto,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(iproto,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(iproto,"index",{get:function(){var U=0,G=this._stack;if(G.length===0){var Q=this.tree.root;return Q?Q._count:0}else G[G.length-1].left&&(U=G[G.length-1].left._count);for(var q=G.length-2;q>=0;--q)G[q+1]===G[q].right&&(++U,G[q].left&&(U+=G[q].left._count));return U},enumerable:!0}),iproto.next=function(){var U=this._stack;if(U.length!==0){var G=U[U.length-1];if(G.right)for(G=G.right;G;)U.push(G),G=G.left;else for(U.pop();U.length>0&&U[U.length-1].right===G;)G=U[U.length-1],U.pop()}},Object.defineProperty(iproto,"hasNext",{get:function(){var U=this._stack;if(U.length===0)return!1;if(U[U.length-1].right)return!0;for(var G=U.length-1;G>0;--G)if(U[G-1].left===U[G])return!0;return!1}}),iproto.update=function(U){var G=this._stack;if(G.length===0)throw new Error("Can't update empty node!");var Q=new Array(G.length),q=G[G.length-1];Q[Q.length-1]=new RBNode(q._color,q.key,U,q.left,q.right,q._count);for(var W=G.length-2;W>=0;--W)q=G[W],q.left===G[W+1]?Q[W]=new RBNode(q._color,q.key,q.value,Q[W+1],q.right,q._count):Q[W]=new RBNode(q._color,q.key,q.value,q.left,Q[W+1],q._count);return new RedBlackTree(this.tree._compare,Q[0])},iproto.prev=function(){var U=this._stack;if(U.length!==0){var G=U[U.length-1];if(G.left)for(G=G.left;G;)U.push(G),G=G.right;else for(U.pop();U.length>0&&U[U.length-1].left===G;)G=U[U.length-1],U.pop()}},Object.defineProperty(iproto,"hasPrev",{get:function(){var U=this._stack;if(U.length===0)return!1;if(U[U.length-1].left)return!0;for(var G=U.length-1;G>0;--G)if(U[G-1].right===U[G])return!0;return!1}});function defaultCompare(U,G){return U<G?-1:U>G?1:0}function createRBTree(U){return new RedBlackTree(U||defaultCompare,null)}const{AbstractLevel,AbstractIterator,AbstractKeyIterator,AbstractValueIterator}=abstractLevel$1,ModuleError=moduleError,createRBT=rbtree,rangeOptions=new Set(["gt","gte","lt","lte"]),kNone=Symbol("none"),kTree=Symbol("tree"),kIterator=Symbol("iterator"),kLowerBound=Symbol("lowerBound"),kUpperBound=Symbol("upperBound"),kOutOfRange=Symbol("outOfRange"),kReverse=Symbol("reverse"),kOptions=Symbol("options"),kTest=Symbol("test"),kAdvance=Symbol("advance"),kInit=Symbol("init");function compare(U,G){if(typeof U=="string")return U<G?-1:U>G?1:0;const Q=Math.min(U.byteLength,G.byteLength);for(let q=0;q<Q;q++){const W=U[q]-G[q];if(W!==0)return W}return U.byteLength-G.byteLength}function gt(U){return compare(U,this[kUpperBound])>0}function gte(U){return compare(U,this[kUpperBound])>=0}function lt(U){return compare(U,this[kUpperBound])<0}function lte(U){return compare(U,this[kUpperBound])<=0}class MemoryIterator extends AbstractIterator{constructor(G,Q){super(G,Q),this[kInit](G[kTree],Q)}_next(G){if(!this[kIterator].valid)return this.nextTick(G);const Q=this[kIterator].key,q=this[kIterator].value;if(!this[kTest](Q))return this.nextTick(G);this[kIterator][this[kAdvance]](),this.nextTick(G,null,Q,q)}_nextv(G,Q,q){const W=this[kIterator],J=[];for(;W.valid&&J.length<G&&this[kTest](W.key);)J.push([W.key,W.value]),W[this[kAdvance]]();this.nextTick(q,null,J)}_all(G,Q){const q=this.limit-this.count,W=this[kIterator],J=[];for(;W.valid&&J.length<q&&this[kTest](W.key);)J.push([W.key,W.value]),W[this[kAdvance]]();this.nextTick(Q,null,J)}}class MemoryKeyIterator extends AbstractKeyIterator{constructor(G,Q){super(G,Q),this[kInit](G[kTree],Q)}_next(G){if(!this[kIterator].valid)return this.nextTick(G);const Q=this[kIterator].key;if(!this[kTest](Q))return this.nextTick(G);this[kIterator][this[kAdvance]](),this.nextTick(G,null,Q)}_nextv(G,Q,q){const W=this[kIterator],J=[];for(;W.valid&&J.length<G&&this[kTest](W.key);)J.push(W.key),W[this[kAdvance]]();this.nextTick(q,null,J)}_all(G,Q){const q=this.limit-this.count,W=this[kIterator],J=[];for(;W.valid&&J.length<q&&this[kTest](W.key);)J.push(W.key),W[this[kAdvance]]();this.nextTick(Q,null,J)}}class MemoryValueIterator extends AbstractValueIterator{constructor(G,Q){super(G,Q),this[kInit](G[kTree],Q)}_next(G){if(!this[kIterator].valid)return this.nextTick(G);const Q=this[kIterator].key,q=this[kIterator].value;if(!this[kTest](Q))return this.nextTick(G);this[kIterator][this[kAdvance]](),this.nextTick(G,null,q)}_nextv(G,Q,q){const W=this[kIterator],J=[];for(;W.valid&&J.length<G&&this[kTest](W.key);)J.push(W.value),W[this[kAdvance]]();this.nextTick(q,null,J)}_all(G,Q){const q=this.limit-this.count,W=this[kIterator],J=[];for(;W.valid&&J.length<q&&this[kTest](W.key);)J.push(W.value),W[this[kAdvance]]();this.nextTick(Q,null,J)}}for(const U of[MemoryIterator,MemoryKeyIterator,MemoryValueIterator])U.prototype[kInit]=function(G,Q){this[kReverse]=Q.reverse,this[kOptions]=Q,this[kReverse]?(this[kAdvance]="prev",this[kLowerBound]="lte"in Q?Q.lte:"lt"in Q?Q.lt:kNone,this[kUpperBound]="gte"in Q?Q.gte:"gt"in Q?Q.gt:kNone,this[kLowerBound]===kNone?this[kIterator]=G.end:"lte"in Q?this[kIterator]=G.le(this[kLowerBound]):this[kIterator]=G.lt(this[kLowerBound]),this[kUpperBound]!==kNone&&(this[kTest]="gte"in Q?gte:gt)):(this[kAdvance]="next",this[kLowerBound]="gte"in Q?Q.gte:"gt"in Q?Q.gt:kNone,this[kUpperBound]="lte"in Q?Q.lte:"lt"in Q?Q.lt:kNone,this[kLowerBound]===kNone?this[kIterator]=G.begin:"gte"in Q?this[kIterator]=G.ge(this[kLowerBound]):this[kIterator]=G.gt(this[kLowerBound]),this[kUpperBound]!==kNone&&(this[kTest]="lte"in Q?lte:lt))},U.prototype[kTest]=function(){return!0},U.prototype[kOutOfRange]=function(G){return this[kTest](G)?this[kLowerBound]===kNone?!1:this[kReverse]?"lte"in this[kOptions]?compare(G,this[kLowerBound])>0:compare(G,this[kLowerBound])>=0:"gte"in this[kOptions]?compare(G,this[kLowerBound])<0:compare(G,this[kLowerBound])<=0:!0},U.prototype._seek=function(G,Q){this[kOutOfRange](G)?(this[kIterator]=this[kIterator].tree.end,this[kIterator].next()):this[kReverse]?this[kIterator]=this[kIterator].tree.le(G):this[kIterator]=this[kIterator].tree.ge(G)};class MemoryLevel extends AbstractLevel{constructor(G,Q,q){if(typeof G=="object"&&G!==null&&(Q=G),typeof G=="function"||typeof Q=="function"||typeof q=="function")throw new ModuleError("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{storeEncoding:W,...J}=Q||{};if(W=W||"buffer",!["buffer","view","utf8"].includes(W))throw new ModuleError("The storeEncoding option must be 'buffer', 'view' or 'utf8'",{code:"LEVEL_ENCODING_NOT_SUPPORTED"});super({seek:!0,permanence:!1,createIfMissing:!1,errorIfExists:!1,encodings:{[W]:!0}},J),this[kTree]=createRBT(compare)}_put(G,Q,q,W){const J=this[kTree].find(G);J.valid?this[kTree]=J.update(Q):this[kTree]=this[kTree].insert(G,Q),this.nextTick(W)}_get(G,Q,q){const W=this[kTree].get(G);if(typeof W>"u")return this.nextTick(q,new Error("NotFound"));this.nextTick(q,null,W)}_getMany(G,Q,q){this.nextTick(q,null,G.map(W=>this[kTree].get(W)))}_del(G,Q,q){this[kTree]=this[kTree].remove(G),this.nextTick(q)}_batch(G,Q,q){let W=this[kTree];for(const J of G){const F=J.key,Y=W.find(F);J.type==="put"?W=Y.valid?Y.update(J.value):W.insert(F,J.value):W=Y.remove()}this[kTree]=W,this.nextTick(q)}_clear(G,Q){if(G.limit===-1&&!Object.keys(G).some(isRangeOption))return this[kTree]=createRBT(compare),this.nextTick(Q);const q=this._keys({...G}),W=q.limit;let J=0;const F=()=>{for(let Y=0;Y<500;Y++){if(++J>W||!q[kIterator].valid||!q[kTest](q[kIterator].key))return Q();this[kTree]=this[kTree].remove(q[kIterator].key),q[kIterator][q[kAdvance]]()}this.nextTick(F)};this.nextTick(F)}_iterator(G){return new MemoryIterator(this,G)}_keys(G){return new MemoryKeyIterator(this,G)}_values(G){return new MemoryValueIterator(this,G)}}var MemoryLevel_1=MemoryLevel;if(typeof process<"u"&&!process.browser&&typeof commonjsGlobal<"u"&&typeof commonjsGlobal.setImmediate=="function"){const U=commonjsGlobal.setImmediate;MemoryLevel.prototype.nextTick=function(G,...Q){Q.length===0?U(G):U(()=>G(...Q))}}function isRangeOption(U){return rangeOptions.has(U)}var rdfDataFactory={},BlankNode$1={};Object.defineProperty(BlankNode$1,"__esModule",{value:!0}),BlankNode$1.BlankNode=void 0;class BlankNode{constructor(G){this.termType="BlankNode",this.value=G}equals(G){return!!G&&G.termType==="BlankNode"&&G.value===this.value}}BlankNode$1.BlankNode=BlankNode;var DataFactory$2={},DefaultGraph$1={};Object.defineProperty(DefaultGraph$1,"__esModule",{value:!0}),DefaultGraph$1.DefaultGraph=void 0;class DefaultGraph{constructor(){this.termType="DefaultGraph",this.value=""}equals(G){return!!G&&G.termType==="DefaultGraph"}}DefaultGraph$1.DefaultGraph=DefaultGraph,DefaultGraph.INSTANCE=new DefaultGraph;var Literal$1={},NamedNode$1={};Object.defineProperty(NamedNode$1,"__esModule",{value:!0}),NamedNode$1.NamedNode=void 0;class NamedNode{constructor(G){this.termType="NamedNode",this.value=G}equals(G){return!!G&&G.termType==="NamedNode"&&G.value===this.value}}NamedNode$1.NamedNode=NamedNode,Object.defineProperty(Literal$1,"__esModule",{value:!0}),Literal$1.Literal=void 0;const NamedNode_1$1=NamedNode$1;class Literal{constructor(G,Q){this.termType="Literal",this.value=G,typeof Q=="string"?(this.language=Q,this.datatype=Literal.RDF_LANGUAGE_STRING):Q?(this.language="",this.datatype=Q):(this.language="",this.datatype=Literal.XSD_STRING)}equals(G){return!!G&&G.termType==="Literal"&&G.value===this.value&&G.language===this.language&&this.datatype.equals(G.datatype)}}Literal$1.Literal=Literal,Literal.RDF_LANGUAGE_STRING=new NamedNode_1$1.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),Literal.XSD_STRING=new NamedNode_1$1.NamedNode("http://www.w3.org/2001/XMLSchema#string");var Quad$2={};Object.defineProperty(Quad$2,"__esModule",{value:!0}),Quad$2.Quad=void 0;let Quad$1=class{constructor(U,G,Q,q){this.termType="Quad",this.value="",this.subject=U,this.predicate=G,this.object=Q,this.graph=q}equals(U){return!!U&&(U.termType==="Quad"||!U.termType)&&this.subject.equals(U.subject)&&this.predicate.equals(U.predicate)&&this.object.equals(U.object)&&this.graph.equals(U.graph)}};Quad$2.Quad=Quad$1;var Variable$1={};Object.defineProperty(Variable$1,"__esModule",{value:!0}),Variable$1.Variable=void 0;class Variable{constructor(G){this.termType="Variable",this.value=G}equals(G){return!!G&&G.termType==="Variable"&&G.value===this.value}}Variable$1.Variable=Variable,Object.defineProperty(DataFactory$2,"__esModule",{value:!0}),DataFactory$2.DataFactory=void 0;const BlankNode_1=BlankNode$1,DefaultGraph_1=DefaultGraph$1,Literal_1=Literal$1,NamedNode_1=NamedNode$1,Quad_1=Quad$2,Variable_1=Variable$1;let dataFactoryCounter=0,DataFactory$1=class{constructor(U){this.blankNodeCounter=0,U=U||{},this.blankNodePrefix=U.blankNodePrefix||`df_${dataFactoryCounter++}_`}namedNode(U){return new NamedNode_1.NamedNode(U)}blankNode(U){return new BlankNode_1.BlankNode(U||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(U,G){return new Literal_1.Literal(U,G)}variable(U){return new Variable_1.Variable(U)}defaultGraph(){return DefaultGraph_1.DefaultGraph.INSTANCE}quad(U,G,Q,q){return new Quad_1.Quad(U,G,Q,q||this.defaultGraph())}fromTerm(U){switch(U.termType){case"NamedNode":return this.namedNode(U.value);case"BlankNode":return this.blankNode(U.value);case"Literal":return U.language?this.literal(U.value,U.language):U.datatype.equals(Literal_1.Literal.XSD_STRING)?this.literal(U.value):this.literal(U.value,this.fromTerm(U.datatype));case"Variable":return this.variable(U.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(U.subject),this.fromTerm(U.predicate),this.fromTerm(U.object),this.fromTerm(U.graph))}}fromQuad(U){return this.fromTerm(U)}resetBlankNodeCounter(){this.blankNodeCounter=0}};DataFactory$2.DataFactory=DataFactory$1,function(U){var G=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(q,W,J,F){F===void 0&&(F=J),Object.defineProperty(q,F,{enumerable:!0,get:function(){return W[J]}})}:function(q,W,J,F){F===void 0&&(F=J),q[F]=W[J]}),Q=commonjsGlobal&&commonjsGlobal.__exportStar||function(q,W){for(var J in q)J!=="default"&&!Object.prototype.hasOwnProperty.call(W,J)&&G(W,q,J)};Object.defineProperty(U,"__esModule",{value:!0}),Q(BlankNode$1,U),Q(DataFactory$2,U),Q(DefaultGraph$1,U),Q(Literal$1,U),Q(NamedNode$1,U),Q(Quad$2,U),Q(Variable$1,U)}(rdfDataFactory);var ResultType;(function(U){U.VOID="void",U.QUADS="quads",U.APPROXIMATE_SIZE="approximate_size"})(ResultType||(ResultType={}));class LinkedList{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var G;return(G=this._head)===null||G===void 0?void 0:G.value}get last(){var G;return(G=this._tail)===null||G===void 0?void 0:G.value}get empty(){return this._head===null}push(G){const Q={value:G,next:null};this._tail===null?this._head=this._tail=Q:this._tail.next=this._tail=Q,this._length++}shift(){if(this._head===null)return;const{value:G,next:Q}=this._head;return this._head=Q,Q===null&&(this._tail=null),this._length--,G}clear(){this._length=0,this._head=this._tail=null}}const resolved=Promise.resolve(void 0);function createTaskScheduler(){const U=typeof queueMicrotask=="function"?queueMicrotask:W=>resolved.then(W),G=typeof setImmediate=="function"?setImmediate:W=>setTimeout(W,0);let Q=0,q=null;return W=>{q!==null?q.push(W):++Q<100?U(W):(q=[W],G(()=>{for(const J of q)U(J);q=null,Q=0}))}}let taskScheduler=createTaskScheduler();function scheduleTask(U){taskScheduler(U)}function getTaskScheduler(){return taskScheduler}function setTaskScheduler(U){taskScheduler=U}const INIT=1,OPEN=2,CLOSING=4,CLOSED=8,ENDED=16,DESTROYED=32;class AsyncIterator extends eventsExports.EventEmitter{constructor(G=OPEN){super(),this._readable=!1,this._state=G,this.on("newListener",waitForDataListener)}_changeState(G,Q=!1){const q=G>this._state&&this._state<ENDED;return q&&(this._state=G,G===ENDED&&(Q?taskScheduler(()=>this.emit("end")):this.emit("end"))),q}read(){return null}forEach(G,Q){this.on("data",bind$1(G,Q))}close(){this._changeState(CLOSED)&&this._endAsync()}destroy(G){this.done||this._destroy(G,Q=>{G=G||Q,G&&this.emit("error",G),this._end(!0)})}_destroy(G,Q){Q()}_end(G=!1){this._changeState(G?DESTROYED:ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){taskScheduler(()=>this._end())}get readable(){return this._readable}set readable(G){G=!!G&&!this.done,this._readable!==G&&(this._readable=G,G&&taskScheduler(()=>this.emit("readable")))}get closed(){return this._state>=CLOSING}get ended(){return this._state===ENDED}get destroyed(){return this._state===DESTROYED}get done(){return this._state>=ENDED}toString(){const G=this._toStringDetails();return`[${this.constructor.name}${G?` ${G}`:""}]`}_toStringDetails(){return""}toArray(G){const Q=[],q=typeof(G==null?void 0:G.limit)=="number"?G.limit:1/0;return this.ended||q<=0?Promise.resolve(Q):new Promise((W,J)=>{const F=()=>W(Q),Y=X=>{Q.push(X),Q.length>=q&&(this.removeListener("error",J),this.removeListener("data",Y),this.removeListener("end",F),W(Q))};this.on("error",J),this.on("data",Y),this.on("end",F)})}getProperty(G,Q){const q=this._properties;if(!Q)return q&&q[G];if(q&&G in q)taskScheduler(()=>Q(q[G]));else{let W;(W=this._propertyCallbacks)||(this._propertyCallbacks=W=Object.create(null)),G in W?W[G].push(Q):W[G]=[Q]}}setProperty(G,Q){const q=this._properties||(this._properties=Object.create(null));q[G]=Q;const W=this._propertyCallbacks||{},J=W[G];if(J){delete W[G],taskScheduler(()=>{for(const F of J)F(Q)});for(G in W)return;delete this._propertyCallbacks}}getProperties(){const G=this._properties,Q={};for(const q in G)Q[q]=G[q];return Q}setProperties(G){for(const Q in G)this.setProperty(Q,G[Q])}copyProperties(G,Q){for(const q of Q)G.getProperty(q,W=>this.setProperty(q,W))}transform(G){return new SimpleTransformIterator(this,G)}map(G,Q){return new MappingIterator(this,bind$1(G,Q))}filter(G,Q){return this.map(function(q){return G.call(Q||this,q)?q:null})}uniq(G=identity$3){const Q=new Set;return this.filter(function(q){const W=G.call(this,q);return Q.has(W)?!1:(Q.add(W),!0)})}prepend(G){return this.transform({prepend:G})}append(G){return this.transform({append:G})}surround(G,Q){return this.transform({prepend:G,append:Q})}skip(G){return this.map(Q=>G-- >0?null:Q)}take(G){return this.transform({limit:G})}range(G,Q){return this.transform({offset:G,limit:Math.max(Q-G+1,0)})}clone(){return new ClonedIterator(this)}[Symbol.asyncIterator](){const G=this;let Q=null,q=null,W=null;G.addListener("readable",J),G.addListener("end",J),G.addListener("error",F);function J(){if(Q!==null)if(W!==null)F(W);else if(G.done)Q({done:!0,value:void 0}),Q=q=null,Y();else{const X=G.read();X!==null&&(Q({done:!1,value:X}),Q=q=null)}}function F(X){q!==null?(q(X),Q=q=W=null,Y()):W===null&&(W=X)}function Y(){G.removeListener("readable",J),G.removeListener("end",J),G.removeListener("error",F)}return{next(){return new Promise((X,te)=>{Q=X,q=te,J()})}}}}function waitForDataListener(U){U==="data"&&(this.removeListener("newListener",waitForDataListener),addSingleListener(this,"readable",emitData),this.readable&&taskScheduler(()=>emitData.call(this)))}function emitData(){let U;for(;this.listenerCount("data")!==0&&(U=this.read())!==null;)this.emit("data",U);this.listenerCount("data")===0&&!this.done&&(this.removeListener("readable",emitData),addSingleListener(this,"newListener",waitForDataListener))}function addSingleListener(U,G,Q){U.listeners(G).includes(Q)||U.on(G,Q)}class EmptyIterator extends AsyncIterator{constructor(){super(),this._changeState(ENDED,!0)}}class SingletonIterator extends AsyncIterator{constructor(G){super(),this._item=G,G===null?this.close():this.readable=!0}read(){const G=this._item;return this._item=null,this.close(),G}_toStringDetails(){return this._item===null?"":`(${this._item})`}}class ArrayIterator extends AsyncIterator{constructor(G=[],{autoStart:Q=!0,preserve:q=!0}={}){super();const W=q||!Array.isArray(G)?[...G]:G;this._index=0,this._sourceStarted=Q!==!1,this._truncateThreshold=q?-1:64,this._sourceStarted&&W.length===0?this.close():this._buffer=W,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let G=null;return this._buffer&&(this._index<this._buffer.length&&(G=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),G}_toStringDetails(){return`(${this._buffer?this._buffer.length-this._index:0})`}_destroy(G,Q){delete this._buffer,Q()}toArray(G={}){if(!this._buffer)return Promise.resolve([]);const{length:Q}=this._buffer,q=this._index,W=typeof G.limit!="number"?Q:q+G.limit,J=this._buffer.slice(q,W);return this._index=W,W>=Q&&this.close(),Promise.resolve(J)}}class IntegerIterator extends AsyncIterator{constructor({start:G=0,step:Q=1,end:q}={}){super(),Number.isFinite(G)&&(G=Math.trunc(G)),this._next=G,Number.isFinite(Q)&&(Q=Math.trunc(Q)),this._step=Q;const W=Q>=0,J=W?1/0:-1/0;Number.isFinite(q)?q=Math.trunc(q):q!==-J&&(q=J),this._last=q,!Number.isFinite(G)||(W?G>q:G<q)?this.close():this.readable=!0}read(){if(this.closed)return null;const G=this._next,Q=this._step,q=this._last,W=this._next+=Q;return(Q>=0?W>q:W<q)&&this.close(),G}_toStringDetails(){return`(${this._next}...${this._last})`}}function identity$3(U){return U}const DESTINATION=Symbol("destination");class MappingIterator extends AsyncIterator{constructor(G,Q=identity$3,q={}){super(),this._map=Q,this._source=ensureSourceAvailable(G),this._destroySource=q.destroySource!==!1,G.done?this.close():(this._source[DESTINATION]=this,this._source.on("end",destinationClose),this._source.on("error",destinationEmitError),this._source.on("readable",destinationSetReadable),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let G,Q;for(;(G=this._source.read())!==null;)if((Q=this._map(G))!==null)return Q}this.readable=!1,this._source.done&&this.close()}return null}_end(G){this._source.removeListener("end",destinationClose),this._source.removeListener("error",destinationEmitError),this._source.removeListener("readable",destinationSetReadable),delete this._source[DESTINATION],this._destroySource&&this._source.destroy(),super._end(G)}}function ensureSourceAvailable(U,G=!1){if(!U||!isFunction$2(U.read)||!isFunction$2(U.on))throw new TypeError(`Invalid source: ${U}`);if(!G&&U[DESTINATION])throw new Error("The source already has a destination");return U}class BufferedIterator extends AsyncIterator{constructor({maxBufferSize:G=4,autoStart:Q=!0}={}){super(INIT),this._buffer=new LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=G,taskScheduler(()=>this._init(Q)),this._sourceStarted=Q!==!1}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(G){G!==1/0&&(G=Number.isFinite(G)?Math.max(Math.trunc(G),1):4),this._maxBufferSize!==G&&(this._maxBufferSize=G,this._state===OPEN&&this._fillBuffer())}_init(G){let Q=!1;this._reading=!0,this._begin(()=>{if(Q)throw new Error("done callback called multiple times");Q=!0,this._reading=!1,this._changeState(OPEN),G?this._fillBufferAsync():this.readable=!0})}_begin(G){G()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const G=this._buffer;let Q;return G.empty?(Q=null,this.readable=!1):Q=G.shift(),!this._reading&&G.length<this._maxBufferSize&&(this.closed?G.empty&&this._endAsync():this._fillBufferAsync()),Q}_read(G,Q){Q()}_push(G){this.done||(this._pushedCount++,this._buffer.push(G),this.readable=!0)}_fillBuffer(){let G;this._reading||(this.closed?this._completeClose():(G=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(G,()=>{if(!G)throw new Error("done callback called multiple times");G=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,taskScheduler(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(CLOSING):this._completeClose()}_completeClose(){this._changeState(CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(G,Q){this._buffer.clear(),Q()}_flush(G){G()}_toStringDetails(){const G=this._buffer;return`{${G.empty?"":`next: ${G.first}, `}buffer: ${G.length}}`}}class TransformIterator extends BufferedIterator{constructor(G,Q=G||{}){super(Q),this._boundPush=q=>this._push(q),isSourceExpression(G)||(G=Q.source),isEventEmitter(G)?this.source=G:G&&(this._createSource=isPromise$1(G)?()=>G:G,this._sourceStarted&&this._loadSourceAsync()),this._optional=!!Q.optional,this._destroySource=Q.destroySource!==!1}get source(){return isFunction$2(this._createSource)&&this._loadSourceAsync(),this._source}set source(G){const Q=this._source=this._validateSource(G);Q[DESTINATION]=this,this.done?this._destroySource&&Q.destroy():Q.done?this.close():(Q.on("end",destinationCloseWhenDone),Q.on("readable",destinationFillBuffer),Q.on("error",destinationEmitError))}_loadSourceAsync(){isFunction$2(this._createSource)&&(Promise.resolve(this._createSource()).then(G=>{delete this._createSource,this.source=G,this._fillBuffer()},G=>this.emit("error",G)),this._createSource=null)}_validateSource(G,Q=!1){if(this._source||typeof this._createSource<"u")throw new Error("The source cannot be changed after it has been set");return ensureSourceAvailable(G,Q)}_read(G,Q){const q=()=>{this._pushedCount<G&&!this.closed?taskScheduler(()=>this._readAndTransform(q,Q)):Q()};this._readAndTransform(q,Q)}_readAndTransform(G,Q){let q;const W=this.source;!W||W.done||(q=W.read())===null?Q():this._optional?this._optionalTransform(q,G):this._transform(q,G,this._boundPush)}_optionalTransform(G,Q){const q=this._pushedCount;this._transform(G,()=>{q===this._pushedCount&&this._push(G),Q()},this._boundPush)}_transform(G,Q,q){q(G),Q()}_closeWhenDone(){this.close()}_end(G){const Q=this._source;Q&&(Q.removeListener("end",destinationCloseWhenDone),Q.removeListener("error",destinationEmitError),Q.removeListener("readable",destinationFillBuffer),delete Q[DESTINATION],this._destroySource&&Q.destroy()),super._end(G)}}function destinationSetReadable(){this[DESTINATION].readable=!0}function destinationEmitError(U){this[DESTINATION].emit("error",U)}function destinationClose(){this[DESTINATION].close()}function destinationCloseWhenDone(){this[DESTINATION]._closeWhenDone()}function destinationFillBuffer(){this[DESTINATION]._sourceStarted!==!1&&this[DESTINATION]._fillBuffer()}class SimpleTransformIterator extends TransformIterator{constructor(G,Q){if(super(G,Q),this._offset=0,this._limit=1/0,this._filter=q=>!0,Q=Q||(isSourceExpression(G)?null:G),Q){const q=isFunction$2(Q)?Q:Q.transform,{limit:W,offset:J,filter:F,map:Y,prepend:X,append:te}=Q;J===1/0||W===-1/0?this._limit=0:(Number.isFinite(J)&&(this._offset=Math.max(Math.trunc(J),0)),Number.isFinite(W)&&(this._limit=Math.max(Math.trunc(W),0)),isFunction$2(F)&&(this._filter=F),isFunction$2(Y)&&(this._map=Y),this._transform=isFunction$2(q)?q:null),X&&(this._prepender=isEventEmitter(X)?X:fromArray(X)),te&&(this._appender=isEventEmitter(te)?te:fromArray(te))}}_read(G,Q){const q=()=>this._readAndTransformSimple(G,W,Q);this._readAndTransformSimple(G,W,Q);function W(){taskScheduler(q)}}_readAndTransformSimple(G,Q,q){let W;const{source:J}=this;if(!J||J.done){q();return}for(this._limit===0&&this.close();!this.closed&&this._pushedCount<G&&(W=J.read())!==null;){if(!this._filter(W)||this._offset!==0&&this._offset--)continue;const F=typeof this._map>"u"?W:this._map(W);if(F===null)this._optional&&this._push(W);else if(!isFunction$2(this._transform))this._push(F);else{this._optional?this._optionalTransform(F,Q):this._transform(F,Q,this._boundPush);return}--this._limit===0&&this.close()}q()}_begin(G){this._insert(this._prepender,G),delete this._prepender}_flush(G){this._insert(this._appender,G),delete this._appender}_insert(G,Q){const q=J=>this._push(J);!G||G.done?Q():(G.on("data",q),G.on("end",W));function W(){G.removeListener("data",q),G.removeListener("end",W),Q()}}}class MultiTransformIterator extends TransformIterator{constructor(G,Q){if(super(G,Q),this._transformerQueue=[],Q){const q=isFunction$2(Q)?Q:Q.multiTransform;q&&(this._createTransformer=q)}}_read(G,Q){const q=this._transformerQueue,W=this._optional;let J,F;for(;(J=q[0])&&J.transformer.done;){W&&J.item!==null&&(G--,this._push(J.item)),q.shift();const{transformer:X}=J;X.removeListener("end",destinationFillBuffer),X.removeListener("readable",destinationFillBuffer),X.removeListener("error",destinationEmitError)}const{source:Y}=this;for(;Y&&!Y.done&&q.length<this.maxBufferSize&&(F=Y.read(),F!==null);){const X=this._createTransformer(F)||new EmptyIterator;X[DESTINATION]=this,X.on("end",destinationFillBuffer),X.on("readable",destinationFillBuffer),X.on("error",destinationEmitError),q.push({transformer:X,item:F})}if(J=q[0],J){const{transformer:X}=J;for(;G-- >0&&(F=X.read())!==null;)this._push(F),W&&(J.item=null)}else Y&&Y.done&&this.close();Q()}_createTransformer(G){return new SingletonIterator(G)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(G){if(super._end(G),this._destroySource)for(const Q of this._transformerQueue)Q.transformer.destroy()}}class UnionIterator extends BufferedIterator{constructor(G,Q={}){super(Q),this._sources=[],this._currentSource=-1;const q=Q.autoStart!==!1;if(isEventEmitter(G))G.on("error",W=>this.emit("error",W)),this._pending={loading:!1,sources:G},q&&this._loadSources();else if(Array.isArray(G)&&G.length>0)for(const W of G)this._addSource(W);else q&&this.close();this._destroySources=Q.destroySources!==!1}_loadSources(){const G=this._pending.sources;this._pending.loading=!0,G.done?(delete this._pending,this.close()):(G.on("data",Q=>{this._addSource(Q),this._fillBufferAsync()}),G.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(G){isPromise$1(G)&&(G=wrap(G)),G.done||(this._sources.push(G),G[DESTINATION]=this,G.on("error",destinationEmitError),G.on("readable",destinationFillBuffer),G.on("end",destinationRemoveEmptySources))}_removeEmptySources(){this._sources=this._sources.filter((G,Q)=>(G.done&&Q<=this._currentSource&&this._currentSource--,!G.done)),this._fillBuffer()}_read(G,Q){var q;((q=this._pending)===null||q===void 0?void 0:q.loading)===!1&&this._loadSources();let W=0,J;for(;W!==(W=G);)for(let F=0;F<this._sources.length&&G>0;F++)this._currentSource=(this._currentSource+1)%this._sources.length,(J=this._sources[this._currentSource].read())!==null&&(G--,this._push(J));!this._pending&&this._sources.length===0&&this.close(),Q()}_end(G=!1){if(super._end(G),this._destroySources){for(const Q of this._sources)Q.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}function destinationRemoveEmptySources(){this[DESTINATION]._removeEmptySources()}class ClonedIterator extends TransformIterator{constructor(G){super(G,{autoStart:!1}),this._readPosition=0,this._reading=!1,G&&(this.readable=!0)}_init(){}close(){AsyncIterator.prototype.close.call(this)}get source(){return super.source}set source(G){const Q=this._source=this._validateSource(G),q=Q&&Q[DESTINATION]||(Q[DESTINATION]=new HistoryReader(Q));this.done?this._destroySource&&Q.destroy():q.endsAt(0)?this.close():(q.register(this),(Q._sourceStarted===!1||q.readAt(0)!==null)&&(this.readable=!0));const W=this._propertyCallbacks;for(const J in W){const F=W[J];for(const Y of F)this._getSourceProperty(J,Y)}}_validateSource(G,Q=!1){const q=G&&G[DESTINATION];return super._validateSource(G,!q||q instanceof HistoryReader)}getProperty(G,Q){const{source:q}=this,W=this._properties,J=W&&G in W;if(!Q)return J?W&&W[G]:q&&q.getProperty(G);super.getProperty(G,Q),q&&!J&&this._getSourceProperty(G,Q)}_getSourceProperty(G,Q){this.source.getProperty(G,q=>{(!this._properties||!(G in this._properties))&&Q(q)})}getProperties(){const G=this.source?this.source.getProperties():{},Q=this._properties;for(const q in Q)G[q]=Q[q];return G}_toStringDetails(){return`{source: ${this.source?this.source.toString():"none"}}`}read(){this._sourceStarted||(this._sourceStarted=!0);const G=this.source;let Q=null;if(!this.done&&G){const q=G[DESTINATION];(Q=q.readAt(this._readPosition))!==null?this._readPosition++:this.readable=!1,q.endsAt(this._readPosition)&&this.close()}return Q}_end(G){const Q=this.source,q=Q==null?void 0:Q[DESTINATION];q&&q.unregister(this),BufferedIterator.prototype._end.call(this,G)}}class HistoryReader{constructor(G){if(this._history=[],this._trackers=new Set,this._source=G,!G.done){const Q=()=>{for(const J of this._trackers)J.readable=!0},q=J=>{for(const F of this._trackers)F.emit("error",J)},W=()=>{for(const J of this._trackers)J._sourceStarted!==!1&&J._readPosition===this._history.length&&J.close();this._trackers.clear(),G.removeListener("end",W),G.removeListener("error",q),G.removeListener("readable",Q)};G.on("end",W),G.on("error",q),G.on("readable",Q)}}register(G){this._source.done||this._trackers.add(G)}unregister(G){this._trackers.delete(G)}readAt(G){let Q=null;return G<this._history.length?Q=this._history[G]:!this._source.done&&(Q=this._source.read())!==null&&(this._history[G]=Q),Q}endsAt(G){return this._source.done&&this._history.length===G}}class WrappingIterator extends AsyncIterator{constructor(G,Q){super(),this._source=null,this._destroySource=(Q==null?void 0:Q.destroySource)!==!1,isPromise$1(G)?(this._source=new AsyncIterator,G.then(q=>{this._source=null,this.source=q}).catch(q=>this.emit("error",q))):G&&(this.source=G)}set source(G){let Q=G;if(this._source!==null)throw new Error("The source cannot be changed after it has been set");if(isIterable(Q)&&(Q=Q[Symbol.iterator]()),isIterator(Q)){let q=Q;Q=new eventsExports.EventEmitter,Q.read=()=>{if(q!==null){let W;for(;!(W=q.next()).done;)if(W.value!==null)return W.value;q=null,this.close()}return null}}else Q=ensureSourceAvailable(Q);if(this.done){this._destroySource&&isFunction$2(Q.destroy)&&Q.destroy();return}Q[DESTINATION]=this,Q.on("end",destinationClose),Q.on("error",destinationEmitError),Q.on("readable",destinationSetReadable),this._source=Q,this.readable=Q.readable!==!1}read(){if(this._source!==null&&this._source.readable!==!1){const G=this._source.read();if(G!==null)return G;this.readable=!1}return null}_end(G=!1){this._source!==null&&(this._source.removeListener("end",destinationClose),this._source.removeListener("error",destinationEmitError),this._source.removeListener("readable",destinationSetReadable),delete this._source[DESTINATION],this._destroySource&&isFunction$2(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(G)}}function wrap(U,G){if(G&&("autoStart"in G||"optional"in G||"source"in G||"maxBufferSize"in G))return U&&!isEventEmitter(U)&&(U=new WrappingIterator(U)),new TransformIterator(U,G);if(!U)return empty();if(isPromise$1(U))return new WrappingIterator(U,G);if(U instanceof AsyncIterator)return U;if(Array.isArray(U))return fromArray(U);if(isIterable(U)||isIterator(U)||isEventEmitter(U))return new WrappingIterator(U,G);throw new TypeError(`Invalid source: ${U}`)}function empty(){return new EmptyIterator}function single(U){return new SingletonIterator(U)}function fromArray(U){return new ArrayIterator(U)}function fromIterator(U){return new WrappingIterator(U)}function fromIterable(U){return new WrappingIterator(U)}function union(U){return new UnionIterator(U)}function range(U,G,Q){return new IntegerIterator({start:U,end:G,step:Q})}function bind$1(U,G){return G?U.bind(G):U}function isFunction$2(U){return typeof U=="function"}function isEventEmitter(U){return isFunction$2(U==null?void 0:U.on)}function isPromise$1(U){return isFunction$2(U==null?void 0:U.then)}function isSourceExpression(U){return U&&(isEventEmitter(U)||isPromise$1(U)||isFunction$2(U))}function isIterable(U){return U&&Symbol.iterator in U}function isIterator(U){return isFunction$2(U==null?void 0:U.next)}const __QUADSTORE_COMUNICA_EXTERNAL_MODULE_asynciterator__=Object.freeze(Object.defineProperty({__proto__:null,ArrayIterator,AsyncIterator,BufferedIterator,CLOSED,CLOSING,ClonedIterator,DESTINATION,DESTROYED,ENDED,EmptyIterator,INIT,IntegerIterator,LinkedList,MappingIterator,MultiTransformIterator,OPEN,SimpleTransformIterator,SingletonIterator,TransformIterator,UnionIterator,WrappingIterator,empty,fromArray,fromIterable,fromIterator,getTaskScheduler,identity:identity$3,isEventEmitter,isFunction:isFunction$2,isIterable,isIterator,isPromise:isPromise$1,isSourceExpression,range,scheduleTask,setTaskScheduler,single,union,wrap},Symbol.toStringTag,{value:"Module"})),isObject$2=U=>typeof U=="object"&&U!==null,isAbstractLevel=U=>isObject$2(U)&&typeof U.open=="function"&&typeof U.batch=="function",ensureAbstractLevel=(U,G)=>{if(!isAbstractLevel(U))throw new Error(`${G} is not an AbstractLevel instance`)},streamToArray=U=>new Promise((G,Q)=>{const q=[],W=X=>{q.push(X)},J=()=>{U.removeListener("data",W),U.removeListener("error",Y),U.destroy()},F=()=>{J(),G(q)},Y=X=>{J(),Q(X)};U.on("error",Y),U.on("end",F),U.on("data",W)}),arrStartsWith=(U,G)=>{for(let Q=0;Q<G.length;Q+=1)if(G[Q]!==U[Q])return!1;return!0},RESOLVED=Promise.resolve(),emptyObject={},boundary="",separator="\0\0",defaultIndexes=[["subject","predicate","object","graph"],["object","graph","subject","predicate"],["graph","subject","predicate","object"],["subject","object","predicate","graph"],["predicate","object","graph","subject"],["graph","predicate","object","subject"]],levelPutOpts={keyEncoding:"utf8",valueEncoding:"view"},levelDelOpts={keyEncoding:"utf8"},emptyValue=new Uint8Array(0),consumeOneByOne=async(U,G)=>new Promise((Q,q)=>{let W,J=!1,F=!1;const Y=()=>{if(F=!0,(W=U.read())!==null){Promise.resolve(G(W)).then(Y).catch(X);return}F=!1,J&&Q()},X=ie=>{q(ie),ne()},te=()=>{J=!0,F||Q(),ne()},re=()=>{F||Y()},ne=()=>{U.removeListener("end",te),U.removeListener("error",X),U.removeListener("readable",re),typeof U.destroy=="function"&&U.destroy()};U.on("end",te),U.on("error",X),U.on("readable",re),U.readable!==!1&&Y()}),consumeInBatches=async(U,G,Q)=>new Promise((q,W)=>{let J=0,F=!1,Y=!1,X=new Array(G);const te=()=>{if(ue(),J>0){Promise.resolve(Q(X.slice(0,J))).then(q).catch(ne);return}q()},re=()=>{Y=!0,F||te()},ne=ce=>{ue(),W(ce)},ie=()=>{F||ae()};let oe=null;const ae=()=>{if(F=!0,Y){te();return}for(;J<G&&(oe=U.read())!==null;)X[J++]=oe;if(oe===null){F=!1;return}J===G&&(Promise.resolve(Q(X.slice())).then(ae).catch(ne),J=0)},ue=()=>{U.removeListener("end",re),U.removeListener("error",ne),U.removeListener("readable",ie),typeof U.destroy=="function"&&U.destroy()};U.on("end",re),U.on("error",ne),U.on("readable",ie),U.readable!==!1&&ae()});let IDX=256;const HEX=[];for(;IDX--;)HEX[IDX]=(IDX+256).toString(16).substring(1);const createUid=U=>{U=U||16;let G="",Q=0;return()=>{if(!G||Q===256){for(G="",Q=(1+U)/2|0;Q--;)G+=HEX[256*Math.random()|0];G=G.substring(Q=0,U-2)}return G+HEX[Q++]}},uid=createUid(11);class LevelIterator extends BufferedIterator{constructor(Q,q){super({maxBufferSize:64});jt(this,"level");jt(this,"mapFn");jt(this,"levelEnded");this.mapFn=q,this.level=Q,this.levelEnded=!1}_read(Q,q){const W={remaining:Q};W.next=this._onNextValue.bind(this,W,q),this.level.next(W.next)}_onNextValue(Q,q,W,J,F){if(W){q(W);return}if(J===void 0&&F===void 0){this.close(),this.levelEnded=!0,q();return}if(this._push(this.mapFn(J,F)),Q.remaining-=1,Q.remaining===0){q();return}this.level.next(Q.next)}_endLevel(Q){if(this.levelEnded){Q();return}this.level.close(q=>{q||(this.levelEnded=!0),Q(q)})}_end(Q){this.ended||(super._end(Q),this._endLevel(q=>{q&&this.emit("error",q)}))}_destroy(Q,q){if(this.destroyed){q();return}this._endLevel(W=>{if(W){q(W);return}super._destroy(Q,q)})}}const xsd="http://www.w3.org/2001/XMLSchema#",string=`${xsd}string`,dateTime=`${xsd}dateTime`,integer=`${xsd}integer`,decimal=`${xsd}decimal`,double=`${xsd}double`,nonPositiveInteger=`${xsd}nonPositiveInteger`,negativeInteger=`${xsd}negativeInteger`,long=`${xsd}long`,int=`${xsd}int`,short=`${xsd}short`,byte=`${xsd}byte`,nonNegativeInteger=`${xsd}nonNegativeInteger`,unsignedLong=`${xsd}unsignedLong`,unsignedInt=`${xsd}unsignedInt`,unsignedShort=`${xsd}unsignedShort`,unsignedByte=`${xsd}unsignedByte`,positiveInteger=`${xsd}positiveInteger`,sliceString=(U,G,Q)=>U.slice(G,G+Q),LENGTH_OF_ENCODED_TERM_LENGTH=4,encodeTermLength=U=>{if(U<36)return`000${U.toString(36)}`;if(U<1296)return`00${U.toString(36)}`;if(U<46656)return`0${U.toString(36)}`;if(U<1679616)return U.toString(36);throw new Error("term serialization exceeded maximum limit of 1_679_616 characters")},decodeTermLength=U=>parseInt(U,36),LENGTH_OF_ENCODED_QUAD_LENGTH=5,encodeQuadLength=U=>{if(U<36)return`0000${U.toString(36)}`;if(U<1296)return`000${U.toString(36)}`;if(U<46656)return`00${U.toString(36)}`;if(U<1679616)return`0${U.toString(36)}`;if(U<60466176)return U.toString(36);throw new Error("quad serialization exceeded maximum limit of 60_466_176 characters")},decodeQuadLength=U=>parseInt(U,36),join=(U,G,Q)=>{let q=""+U;return G<10?q+="00"+G:G<100?q+="0"+G:q+=G,q+=Q.toFixed(17),q},ZERO=join(3,0,0),NEG_INF=join(0,0,0),POS_INF=join(6,0,0),encode=U=>{let G=typeof U!="number"?parseFloat(U):U;if(Number.isNaN(G))throw new Error("Cannot serialize NaN");if(G===-1/0)return NEG_INF;if(G===1/0)return POS_INF;if(G===0)return ZERO;let Q=0,q=0;for(G<0&&(q=1,G*=-1);G>10;)G/=10,Q+=1;for(;G<1;)G*=10,Q-=1;return q===1?Q>=0?join(1,999-Q,10-G):join(2,Q*-1,10-G):Q<0?join(4,999+Q,G):join(5,Q,G)},namedNodeWriter={write(U,G,Q){const q=Q.compactIri(U.value);G.lengths=encodeTermLength(q.length),G.value=q}},namedNodeReader={read(U,G,Q,q){const{keyOffset:W,lengthsOffset:J}=G,F=decodeTermLength(sliceString(U,J,LENGTH_OF_ENCODED_TERM_LENGTH));return G.lengthsOffset+=LENGTH_OF_ENCODED_TERM_LENGTH,G.keyOffset+=F,Q.namedNode(q.expandTerm(sliceString(U,W,F)))}},blankNodeWriter={write(U,G){G.lengths=encodeTermLength(U.value.length),G.value=U.value}},blankNodeReader={read(U,G,Q){const{keyOffset:q,lengthsOffset:W}=G,J=decodeTermLength(sliceString(U,W,LENGTH_OF_ENCODED_TERM_LENGTH));return G.lengthsOffset+=LENGTH_OF_ENCODED_TERM_LENGTH,G.keyOffset+=J,Q.blankNode(sliceString(U,q,J))}},genericLiteralWriter={write(U,G){G.lengths=encodeTermLength(U.value.length)+encodeTermLength(U.datatype.value.length),G.value=U.datatype.value+separator+U.value}},genericLiteralReader={read(U,G,Q,q){const{keyOffset:W,lengthsOffset:J}=G,F=decodeTermLength(sliceString(U,J,LENGTH_OF_ENCODED_TERM_LENGTH)),Y=decodeTermLength(sliceString(U,J+LENGTH_OF_ENCODED_TERM_LENGTH,LENGTH_OF_ENCODED_TERM_LENGTH));return G.lengthsOffset+=LENGTH_OF_ENCODED_TERM_LENGTH*2,G.keyOffset+=F+Y+separator.length,Q.literal(sliceString(U,W+Y+separator.length,F),Q.namedNode(sliceString(U,W,Y)))}},stringLiteralWriter={write(U,G){G.lengths=encodeTermLength(U.value.length),G.value=U.value}},stringLiteralReader={read(U,G,Q){const{keyOffset:q,lengthsOffset:W}=G,J=decodeTermLength(sliceString(U,W,LENGTH_OF_ENCODED_TERM_LENGTH));return G.lengthsOffset+=LENGTH_OF_ENCODED_TERM_LENGTH,G.keyOffset+=J,Q.literal(sliceString(U,q,J))}},langStringLiteralWriter={write(U,G){G.lengths=encodeTermLength(U.value.length)+encodeTermLength(U.language.length),G.value=U.language+separator+U.value}},langStringLiteralReader={read(U,G,Q,q){const{keyOffset:W,lengthsOffset:J}=G,F=decodeTermLength(sliceString(U,J,LENGTH_OF_ENCODED_TERM_LENGTH)),Y=decodeTermLength(sliceString(U,J+LENGTH_OF_ENCODED_TERM_LENGTH,LENGTH_OF_ENCODED_TERM_LENGTH));return G.lengthsOffset+=LENGTH_OF_ENCODED_TERM_LENGTH*2,G.keyOffset+=F+Y+separator.length,Q.literal(sliceString(U,W+Y+separator.length,F),sliceString(U,W,Y))}},numericLiteralWriter={write(U,G,Q,q,W){G.lengths=encodeTermLength(U.value.length)+encodeTermLength(U.datatype.value.length)+encodeTermLength(W.length),q?G.value=W:G.value=W+separator+U.datatype.value+separator+U.value}},numericLiteralReader={read(U,G,Q,q){const{keyOffset:W,lengthsOffset:J}=G,F=decodeTermLength(sliceString(U,J,LENGTH_OF_ENCODED_TERM_LENGTH)),Y=decodeTermLength(sliceString(U,J+LENGTH_OF_ENCODED_TERM_LENGTH,LENGTH_OF_ENCODED_TERM_LENGTH)),X=decodeTermLength(sliceString(U,J+LENGTH_OF_ENCODED_TERM_LENGTH*2,LENGTH_OF_ENCODED_TERM_LENGTH));return G.lengthsOffset+=LENGTH_OF_ENCODED_TERM_LENGTH*3,G.keyOffset+=X+Y+F+separator.length*2,Q.literal(sliceString(U,W+X+separator.length+Y+separator.length,F),Q.namedNode(sliceString(U,W+X+separator.length,Y)))}},defaultGraphWriter={write(U,G){G.value="dg",G.lengths="2"}},defaultGraphReader={read(U,G,Q,q){return G.keyOffset+=2,G.lengthsOffset+=1,Q.defaultGraph()}},termWriter={write(U,G,Q){switch(U.termType){case"NamedNode":G.type="0",namedNodeWriter.write(U,G,Q);break;case"BlankNode":G.type="1",blankNodeWriter.write(U,G,Q);break;case"DefaultGraph":G.type="6",defaultGraphWriter.write(U,G,Q);break;case"Literal":if(U.language)G.type="4",langStringLiteralWriter.write(U,G,Q);else if(U.datatype)switch(U.datatype.value){case string:G.type="3",stringLiteralWriter.write(U,G,Q);break;case integer:case double:case decimal:case nonPositiveInteger:case negativeInteger:case long:case int:case short:case byte:case nonNegativeInteger:case unsignedLong:case unsignedInt:case unsignedShort:case unsignedByte:case positiveInteger:G.type="5",numericLiteralWriter.write(U,G,Q,!1,encode(U.value));break;case dateTime:G.type="7",numericLiteralWriter.write(U,G,Q,!1,encode(new Date(U.value).valueOf()));break;default:G.type="2",genericLiteralWriter.write(U,G,Q)}else G.type="3",stringLiteralWriter.write(U,G,Q)}}},termReader={read(U,G,Q,q){let W;const J=U.charAt(G.lengthsOffset);switch(G.lengthsOffset+=1,J){case"0":W=namedNodeReader.read(U,G,Q,q);break;case"1":W=blankNodeReader.read(U,G,Q,q);break;case"2":W=genericLiteralReader.read(U,G,Q,q);break;case"3":W=stringLiteralReader.read(U,G,Q,q);break;case"4":W=langStringLiteralReader.read(U,G,Q,q);break;case"5":W=numericLiteralReader.read(U,G,Q,q);break;case"6":W=defaultGraphReader.read(U,G,Q,q);break;case"7":W=numericLiteralReader.read(U,G,Q,q);break;default:throw new Error(`Unexpected encoded term type "${J}"`)}return W}},twoStepsQuadWriter={subject:{type:"",value:"",lengths:""},predicate:{type:"",value:"",lengths:""},object:{type:"",value:"",lengths:""},graph:{type:"",value:"",lengths:""},ingest(U,G){return termWriter.write(U.subject,this.subject,G),termWriter.write(U.predicate,this.predicate,G),termWriter.write(U.object,this.object,G),termWriter.write(U.graph,this.graph,G),this},write(U,G){let Q=U,q="";for(let W=0,J;W<G.length;W+=1)J=this[G[W]],Q+=J.value+separator,q+=J.type+J.lengths;return Q+q+encodeQuadLength(q.length)}},quadReader={subject:null,predicate:null,object:null,graph:null,keyOffset:0,lengthsOffset:0,read(U,G,Q,q,W){this.lengthsOffset=U.length-decodeQuadLength(U.slice(-LENGTH_OF_ENCODED_QUAD_LENGTH))-LENGTH_OF_ENCODED_QUAD_LENGTH,this.keyOffset=G;for(let J=0,F;J<Q.length;J+=1)F=Q[J],this[F]=termReader.read(U,this,q,W),this.keyOffset+=separator.length;return q.quad(this.subject,this.predicate,this.object,this.graph)}},serialized={type:"",value:"",lengths:""},patternLiteralWriter={write(U,G){if(U.language){langStringLiteralWriter.write(U,serialized,G);return}if(U.datatype)switch(U.datatype.value){case string:stringLiteralWriter.write(U,serialized,G);return;case integer:case double:case decimal:case nonPositiveInteger:case negativeInteger:case long:case int:case short:case byte:case nonNegativeInteger:case unsignedLong:case unsignedInt:case unsignedShort:case unsignedByte:case positiveInteger:numericLiteralWriter.write(U,serialized,G,!0,encode(U.value));return;case dateTime:numericLiteralWriter.write(U,serialized,G,!0,encode(new Date(U.value).valueOf()));return;default:genericLiteralWriter.write(U,serialized,G);return}stringLiteralWriter.write(U,serialized,G)}},writePattern=(U,G,Q)=>{let q=G.prefix,W=G.prefix,J=!0,F=!0,Y=!1,X=!1,te=Object.entries(U).filter(([ne,ie])=>ie).length;if(te===0)return W+=boundary,{gt:q,lt:W,gte:J,lte:F,order:G.terms,index:G};let re=0;for(;re<G.terms.length&&te>0;re+=1){const ne=U[G.terms[re]];if(!ne||Y||X)return null;switch(ne.termType){case"Range":Y=!0,ne.gt?(patternLiteralWriter.write(ne.gt,Q),q+=serialized.value,J=!1):ne.gte&&(patternLiteralWriter.write(ne.gte,Q),q+=serialized.value,J=!0),ne.lt?(patternLiteralWriter.write(ne.lt,Q),W+=serialized.value,F=!1):ne.lte&&(patternLiteralWriter.write(ne.lte,Q),W+=serialized.value,F=!0);break;case"Literal":X=!0,patternLiteralWriter.write(ne,Q),q+=serialized.value,J=!0,patternLiteralWriter.write(ne,Q),W+=serialized.value,F=!0;break;case"NamedNode":namedNodeWriter.write(ne,serialized,Q),q+=serialized.value,J=!0,namedNodeWriter.write(ne,serialized,Q),W+=serialized.value,F=!0;break;case"BlankNode":blankNodeWriter.write(ne,serialized,Q),q+=serialized.value,J=!0,blankNodeWriter.write(ne,serialized,Q),W+=serialized.value,F=!0;break;case"DefaultGraph":defaultGraphWriter.write(ne,serialized,Q),q+=serialized.value,J=!0,defaultGraphWriter.write(ne,serialized,Q),W+=serialized.value,F=!0;break;default:throw new Error(`Unsupported term type ${ne.termType}`)}te-=1,te>0&&re<G.terms.length-1&&(q+=separator,W+=separator)}return F?Y?W+=boundary:W+=separator+boundary:W+=separator,J?!Y&&!X&&(q+=separator):Y||X?q+=boundary:q+=separator+boundary,{gt:q,lt:W,gte:J,lte:F,order:G.terms.slice(Y?re-1:1),index:G}};let sortedSetImportErr,SortedSet=class{constructor(){throw new Error(`Failed to require module js-sorted-set: ${sortedSetImportErr==null?void 0:sortedSetImportErr.message}`)}};__vitePreload(()=>import("./sorted-set-08ae5e7d-B_hr_UCA.js"),[]).then(U=>U.s).then(U=>{SortedSet=U.default}).catch(U=>{sortedSetImportErr=U});class SortingIterator extends AsyncIterator{constructor(G,Q,q,W){super();let J;const F=()=>{const Y=new SortedSet({comparator:Q}),X=()=>{G.removeListener("data",te),G.removeListener("error",re),G.removeListener("end",ne),G.destroy()},te=ie=>{Y.insert(q(ie))},re=ie=>{X(),this.emit("error",ie)},ne=()=>{X(),J=Y.beginIterator(),this.readable=!0};G.on("data",te),G.on("error",re),G.on("end",ne)};this.read=()=>{if(J){const Y=J.value();return Y===null?(this.close(),null):(J=J.next(),W(Y))}return this.readable=!1,null},RESOLVED.then(F).catch(Y=>{RESOLVED.then(()=>this.emit("error",Y))})}}const SORTING_KEY=Symbol(),compareSortableQuadsReverse=(U,G)=>U[SORTING_KEY]>G[SORTING_KEY]?-1:1,compareSortableQuads=(U,G)=>U[SORTING_KEY]>G[SORTING_KEY]?1:-1,emitSortableQuad=U=>U,getLevelQueryForIndex=(U,G,Q,q)=>{const W=writePattern(U,G,Q);if(W===null)return null;const J={[W.gte?"gte":"gt"]:W.gt,[W.lte?"lte":"lt"]:W.lt,keys:!0,values:!1,keyEncoding:"utf8"};return typeof q.limit=="number"&&(J.limit=q.limit),typeof q.reverse=="boolean"&&(J.reverse=q.reverse),{level:J,order:W.order,index:W.index}},getLevelQuery=(U,G,Q,q)=>{for(let W=0,J;W<G.length;W+=1){J=G[W];const F=getLevelQueryForIndex(U,J,Q,q);if(F!==null&&(!q.order||arrStartsWith(F.order,q.order)))return F}return null},getStream=async(U,G,Q)=>{const{dataFactory:q,prefixes:W,indexes:J}=U,F=getLevelQuery(G,J,W,Q);if(F!==null){const{index:X,level:te,order:re}=F;let ne=new LevelIterator(U.db.iterator(te),ie=>quadReader.read(ie,X.prefix.length,X.terms,q,W));return{type:ResultType.QUADS,order:re,iterator:ne,index:X.terms,resorted:!1}}const Y=getLevelQuery(G,J,W,emptyObject);if(Y!==null){const{index:X,level:te,order:re}=Y;let ne=new LevelIterator(U.db.iterator(te),ie=>quadReader.read(ie,X.prefix.length,X.terms,q,W));if(typeof Q.order<"u"&&!arrStartsWith(Q.order,re)){const ie=ae=>(ae[SORTING_KEY]=twoStepsQuadWriter.ingest(ae,W).write("",Q.order)+separator,ae),oe=Q.reverse===!0?compareSortableQuadsReverse:compareSortableQuads;if(ne=new SortingIterator(ne,oe,ie,emitSortableQuad),typeof Q.limit<"u"){const ae=function(){this.removeListener("end",ae),this.removeListener("error",ae),this.destroy()};ne=ne.take(Q.limit).on("end",ae).on("error",ae)}}return{type:ResultType.QUADS,order:Q.order||re,iterator:ne,index:X.terms,resorted:!0}}throw new Error(`No index compatible with pattern ${JSON.stringify(G)} and options ${JSON.stringify(Q)}`)},getApproximateSize=async(U,G,Q)=>{if(!U.db.approximateSize)return{type:ResultType.APPROXIMATE_SIZE,approximateSize:1/0};const{indexes:q,prefixes:W}=U,J=getLevelQuery(G,q,W,Q);if(J===null)throw new Error(`No index compatible with pattern ${JSON.stringify(G)} and options ${JSON.stringify(Q)}`);const{level:F}=J,Y=F.gte||F.gt,X=F.lte||F.lt;return new Promise((te,re)=>{U.db.approximateSize(Y,X,(ne,ie)=>{if(ne){re(ne);return}te({type:ResultType.APPROXIMATE_SIZE,approximateSize:Math.max(1,ie)})})})};class Scope{constructor(G,Q,q){jt(this,"id");jt(this,"blankNodes");jt(this,"factory");this.blankNodes=q,this.factory=G,this.id=Q}static async init(G){return new Scope(G.dataFactory,uid(),new Map)}static async load(G,Q){const q=Scope.getLevelIteratorOpts(!1,!0,Q),W=new LevelIterator(G.db.iterator(q),(Y,X)=>X),J=new Map,{dataFactory:F}=G;return await consumeOneByOne(W,Y=>{const{originalLabel:X,randomLabel:te}=JSON.parse(Y);J.set(X,F.blankNode(te))}),new Scope(F,Q,J)}static async delete(G,Q){const q=G.db.batch(),W=Scope.getLevelIteratorOpts(!0,!1,Q),J=new LevelIterator(G.db.iterator(W),(F,Y)=>F);await consumeOneByOne(J,F=>{q.del(F)}),await q.write()}static getLevelIteratorOpts(G,Q,q){const W=q?`SCOPE${separator}${q}${separator}`:`SCOPE${separator}`;return{keys:G,values:Q,keyEncoding:"utf8",valueEncoding:"utf8",gte:W,lte:`${W}${boundary}`}}static addMappingToLevelBatch(G,Q,q,W){Q.put(`SCOPE${separator}${G}${separator}${q}`,JSON.stringify({originalLabel:q,randomLabel:W}))}parseBlankNode(G,Q){let q=this.blankNodes.get(G.value);return q||(q=this.factory.blankNode(uid()),this.blankNodes.set(G.value,q),Scope.addMappingToLevelBatch(this.id,Q,G.value,q.value)),q}parseSubject(G,Q){switch(G.termType){case"BlankNode":return this.parseBlankNode(G,Q);default:return G}}parseObject(G,Q){switch(G.termType){case"BlankNode":return this.parseBlankNode(G,Q);default:return G}}parseGraph(G,Q){switch(G.termType){case"BlankNode":return this.parseBlankNode(G,Q);default:return G}}parseQuad(G,Q){return this.factory.quad(this.parseSubject(G.subject,Q),G.predicate,this.parseObject(G.object,Q),this.parseGraph(G.graph,Q))}}class Quadstore{constructor(G){jt(this,"db");jt(this,"indexes");jt(this,"id");jt(this,"prefixes");jt(this,"dataFactory");ensureAbstractLevel(G.backend,'"opts.backend"'),this.dataFactory=G.dataFactory,this.db=G.backend,this.indexes=[],this.id=uid(),(G.indexes||defaultIndexes).forEach(Q=>this._addIndex(Q)),this.prefixes=G.prefixes||{expandTerm:Q=>Q,compactIri:Q=>Q}}ensureReady(){if(this.db.status!=="open")throw new Error(`Store is not ready (status: "${this.db.status}"). Did you call store.open()?`)}async open(){this.db.status!=="open"&&await this.db.open()}async close(){this.db.status!=="closed"&&await this.db.close()}toString(){return this.toJSON()}toJSON(){return`[object ${this.constructor.name}::${this.id}]`}_addIndex(G){const Q=G.map(q=>q.charAt(0).toUpperCase()).join("");this.indexes.push({terms:G,prefix:Q+separator})}async clear(){if(typeof this.db.clear=="function")return new Promise((G,Q)=>{this.db.clear(q=>{q?Q(q):G()})});await this.delStream((await this.getStream({})).iterator,{batchSize:20})}match(G,Q,q,W,J=emptyObject){if(G&&G.termType==="Literal")return new EmptyIterator;const F={subject:G,predicate:Q,object:q,graph:W};return wrap(this.getStream(F,J).then(Y=>Y.iterator))}async countQuads(G,Q,q,W,J=emptyObject){if(G&&G.termType==="Literal")return 0;const F={subject:G,predicate:Q,object:q,graph:W};return(await this.getApproximateSize(F,J)).approximateSize}import(G){const Q=new eventsExports.EventEmitter;return this.putStream(G,{}).then(()=>{Q.emit("end")}).catch(q=>{Q.emit("error",q)}),Q}remove(G){const Q=new eventsExports.EventEmitter;return this.delStream(G,{}).then(()=>Q.emit("end")).catch(q=>Q.emit("error",q)),Q}removeMatches(G,Q,q,W,J=emptyObject){const F=this.match(G,Q,q,W,J);return this.remove(F)}deleteGraph(G){return this.removeMatches(void 0,void 0,void 0,G)}async getApproximateSize(G,Q=emptyObject){return await this.ensureReady(),await getApproximateSize(this,G,Q)}_batchPut(G,Q){const{indexes:q,prefixes:W}=this;twoStepsQuadWriter.ingest(G,W);for(let J=0,F=q.length,Y;J<F;J+=1){Y=q[J];const X=twoStepsQuadWriter.write(Y.prefix,Y.terms);Q=Q.put(X,emptyValue,levelPutOpts)}return Q}async put(G,Q=emptyObject){this.ensureReady();const{indexes:q,db:W}=this;let J=W.batch();return Q.scope&&(G=Q.scope.parseQuad(G,J)),this._batchPut(G,J),await this.writeBatch(J,Q),{type:ResultType.VOID}}async multiPut(G,Q=emptyObject){this.ensureReady();const{indexes:q,db:W}=this;let J=W.batch();for(let F=0,Y=G.length,X;F<Y;F+=1)X=G[F],Q.scope&&(X=Q.scope.parseQuad(X,J)),this._batchPut(X,J);return await this.writeBatch(J,Q),{type:ResultType.VOID}}_batchDel(G,Q){const{indexes:q,prefixes:W}=this;twoStepsQuadWriter.ingest(G,W);for(let J=0,F=q.length,Y;J<F;J+=1){Y=q[J];const X=twoStepsQuadWriter.write(Y.prefix,Y.terms);Q=Q.del(X,levelDelOpts)}return Q}async del(G,Q=emptyObject){this.ensureReady();const q=this.db.batch();return this._batchDel(G,q),await this.writeBatch(q,Q),{type:ResultType.VOID}}async multiDel(G,Q=emptyObject){this.ensureReady();const q=this.db.batch();for(let W=0,J=G.length,F;W<J;W+=1)F=G[W],this._batchDel(F,q);return await this.writeBatch(q,Q),{type:ResultType.VOID}}async patch(G,Q,q=emptyObject){this.ensureReady();const{indexes:W,db:J}=this,F=J.batch();return this._batchDel(G,F),this._batchPut(Q,F),await this.writeBatch(F,q),{type:ResultType.VOID}}async multiPatch(G,Q,q=emptyObject){this.ensureReady();const{indexes:W,db:J}=this;let F=J.batch();for(let Y=0,X=G.length,te;Y<X;Y+=1)te=G[Y],this._batchDel(te,F);for(let Y=0,X=Q.length,te;Y<X;Y+=1)te=Q[Y],this._batchPut(te,F);return await this.writeBatch(F,q),{type:ResultType.VOID}}async writeBatch(G,Q){Q.preWrite&&await Q.preWrite(G),await G.write()}async get(G,Q=emptyObject){this.ensureReady();const q=await this.getStream(G,Q);return{items:await streamToArray(q.iterator),type:q.type,order:q.order,index:q.index,resorted:q.resorted}}async getStream(G,Q=emptyObject){return this.ensureReady(),await getStream(this,G,Q)}async putStream(G,Q=emptyObject){this.ensureReady();const q=Q.batchSize||1;return q===1?await consumeOneByOne(G,W=>this.put(W,Q)):await consumeInBatches(G,q,W=>this.multiPut(W,Q)),{type:ResultType.VOID}}async delStream(G,Q=emptyObject){this.ensureReady();const q=Q.batchSize||1;return q===1?await consumeOneByOne(G,W=>this.del(W)):await consumeInBatches(G,q,W=>this.multiDel(W)),{type:ResultType.VOID}}async initScope(){return await this.ensureReady(),await Scope.init(this)}async loadScope(G){return await this.ensureReady(),await Scope.load(this,G)}async deleteScope(G){await this.ensureReady(),await Scope.delete(this,G)}async deleteAllScopes(){await this.ensureReady(),await Scope.delete(this)}}var sparqlalgebrajs={},sparqlAlgebra={},es6=function U(G,Q){if(G===Q)return!0;if(G&&Q&&typeof G=="object"&&typeof Q=="object"){if(G.constructor!==Q.constructor)return!1;var q,W,J;if(Array.isArray(G)){if(q=G.length,q!=Q.length)return!1;for(W=q;W--!==0;)if(!U(G[W],Q[W]))return!1;return!0}if(G instanceof Map&&Q instanceof Map){if(G.size!==Q.size)return!1;for(W of G.entries())if(!Q.has(W[0]))return!1;for(W of G.entries())if(!U(W[1],Q.get(W[0])))return!1;return!0}if(G instanceof Set&&Q instanceof Set){if(G.size!==Q.size)return!1;for(W of G.entries())if(!Q.has(W[0]))return!1;return!0}if(ArrayBuffer.isView(G)&&ArrayBuffer.isView(Q)){if(q=G.length,q!=Q.length)return!1;for(W=q;W--!==0;)if(G[W]!==Q[W])return!1;return!0}if(G.constructor===RegExp)return G.source===Q.source&&G.flags===Q.flags;if(G.valueOf!==Object.prototype.valueOf)return G.valueOf()===Q.valueOf();if(G.toString!==Object.prototype.toString)return G.toString()===Q.toString();if(J=Object.keys(G),q=J.length,q!==Object.keys(Q).length)return!1;for(W=q;W--!==0;)if(!Object.prototype.hasOwnProperty.call(Q,J[W]))return!1;for(W=q;W--!==0;){var F=J[W];if(!U(G[F],Q[F]))return!1}return!0}return G!==G&&Q!==Q},rdfString={},TermUtil$1={};Object.defineProperty(TermUtil$1,"__esModule",{value:!0}),TermUtil$1.stringQuadToQuad=TermUtil$1.quadToStringQuad=TermUtil$1.stringToTerm=TermUtil$1.getLiteralLanguage=TermUtil$1.getLiteralType=TermUtil$1.getLiteralValue=TermUtil$1.termToString=void 0;const rdf_data_factory_1$2=rdfDataFactory,FACTORY=new rdf_data_factory_1$2.DataFactory;function termToString(U){if(U)switch(U.termType){case"NamedNode":return U.value;case"BlankNode":return"_:"+U.value;case"Literal":const G=U;return'"'+G.value+'"'+(G.datatype&&G.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&G.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+G.datatype.value:"")+(G.language?"@"+G.language:"");case"Quad":return`<<${termToString(U.subject)} ${termToString(U.predicate)} ${termToString(U.object)}${U.graph.termType==="DefaultGraph"?"":" "+termToString(U.graph)}>>`;case"Variable":return"?"+U.value;case"DefaultGraph":return U.value}}TermUtil$1.termToString=termToString;function getLiteralValue(U){const G=/^"([^]*)"/.exec(U);if(!G)throw new Error(U+" is not a literal");return G[1]}TermUtil$1.getLiteralValue=getLiteralValue;function getLiteralType(U){const G=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(U);if(!G)throw new Error(U+" is not a literal");return G[1]||(G[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}TermUtil$1.getLiteralType=getLiteralType;function getLiteralLanguage(U){const G=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(U);if(!G)throw new Error(U+" is not a literal");return G[1]?G[1].toLowerCase():""}TermUtil$1.getLiteralLanguage=getLiteralLanguage;function stringToTerm(U,G){if(G=G||FACTORY,!U||!U.length)return G.defaultGraph();switch(U[0]){case"_":return G.blankNode(U.substr(2));case"?":if(!G.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return G.variable(U.substr(1));case'"':const Q=getLiteralLanguage(U),q=G.namedNode(getLiteralType(U));return G.literal(getLiteralValue(U),Q||q);case"<":default:if(U[0]==="<"&&U.length>4&&U[1]==="<"&&U[U.length-1]===">"&&U[U.length-2]===">"){const W=U.slice(2,-2).trim();let J=[],F=0,Y=0,X=!1;for(let te=0;te<W.length;te++){const re=W[te];if(re==="<"&&F++,re===">"){if(F===0)throw new Error("Found closing tag without opening tag in "+U);F--}if(re==='"'){let ne=!1,ie=te;for(;ie-- >0&&W[ie]==="\\";)ne=!ne;ne||(X=!X)}if(re===" "&&!X&&F===0){for(J.push(W.slice(Y,te));W[te+1]===" ";)te+=1;Y=te+1}}if(F!==0)throw new Error("Found opening tag without closing tag in "+U);if(J.push(W.slice(Y,W.length)),J.length!==3&&J.length!==4)throw new Error("Nested quad syntax error "+U);return J=J.map(te=>te.startsWith("<")&&!te.includes(" ")?te.slice(1,-1):te),G.quad(stringToTerm(J[0]),stringToTerm(J[1]),stringToTerm(J[2]),J[3]?stringToTerm(J[3]):void 0)}return G.namedNode(U)}}TermUtil$1.stringToTerm=stringToTerm;function quadToStringQuad(U){return{subject:termToString(U.subject),predicate:termToString(U.predicate),object:termToString(U.object),graph:termToString(U.graph)}}TermUtil$1.quadToStringQuad=quadToStringQuad;function stringQuadToQuad(U,G){return G=G||FACTORY,G.quad(stringToTerm(U.subject,G),stringToTerm(U.predicate,G),stringToTerm(U.object,G),stringToTerm(U.graph,G))}TermUtil$1.stringQuadToQuad=stringQuadToQuad,function(U){Object.defineProperty(U,"__esModule",{value:!0}),U.termToString=U.stringToTerm=U.stringQuadToQuad=U.quadToStringQuad=U.getLiteralValue=U.getLiteralType=U.getLiteralLanguage=void 0;const G=TermUtil$1;Object.defineProperty(U,"getLiteralLanguage",{enumerable:!0,get:function(){return G.getLiteralLanguage}}),Object.defineProperty(U,"getLiteralType",{enumerable:!0,get:function(){return G.getLiteralType}}),Object.defineProperty(U,"getLiteralValue",{enumerable:!0,get:function(){return G.getLiteralValue}}),Object.defineProperty(U,"quadToStringQuad",{enumerable:!0,get:function(){return G.quadToStringQuad}}),Object.defineProperty(U,"stringQuadToQuad",{enumerable:!0,get:function(){return G.stringQuadToQuad}}),Object.defineProperty(U,"stringToTerm",{enumerable:!0,get:function(){return G.stringToTerm}}),Object.defineProperty(U,"termToString",{enumerable:!0,get:function(){return G.termToString}})}(rdfString);var algebra={};(function(U){Object.defineProperty(U,"__esModule",{value:!0}),U.expressionTypes=U.types=void 0,function(G){G.ALT="alt",G.ASK="ask",G.BGP="bgp",G.CONSTRUCT="construct",G.DESCRIBE="describe",G.DISTINCT="distinct",G.EXPRESSION="expression",G.EXTEND="extend",G.FILTER="filter",G.FROM="from",G.GRAPH="graph",G.GROUP="group",G.INV="inv",G.JOIN="join",G.LEFT_JOIN="leftjoin",G.LINK="link",G.MINUS="minus",G.NOP="nop",G.NPS="nps",G.ONE_OR_MORE_PATH="OneOrMorePath",G.ORDER_BY="orderby",G.PATH="path",G.PATTERN="pattern",G.PROJECT="project",G.REDUCED="reduced",G.SEQ="seq",G.SERVICE="service",G.SLICE="slice",G.UNION="union",G.VALUES="values",G.ZERO_OR_MORE_PATH="ZeroOrMorePath",G.ZERO_OR_ONE_PATH="ZeroOrOnePath",G.COMPOSITE_UPDATE="compositeupdate",G.DELETE_INSERT="deleteinsert",G.LOAD="load",G.CLEAR="clear",G.CREATE="create",G.DROP="drop",G.ADD="add",G.MOVE="move",G.COPY="copy"}(U.types||(U.types={})),function(G){G.AGGREGATE="aggregate",G.EXISTENCE="existence",G.NAMED="named",G.OPERATOR="operator",G.TERM="term",G.WILDCARD="wildcard"}(U.expressionTypes||(U.expressionTypes={}))})(algebra);var factory$2={},Wildcard$2={};let Wildcard$1=class{constructor(){return WILDCARD||this}equals(U){return U&&this.termType===U.termType}};Object.defineProperty(Wildcard$1.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(Wildcard$1.prototype,"termType",{enumerable:!0,value:"Wildcard"});var WILDCARD=new Wildcard$1;Wildcard$2.Wildcard=Wildcard$1;var SparqlParser=function(){var U=function(it,tt,ct,ht){for(ct=ct||{},ht=it.length;ht--;ct[it[ht]]=tt);return ct},G=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],Q=[2,247],q=[100,110,113,115,116,123,126,131,329,330,331,332,333],W=[2,409],J=[1,18],F=[1,27],Y=[13,16,45,197,224,229,308],X=[28,29,53],te=[28,53],re=[1,42],ne=[1,45],ie=[1,41],oe=[1,44],ae=[123,126],ue=[1,67],ce=[39,45,87],se=[13,16,45,197,224,308],le=[1,87],de=[2,281],he=[1,86],pe=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],ge=[6,28,29,53,63,70,73,81,83,85],be=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],ve=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],Ee=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],ke=[13,16,308],Pe=[112,132,327,334],Te=[13,16,112,132,308],xe=[1,111],Ne=[1,117],Se=[112,132,327,328,334],Ge=[13,16,112,132,308,328],Ce=[28,29,45,53,87],ze=[1,138],Ve=[1,151],Ke=[1,128],Ze=[1,127],et=[1,129],ot=[1,140],nt=[1,141],dt=[1,142],Fe=[1,143],Xe=[1,144],pt=[1,145],yt=[1,147],vt=[1,148],mt=[2,457],Tt=[1,158],we=[1,159],Re=[1,160],_e=[1,152],Me=[1,153],Ie=[1,156],De=[1,171],qe=[1,172],Le=[1,173],Qe=[1,174],We=[1,175],$e=[1,176],Ye=[1,167],rt=[1,168],at=[1,169],me=[1,170],fe=[1,157],ye=[1,166],Ae=[1,161],Be=[1,162],He=[1,163],Je=[1,164],st=[1,165],ut=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],ft=[1,195],At=[6,31,73,81,83,85],bt=[2,285],It=[1,199],Et=[1,201],Vt=[6,31,70,73,81,83,85],Bt=[2,283],Gt=[1,207],St=[1,218],Rt=[1,223],qt=[1,219],Dt=[1,225],kt=[1,226],$t=[1,224],tr=[6,63,70,73,81,83,85],sr=[1,236],Ur=[2,334],ei=[1,243],ti=[1,241],Jt=[6,193],en=[2,349],ri=[2,339],gr=[28,128],ni=[47,48,193,272],tn=[47,48,193,242,272],Cr=[47,48,193,242,246,272],Ir=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],Kt=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],ii=[1,271],oi=[1,270],Ut=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],ai=[1,281],si=[1,280],Ft=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],Wr=[45,89],rn=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],nn=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],an=[31,89],sn=[48,87],Tr=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],rr=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],ci=[1,313],Dr=[6,85],En=[6,31,81,83,85],ui=[2,361],cr=[2,353],Ar=[1,343],$r=[31,112,335],ur=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Mn=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],li=[6,109,193],Sr=[31,112],Wt=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],Nn=[1,390],jn=[1,391],yr=[13,16,87,197,308,314],di=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],cn=[1,417],un=[1,418],hi=[13,16,48,197,229,308],br=[6,31,85],pi=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Pn=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],wr=[29,31,85,112,159,160,161,163,164],ln=[1,443],dn=[1,444],mi=[1,449],Or=[31,112,193,232,318,335],hn=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],fi=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Rn=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Kr=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Jr=[31,45],gi=[1,507],yi=[1,508],bi=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],pn=[29,31,85,112,159,160,161,163,164,335],Er=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],vi=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],xi=[2,352],Cn=[13,16,197,308,314],_i=[1,565],Br=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Ti=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],lr=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Ai=[13,16,87,308],dr=[2,364],Lr=[29,31,85,112,159,160,161,163,164,193,232,318,335],mn=[31,112,193,232,272,318,335],hr=[2,359],Si=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],fn=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],wi=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Oi=[2,347],In={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(it,tt,ct,ht,xt,Oe,Ct){var je=Oe.length-1;switch(xt){case 1:if(Oe[je-1]=Oe[je-1]||{},Nt.base&&(Oe[je-1].base=Nt.base),Nt.base="",Oe[je-1].prefixes=Nt.prefixes,Nt.prefixes=null,Nt.pathOnly){if(Oe[je-1].type==="path"||"termType"in Oe[je-1])return Oe[je-1];throw new Error("Received full SPARQL query in path only mode")}else if(Oe[je-1].type==="path"||"termType"in Oe[je-1])throw new Error("Received only path in full SPARQL mode");if(Oe[je-1].type==="update"){const Ot={};for(const zt of Oe[je-1].updates)if(zt.updateType==="insert"){const Mt={};for(const Yt of zt.insert)if(Yt.type==="bgp"||Yt.type==="graph")for(const er of Yt.triples)er.subject.termType==="BlankNode"&&(Mt[er.subject.value]=!0),er.predicate.termType==="BlankNode"&&(Mt[er.predicate.value]=!0),er.object.termType==="BlankNode"&&(Mt[er.object.value]=!0);for(const Yt of Object.keys(Mt)){if(Ot[Yt])throw new Error("Detected reuse blank node across different INSERT DATA clauses");Ot[Yt]=!0}}}return Oe[je-1];case 2:this.$={...Oe[je-1],...Oe[je],type:"query"};break;case 4:Nt.base=Zr(Oe[je]);break;case 5:Nt.prefixes||(Nt.prefixes={}),Oe[je-1]=Oe[je-1].substr(0,Oe[je-1].length-1),Oe[je]=Zr(Oe[je]),Nt.prefixes[Oe[je-1]]=Oe[je];break;case 6:this.$={...Oe[je-3],...jr(Oe[je-2]),...Oe[je-1],...Oe[je]};break;case 7:if(!Nt.skipValidation&&(Qn(Oe[je-3].variables.map(Ot=>Vn(Ot.expression))).some(Ot=>Ot.aggregation==="count"&&!(Ot.expression instanceof gn))||Oe[je].group)){for(const Ot of Oe[je-3].variables)if(Ot.termType==="Variable"){if(!Oe[je].group||!Oe[je].group.map(zt=>Qr(zt)).includes(Qr(Ot)))throw Error("Projection of ungrouped variable (?"+Qr(Ot)+")")}else if(Vn(Ot.expression).length===0){const zt=Yi(Ot.expression);for(const Mt of zt)if(!Oe[je].group||!Oe[je].group.map||!Oe[je].group.map(Yt=>Qr(Yt)).includes(Qr(Mt)))throw Error("Use of ungrouped variable in projection of operation (?"+Qr(Mt)+")")}}const Hr=Oe[je-1].where.filter(Ot=>Ot.type==="query");if(Hr.length>0){const Ot=Oe[je-3].variables.filter(Mt=>Mt.variable&&Mt.variable.value).map(Mt=>Mt.variable.value),zt=Qn(Hr.map(Mt=>Mt.variables)).map(Mt=>Mt.value||Mt.variable.value);for(const Mt of Ot)if(zt.indexOf(Mt)>=0)throw Error("Target id of 'AS' (?"+Mt+") already used in subquery")}this.$=Qt(Oe[je-3],jr(Oe[je-2]),Oe[je-1],Oe[je]);break;case 8:this.$=Qt({queryType:"CONSTRUCT",template:Oe[je-3]},jr(Oe[je-2]),Oe[je-1],Oe[je]);break;case 9:this.$=Qt({queryType:"CONSTRUCT",template:Oe[je-2]=Oe[je-2]?Oe[je-2].triples:[]},jr(Oe[je-5]),{where:[{type:"bgp",triples:Gr([],Oe[je-2])}]},Oe[je]);break;case 10:this.$=Qt({queryType:"DESCRIBE",variables:Oe[je-3]==="*"?[new gn]:Oe[je-3]},jr(Oe[je-2]),Oe[je-1],Oe[je]);break;case 11:this.$=Qt({queryType:"ASK"},jr(Oe[je-2]),Oe[je-1],Oe[je]);break;case 12:this.$=Qt(Oe[je-1],{variables:[new gn]});break;case 13:const Wn=Oe[je].map(Ot=>Ot.value||Ot.variable.value),_n=Fi(Wn);if(_n.length>0)throw Error("Two or more of the resulting columns have the same name (?"+_n[0]+")");this.$=Qt(Oe[je-1],{variables:Oe[je]});break;case 14:this.$=Qt({queryType:"SELECT"},Oe[je]&&(Oe[je-1]=Xt(Oe[je]),Oe[je]={},Oe[je][Oe[je-1]]=!0,Oe[je]));break;case 16:case 27:this.$=kr(Oe[je-3],{variable:Oe[je-1]});break;case 17:case 18:this.$=Qt(Oe[je-3],Oe[je-2],Oe[je-1],Oe[je],{type:"query"});break;case 19:case 58:this.$={iri:Oe[je],named:!!Oe[je-1]};break;case 20:this.$={where:Oe[je].patterns};break;case 21:this.$=Qt(Oe[je-1],Oe[je]);break;case 22:this.$=Qt(Oe[je-2],Oe[je-1],Oe[je]);break;case 23:this.$={group:Oe[je]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=kr(Oe[je]);break;case 26:this.$=kr(Oe[je-1]);break;case 29:this.$={having:Oe[je]};break;case 30:this.$={order:Oe[je]};break;case 32:this.$=kr(Oe[je],{descending:!0});break;case 35:this.$={limit:Vr(Oe[je])};break;case 36:this.$={offset:Vr(Oe[je])};break;case 37:this.$={limit:Vr(Oe[je-2]),offset:Vr(Oe[je])};break;case 38:this.$={limit:Vr(Oe[je]),offset:Vr(Oe[je-2])};break;case 39:case 43:this.$={type:"values",values:Oe[je]};break;case 40:case 84:this.$=Oe[je-1].map(Ot=>({[Oe[je-3]]:Ot}));break;case 41:case 85:this.$=Oe[je-1].map(()=>({}));break;case 42:case 86:var mr=Oe[je-4].length;Oe[je-4]=Oe[je-4].map(Dn),this.$=Oe[je-1].map(function(Ot){if(Ot.length!==mr)throw Error("Inconsistent VALUES length");for(var zt={},Mt=0;Mt<mr;Mt++)zt["?"+Oe[je-4][Mt].value]=Ot[Mt];return zt});break;case 44:case 65:case 100:case 126:case 175:this.$=Oe[je-1];break;case 45:this.$={type:"update",updates:Nr(Oe[je-2],Oe[je-1])};break;case 46:this.$=Qt({type:"load",silent:!!Oe[je-2],source:Oe[je-1]},Oe[je]&&{destination:Oe[je]});break;case 47:this.$={type:Xt(Oe[je-2]),silent:!!Oe[je-1],graph:Oe[je]};break;case 48:this.$={type:Xt(Oe[je-4]),silent:!!Oe[je-3],source:Oe[je-2],destination:Oe[je]};break;case 49:this.$={type:"create",silent:!!Oe[je-2],graph:{type:"graph",name:Oe[je]}};break;case 50:this.$={updateType:"insert",insert:Li(Oe[je])};break;case 51:this.$={updateType:"delete",delete:Un(Li(Oe[je]))};break;case 52:this.$={updateType:"deletewhere",delete:Un(Oe[je])};break;case 53:this.$={updateType:"insertdelete",...Oe[je-4],...Oe[je-3],...jr(Oe[je-2],"using"),where:Oe[je].patterns};break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=Oe[je];break;case 55:this.$={delete:Un(Oe[je-1]),insert:Oe[je]||[]};break;case 56:this.$={delete:[],insert:Oe[je]};break;case 59:this.$={graph:Oe[je]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:Oe[je]};break;case 64:this.$={[Xt(Oe[je])]:!0};break;case 66:this.$=Oe[je-1]?nr(Oe[je],[Oe[je-1]]):nr(Oe[je]);break;case 67:var Pr=Qt(Oe[je-3]||{triples:[]},{type:"graph",name:Oe[je-5]});this.$=Oe[je]?[Pr,Oe[je]]:[Pr];break;case 68:case 73:this.$={type:"bgp",triples:nr(Oe[je-2],[Oe[je-1]])};break;case 69:this.$={type:"group",patterns:[Oe[je-1]]};break;case 70:for(const Ot of Oe[je-1].filter(zt=>zt.type==="bind")){const zt=Oe[je-1].indexOf(Ot),Mt=new Set;for(const Yt of Oe[je-1].slice(0,zt))(Yt.type==="group"||Yt.type==="bgp")&&Di(Yt).forEach(er=>Mt.add(er));if(Mt.has(Ot.variable.value))throw Error("Variable used to bind is already bound (?"+Ot.variable.value+")")}this.$={type:"group",patterns:Oe[je-1]};break;case 71:this.$=Oe[je-1]?nr([Oe[je-1]],Oe[je]):nr(Oe[je]);break;case 72:this.$=Oe[je]?[Oe[je-2],Oe[je]]:Oe[je-2];break;case 75:this.$=Qt(Oe[je],{type:"optional"});break;case 76:this.$=Qt(Oe[je],{type:"minus"});break;case 77:this.$=Qt(Oe[je],{type:"graph",name:Oe[je-1]});break;case 78:this.$=Qt(Oe[je],{type:"service",name:Oe[je-1],silent:!!Oe[je-2]});break;case 79:this.$={type:"filter",expression:Oe[je]};break;case 80:this.$={type:"bind",variable:Oe[je-1],expression:Oe[je-3]};break;case 89:this.$=Fr(Oe[je]);break;case 90:this.$=void 0;break;case 91:this.$=Oe[je-1].length?{type:"union",patterns:nr(Oe[je-1].map(Ln),[Ln(Oe[je])])}:Oe[je];break;case 95:this.$={...Oe[je],function:Oe[je-1]};break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:Nr(Oe[je-2],Oe[je-1]),distinct:!!Oe[je-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=Nr(Oe[je-2],Oe[je-1]);break;case 101:this.$=nr(Oe[je-2],[Oe[je-1]]);break;case 102:case 112:this.$=qn(Oe[je].map(Ot=>Qt(pr(Oe[je-1]),Ot)));break;case 103:this.$=qn(Gr(Oe[je].map(Ot=>Qt(pr(Oe[je-1].entity),Ot)),Oe[je-1].triples));break;case 105:this.$=nr([Oe[je-1]],Oe[je]);break;case 106:this.$=nr(Oe[je]);break;case 107:this.$=zn(Oe[je-1],Oe[je]);break;case 109:case 237:this.$=Nt.factory.namedNode(Vi);break;case 110:case 118:this.$=Nr(Oe[je-1],Oe[je]);break;case 111:this.$=Oe[je]?{annotation:Oe[je],object:Oe[je-1]}:Oe[je-1];break;case 113:this.$=Oe[je]?qn(Gr(Oe[je].map(Ot=>Qt(pr(Oe[je-1].entity),Ot)),Oe[je-1].triples)):Oe[je-1].triples;break;case 114:this.$=zn(...Oe[je-1],Oe[je]);break;case 116:this.$=zn(...Oe[je]);break;case 117:case 159:case 163:this.$=[Oe[je-1],Oe[je]];break;case 119:this.$=Oe[je]?{object:Oe[je-1],annotation:Oe[je]}:Oe[je-1];break;case 120:this.$=Oe[je-1].length?zr("|",Nr(Oe[je-1],Oe[je])):Oe[je];break;case 121:this.$=Oe[je-1].length?zr("/",Nr(Oe[je-1],Oe[je])):Oe[je];break;case 122:this.$=Oe[je]?zr(Oe[je],[Oe[je-1]]):Oe[je-1];break;case 123:this.$=Oe[je-1]?zr(Oe[je-1],[Oe[je]]):Oe[je];break;case 125:case 131:this.$=zr(Oe[je-1],[Oe[je]]);break;case 129:this.$=zr("|",Nr(Oe[je-2],Oe[je-1]));break;case 132:case 134:this.$=Ji(Oe[je-1]);break;case 133:case 135:this.$=Zi(Oe[je-1]);break;case 140:this.$={entity:Oe[je],triples:[]};break;case 145:this.$=Dn(Oe[je]);break;case 149:this.$=Nt.factory.namedNode(Ei);break;case 151:case 153:case 158:case 162:this.$=Bn(Oe[je-1],Oe[je]);break;case 152:this.$=["||",Oe[je]];break;case 154:this.$=["&&",Oe[je]];break;case 156:this.$=Zt(Oe[je-1],[Oe[je-2],Oe[je]]);break;case 157:this.$=Zt(Oe[je-2]?"notin":"in",[Oe[je-3],Oe[je]]);break;case 160:this.$=["+",Bn(Oe[je-1],Oe[je])];break;case 161:var vn=ir(Oe[je-1].value.replace("-",""),Oe[je-1].datatype);this.$=["-",Bn(vn,Oe[je])];break;case 164:this.$=Zt("UPLUS",[Oe[je]]);break;case 165:this.$=Zt(Oe[je-1],[Oe[je]]);break;case 166:this.$=Zt("UMINUS",[Oe[je]]);break;case 177:this.$=Zt(Xt(Oe[je-1]));break;case 178:this.$=Zt(Xt(Oe[je-3]),[Oe[je-1]]);break;case 179:this.$=Fr(Zt(Xt(Oe[je-3]),[Oe[je-1]]));break;case 180:this.$=Zt(Xt(Oe[je-5]),[Oe[je-3],Oe[je-1]]);break;case 181:this.$=Zt(Xt(Oe[je-7]),[Oe[je-5],Oe[je-3],Oe[je-1]]);break;case 182:this.$=Fr(Zt(Xt(Oe[je-7]),[Oe[je-5],Oe[je-3],Oe[je-1]]));break;case 183:this.$=Zt(Xt(Oe[je-1]),Oe[je]);break;case 184:this.$=Zt("bound",[Dn(Oe[je-1])]);break;case 185:this.$=Zt(Oe[je-1],[]);break;case 186:this.$=Zt(Oe[je-3],[Oe[je-1]]);break;case 187:this.$=Zt(Oe[je-2]?"notexists":"exists",[Ln(Oe[je])]);break;case 188:case 189:this.$=kr(Oe[je-1],{type:"aggregate",aggregation:Xt(Oe[je-4]),distinct:!!Oe[je-2]});break;case 190:this.$=kr(Oe[je-2],{type:"aggregate",aggregation:Xt(Oe[je-5]),distinct:!!Oe[je-3],separator:typeof Oe[je-1]=="string"?Oe[je-1]:" "});break;case 192:this.$=ir(Oe[je]);break;case 193:this.$=Ui(Oe[je-1],Xt(Oe[je].substr(1)));break;case 194:this.$=ir(Oe[je-2],Oe[je]);break;case 195:case 204:this.$=ir(Oe[je],Mi);break;case 196:case 205:this.$=ir(Oe[je],Ni);break;case 197:case 206:this.$=ir(Xt(Oe[je]),ji);break;case 200:this.$=ir(Oe[je].toLowerCase(),qi);break;case 201:this.$=ir(Oe[je].substr(1),Mi);break;case 202:this.$=ir(Oe[je].substr(1),Ni);break;case 203:this.$=ir(Oe[je].substr(1).toLowerCase(),ji);break;case 207:case 208:this.$=Ii(Oe[je],1);break;case 209:case 210:this.$=Ii(Oe[je],3);break;case 211:this.$=Nt.factory.namedNode(Zr(Oe[je]));break;case 213:var xn=Oe[je].indexOf(":"),Ht=Oe[je].substr(0,xn),ar=Nt.prefixes[Ht];if(!ar)throw new Error("Unknown prefix: "+Ht);var Rr=Zr(ar+Oe[je].substr(xn+1));this.$=Nt.factory.namedNode(Rr);break;case 214:if(Oe[je]=Oe[je].substr(0,Oe[je].length-1),!(Oe[je]in Nt.prefixes))throw new Error("Unknown prefix: "+Oe[je]);var Rr=Zr(Nt.prefixes[Oe[je]]);this.$=Nt.factory.namedNode(Rr);break;case 215:this.$=Yr(Oe[je].replace(/^(_:)/,""));break;case 216:this.$=Yr();break;case 217:case 218:case 232:this.$=Fr(Gn(Oe[je-3],Oe[je-2],Oe[je-1]));break;case 230:case 231:this.$=Fr(Oe[je-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:Oe[je-1].push(Oe[je]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[Oe[je]];break;case 308:Oe[je-3].push(Oe[je-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:Oe[je-2].push(Oe[je-1]);break}},table:[U(G,Q,{3:1,4:2,10:3}),{1:[3]},U(q,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:W,16:W,45:W,197:W,224:W,229:W,308:W,24:[1,13],32:[1,14],36:[1,15],41:J}),U([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:F},{6:[2,239]},U(Y,[2,411],{216:28,217:29}),U(X,[2,249],{18:30}),U(X,[2,251],{22:31}),U(te,[2,255],{25:32,27:33,29:[1,34]}),{13:re,16:ne,33:35,39:[1,37],44:39,55:40,87:ie,139:38,307:43,308:oe,323:36},U(X,[2,267],{37:46}),U(ae,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:ue,87:ie},U(ce,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),U(G,[2,248]),U(G,[2,245]),U(G,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},U([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),U(se,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:le,29:de,52:84,53:he,56:85},{19:88,28:le,29:de,52:89,53:he,56:85},U(X,[2,253],{26:90}),{28:[1,91],52:92,53:he},U(pe,[2,385],{181:93,182:94,183:95,31:[2,383]}),U(ge,[2,263],{34:96}),U(ge,[2,261],{44:39,55:40,307:43,139:97,13:re,16:ne,87:ie,308:oe}),U(ge,[2,262]),U(be,[2,259]),U(ve,[2,143]),U(ve,[2,144]),U([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),U(Ee,[2,211]),U(Ee,[2,212]),U(Ee,[2,213]),U(Ee,[2,214]),{19:98,28:le,29:de,52:99,53:he,56:85},{6:[2,309],99:100,193:[1,101]},U(ke,[2,311],{101:102,328:[1,103]}),U(Pe,[2,317],{104:104,328:[1,105]}),U(Te,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:xe,114:110},{29:xe,114:112},{29:xe,114:113},{118:114,123:[1,115],125:116,126:Ne},U(Se,[2,315]),U(Se,[2,316]),U(Ge,[2,319]),U(Ge,[2,320]),U(Ge,[2,321]),U(ae,[2,327]),{13:re,16:ne,55:118,307:43,308:oe},U(X,[2,12]),U(X,[2,13],{44:66,43:119,45:ue,87:ie}),U(Ce,[2,269]),U(Ce,[2,15]),{13:re,16:ne,44:136,45:ze,46:120,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(ce,[2,14]),U(ce,[2,274]),U(ce,[2,271]),U(ce,[2,272]),U(G,[2,4]),{13:[1,177]},U(ut,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},U(Y,[2,410]),U([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:re,16:ne,45:[1,193],55:194,197:ft,219:189,220:190,223:191,224:[1,192],307:43,308:oe},U(se,[2,419]),U(At,bt,{20:196,59:197,69:198,70:It}),U(X,[2,250]),{29:Et,57:200},U(ke,[2,279],{54:202,327:[1,203]}),{29:[2,282]},U(Vt,Bt,{23:204,58:205,62:206,63:Gt}),U(X,[2,252]),{19:208,28:le,29:de,52:209,53:he,56:85},{29:[1,210]},U(te,[2,256]),{31:[1,211]},{31:[2,384]},{13:re,16:ne,44:215,45:St,55:220,82:Ve,87:ie,89:Rt,145:212,172:221,185:213,187:214,231:qt,236:216,237:222,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:217,312:$t},U(tr,[2,265],{56:85,35:227,52:228,19:229,28:le,29:de,53:he}),U(be,[2,260]),U(Vt,Bt,{58:205,62:206,23:230,63:Gt}),U(X,[2,268]),{6:[2,45]},U(G,Q,{10:3,4:231}),{13:re,16:ne,55:232,307:43,308:oe},U(ke,[2,312]),{105:233,112:sr,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},U(Pe,[2,318]),U(ke,Ur,{108:240,133:242,112:ei,132:ti}),U(Te,[2,323]),{112:[1,244]},{112:[2,325]},U(Jt,[2,50]),U(pe,en,{135:245,136:246,143:247,144:248,31:ri,112:ri}),U(Jt,[2,51]),U(Jt,[2,52]),U(gr,[2,328],{119:249}),{29:xe,114:250},U(gr,[2,56]),{29:xe,114:251},U(ae,[2,59]),U(Ce,[2,270]),{47:[1,252]},U(ni,[2,150]),U(tn,[2,428],{240:253}),U(Cr,[2,430],{244:254}),U(Cr,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),U(Ir,[2,440],{252:264}),U(Kt,[2,448],{260:265}),{13:re,16:ne,44:136,45:ze,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,255:154,257:155,264:266,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{13:re,16:ne,44:136,45:ze,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,255:154,257:155,264:267,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{13:re,16:ne,44:136,45:ze,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,255:154,257:155,264:268,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Kt,[2,167]),U(Kt,[2,168]),U(Kt,[2,169]),U(Kt,[2,170],{176:269,45:ii,89:oi}),U(Kt,[2,171]),U(Kt,[2,172]),U(Kt,[2,173]),U(Kt,[2,174]),{13:re,16:ne,44:136,45:ze,46:272,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Ut,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:ai,89:si,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},U(Ft,[2,192],{292:[1,286],293:[1,287]}),U(Ft,[2,195]),U(Ft,[2,196]),U(Ft,[2,197]),U(Ft,[2,198]),U(Ft,[2,199]),U(Ft,[2,200]),{13:re,16:ne,44:39,55:40,82:Ve,87:ie,139:289,172:291,255:154,257:155,266:290,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},U(Wr,[2,452]),U(Wr,[2,453]),U(Wr,[2,454]),U(Wr,[2,455]),U(Wr,[2,456]),{279:[2,458]},U(rn,[2,207]),U(rn,[2,208]),U(rn,[2,209]),U(rn,[2,210]),U(Ft,[2,201]),U(Ft,[2,202]),U(Ft,[2,203]),U(Ft,[2,204]),U(Ft,[2,205]),U(Ft,[2,206]),U(G,[2,5]),U(nn,[2,297],{88:295}),U(an,[2,299],{90:296}),{48:[1,297],87:[1,298]},U(sn,[2,301]),U(ut,[2,43]),U(ut,[2,82]),U(ut,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},U(Y,[2,412]),U(Tr,[2,123]),U(Tr,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),U(rr,[2,124]),{13:re,16:ne,45:[1,311],55:194,89:[1,310],197:ft,223:312,225:308,226:309,229:ci,307:43,308:oe},U(Y,W,{215:10,214:314}),U(rr,[2,236]),U(rr,[2,237]),U(Dr,[2,6]),U(En,[2,287],{60:315,72:316,73:[1,317]}),U(At,[2,286]),{13:re,16:ne,45:ze,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,307:43,308:oe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U([6,31,63,70,73,81,83,85],[2,20]),U(pe,ui,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:cr,31:cr,85:cr,112:cr,159:cr,160:cr,161:cr,163:cr,164:cr,41:J}),{13:re,16:ne,55:331,307:43,308:oe},U(ke,[2,280]),U(Dr,[2,7]),U(At,bt,{59:197,69:198,20:332,70:It}),U(Vt,[2,284]),{64:[1,333]},U(Vt,Bt,{58:205,62:206,23:334,63:Gt}),U(X,[2,254]),U(pe,en,{144:248,30:335,143:336,31:[2,257]}),U(X,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:re,16:ne,44:39,55:40,87:ie,139:342,186:339,190:340,195:341,197:Ar,307:43,308:oe},U($r,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:re,16:ne,87:ie,197:Ar,308:oe}),U(ur,[2,227]),U(ur,[2,228]),U(ur,[2,229]),{13:re,16:ne,44:215,45:St,55:220,82:Ve,87:ie,89:Rt,172:221,185:351,187:350,200:348,230:347,231:qt,234:349,236:216,237:222,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:217,312:$t},{13:re,16:ne,44:39,55:40,87:ie,139:342,186:352,190:340,195:341,197:Ar,307:43,308:oe},U(ur,[2,146]),U(ur,[2,147]),U(ur,[2,148]),U(ur,[2,149]),{13:re,16:ne,44:354,55:355,82:Ve,87:ie,172:357,237:356,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:358,312:$t,313:353},U(Mn,[2,215]),U(Mn,[2,216]),U(Vt,Bt,{58:205,62:206,23:359,63:Gt}),U(ge,[2,264]),U(tr,[2,266]),U(Dr,[2,11]),U(q,[2,308],{6:[2,310]}),U(Jt,[2,313],{102:360,120:361,121:[1,362]}),U(Jt,[2,47]),U(Jt,[2,63]),U(Jt,[2,64]),{13:re,16:ne,55:363,307:43,308:oe},U(Jt,[2,336]),U(Jt,[2,337]),U(Jt,[2,338]),{109:[1,364]},U(li,[2,60]),{13:re,16:ne,55:365,307:43,308:oe},U(ke,[2,335]),{13:re,16:ne,55:366,307:43,308:oe},{31:[1,367]},U(Sr,[2,341],{137:368}),U(Sr,[2,340]),{13:re,16:ne,44:215,45:St,55:220,82:Ve,87:ie,89:Rt,145:369,172:221,185:213,187:214,231:qt,236:216,237:222,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:217,312:$t},{28:[1,370],127:371,128:[1,372]},U(gr,[2,330],{124:373,125:374,126:Ne}),U(gr,[2,57]),{44:375,87:ie},U(ni,[2,151],{241:376,242:[1,377]}),U(tn,[2,153],{245:378,246:[1,379]}),{13:re,16:ne,44:136,45:ze,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,247:380,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{250:[1,381]},U(Wt,[2,432]),U(Wt,[2,433]),U(Wt,[2,434]),U(Wt,[2,435]),U(Wt,[2,436]),U(Wt,[2,437]),{250:[2,439]},U([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:De,298:qe,299:Le,300:Qe,301:We,302:$e}),U(Ir,[2,162],{261:388,262:389,39:Nn,338:jn}),U(Kt,[2,164]),U(Kt,[2,165]),U(Kt,[2,166]),U(Ut,[2,95]),U(Ut,[2,96]),U(Wt,[2,377],{177:392,325:[1,393]}),{48:[1,394]},U(Ut,[2,177]),{13:re,16:ne,44:136,45:ze,46:395,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{13:re,16:ne,44:136,45:ze,46:396,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{13:re,16:ne,44:136,45:ze,46:397,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{13:re,16:ne,44:136,45:ze,46:398,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{13:re,16:ne,44:136,45:ze,46:399,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Ut,[2,183]),U(Ut,[2,98]),U(Wt,[2,381],{180:400}),{87:[1,401]},U(Ut,[2,185]),{13:re,16:ne,44:136,45:ze,46:402,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{29:Et,57:403},U(Ft,[2,193]),{13:re,16:ne,55:404,307:43,308:oe},{13:re,16:ne,44:39,55:40,87:ie,139:342,195:405,197:Ar,307:43,308:oe},U(yr,[2,233]),U(yr,[2,234]),U(yr,[2,235]),U(di,[2,459],{281:406,325:[1,407]}),U(Wt,[2,463],{284:408,325:[1,409]}),U(Wt,[2,465],{286:410,325:[1,411]}),{13:re,16:ne,31:[1,412],55:414,82:Ve,171:413,172:415,173:416,174:cn,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:un},{31:[1,419],89:[1,420]},{29:[1,421]},U(sn,[2,302]),U(nn,[2,367],{167:422}),U(an,[2,369],{168:423}),{48:[1,424],87:[1,425]},U(sn,[2,371]),U(Tr,[2,122]),U(Tr,[2,417]),U(Tr,[2,413]),U(Tr,[2,414]),U(Tr,[2,415]),U(rr,[2,125]),U(rr,[2,127]),U(rr,[2,128]),U(hi,[2,420],{227:426}),U(rr,[2,130]),{13:re,16:ne,55:194,197:ft,223:427,307:43,308:oe},{48:[1,428]},U(br,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),U(En,[2,288]),{64:[1,433]},U(At,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:re,16:ne,45:ze,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,276:yt,277:vt,279:mt,280:Tt,283:we,285:Re,308:oe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st}),U(pi,[2,293]),U(Pn,[2,92]),U(Pn,[2,93]),U(Pn,[2,94]),{45:ii,89:oi,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:le,29:de,56:85},{19:438,28:le,29:de,56:85},U(wr,[2,355],{149:439}),U(wr,[2,354]),{13:re,16:ne,44:215,45:ln,55:220,82:Ve,87:ie,89:Rt,156:440,172:221,185:441,203:442,231:dn,236:216,237:222,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:217,312:$t},U(ge,[2,19]),U(br,[2,21]),{13:re,16:ne,44:450,45:mi,55:323,65:445,66:446,67:447,68:448,87:ie,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,307:43,308:oe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Dr,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},U(pe,[2,386],{31:[2,388]}),U($r,[2,102]),U(Or,[2,391],{191:452}),U(pe,[2,395],{196:453,198:454}),U(pe,[2,108]),U(pe,[2,109]),U($r,[2,103]),U($r,[2,104]),U($r,[2,390]),{13:re,16:ne,44:215,45:St,48:[1,455],55:220,82:Ve,87:ie,89:Rt,172:221,185:351,187:350,200:456,231:qt,234:349,236:216,237:222,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:217,312:$t},U(hn,[2,424]),U(fi,[2,136]),U(fi,[2,137]),U(Rn,[2,140]),{232:[1,457]},{13:re,16:ne,44:39,55:40,87:ie,139:342,195:458,197:Ar,307:43,308:oe},U(yr,[2,219]),U(yr,[2,220]),U(yr,[2,221]),U(yr,[2,222]),U(yr,[2,223]),U(Dr,[2,10]),U(Jt,[2,46]),U(Jt,[2,314]),{112:sr,122:459},U(Jt,[2,62]),U(ke,Ur,{133:242,108:460,112:ei,132:ti}),U(li,[2,61]),U(Jt,[2,49]),U([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},U(Sr,[2,351],{146:463,335:[1,464]}),{29:Et,57:465},U(gr,[2,329]),U(ke,[2,332],{129:466,327:[1,467]}),U(gr,[2,55]),U(gr,[2,331]),{48:[1,468]},U(tn,[2,429]),{13:re,16:ne,44:136,45:ze,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Cr,[2,431]),{13:re,16:ne,44:136,45:ze,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,243:470,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Cr,[2,156]),{45:ai,89:si,179:471},U(Ir,[2,441]),{13:re,16:ne,44:136,45:ze,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,251:472,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Kt,[2,444],{256:473}),U(Kt,[2,446],{258:474}),U(Wt,[2,442]),U(Wt,[2,443]),U(Kt,[2,449]),{13:re,16:ne,44:136,45:ze,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,255:154,257:155,259:475,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Wt,[2,450]),U(Wt,[2,451]),U(Wt,[2,379],{178:476}),U(Wt,[2,378]),U([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:re,16:ne,44:136,45:ze,46:482,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{48:[1,483]},{48:[1,484]},U(Ut,[2,187]),U(Ft,[2,194]),{13:re,16:ne,44:39,55:40,82:Ve,87:ie,139:289,172:291,255:154,257:155,266:290,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,320:485},{13:re,16:ne,39:[1,487],44:136,45:ze,46:488,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,282:486,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(di,[2,460]),{13:re,16:ne,44:136,45:ze,46:489,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Wt,[2,464]),{13:re,16:ne,44:136,45:ze,46:490,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Wt,[2,466]),U(ut,[2,40]),U(nn,[2,298]),U(Kr,[2,87]),U(Kr,[2,88]),U(Kr,[2,89]),U(Kr,[2,90]),{13:re,16:ne,55:492,82:Ve,172:493,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,311:494,312:$t,315:491},U(ut,[2,41]),U(an,[2,300]),U(Jr,[2,303],{92:495}),{13:re,16:ne,31:[1,496],55:414,82:Ve,171:497,172:415,173:416,174:cn,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:un},{31:[1,498],89:[1,499]},{29:[1,500]},U(sn,[2,372]),{13:re,16:ne,48:[2,422],55:194,197:ft,223:312,226:502,228:501,229:ci,307:43,308:oe},U(rr,[2,131]),U(rr,[2,126]),U(br,[2,22]),U(br,[2,290]),{82:[1,503]},{82:[1,504]},{13:re,16:ne,44:510,45:ze,55:323,67:321,68:322,74:505,75:506,76:gi,77:320,78:yi,79:509,87:ie,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,307:43,308:oe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(pi,[2,294]),U(bi,[2,69]),U(bi,[2,70]),U(At,bt,{59:197,69:198,20:511,70:It}),U(Vt,Bt,{58:205,62:206,23:512,63:Gt}),{29:[2,375],31:[2,71],84:522,85:F,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},U(wr,[2,363],{157:524,335:[1,525]}),U(Y,W,{215:10,202:526,205:527,208:528,214:529,44:530,87:ie}),U(pn,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:W,16:W,45:W,197:W,224:W,229:W,308:W,87:ie}),{13:re,16:ne,44:215,45:ln,55:220,82:Ve,87:ie,89:Rt,172:221,185:351,203:536,212:534,231:dn,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:217,312:$t},U(Y,W,{215:10,205:527,208:528,214:529,44:530,202:537,87:ie}),U(Vt,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:re,16:ne,45:mi,87:ie,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,276:yt,277:vt,279:mt,280:Tt,283:we,285:Re,308:oe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st}),U(Er,[2,291]),U(Er,[2,24]),U(Er,[2,25]),{13:re,16:ne,44:136,45:ze,46:539,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Er,[2,28]),U(Vt,Bt,{58:205,62:206,23:540,63:Gt}),U([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),U(Or,[2,107]),{13:re,16:ne,44:215,45:St,55:220,82:Ve,87:ie,89:Rt,172:221,185:351,187:350,199:543,200:544,231:qt,234:349,236:216,237:222,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:217,312:$t},U(vi,[2,132]),U(hn,[2,425]),U(vi,[2,133]),{13:re,16:ne,44:354,55:355,82:Ve,87:ie,172:357,237:356,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:358,312:$t,313:545},U(Jt,[2,54]),U(Jt,[2,48]),U(Sr,[2,342]),{13:re,16:ne,44:39,55:40,87:ie,139:546,307:43,308:oe},U(Sr,[2,68]),U(pe,[2,350],{31:xi,112:xi}),U(Jt,[2,53]),{13:re,16:ne,55:547,307:43,308:oe},U(ke,[2,333]),U(Ce,[2,16]),U(tn,[2,152]),U(Cr,[2,154]),U(Cr,[2,157]),U(Ir,[2,159]),U(Ir,[2,160],{262:389,261:548,39:Nn,338:jn}),U(Ir,[2,161],{262:389,261:549,39:Nn,338:jn}),U(Kt,[2,163]),{13:re,16:ne,44:136,45:ze,46:550,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Ut,[2,178]),U(Ut,[2,179]),{13:re,16:ne,44:136,45:ze,46:551,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{13:re,16:ne,44:136,45:ze,46:552,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{13:re,16:ne,44:136,45:ze,46:553,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{48:[1,554],272:[1,555]},U(Ut,[2,184]),U(Ut,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:re,16:ne,55:194,197:ft,223:562,307:43,308:oe},U(Cn,[2,224]),U(Cn,[2,225]),U(Cn,[2,226]),{31:[1,563],45:_i,94:564},U(ut,[2,84]),U(nn,[2,368]),U(ut,[2,85]),U(an,[2,370]),U(Jr,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},U(br,[2,35],{83:[1,569]}),U(br,[2,36],{81:[1,570]}),U(En,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:re,16:ne,45:ze,76:gi,78:yi,87:ie,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,276:yt,277:vt,279:mt,280:Tt,283:we,285:Re,308:oe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st}),U(Br,[2,295]),{45:ze,77:572},{45:ze,77:573},U(Br,[2,33]),U(Br,[2,34]),{31:[2,275],50:574,84:575,85:F},{31:[2,277],51:576,84:577,85:F},U(wr,[2,356]),U(Ti,[2,357],{152:578,335:[1,579]}),U(lr,[2,74]),{29:Et,57:580},{29:Et,57:581},{13:re,16:ne,44:39,55:40,87:ie,139:582,307:43,308:oe},U(Ai,[2,365],{162:583,328:[1,584]}),{13:re,16:ne,45:ze,55:323,67:321,68:322,77:320,79:585,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,307:43,308:oe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{45:[1,586]},U(lr,[2,81]),{29:Et,57:587},U(wr,[2,73]),U(pe,[2,362],{29:dr,31:dr,85:dr,112:dr,159:dr,160:dr,161:dr,163:dr,164:dr}),U(pn,[2,112]),U(Lr,[2,401],{206:588}),U(pe,[2,405],{209:589,210:590}),U(pe,[2,403]),U(pe,[2,404]),U(pn,[2,113]),U(pn,[2,400]),{13:re,16:ne,44:215,45:ln,48:[1,591],55:220,82:Ve,87:ie,89:Rt,172:221,185:351,203:536,212:592,231:dn,234:535,236:216,237:222,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:217,312:$t},U(hn,[2,426]),U(Rn,[2,138]),U(Rn,[2,139]),{232:[1,593]},U(Er,[2,292]),{47:[1,595],48:[1,594]},U(Dr,[2,9]),U(Or,[2,392]),U(Or,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:re,16:ne,87:ie,197:Ar,308:oe}),U(Or,[2,110],{272:[1,598]}),U(mn,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},U(gr,[2,58]),U(Kt,[2,445]),U(Kt,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},U(Ut,[2,99]),U(Wt,[2,382]),U([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),U(Ut,[2,188]),U(Ut,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:re,16:ne,55:492,82:Ve,172:493,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,311:494,312:$t,315:611},U(ut,[2,42]),U(Jr,[2,304]),{13:re,16:ne,55:414,82:Ve,95:612,171:613,172:415,173:416,174:cn,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:un},{31:[1,614],45:_i,94:615},U(rr,[2,129]),U(hi,[2,421]),{82:[1,616]},{82:[1,617]},U(Br,[2,296]),U(Br,[2,31]),U(Br,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},U(pe,ui,{155:330,153:618,154:619,29:hr,31:hr,85:hr,112:hr,159:hr,160:hr,161:hr,163:hr,164:hr}),U(Ti,[2,358]),U(lr,[2,75]),U(lr,[2,76]),{29:Et,57:620},{13:re,16:ne,44:39,55:40,87:ie,139:621,307:43,308:oe},U(Ai,[2,366]),U(lr,[2,79]),{13:re,16:ne,44:136,45:ze,46:622,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(lr,[2,91],{336:[1,623]}),U([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),U(Lr,[2,117]),{13:re,16:ne,44:215,45:ln,55:220,82:Ve,87:ie,89:Rt,172:221,185:351,203:536,211:626,212:627,231:dn,234:535,236:216,237:222,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,309:Dt,310:kt,311:217,312:$t},U(ur,[2,134]),U(hn,[2,427]),U(ur,[2,135]),U(Er,[2,26]),{44:628,87:ie},U(Or,[2,106]),U(Or,[2,394]),U(pe,[2,396]),U(mn,[2,111]),U(mn,[2,398]),{13:re,16:ne,44:39,55:40,87:ie,139:342,186:629,190:340,195:341,197:Ar,307:43,308:oe},U(Mn,[2,217]),U(pe,en,{144:248,140:630,143:631,31:[2,343]}),U(Ut,[2,97]),U(Wt,[2,380]),U(Ut,[2,180]),{13:re,16:ne,44:136,45:ze,46:632,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},{13:re,16:ne,44:136,45:ze,46:633,55:133,67:132,68:134,77:131,82:Ve,87:ie,172:135,224:Ke,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:Ze,264:130,265:et,266:137,267:139,268:ot,269:nt,270:dt,271:Fe,273:Xe,274:pt,275:146,276:yt,277:vt,278:149,279:mt,280:Tt,283:we,285:Re,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:fe,346:ye,347:Ae,348:Be,349:He,350:Je,351:st},U(Ut,[2,190]),{290:[1,634]},{314:[1,635]},{13:re,16:ne,48:[1,636],55:414,82:Ve,171:637,172:415,173:416,174:cn,255:154,257:155,291:150,294:_e,295:Me,296:Ie,297:De,298:qe,299:Le,300:Qe,301:We,302:$e,303:Ye,304:rt,305:at,306:me,307:43,308:oe,312:un},U(Si,[2,305]),U(ut,[2,86]),U(Jr,[2,374]),U(br,[2,37]),U(br,[2,38]),U(wr,[2,72]),U(wr,[2,360]),U(lr,[2,77]),{29:Et,57:638},{47:[1,639]},{29:[2,376]},U(Lr,[2,402]),U(Lr,[2,115],{215:10,208:528,214:529,44:530,205:640,13:W,16:W,45:W,197:W,224:W,229:W,308:W,87:ie}),U(Lr,[2,118],{272:[1,641]}),U(fn,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:Ye,304:rt,305:at,306:me},U(Kr,[2,218]),U(Jr,[2,44]),U(Si,[2,306]),U(lr,[2,78]),{44:651,87:ie},U(Lr,[2,116]),U(pe,[2,406]),U(fn,[2,119]),U(fn,[2,408]),U(Y,W,{215:10,205:527,208:528,214:529,44:530,202:652,87:ie}),U(Er,[2,27]),U(mn,[2,230]),U(wi,[2,345],{141:653,335:[1,654]}),U(Ut,[2,181]),U(Ut,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},U(pe,en,{144:248,142:657,143:658,31:Oi,112:Oi}),U(wi,[2,346]),U(lr,[2,80]),U(fn,[2,231]),U(Sr,[2,67]),U(Sr,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(it,tt){if(tt.recoverable)this.trace(it);else{var ct=new Error(it);throw ct.hash=tt,ct}},parse:function(it){var tt=this,ct=[0],ht=[null],xt=[],Oe=this.table,Ct="",je=0,mr=0,Pr=2,vn=1,xn=xt.slice.call(arguments,1),Ht=Object.create(this.lexer),ar={yy:{}};for(var Rr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Rr)&&(ar.yy[Rr]=this.yy[Rr]);Ht.setInput(it,ar.yy),ar.yy.lexer=Ht,ar.yy.parser=this,typeof Ht.yylloc>"u"&&(Ht.yylloc={});var Hr=Ht.yylloc;xt.push(Hr);var Wn=Ht.options&&Ht.options.ranges;typeof ar.yy.parseError=="function"?this.parseError=ar.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _n=function(){var qr;return qr=Ht.lex()||vn,typeof qr!="number"&&(qr=tt.symbols_[qr]||qr),qr},Ot,zt,Mt,Yt,er={},Tn,fr,Gi,An;;){if(zt=ct[ct.length-1],this.defaultActions[zt]?Mt=this.defaultActions[zt]:((Ot===null||typeof Ot>"u")&&(Ot=_n()),Mt=Oe[zt]&&Oe[zt][Ot]),typeof Mt>"u"||!Mt.length||!Mt[0]){var $n="";An=[];for(Tn in Oe[zt])this.terminals_[Tn]&&Tn>Pr&&An.push("'"+this.terminals_[Tn]+"'");Ht.showPosition?$n="Parse error on line "+(je+1)+`:
`+Ht.showPosition()+`
Expecting `+An.join(", ")+", got '"+(this.terminals_[Ot]||Ot)+"'":$n="Parse error on line "+(je+1)+": Unexpected "+(Ot==vn?"end of input":"'"+(this.terminals_[Ot]||Ot)+"'"),this.parseError($n,{text:Ht.match,token:this.terminals_[Ot]||Ot,line:Ht.yylineno,loc:Hr,expected:An})}if(Mt[0]instanceof Array&&Mt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+zt+", token: "+Ot);switch(Mt[0]){case 1:ct.push(Ot),ht.push(Ht.yytext),xt.push(Ht.yylloc),ct.push(Mt[1]),Ot=null,mr=Ht.yyleng,Ct=Ht.yytext,je=Ht.yylineno,Hr=Ht.yylloc;break;case 2:if(fr=this.productions_[Mt[1]][1],er.$=ht[ht.length-fr],er._$={first_line:xt[xt.length-(fr||1)].first_line,last_line:xt[xt.length-1].last_line,first_column:xt[xt.length-(fr||1)].first_column,last_column:xt[xt.length-1].last_column},Wn&&(er._$.range=[xt[xt.length-(fr||1)].range[0],xt[xt.length-1].range[1]]),Yt=this.performAction.apply(er,[Ct,mr,je,ar.yy,Mt[1],ht,xt].concat(xn)),typeof Yt<"u")return Yt;fr&&(ct=ct.slice(0,-1*fr*2),ht=ht.slice(0,-1*fr),xt=xt.slice(0,-1*fr)),ct.push(this.productions_[Mt[1]][0]),ht.push(er.$),xt.push(er._$),Gi=Oe[ct[ct.length-2]][ct[ct.length-1]],ct.push(Gi);break;case 3:return!0}}return!0}},gn=Wildcard$2.Wildcard,yn="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Vi=yn+"type",Qi=yn+"first",Hi=yn+"rest",Ei=yn+"nil",bn="http://www.w3.org/2001/XMLSchema#",Mi=bn+"integer",Ni=bn+"decimal",ji=bn+"double",qi=bn+"boolean",Mr="",Pi="",Ri="";function Xt(it){return it.toLowerCase()}function Nr(it,tt){return it.push(tt),it}function Gr(it,tt){return it.push.apply(it,tt),it}function Qt(it){it||(it={});for(var tt=1,ct=arguments.length,ht;tt<ct&&(ht=arguments[tt]||{});tt++)for(var xt in ht)it[xt]=ht[xt];return it}function nr(){for(var it=[],tt=0,ct=arguments.length;tt<ct;tt++)it=it.concat.apply(it,arguments[tt]);return it}function Zr(it){if(it[0]==="<"&&(it=it.substring(1,it.length-1)),/^[a-z][a-z0-9.+-]*:/i.test(it))return it;if(!Nt.base)throw new Error("Cannot resolve relative IRI "+it+" because no base IRI was set.");switch(Mr!==Nt.base&&(Mr=Nt.base,Pi=Mr.replace(/[^\/:]*$/,""),Ri=Mr.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),it[0]){case void 0:return Mr;case"#":return Mr+it;case"?":return Mr.replace(/(?:\?.*)?$/,it);case"/":return Ri+it;default:return Pi+it}}function Dn(it){if(it){var tt=it[0];if(tt==="?"||tt==="$")return Nt.factory.variable(it.substr(1))}return it}function Zt(it,tt){return{type:"operation",operator:it,args:tt||[]}}function kr(it,tt){var ct={expression:it==="*"?new gn:it};if(tt)for(var ht in tt)ct[ht]=tt[ht];return ct}function zr(it,tt){return{type:"path",pathType:it,items:tt}}function Bn(it,tt){for(var ct=0,ht=tt.length,xt;ct<ht&&(xt=tt[ct]);ct++)it=Zt(xt[0],[it,xt[1]]);return it}function jr(it,tt){var ct=[],ht=[],xt=it.length,Oe,Ct={};if(!xt)return null;for(var je=0;je<xt&&(Oe=it[je]);je++)(Oe.named?ht:ct).push(Oe.iri);return Ct[tt||"from"]={default:ct,named:ht},Ct}function Vr(it){return parseInt(it,10)}function Ln(it){return it.type==="group"&&it.patterns.length===1?it.patterns[0]:it}function ir(it,tt){return tt&&tt.termType!=="NamedNode"&&(tt=Nt.factory.namedNode(tt)),Nt.factory.literal(it,tt)}function Ui(it,tt){return Nt.factory.literal(it,tt)}function Gn(it,tt,ct){if(!("termType"in tt))throw new Error("Nested triples cannot contain paths");return Nt.factory.quad(it,tt,ct)}function pr(it,tt,ct,ht){var xt={};return it!=null&&(xt.subject=it),tt!=null&&(xt.predicate=tt),ct!=null&&(xt.object=ct),ht!=null&&(xt.annotations=ht),xt}function Yr(it){return typeof it=="string"?it.startsWith("e_")?Nt.factory.blankNode(it):Nt.factory.blankNode("e_"+it):Nt.factory.blankNode("g_"+Ci++)}var Ci=0;Nt._resetBlanks=function(){Ci=0};var Wi=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,$i={"\\":"\\","'":"'",'"':'"',t:"	",b:"\b",n:`
`,r:"\r",f:"\f"},Ki=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,kn=String.fromCharCode;function Ii(it,tt){it=it.substring(tt,it.length-tt);try{it=it.replace(Wi,function(ct,ht,xt,Oe){var Ct;if(ht){if(Ct=parseInt(ht,16),isNaN(Ct))throw new Error;return kn(Ct)}else if(xt){if(Ct=parseInt(xt,16),isNaN(Ct))throw new Error;return Ct<65535?kn(Ct):kn(55296+((Ct-=65536)>>10),56320+(Ct&1023))}else{var je=$i[Oe];if(!je)throw new Error;return je}})}catch{return""}if(Ki.exec(it))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+it);return it}function Ji(it){var tt=Yr(),ct=tt,ht=[],xt,Oe=[];it.forEach(function(Pr){ht.push(Pr.entity),Gr(Oe,Pr.triples)});for(var Ct=0,je=0,mr=ht.length,xt=Array(mr*2);Ct<mr;)xt[je++]=pr(ct,Nt.factory.namedNode(Qi),ht[Ct]),xt[je++]=pr(ct,Nt.factory.namedNode(Hi),ct=++Ct<mr?Yr():Nt.factory.namedNode(Ei));return{entity:tt,triples:Gr(xt,Oe)}}function Zi(it){var tt=Yr();return{entity:tt,triples:it.map(function(ct){return Qt(pr(tt),ct)})}}function zn(it,tt,ct){var ht=[],xt=[];return tt.forEach(function(Oe){let Ct=null;Oe.annotation&&(Ct=Oe.annotation,Oe=Oe.object),ht.push(pr(null,it,Oe.entity,Ct)),Gr(xt,Oe.triples)}),nr(ht,ct||[],xt)}function Qr(it){return it.variable?it.variable.value:it.value||it.expression.value}function Vn(it){if(!it)return[];if(it.type==="aggregate")return[it];if(it.type==="operation"){const tt=[];for(const ct of it.args)tt.push(...Vn(ct));return tt}return[]}function Yi(it){const tt=new Set,ct=function(ht){ht&&(ht.termType==="Variable"?tt.add(ht):ht.type==="operation"&&ht.args.forEach(ct))};return ct(it),tt}function Qn(it,tt=1,ct=[]){for(const ht of it)tt>0&&ht instanceof Array?Qn(ht,tt-1,ct):ct.push(ht);return ct}function Hn(it){return it.termType==="Variable"}function Di(it){if(it.triples){const tt=[];for(const ct of it.triples)Hn(ct.subject)&&tt.push(ct.subject.value),Hn(ct.predicate)&&tt.push(ct.predicate.value),Hn(ct.object)&&tt.push(ct.object.value);return tt}else if(it.patterns){const tt=[];for(const ct of it.patterns)tt.push(...Di(ct));return tt}return[]}function Fi(it){const tt=it.slice().sort(),ct=[];for(let ht=0;ht<tt.length-1;ht++)tt[ht+1]==tt[ht]&&ct.push(tt[ht]);return ct}function Fr(it){if(!Nt.sparqlStar)throw new Error("SPARQL-star support is not enabled");return it}function Bi(it,tt,ct){for(const ht of tt){const xt=pr("subject"in ht?ht.subject:it,ht.predicate,ht.object);ct.push(xt),ht.annotations&&Bi(Gn(it,ht.predicate,ht.object),ht.annotations,ct)}}function qn(it){if(Nt.sparqlStar){const tt=[];return it.forEach(ct=>{const ht=pr(ct.subject,ct.predicate,ct.object);tt.push(ht),ct.annotations&&Bi(Gn(ct.subject,ct.predicate,ct.object),ct.annotations,tt)}),tt}return it}function Li(it){for(const tt of it){if(tt.type==="graph"&&tt.name.termType==="Variable")throw new Error("Detected illegal variable in GRAPH");if(tt.type==="bgp"||tt.type==="graph"){for(const ct of tt.triples)if(ct.subject.termType==="Variable"||ct.predicate.termType==="Variable"||ct.object.termType==="Variable")throw new Error("Detected illegal variable in BGP")}}return it}function Un(it){for(const tt of it)if(tt.type==="bgp"){for(const ct of tt.triples)if(ct.subject.termType==="BlankNode"||ct.predicate.termType==="BlankNode"||ct.object.termType==="BlankNode")throw new Error("Detected illegal blank node in BGP")}return it}var Xi=function(){var it={EOF:1,parseError:function(tt,ct){if(this.yy.parser)this.yy.parser.parseError(tt,ct);else throw new Error(tt)},setInput:function(tt,ct){return this.yy=ct||this.yy||{},this._input=tt,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var tt=this._input[0];this.yytext+=tt,this.yyleng++,this.offset++,this.match+=tt,this.matched+=tt;var ct=tt.match(/(?:\r\n?|\n).*/g);return ct?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),tt},unput:function(tt){var ct=tt.length,ht=tt.split(/(?:\r\n?|\n)/g);this._input=tt+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ct),this.offset-=ct;var xt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ht.length-1&&(this.yylineno-=ht.length-1);var Oe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ht?(ht.length===xt.length?this.yylloc.first_column:0)+xt[xt.length-ht.length].length-ht[0].length:this.yylloc.first_column-ct},this.options.ranges&&(this.yylloc.range=[Oe[0],Oe[0]+this.yyleng-ct]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(tt){this.unput(this.match.slice(tt))},pastInput:function(){var tt=this.matched.substr(0,this.matched.length-this.match.length);return(tt.length>20?"...":"")+tt.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var tt=this.match;return tt.length<20&&(tt+=this._input.substr(0,20-tt.length)),(tt.substr(0,20)+(tt.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var tt=this.pastInput(),ct=new Array(tt.length+1).join("-");return tt+this.upcomingInput()+`
`+ct+"^"},test_match:function(tt,ct){var ht,xt,Oe;if(this.options.backtrack_lexer&&(Oe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Oe.yylloc.range=this.yylloc.range.slice(0))),xt=tt[0].match(/(?:\r\n?|\n).*/g),xt&&(this.yylineno+=xt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xt?xt[xt.length-1].length-xt[xt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+tt[0].length},this.yytext+=tt[0],this.match+=tt[0],this.matches=tt,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(tt[0].length),this.matched+=tt[0],ht=this.performAction.call(this,this.yy,this,ct,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ht)return ht;if(this._backtrack){for(var Ct in Oe)this[Ct]=Oe[Ct];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var tt,ct,ht,xt;this._more||(this.yytext="",this.match="");for(var Oe=this._currentRules(),Ct=0;Ct<Oe.length;Ct++)if(ht=this._input.match(this.rules[Oe[Ct]]),ht&&(!ct||ht[0].length>ct[0].length)){if(ct=ht,xt=Ct,this.options.backtrack_lexer){if(tt=this.test_match(ht,Oe[Ct]),tt!==!1)return tt;if(this._backtrack){ct=!1;continue}else return!1}else if(!this.options.flex)break}return ct?(tt=this.test_match(ct,Oe[xt]),tt!==!1?tt:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var tt=this.next();return tt||this.lex()},begin:function(tt){this.conditionStack.push(tt)},popState:function(){var tt=this.conditionStack.length-1;return tt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(tt){return tt=this.conditionStack.length-1-Math.abs(tt||0),tt>=0?this.conditionStack[tt]:"INITIAL"},pushState:function(tt){this.begin(tt)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(tt,ct,ht,xt){switch(ht){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(ct.yytext);break}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};return it}();In.lexer=Xi;function Nt(){this.yy={}}return Nt.prototype=In,In.Parser=Nt,new Nt}(),SparqlParser_1=SparqlParser,XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",XSD_STRING="http://www.w3.org/2001/XMLSchema#string";function Generator$1(U){this._options=U=U||{};var G=U.prefixes||{};this._prefixByIri={};var Q=[];for(var q in G){var W=G[q];isString$2(W)&&(this._prefixByIri[W]=q,Q.push(W))}var J=Q.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+J+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=U.sparqlStar,this._indent=isString$2(U.indent)?U.indent:"  ",this._newline=isString$2(U.newline)?U.newline:`
`,this._explicitDatatype=!!U.explicitDatatype}Generator$1.prototype.toQuery=function(U){var G="";return U.queryType&&(G+=U.queryType.toUpperCase()+" "),U.reduced&&(G+="REDUCED "),U.distinct&&(G+="DISTINCT "),U.variables?G+=mapJoin(U.variables,void 0,function(Q){return/^[?$]/.test(Q)?Q:isTerm$1(Q)?this.toEntity(Q):"("+this.toExpression(Q.expression)+" AS "+variableToString(Q.variable)+")"},this)+" ":U.template&&(G+=this.group(U.template,!0)+this._newline),U.from&&(G+=this.graphs("FROM ",U.from.default)+this.graphs("FROM NAMED ",U.from.named)),U.where&&(G+="WHERE "+this.group(U.where,!0)+this._newline),U.updates&&(G+=mapJoin(U.updates,";"+this._newline,this.toUpdate,this)),U.group&&(G+="GROUP BY "+mapJoin(U.group,void 0,function(Q){var q=isTerm$1(Q.expression)?this.toEntity(Q.expression):"("+this.toExpression(Q.expression)+")";return Q.variable?"("+q+" AS "+variableToString(Q.variable)+")":q},this)+this._newline),U.having&&(G+="HAVING ("+mapJoin(U.having,void 0,this.toExpression,this)+")"+this._newline),U.order&&(G+="ORDER BY "+mapJoin(U.order,void 0,function(Q){var q="("+this.toExpression(Q.expression)+")";return Q.descending?"DESC "+q:q},this)+this._newline),U.offset&&(G+="OFFSET "+U.offset+this._newline),U.limit&&(G+="LIMIT "+U.limit+this._newline),U.values&&(G+=this.values(U)),G=this.baseAndPrefixes(U)+G,G.trim()},Generator$1.prototype.baseAndPrefixes=function(U){var G=U.base?"BASE <"+U.base+">"+this._newline:"",Q="";for(var q in U.prefixes)(this._options.allPrefixes||this._usedPrefixes[q])&&(Q+="PREFIX "+q+": <"+U.prefixes[q]+">"+this._newline);return G+Q},Generator$1.prototype.toPattern=function(U){var G=U.type||U instanceof Array&&"array"||(U.subject&&U.predicate&&U.object?"triple":"");if(!(G in this))throw new Error("Unknown entry type: "+G);return this[G](U)},Generator$1.prototype.triple=function(U){return this.toEntity(U.subject)+" "+this.toEntity(U.predicate)+" "+this.toEntity(U.object)+"."},Generator$1.prototype.array=function(U){return mapJoin(U,this._newline,this.toPattern,this)},Generator$1.prototype.bgp=function(U){return this.encodeTriples(U.triples)},Generator$1.prototype.encodeTriples=function(U){if(!U.length)return"";for(var G=[],Q=void 0,q=void 0,W=0;W<U.length;W++){var J=U[W];equalTerms(J.subject,Q)?equalTerms(J.predicate,q)?G.push(","):(q=J.predicate,G.push(";"+this._newline,this._indent,this.toEntity(q))):(Q&&G.push("."+this._newline),Q=J.subject,q=J.predicate,G.push(this.toEntity(Q)," ",this.toEntity(q))),G.push(" ",this.toEntity(J.object))}return G.push("."),G.join("")},Generator$1.prototype.graph=function(U){return"GRAPH "+this.toEntity(U.name)+" "+this.group(U)},Generator$1.prototype.graphs=function(U,G){return!G||G.length===0?"":mapJoin(G,"",function(Q){return U+this.toEntity(Q)+this._newline},this)},Generator$1.prototype.group=function(U,G){return U=G!==!0?this.array(U.patterns||U.triples):this.toPattern(U.type!=="group"?U:U.patterns),U.indexOf(this._newline)===-1?"{ "+U+" }":"{"+this._newline+this.indent(U)+this._newline+"}"},Generator$1.prototype.query=function(U){return this.toQuery(U)},Generator$1.prototype.filter=function(U){return"FILTER("+this.toExpression(U.expression)+")"},Generator$1.prototype.bind=function(U){return"BIND("+this.toExpression(U.expression)+" AS "+variableToString(U.variable)+")"},Generator$1.prototype.optional=function(U){return"OPTIONAL "+this.group(U)},Generator$1.prototype.union=function(U){return mapJoin(U.patterns,this._newline+"UNION"+this._newline,function(G){return this.group(G,!0)},this)},Generator$1.prototype.minus=function(U){return"MINUS "+this.group(U)},Generator$1.prototype.values=function(U){var G=Object.keys(U.values.reduce(function(W,J){for(var F in J)W[F]=!0;return W},{})),Q,q;return G.length===1?Q=q="":(Q="(",q=")"),"VALUES "+Q+G.join(" ")+q+" {"+this._newline+mapJoin(U.values,this._newline,function(W){return"  "+Q+mapJoin(G,void 0,function(J){return W[J]?this.toEntity(W[J]):"UNDEF"},this)+q},this)+this._newline+"}"},Generator$1.prototype.service=function(U){return"SERVICE "+(U.silent?"SILENT ":"")+this.toEntity(U.name)+" "+this.group(U)},Generator$1.prototype.toExpression=function(U){if(isTerm$1(U))return this.toEntity(U);switch(U.type.toLowerCase()){case"aggregate":return U.aggregation.toUpperCase()+"("+(U.distinct?"DISTINCT ":"")+this.toExpression(U.expression)+(typeof U.separator=="string"?'; SEPARATOR = "'+U.separator.replace(escape,escapeReplacer)+'"':"")+")";case"functioncall":return this.toEntity(U.function)+"("+mapJoin(U.args,", ",this.toExpression,this)+")";case"operation":var G=U.operator.toUpperCase(),Q=U.args||[];switch(U.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(isTerm$1(Q[0])?this.toEntity(Q[0]):"("+this.toExpression(Q[0])+")")+" "+G+" "+(isTerm$1(Q[1])?this.toEntity(Q[1]):"("+this.toExpression(Q[1])+")");case"!":return"!("+this.toExpression(Q[0])+")";case"uplus":return"+("+this.toExpression(Q[0])+")";case"uminus":return"-("+this.toExpression(Q[0])+")";case"notin":G="NOT IN";case"in":return this.toExpression(Q[0])+" "+G+"("+(isString$2(Q[1])?Q[1]:mapJoin(Q[1],", ",this.toExpression,this))+")";case"notexists":G="NOT EXISTS";case"exists":return G+" "+this.group(Q[0],!0);default:return G+"("+mapJoin(Q,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+U.type)}},Generator$1.prototype.toEntity=function(U){if(isTerm$1(U))switch(U.termType){case"Wildcard":return"*";case"Variable":return variableToString(U);case"BlankNode":return"_:"+U.value;case"Literal":var G=U.value||"",Q=U.language||"",q=U.datatype;if(U='"'+G.replace(escape,escapeReplacer)+'"',Q)U+="@"+Q;else if(q){if(!this._explicitDatatype)switch(q.value){case XSD_STRING:return U;case XSD_INTEGER:if(/^\d+$/.test(G))return G+" "}U+="^^"+this.encodeIRI(q.value)}return U;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return U.graph&&U.graph.termType!=="DefaultGraph"?"<< GRAPH "+this.toEntity(U.graph)+" { "+this.toEntity(U.subject)+" "+this.toEntity(U.predicate)+" "+this.toEntity(U.object)+" }  >>":"<< "+this.toEntity(U.subject)+" "+this.toEntity(U.predicate)+" "+this.toEntity(U.object)+" >>";default:return this.encodeIRI(U.value)}else{var W=U.items.map(this.toEntity,this),J=U.pathType;switch(J){case"^":case"!":return J+W[0];case"*":case"+":case"?":return"("+W[0]+J+")";default:return"("+W.join(J)+")"}}};var escape=/["\\\t\n\r\b\f]/g,escapeReplacer=function(U){return escapeReplacements[U]},escapeReplacements={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};Generator$1.prototype.encodeIRI=function(U){var G=this._prefixRegex.exec(U);if(G){var Q=this._prefixByIri[G[1]];return this._usedPrefixes[Q]=!0,Q+":"+G[2]}return"<"+U+">"},Generator$1.prototype.toUpdate=function(U){switch(U.type||U.updateType){case"load":return"LOAD"+(U.source?" "+this.toEntity(U.source):"")+(U.destination?" INTO GRAPH "+this.toEntity(U.destination):"");case"insert":return"INSERT DATA "+this.group(U.insert,!0);case"delete":return"DELETE DATA "+this.group(U.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(U.delete,!0);case"insertdelete":return(U.graph?"WITH "+this.toEntity(U.graph)+this._newline:"")+(U.delete.length?"DELETE "+this.group(U.delete,!0)+this._newline:"")+(U.insert.length?"INSERT "+this.group(U.insert,!0)+this._newline:"")+(U.using?this.graphs("USING ",U.using.default):"")+(U.using?this.graphs("USING NAMED ",U.using.named):"")+"WHERE "+this.group(U.where,!0);case"add":case"copy":case"move":return U.type.toUpperCase()+" "+(U.silent?"SILENT ":"")+(U.source.default?"DEFAULT":this.toEntity(U.source.name))+" TO "+this.toEntity(U.destination.name);case"create":case"clear":case"drop":return U.type.toUpperCase()+(U.silent?" SILENT ":" ")+(U.graph.default?"DEFAULT":U.graph.named?"NAMED":U.graph.all?"ALL":"GRAPH "+this.toEntity(U.graph.name));default:throw new Error("Unknown update query type: "+U.type)}},Generator$1.prototype.indent=function(U){return U.replace(/^/gm,this._indent)};function variableToString(U){return"?"+U.value}function isString$2(U){return typeof U=="string"}function isTerm$1(U){return typeof U.termType=="string"}function equalTerms(U,G){if(!U||!isTerm$1(U)||!G||!isTerm$1(G)||U.termType!==G.termType)return!1;switch(U.termType){case"Literal":return U.value===G.value&&U.language===G.language&&equalTerms(U.datatype,G.datatype);case"Quad":return equalTerms(U.subject,G.subject)&&equalTerms(U.predicate,G.predicate)&&equalTerms(U.object,G.object)&&equalTerms(U.graph,G.graph);default:return U.value===G.value}}function mapJoin(U,G,Q,q){return U.map(Q,q).join(isString$2(G)?G:" ")}function _Generator(U={}){return{stringify:function(G){var Q=Object.create(U);return Q.prefixes=G.prefixes,new Generator$1(Q).toQuery(G)},createGenerator:function(){return new Generator$1(U)}}}var SparqlGenerator={Generator:_Generator};const{Parser:Parser$1}=SparqlParser_1,{Generator}=SparqlGenerator,{Wildcard}=Wildcard$2,{DataFactory}=rdfDataFactory;function _Parser({prefixes:U,baseIRI:G,factory:Q,pathOnly:q,sparqlStar:W,skipValidation:J,skipUngroupedVariableCheck:F}={}){const Y={};for(const te in U??{})Y[te]=U[te];const X=new Parser$1;return X.parse=function(){return Parser$1.base=G||"",Parser$1.prefixes=Object.create(Y),Parser$1.factory=Q||new DataFactory,Parser$1.sparqlStar=!!W,Parser$1.pathOnly=!!q,Parser$1.skipValidation=!!J||!!F,Parser$1.prototype.parse.apply(X,arguments)},X._resetBlanks=Parser$1._resetBlanks,X}var sparql$1={Parser:_Parser,Generator,Wildcard};const sparql$2=getDefaultExportFromCjs(sparql$1),__QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqljs__=_mergeNamespaces({__proto__:null,default:sparql$2},[sparql$1]);var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(U,G,Q,q){q===void 0&&(q=Q);var W=Object.getOwnPropertyDescriptor(G,Q);(!W||("get"in W?!G.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return G[Q]}}),Object.defineProperty(U,q,W)}:function(U,G,Q,q){q===void 0&&(q=Q),U[q]=G[Q]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(U,G){Object.defineProperty(U,"default",{enumerable:!0,value:G})}:function(U,G){U.default=G}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(U){if(U&&U.__esModule)return U;var G={};if(U!=null)for(var Q in U)Q!=="default"&&Object.prototype.hasOwnProperty.call(U,Q)&&__createBinding$2(G,U,Q);return __setModuleDefault$2(G,U),G};Object.defineProperty(factory$2,"__esModule",{value:!0});const A$1=__importStar$2(algebra),rdf_data_factory_1$1=rdfDataFactory,rdf_string_1$4=rdfString,sparqljs_1$1=sparql$1;class Factory{constructor(G){this.dataFactory=G||new rdf_data_factory_1$1.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(G,Q=!0){return this.flattenMulti({type:A$1.types.ALT,input:G},Q)}createAsk(G){return{type:A$1.types.ASK,input:G}}createBoundAggregate(G,Q,q,W,J){const F=this.createAggregateExpression(Q,q,W,J);return F.variable=G,F}createBgp(G){return{type:A$1.types.BGP,patterns:G}}createConstruct(G,Q){return{type:A$1.types.CONSTRUCT,input:G,template:Q}}createDescribe(G,Q){return{type:A$1.types.DESCRIBE,input:G,terms:Q}}createDistinct(G){return{type:A$1.types.DISTINCT,input:G}}createExtend(G,Q,q){return{type:A$1.types.EXTEND,input:G,variable:Q,expression:q}}createFrom(G,Q,q){return{type:A$1.types.FROM,input:G,default:Q,named:q}}createFilter(G,Q){return{type:A$1.types.FILTER,input:G,expression:Q}}createGraph(G,Q){return{type:A$1.types.GRAPH,input:G,name:Q}}createGroup(G,Q,q){return{type:A$1.types.GROUP,input:G,variables:Q,aggregates:q}}createInv(G){return{type:A$1.types.INV,path:G}}createJoin(G,Q=!0){return this.flattenMulti({type:A$1.types.JOIN,input:G},Q)}createLeftJoin(G,Q,q){return q?{type:A$1.types.LEFT_JOIN,input:[G,Q],expression:q}:{type:A$1.types.LEFT_JOIN,input:[G,Q]}}createLink(G){return{type:A$1.types.LINK,iri:G}}createMinus(G,Q){return{type:A$1.types.MINUS,input:[G,Q]}}createNop(){return{type:A$1.types.NOP}}createNps(G){return{type:A$1.types.NPS,iris:G}}createOneOrMorePath(G){return{type:A$1.types.ONE_OR_MORE_PATH,path:G}}createOrderBy(G,Q){return{type:A$1.types.ORDER_BY,input:G,expressions:Q}}createPath(G,Q,q,W){return W?{type:A$1.types.PATH,subject:G,predicate:Q,object:q,graph:W}:{type:A$1.types.PATH,subject:G,predicate:Q,object:q,graph:this.dataFactory.defaultGraph()}}createPattern(G,Q,q,W){const J=this.dataFactory.quad(G,Q,q,W);return J.type=A$1.types.PATTERN,J}createProject(G,Q){return{type:A$1.types.PROJECT,input:G,variables:Q}}createReduced(G){return{type:A$1.types.REDUCED,input:G}}createSeq(G,Q=!0){return this.flattenMulti({type:A$1.types.SEQ,input:G},Q)}createService(G,Q,q){return{type:A$1.types.SERVICE,input:G,name:Q,silent:!!q}}createSlice(G,Q,q){return Q=Q||0,q!==void 0?{type:A$1.types.SLICE,input:G,start:Q,length:q}:{type:A$1.types.SLICE,input:G,start:Q}}createUnion(G,Q=!0){return this.flattenMulti({type:A$1.types.UNION,input:G},Q)}createValues(G,Q){return{type:A$1.types.VALUES,variables:G,bindings:Q}}createZeroOrMorePath(G){return{type:A$1.types.ZERO_OR_MORE_PATH,path:G}}createZeroOrOnePath(G){return{type:A$1.types.ZERO_OR_ONE_PATH,path:G}}createAggregateExpression(G,Q,q,W){return W?{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.AGGREGATE,aggregator:G,expression:Q,separator:W,distinct:q}:{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.AGGREGATE,aggregator:G,expression:Q,distinct:q}}createExistenceExpression(G,Q){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.EXISTENCE,not:G,input:Q}}createNamedExpression(G,Q){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.NAMED,name:G,args:Q}}createOperatorExpression(G,Q){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.OPERATOR,operator:G,args:Q}}createTermExpression(G){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.TERM,term:G}}createWildcardExpression(){return{type:A$1.types.EXPRESSION,expressionType:A$1.expressionTypes.WILDCARD,wildcard:new sparqljs_1$1.Wildcard}}createTerm(G){return G[0]==="$"&&(G=G.replace("$","?")),(0,rdf_string_1$4.stringToTerm)(G,this.dataFactory)}createCompositeUpdate(G){return{type:A$1.types.COMPOSITE_UPDATE,updates:G}}createDeleteInsert(G,Q,q){const W={type:A$1.types.DELETE_INSERT};return G&&(W.delete=G),Q&&(W.insert=Q),q&&(W.where=q),W}createLoad(G,Q,q){const W={type:A$1.types.LOAD,source:G};return Q&&(W.destination=Q),this.addSilent(W,!!q)}createClear(G,Q){return this.addSilent({type:A$1.types.CLEAR,source:G},!!Q)}createCreate(G,Q){return this.addSilent({type:A$1.types.CREATE,source:G},!!Q)}createDrop(G,Q){return this.addSilent({type:A$1.types.DROP,source:G},!!Q)}createAdd(G,Q,q){return this.addSilent({type:A$1.types.ADD,source:G,destination:Q},!!q)}createMove(G,Q,q){return this.addSilent({type:A$1.types.MOVE,source:G,destination:Q},!!q)}createCopy(G,Q,q){return this.addSilent({type:A$1.types.COPY,source:G,destination:Q},!!q)}addSilent(G,Q){return Q&&(G.silent=Q),G}flattenMulti(G,Q){if(!Q)return G;const q=G.type,W=G.input;let J=[];for(const F of W)F.type===q?J.push(...F.input):J.push(F);return G.input=J,G}}factory$2.default=Factory;var util={},rdfTerms={},QuadTermUtil={};Object.defineProperty(QuadTermUtil,"__esModule",{value:!0}),QuadTermUtil.matchPatternMappings=QuadTermUtil.matchPatternComplete=QuadTermUtil.matchPattern=QuadTermUtil.matchTerm=QuadTermUtil.getValueNestedPath=QuadTermUtil.someTermsNested=QuadTermUtil.someTerms=QuadTermUtil.everyTermsNested=QuadTermUtil.everyTerms=QuadTermUtil.reduceTermsNested=QuadTermUtil.reduceTerms=QuadTermUtil.mapTermsNested=QuadTermUtil.mapTerms=QuadTermUtil.filterQuadTermNamesNested=QuadTermUtil.filterQuadTermNames=QuadTermUtil.filterTermsNested=QuadTermUtil.filterTerms=QuadTermUtil.forEachTermsNested=QuadTermUtil.forEachTerms=QuadTermUtil.collectNamedTerms=QuadTermUtil.getNamedTerms=QuadTermUtil.getTermsNested=QuadTermUtil.getTerms=QuadTermUtil.TRIPLE_TERM_NAMES=QuadTermUtil.QUAD_TERM_NAMES=void 0;const rdf_data_factory_1=rdfDataFactory,DF=new rdf_data_factory_1.DataFactory;QuadTermUtil.QUAD_TERM_NAMES=["subject","predicate","object","graph"],QuadTermUtil.TRIPLE_TERM_NAMES=["subject","predicate","object"];function getTerms(U,G){return G&&U.graph.termType==="DefaultGraph"?[U.subject,U.predicate,U.object]:[U.subject,U.predicate,U.object,U.graph]}QuadTermUtil.getTerms=getTerms;function getTermsNested(U,G){const Q=[];for(const q of getTerms(U,G))q.termType==="Quad"?getTermsNested(q,G).forEach(W=>Q.push(W)):Q.push(q);return Q}QuadTermUtil.getTermsNested=getTermsNested;function getNamedTerms(U){return[{key:"subject",value:U.subject},{key:"predicate",value:U.predicate},{key:"object",value:U.object},{key:"graph",value:U.graph}]}QuadTermUtil.getNamedTerms=getNamedTerms;function collectNamedTerms(U,G,Q){const q={};return U.forEach(W=>q[W.key]=W.value),G&&(q.subject=q.subject||G("subject"),q.predicate=q.predicate||G("predicate"),q.object=q.object||G("object"),q.graph=q.graph||G("graph")),(Q||DF).quad(q.subject,q.predicate,q.object,q.graph)}QuadTermUtil.collectNamedTerms=collectNamedTerms;function forEachTerms(U,G){G(U.subject,"subject"),G(U.predicate,"predicate"),G(U.object,"object"),G(U.graph,"graph")}QuadTermUtil.forEachTerms=forEachTerms;function forEachTermsNested(U,G,Q=[]){U.subject.termType==="Quad"?forEachTermsNested(U.subject,G,[...Q,"subject"]):G(U.subject,[...Q,"subject"]),U.predicate.termType==="Quad"?forEachTermsNested(U.predicate,G,[...Q,"predicate"]):G(U.predicate,[...Q,"predicate"]),U.object.termType==="Quad"?forEachTermsNested(U.object,G,[...Q,"object"]):G(U.object,[...Q,"object"]),U.graph.termType==="Quad"?forEachTermsNested(U.graph,G,[...Q,"graph"]):G(U.graph,[...Q,"graph"])}QuadTermUtil.forEachTermsNested=forEachTermsNested;function filterTerms(U,G){const Q=[];return G(U.subject,"subject")&&Q.push(U.subject),G(U.predicate,"predicate")&&Q.push(U.predicate),G(U.object,"object")&&Q.push(U.object),G(U.graph,"graph")&&Q.push(U.graph),Q}QuadTermUtil.filterTerms=filterTerms;function filterTermsNested(U,G,Q=[]){let q=[];return U.subject.termType==="Quad"?q=[...q,...filterTermsNested(U.subject,G,[...Q,"subject"])]:G(U.subject,[...Q,"subject"])&&q.push(U.subject),U.predicate.termType==="Quad"?q=[...q,...filterTermsNested(U.predicate,G,[...Q,"predicate"])]:G(U.predicate,[...Q,"predicate"])&&q.push(U.predicate),U.object.termType==="Quad"?q=[...q,...filterTermsNested(U.object,G,[...Q,"object"])]:G(U.object,[...Q,"object"])&&q.push(U.object),U.graph.termType==="Quad"?q=[...q,...filterTermsNested(U.graph,G,[...Q,"graph"])]:G(U.graph,[...Q,"graph"])&&q.push(U.graph),q}QuadTermUtil.filterTermsNested=filterTermsNested;function filterQuadTermNames(U,G){const Q=[];return G(U.subject,"subject")&&Q.push("subject"),G(U.predicate,"predicate")&&Q.push("predicate"),G(U.object,"object")&&Q.push("object"),G(U.graph,"graph")&&Q.push("graph"),Q}QuadTermUtil.filterQuadTermNames=filterQuadTermNames;function filterQuadTermNamesNested(U,G,Q=[]){let q=[];const W=[...Q,"subject"];U.subject.termType==="Quad"?q=[...q,...filterQuadTermNamesNested(U.subject,G,W)]:G(U.subject,W)&&q.push(W);const J=[...Q,"predicate"];U.predicate.termType==="Quad"?q=[...q,...filterQuadTermNamesNested(U.predicate,G,J)]:G(U.predicate,J)&&q.push(J);const F=[...Q,"object"];U.object.termType==="Quad"?q=[...q,...filterQuadTermNamesNested(U.object,G,F)]:G(U.object,F)&&q.push(F);const Y=[...Q,"graph"];return U.graph.termType==="Quad"?q=[...q,...filterQuadTermNamesNested(U.graph,G,Y)]:G(U.graph,Y)&&q.push(Y),q}QuadTermUtil.filterQuadTermNamesNested=filterQuadTermNamesNested;function mapTerms(U,G,Q){return(Q||DF).quad(G(U.subject,"subject"),G(U.predicate,"predicate"),G(U.object,"object"),G(U.graph,"graph"))}QuadTermUtil.mapTerms=mapTerms;function mapTermsNested(U,G,Q,q=[]){return(Q||DF).quad(U.subject.termType==="Quad"?mapTermsNested(U.subject,G,Q,[...q,"subject"]):G(U.subject,[...q,"subject"]),U.predicate.termType==="Quad"?mapTermsNested(U.predicate,G,Q,[...q,"predicate"]):G(U.predicate,[...q,"predicate"]),U.object.termType==="Quad"?mapTermsNested(U.object,G,Q,[...q,"object"]):G(U.object,[...q,"object"]),U.graph.termType==="Quad"?mapTermsNested(U.graph,G,Q,[...q,"graph"]):G(U.graph,[...q,"graph"]))}QuadTermUtil.mapTermsNested=mapTermsNested;function reduceTerms(U,G,Q){let q=Q;return q=G(q,U.subject,"subject"),q=G(q,U.predicate,"predicate"),q=G(q,U.object,"object"),G(q,U.graph,"graph")}QuadTermUtil.reduceTerms=reduceTerms;function reduceTermsNested(U,G,Q,q=[]){let W=Q;return U.subject.termType==="Quad"?W=reduceTermsNested(U.subject,G,W,[...q,"subject"]):W=G(W,U.subject,[...q,"subject"]),U.predicate.termType==="Quad"?W=reduceTermsNested(U.predicate,G,W,[...q,"predicate"]):W=G(W,U.predicate,[...q,"predicate"]),U.object.termType==="Quad"?W=reduceTermsNested(U.object,G,W,[...q,"object"]):W=G(W,U.object,[...q,"object"]),U.graph.termType==="Quad"?W=reduceTermsNested(U.graph,G,W,[...q,"graph"]):W=G(W,U.graph,[...q,"graph"]),W}QuadTermUtil.reduceTermsNested=reduceTermsNested;function everyTerms(U,G){return G(U.subject,"subject")&&G(U.predicate,"predicate")&&G(U.object,"object")&&G(U.graph,"graph")}QuadTermUtil.everyTerms=everyTerms;function everyTermsNested(U,G,Q=[]){return(U.subject.termType==="Quad"?everyTermsNested(U.subject,G,[...Q,"subject"]):G(U.subject,[...Q,"subject"]))&&(U.predicate.termType==="Quad"?everyTermsNested(U.predicate,G,[...Q,"predicate"]):G(U.predicate,[...Q,"predicate"]))&&(U.object.termType==="Quad"?everyTermsNested(U.object,G,[...Q,"object"]):G(U.object,[...Q,"object"]))&&(U.graph.termType==="Quad"?everyTermsNested(U.graph,G,[...Q,"graph"]):G(U.graph,[...Q,"graph"]))}QuadTermUtil.everyTermsNested=everyTermsNested;function someTerms(U,G){return G(U.subject,"subject")||G(U.predicate,"predicate")||G(U.object,"object")||G(U.graph,"graph")}QuadTermUtil.someTerms=someTerms;function someTermsNested(U,G,Q=[]){return(U.subject.termType==="Quad"?someTermsNested(U.subject,G,[...Q,"subject"]):G(U.subject,[...Q,"subject"]))||(U.predicate.termType==="Quad"?someTermsNested(U.predicate,G,[...Q,"predicate"]):G(U.predicate,[...Q,"predicate"]))||(U.object.termType==="Quad"?someTermsNested(U.object,G,[...Q,"object"]):G(U.object,[...Q,"object"]))||(U.graph.termType==="Quad"?someTermsNested(U.graph,G,[...Q,"graph"]):G(U.graph,[...Q,"graph"]))}QuadTermUtil.someTermsNested=someTermsNested;function getValueNestedPath(U,G){if(G.length===0)return U;if(U.termType==="Quad")return getValueNestedPath(U[G[0]],G.slice(1));throw new Error(`Tried to get ${G[0]} from term of type ${U.termType}`)}QuadTermUtil.getValueNestedPath=getValueNestedPath;function matchTerm(U,G){return!G||G.termType==="Variable"||G.termType==="Quad"&&U.termType==="Quad"&&matchPatternComplete(U,G)||G.equals(U)}QuadTermUtil.matchTerm=matchTerm;function matchPattern(U,G,Q,q,W){return matchTerm(U.subject,G)&&matchTerm(U.predicate,Q)&&matchTerm(U.object,q)&&matchTerm(U.graph,W)}QuadTermUtil.matchPattern=matchPattern;function matchPatternComplete(U,G){return matchPattern(U,G.subject,G.predicate,G.object,G.graph)}QuadTermUtil.matchPatternComplete=matchPatternComplete;function matchPatternMappings(U,G,Q={}){const q={};function W(J,F){return everyTerms(J,(Y,X)=>{var te,re;const ne=F[X];switch(Y.termType){case"Variable":return Q.skipVarMapping&&ne.termType==="Variable"||((re=(te=q[Y.value])===null||te===void 0?void 0:te.equals(ne))!==null&&re!==void 0?re:(q[Y.value]=ne,!0));case"Quad":return ne.termType==="Quad"&&W(Y,ne);default:return Y.equals(ne)}})}return W(G,U)&&(Q.returnMappings?q:!0)}QuadTermUtil.matchPatternMappings=matchPatternMappings;var TermUtil={};Object.defineProperty(TermUtil,"__esModule",{value:!0}),TermUtil.getQuads=TermUtil.getDefaultGraphs=TermUtil.getVariables=TermUtil.getLiterals=TermUtil.getBlankNodes=TermUtil.getNamedNodes=TermUtil.getTermsOfType=TermUtil.uniqTerms=TermUtil.TERM_TYPES=void 0;const rdf_string_1$3=rdfString;TermUtil.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function uniqTerms(U){const G={};return U.filter(Q=>{const q=(0,rdf_string_1$3.termToString)(Q);return!(q in G)&&(G[q]=!0)})}TermUtil.uniqTerms=uniqTerms;function getTermsOfType(U,G){return U.filter(Q=>Q.termType===G)}TermUtil.getTermsOfType=getTermsOfType;function getNamedNodes(U){return getTermsOfType(U,"NamedNode")}TermUtil.getNamedNodes=getNamedNodes;function getBlankNodes(U){return getTermsOfType(U,"BlankNode")}TermUtil.getBlankNodes=getBlankNodes;function getLiterals(U){return getTermsOfType(U,"Literal")}TermUtil.getLiterals=getLiterals;function getVariables(U){return getTermsOfType(U,"Variable")}TermUtil.getVariables=getVariables;function getDefaultGraphs(U){return getTermsOfType(U,"DefaultGraph")}TermUtil.getDefaultGraphs=getDefaultGraphs;function getQuads(U){return getTermsOfType(U,"Quad")}TermUtil.getQuads=getQuads,function(U){var G=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(q,W,J,F){F===void 0&&(F=J);var Y=Object.getOwnPropertyDescriptor(W,J);(!Y||("get"in Y?!W.__esModule:Y.writable||Y.configurable))&&(Y={enumerable:!0,get:function(){return W[J]}}),Object.defineProperty(q,F,Y)}:function(q,W,J,F){F===void 0&&(F=J),q[F]=W[J]}),Q=commonjsGlobal&&commonjsGlobal.__exportStar||function(q,W){for(var J in q)J!=="default"&&!Object.prototype.hasOwnProperty.call(W,J)&&G(W,q,J)};Object.defineProperty(U,"__esModule",{value:!0}),Q(QuadTermUtil,U),Q(TermUtil,U)}(rdfTerms);var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(util,"__esModule",{value:!0});const algebra_1=algebra,factory_1$2=__importDefault$2(factory$2),rdf_terms_1$1=rdfTerms;class Util{static flatten(G){return Array.prototype.concat(...G).filter(Q=>Q)}static objectify(G){if(G.termType){if(G.termType==="Quad")return{type:"pattern",termType:"Quad",subject:Util.objectify(G.subject),predicate:Util.objectify(G.predicate),object:Util.objectify(G.object),graph:Util.objectify(G.graph)};{let Q={termType:G.termType,value:G.value};return G.language&&(Q.language=G.language),G.datatype&&(Q.datatype=Util.objectify(G.datatype)),Q}}if(Array.isArray(G))return G.map(Q=>Util.objectify(Q));if(G===Object(G)){let Q={};for(let q of Object.keys(G))Q[q]=Util.objectify(G[q]);return Q}return G}static inScopeVariables(G){const Q=[];function q(J){Q.find(F=>J.value===F.value)||Q.push(J)}function W(J){J.subject.termType==="Variable"&&q(J.subject),J.predicate.termType==="Variable"&&q(J.predicate),J.object.termType==="Variable"&&q(J.object),J.graph.termType==="Variable"&&q(J.graph),J.subject.termType==="Quad"&&W(J.subject),J.predicate.termType==="Quad"&&W(J.predicate),J.object.termType==="Quad"&&W(J.object),J.graph.termType==="Quad"&&W(J.graph)}return Util.recurseOperation(G,{[algebra_1.types.EXPRESSION]:J=>(J.expressionType===algebra_1.expressionTypes.AGGREGATE&&J.variable&&q(J.variable),!0),[algebra_1.types.EXTEND]:J=>(q(J.variable),!0),[algebra_1.types.GRAPH]:J=>(J.name.termType==="Variable"&&q(J.name),!0),[algebra_1.types.GROUP]:J=>(J.variables.forEach(q),!0),[algebra_1.types.PATH]:J=>(J.subject.termType==="Variable"&&q(J.subject),J.object.termType==="Variable"&&q(J.object),J.graph.termType==="Variable"&&q(J.graph),J.subject.termType==="Quad"&&W(J.subject),J.object.termType==="Quad"&&W(J.object),J.graph.termType==="Quad"&&W(J.graph),!0),[algebra_1.types.PATTERN]:J=>(W(J),!0),[algebra_1.types.PROJECT]:J=>(J.variables.forEach(q),!1),[algebra_1.types.SERVICE]:J=>(J.name.termType==="Variable"&&q(J.name),!0),[algebra_1.types.VALUES]:J=>(J.variables.forEach(q),!0)}),Q}static recurseOperation(G,Q){let q=G,W=!0;const J=Q[G.type];if(J&&(W=J(G)),!W)return;let F=Y=>Util.recurseOperation(Y,Q);switch(q.type){case algebra_1.types.ALT:q.input.map(F);break;case algebra_1.types.ASK:F(q.input);break;case algebra_1.types.BGP:q.patterns.forEach(F);break;case algebra_1.types.CONSTRUCT:F(q.input),q.template.map(F);break;case algebra_1.types.DESCRIBE:F(q.input);break;case algebra_1.types.DISTINCT:F(q.input);break;case algebra_1.types.EXPRESSION:q.expressionType===algebra_1.expressionTypes.EXISTENCE&&F(q.input);break;case algebra_1.types.EXTEND:F(q.input),F(q.expression);break;case algebra_1.types.FILTER:F(q.input),F(q.expression);break;case algebra_1.types.FROM:F(q.input);break;case algebra_1.types.GRAPH:F(q.input);break;case algebra_1.types.GROUP:F(q.input),q.aggregates.forEach(F);break;case algebra_1.types.INV:F(q.path);break;case algebra_1.types.JOIN:q.input.map(F);break;case algebra_1.types.LEFT_JOIN:q.input.map(F),q.expression&&F(q.expression);break;case algebra_1.types.LINK:break;case algebra_1.types.MINUS:q.input.map(F);break;case algebra_1.types.NOP:break;case algebra_1.types.NPS:break;case algebra_1.types.ONE_OR_MORE_PATH:F(q.path);break;case algebra_1.types.ORDER_BY:F(q.input),q.expressions.forEach(F);break;case algebra_1.types.PATH:F(q.predicate);break;case algebra_1.types.PATTERN:break;case algebra_1.types.PROJECT:F(q.input);break;case algebra_1.types.REDUCED:F(q.input);break;case algebra_1.types.SEQ:q.input.map(F);break;case algebra_1.types.SERVICE:F(q.input);break;case algebra_1.types.SLICE:F(q.input);break;case algebra_1.types.UNION:q.input.map(F);break;case algebra_1.types.VALUES:break;case algebra_1.types.ZERO_OR_MORE_PATH:F(q.path);break;case algebra_1.types.ZERO_OR_ONE_PATH:F(q.path);break;case algebra_1.types.COMPOSITE_UPDATE:q.updates.forEach(Y=>F(Y));break;case algebra_1.types.DELETE_INSERT:q.delete&&q.delete.forEach(Y=>F(Y)),q.insert&&q.insert.forEach(Y=>F(Y)),q.where&&F(q.where);break;case algebra_1.types.LOAD:break;case algebra_1.types.CLEAR:break;case algebra_1.types.CREATE:break;case algebra_1.types.DROP:break;case algebra_1.types.ADD:break;case algebra_1.types.MOVE:break;case algebra_1.types.COPY:break;default:throw new Error(`Unknown Operation type ${q.type}`)}}static mapOperation(G,Q,q){let W=G,J=!0,F=!0;q=q||new factory_1$2.default;const Y=Q[G.type];if(Y){const re=Y(G,q);W=re.result,J=re.recurse,F=re.copyMetadata!==!1}let X;if(F&&(W.metadata||G.metadata)&&(X={...W.metadata,...G.metadata}),!J)return X&&(W.metadata=X),W;let te=re=>Util.mapOperation(re,Q,q);switch(W.type){case algebra_1.types.ALT:W=q.createAlt(W.input.map(te));break;case algebra_1.types.ASK:W=q.createAsk(te(W.input));break;case algebra_1.types.BGP:W=q.createBgp(W.patterns.map(te));break;case algebra_1.types.CONSTRUCT:W=q.createConstruct(te(W.input),W.template.map(te));break;case algebra_1.types.DESCRIBE:W=q.createDescribe(te(W.input),W.terms);break;case algebra_1.types.DISTINCT:W=q.createDistinct(te(W.input));break;case algebra_1.types.EXPRESSION:W=Util.mapExpression(W,Q,q);break;case algebra_1.types.EXTEND:W=q.createExtend(te(W.input),W.variable,te(W.expression));break;case algebra_1.types.FILTER:W=q.createFilter(te(W.input),te(W.expression));break;case algebra_1.types.FROM:W=q.createFrom(te(W.input),[...W.default],[...W.named]);break;case algebra_1.types.GRAPH:W=q.createGraph(te(W.input),W.name);break;case algebra_1.types.GROUP:W=q.createGroup(te(W.input),[].concat(W.variables),W.aggregates.map(te));break;case algebra_1.types.INV:W=q.createInv(te(W.path));break;case algebra_1.types.JOIN:W=q.createJoin(W.input.map(te));break;case algebra_1.types.LEFT_JOIN:W=q.createLeftJoin(te(W.input[0]),te(W.input[1]),W.expression?te(W.expression):void 0);break;case algebra_1.types.LINK:W=q.createLink(W.iri);break;case algebra_1.types.MINUS:W=q.createMinus(te(W.input[0]),te(W.input[1]));break;case algebra_1.types.NOP:W=q.createNop();break;case algebra_1.types.NPS:W=q.createNps([].concat(W.iris));break;case algebra_1.types.ONE_OR_MORE_PATH:W=q.createOneOrMorePath(te(W.path));break;case algebra_1.types.ORDER_BY:W=q.createOrderBy(te(W.input),W.expressions.map(te));break;case algebra_1.types.PATH:W=q.createPath(W.subject,te(W.predicate),W.object,W.graph);break;case algebra_1.types.PATTERN:W=q.createPattern(W.subject,W.predicate,W.object,W.graph);break;case algebra_1.types.PROJECT:W=q.createProject(te(W.input),[...W.variables]);break;case algebra_1.types.REDUCED:W=q.createReduced(te(W.input));break;case algebra_1.types.SEQ:W=q.createSeq(W.input.map(te));break;case algebra_1.types.SERVICE:W=q.createService(te(W.input),W.name,W.silent);break;case algebra_1.types.SLICE:W=q.createSlice(te(W.input),W.start,W.length);break;case algebra_1.types.UNION:W=q.createUnion(W.input.map(te));break;case algebra_1.types.VALUES:W=q.createValues([].concat(W.variables),W.bindings.map(re=>Object.assign({},re)));break;case algebra_1.types.ZERO_OR_MORE_PATH:W=q.createZeroOrMorePath(te(W.path));break;case algebra_1.types.ZERO_OR_ONE_PATH:W=q.createZeroOrOnePath(te(W.path));break;case algebra_1.types.COMPOSITE_UPDATE:W=q.createCompositeUpdate(W.updates.map(te));break;case algebra_1.types.DELETE_INSERT:W=q.createDeleteInsert(W.delete?W.delete.map(te):void 0,W.insert?W.insert.map(te):void 0,W.where?te(W.where):void 0);break;case algebra_1.types.LOAD:W=q.createLoad(W.source,W.destination,W.silent);break;case algebra_1.types.CLEAR:W=q.createClear(W.source,W.silent);break;case algebra_1.types.CREATE:W=q.createCreate(W.source,W.silent);break;case algebra_1.types.DROP:W=q.createDrop(W.source,W.silent);break;case algebra_1.types.ADD:W=q.createAdd(W.source,W.destination);break;case algebra_1.types.MOVE:W=q.createMove(W.source,W.destination);break;case algebra_1.types.COPY:W=q.createCopy(W.source,W.destination);break;default:throw new Error(`Unknown Operation type ${W.type}`)}return X&&(W.metadata=X),W}static mapExpression(G,Q,q){let W=G,J=!0;q=q||new factory_1$2.default;const F=Q[G.expressionType];if(F&&({result:W,recurse:J}=F(G,q)),!J)return W;let Y=X=>Util.mapOperation(X,Q,q);switch(G.expressionType){case algebra_1.expressionTypes.AGGREGATE:return G.variable?q.createBoundAggregate(G.variable,G.aggregator,Y(G.expression),G.distinct,G.separator):q.createAggregateExpression(G.aggregator,Y(G.expression),G.distinct,G.separator);case algebra_1.expressionTypes.EXISTENCE:return q.createExistenceExpression(G.not,Y(G.input));case algebra_1.expressionTypes.NAMED:return q.createNamedExpression(G.name,G.args.map(Y));case algebra_1.expressionTypes.OPERATOR:return q.createOperatorExpression(G.operator,G.args.map(Y));case algebra_1.expressionTypes.TERM:return q.createTermExpression(G.term);case algebra_1.expressionTypes.WILDCARD:return q.createWildcardExpression();default:throw new Error(`Unknown Expression type ${G.expressionType}`)}}static cloneOperation(G){return Util.mapOperation(G,{})}static cloneExpression(G){return Util.mapExpression(G,{})}static createUniqueVariable(G,Q,q){let W=0,J=G;for(;Q[J];)J=`${G}${W++}`;return q.variable(J)}static isSimpleTerm(G){return G.termType!==void 0&&G.termType!=="Quad"&&G.termType!=="Wildcard"}static isQuad(G){return G.termType==="Quad"}static hasQuadVariables(G){return(0,rdf_terms_1$1.someTermsNested)(G,Q=>Q.termType==="Variable")}static isWildcard(G){return G.termType==="Wildcard"}}util.default=Util;var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(U,G,Q,q){q===void 0&&(q=Q);var W=Object.getOwnPropertyDescriptor(G,Q);(!W||("get"in W?!G.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return G[Q]}}),Object.defineProperty(U,q,W)}:function(U,G,Q,q){q===void 0&&(q=Q),U[q]=G[Q]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(U,G){Object.defineProperty(U,"default",{enumerable:!0,value:G})}:function(U,G){U.default=G}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(U){if(U&&U.__esModule)return U;var G={};if(U!=null)for(var Q in U)Q!=="default"&&Object.prototype.hasOwnProperty.call(U,Q)&&__createBinding$1(G,U,Q);return __setModuleDefault$1(G,U),G},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(sparqlAlgebra,"__esModule",{value:!0});const equal=es6,rdf_string_1$2=rdfString,Algebra$1=__importStar$1(algebra),factory_1$1=__importDefault$1(factory$2),util_1$1=__importDefault$1(util),Parser=sparql$1.Parser,types$1=Algebra$1.types;let variables=new Set,varCount=0,useQuads=!1,factory$1;function translate$1(U,G){G=G||{},factory$1=new factory_1$1.default(G.dataFactory);let Q;if(isString$1(U)){let q=new Parser(G);q._resetBlanks(),Q=q.parse(U)}else Q=U;return translateQuery(Q,G.quads,G.blankToVariable)}sparqlAlgebra.default=translate$1;function translateQuery(U,G,Q){if(variables=new Set,varCount=0,useQuads=!!G,!U.type)return factory$1.createNop();if(U.type!=="query"&&U.type!=="update")throw new Error("Translate only works on complete query or update objects.");let q;if(findAllVariables(U),U.type==="query"){const W={type:"group",patterns:U.where||[]};q=translateGraphPattern(W),q=translateAggregates(U,q)}else U.type==="update"&&(q=translateUpdate(U));return Q&&(q=translateBlankNodesToVariables(q)),q}function isString$1(U){return typeof U=="string"}function isTerm(U){return!!(U!=null&&U.termType)}function isTriple(U){return U.subject&&U.predicate&&U.object}function isVariable(U){return(U==null?void 0:U.termType)==="Variable"}function findAllVariables(U){if(isTerm(U))isVariable(U)&&variables.add(`?${U.value}`);else if(Array.isArray(U))for(const G of U)findAllVariables(G);else if(U&&typeof U=="object")for(let G of Object.keys(U))G.startsWith("?")?variables.add(G):G.startsWith("$")&&variables.add(`?${G.slice(1)}`),findAllVariables(U[G])}function inScopeVariables(U){let G={};if(isTriple(U)){const Q=[inScopeVariables(U.subject),inScopeVariables(U.predicate),inScopeVariables(U.object),U.graph?inScopeVariables(U.graph):{}];Object.assign(G,...Q)}else if(isTerm(U))isVariable(U)&&(G[U.value]=U);else if(U.type==="bgp"){const Q=U.triples;Object.assign(G,...Q.map(inScopeVariables))}else if(U.type==="path")Object.assign(G,...U.items.map(inScopeVariables));else if(U.type==="group"||U.type==="union"||U.type==="optional")Object.assign(G,...U.patterns.map(inScopeVariables));else if(U.type==="service"||U.type==="graph")Object.assign(G,inScopeVariables(U.name)),Object.assign(G,...U.patterns.map(inScopeVariables));else if(U.type==="bind")Object.assign(G,inScopeVariables(U.variable));else if(U.type==="values"){if(U.values.length>0){const Q=Object.keys(U.values[0]).map(q=>factory$1.createTerm(q));Object.assign(G,...Q.map(inScopeVariables))}}else if(U.type==="query"&&(U.queryType==="SELECT"||U.queryType==="DESCRIBE")){U.where&&U.variables.some(util_1$1.default.isWildcard)&&Object.assign(G,...U.where.map(inScopeVariables));for(const Q of U.variables)isVariable(Q)?Object.assign(G,inScopeVariables(Q)):Q.variable&&Object.assign(G,inScopeVariables(Q.variable));if(U.queryType==="SELECT"){if(U.group)for(const Q of U.group)Q.variable&&Object.assign(G,inScopeVariables(Q.variable));if(U.values){const Q={type:"values",values:U.values};Object.assign(G,inScopeVariables(Q))}}}return G}function translateGraphPattern(U){if(U.type==="bgp")return translateBgp$1(U);if(U.type==="union")return factory$1.createUnion(U.patterns.map(G=>(G.type!=="group"&&(G={type:"group",patterns:[G]}),translateGraphPattern(G))));if(U.type==="graph"){const G={type:"group",patterns:U.patterns};let Q=translateGraphPattern(G);return useQuads?Q=recurseGraph(Q,U.name):Q=factory$1.createGraph(Q,U.name),Q}if(U.type==="values")return translateInlineData(U);if(U.type==="query")return translateQuery(U,useQuads,!1);if(U.type==="group"){let G=[],Q=[];for(let J of U.patterns)(J.type==="filter"?G:Q).push(J);let q=Q.reduce(accumulateGroupGraphPattern,factory$1.createBgp([])),W=G.map(J=>translateExpression$1(J.expression));return W.length>0&&(q=factory$1.createFilter(q,W.reduce((J,F)=>factory$1.createOperatorExpression("&&",[J,F])))),q}throw new Error(`Unexpected type: ${U.type}`)}function translateExpression$1(U){if(util_1$1.default.isSimpleTerm(U))return factory$1.createTermExpression(U);if(util_1$1.default.isQuad(U))return util_1$1.default.hasQuadVariables(U)?factory$1.createOperatorExpression("triple",[translateExpression$1(U.subject),translateExpression$1(U.predicate),translateExpression$1(U.object)]):factory$1.createTermExpression(U);if(util_1$1.default.isWildcard(U))return factory$1.createWildcardExpression();if("aggregation"in U)return factory$1.createAggregateExpression(U.aggregation,translateExpression$1(U.expression),!!U.distinct,U.separator);if("function"in U)return factory$1.createNamedExpression(U.function,U.args.map(translateExpression$1));if("operator"in U)return U.operator==="exists"||U.operator==="notexists"?factory$1.createExistenceExpression(U.operator==="notexists",translateGraphPattern(U.args[0])):((U.operator==="in"||U.operator==="notin")&&(U.args=[U.args[0]].concat(U.args[1])),factory$1.createOperatorExpression(U.operator,U.args.map(translateExpression$1)));throw new Error(`Unknown expression: ${JSON.stringify(U)}`)}function translateBgp$1(U){let G=[],Q=[];for(let q of U.triples)if("pathType"in q.predicate){let W=translatePath$1(q);for(let J of W)J.type===types$1.PATH?(G.length>0&&Q.push(factory$1.createBgp(G)),G=[],Q.push(J)):G.push(J)}else G.push(translateQuad(q));return G.length>0&&Q.push(factory$1.createBgp(G)),Q.length===1?Q[0]:factory$1.createJoin(Q)}function translatePath$1(U){let G=U.subject,Q=translatePathPredicate(U.predicate),q=U.object;return simplifyPath(G,Q,q)}function translatePathPredicate(U){if(util_1$1.default.isSimpleTerm(U)){if(U.termType==="NamedNode")return factory$1.createLink(U);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(U)}`)}if(U.pathType==="^")return factory$1.createInv(translatePathPredicate(U.items[0]));if(U.pathType==="!"){let G=[],Q=[],q;"pathType"in U.items[0]&&U.items[0].pathType==="|"?q=U.items[0].items:q=U.items;for(let F of q)if(util_1$1.default.isSimpleTerm(F))G.push(F);else if(F.pathType==="^")Q.push(F.items[0]);else throw new Error(`Unexpected item: ${JSON.stringify(F)}`);let W=factory$1.createNps(G),J=factory$1.createInv(factory$1.createNps(Q));return Q.length===0?W:G.length===0?J:factory$1.createAlt([W,J])}if(U.pathType==="/")return factory$1.createSeq(U.items.map(translatePathPredicate));if(U.pathType==="|")return factory$1.createAlt(U.items.map(translatePathPredicate));if(U.pathType==="*")return factory$1.createZeroOrMorePath(translatePathPredicate(U.items[0]));if(U.pathType==="+")return factory$1.createOneOrMorePath(translatePathPredicate(U.items[0]));if(U.pathType==="?")return factory$1.createZeroOrOnePath(translatePathPredicate(U.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(U)}`)}function simplifyPath(U,G,Q){if(G.type===types$1.LINK)return[factory$1.createPattern(U,G.iri,Q)];if(G.type===types$1.INV)return simplifyPath(Q,G.path,U);if(G.type===types$1.SEQ){let q=U;return util_1$1.default.flatten(G.input.map((W,J)=>{const F=J===G.input.length-1?Q:generateFreshVar(),Y=simplifyPath(q,W,F);return F.termType==="Variable"&&(q=F),Y}))}return[factory$1.createPath(U,G,Q)]}function generateFreshVar(){let U=`?var${varCount++}`;return variables.has(U)?generateFreshVar():(variables.add(U),factory$1.createTerm(U))}function translateQuad(U){if("pathType"in U.predicate)throw new Error("Trying to translate property path to quad.");return factory$1.createPattern(U.subject,U.predicate,U.object,U.graph)}let typeVals=Object.values(types$1);function recurseGraph(U,G,Q){if(U.type===types$1.GRAPH){if(Q)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");U=recurseGraph(U.input,U.name)}else if(U.type!==types$1.SERVICE)if(U.type===types$1.BGP)U.patterns=U.patterns.map(q=>(Q&&(q.subject.equals(G)&&(q.subject=Q),q.predicate.equals(G)&&(q.predicate=Q),q.object.equals(G)&&(q.object=Q)),q.graph.termType==="DefaultGraph"&&(q.graph=G),q));else if(U.type===types$1.PATH)Q&&(U.subject.equals(G)&&(U.subject=Q),U.object.equals(G)&&(U.object=Q)),U.graph.termType==="DefaultGraph"&&(U.graph=G);else if(U.type===types$1.PROJECT&&!Q)U.variables.some(q=>q.equals(G))||(Q=generateFreshVar()),U.input=recurseGraph(U.input,G,Q);else if(U.type===types$1.EXTEND&&!Q)U.variable.equals(G)&&(Q=generateFreshVar()),U.input=recurseGraph(U.input,G,Q);else for(let q of Object.keys(U))Array.isArray(U[q])?U[q]=U[q].map(W=>recurseGraph(W,G,Q)):typeVals.indexOf(U[q].type)>=0?U[q]=recurseGraph(U[q],G,Q):Q&&isVariable(U[q])&&U[q].equals(G)&&(U[q]=Q);return U}function accumulateGroupGraphPattern(U,G){if(G.type==="optional"){const Q=translateGraphPattern({type:"group",patterns:G.patterns});Q.type===types$1.FILTER?U=factory$1.createLeftJoin(U,Q.input,Q.expression):U=factory$1.createLeftJoin(U,Q)}else if(G.type==="minus"){const Q=translateGraphPattern({type:"group",patterns:G.patterns});U=factory$1.createMinus(U,Q)}else if(G.type==="bind")U=factory$1.createExtend(U,G.variable,translateExpression$1(G.expression));else if(G.type==="service"){const Q={type:"group",patterns:G.patterns},q=factory$1.createService(translateGraphPattern(Q),G.name,G.silent);U=simplifiedJoin(U,q)}else{const Q=translateGraphPattern(G);U=simplifiedJoin(U,Q)}return U}function simplifiedJoin(U,G){return U.type===types$1.BGP&&G.type===types$1.BGP?U=factory$1.createBgp([...U.patterns,...G.patterns]):U.type===types$1.BGP&&U.patterns.length===0?U=G:G.type===types$1.BGP&&G.patterns.length===0||(U=factory$1.createJoin([U,G])),U}function translateInlineData(U){let G=(U.values.length===0?[]:Object.keys(U.values[0])).map(factory$1.createTerm.bind(factory$1)),Q=U.values.map(q=>{let W=Object.keys(q);W=W.filter(F=>q[F]!==void 0);let J={};for(let F of W)J[F]=q[F];return J});return factory$1.createValues(G,Q)}function translateAggregates(U,G){const Q=U,q=[],W={};if(Q.variables=Q.variables&&Q.variables.map(F=>mapAggregate(F,W)),Q.having=Q.having&&Q.having.map(F=>mapAggregate(F,W)),Q.order=Q.order&&Q.order.map(F=>mapAggregate(F,W)),Q.group||Object.keys(W).length>0){const F=Object.keys(W).map(X=>translateBoundAggregate$1(W[X],factory$1.createTerm(X))),Y=[];if(Q.group)for(const X of Q.group)if(util_1$1.default.isSimpleTerm(X.expression))Y.push(X.expression);else{const te="variable"in X?X.variable:generateFreshVar();G=factory$1.createExtend(G,te,translateExpression$1(X.expression)),Y.push(te)}G=factory$1.createGroup(G,Y,F)}if(Q.having)for(let F of Q.having)G=factory$1.createFilter(G,translateExpression$1(F));U.values&&(G=factory$1.createJoin([G,translateInlineData(U)]));let J=[];if(U.queryType==="SELECT"||U.queryType==="DESCRIBE")if(U.variables.some(F=>F&&util_1$1.default.isWildcard(F)))J=Object.values(inScopeVariables(U)).sort((F,Y)=>F.value.localeCompare(Y.value));else for(let F of U.variables)isVariable(F)||!("variable"in F)?J.push(F):F.variable&&(J.push(F.variable),q.push(F));for(let F of q)G=factory$1.createExtend(G,F.variable,translateExpression$1(F.expression));return Q.order&&(G=factory$1.createOrderBy(G,Q.order.map(F=>{let Y=translateExpression$1(F.expression);return F.descending&&(Y=factory$1.createOperatorExpression("desc",[Y])),Y}))),U.queryType==="SELECT"&&(G=factory$1.createProject(G,J)),Q.distinct&&(G=factory$1.createDistinct(G)),Q.reduced&&(G=factory$1.createReduced(G)),U.queryType==="CONSTRUCT"?G=factory$1.createConstruct(G,(U.template||[]).map(translateQuad)):U.queryType==="ASK"?G=factory$1.createAsk(G):U.queryType==="DESCRIBE"&&(G=factory$1.createDescribe(G,J)),(Q.offset||Q.limit)&&(G=factory$1.createSlice(G,Q.offset||0,Q.limit)),Q.from&&(G=factory$1.createFrom(G,Q.from.default,Q.from.named)),G}function mapAggregate(U,G){if("type"in U&&U.type==="aggregate"){let Q=!1,q;for(let W of Object.keys(G))if(equal(G[W],U)){q=factory$1.createTerm(W),Q=!0;break}return Q||(q=generateFreshVar(),G[(0,rdf_string_1$2.termToString)(q)]=U),q}return"expression"in U&&U.expression?{...U,expression:mapAggregate(U.expression,G)}:"args"in U&&U.args?{...U,args:U.args.map(Q=>mapAggregate(Q,G))}:U}function translateBoundAggregate$1(U,G){if(U.type!=="aggregate"||!U.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(U)}`);const Q=translateExpression$1(U);return Q.variable=G,Q}function translateUpdate(U){return U.updates.length===1?translateSingleUpdate(U.updates[0]):factory$1.createCompositeUpdate(U.updates.map(translateSingleUpdate))}function translateSingleUpdate(U){if("type"in U){if(U.type==="load")return translateUpdateGraphLoad(U);if(U.type==="clear"||U.type==="create"||U.type==="drop")return translateUpdateGraph(U);if(U.type==="add"||U.type==="copy"||U.type==="move")return translateUpdateGraphShortcut$1(U)}else if(U.updateType==="insertdelete"||U.updateType==="deletewhere"||U.updateType==="delete"||U.updateType==="insert")return translateInsertDelete(U);throw new Error(`Unknown update type ${JSON.stringify(U)}`)}function translateInsertDelete(U){if(!useQuads)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let G=[],Q=[],q;if(U.delete&&(G=util_1$1.default.flatten(U.delete.map(W=>translateUpdateTriplesBlock(W,U.graph)))),U.insert&&(Q=util_1$1.default.flatten(U.insert.map(W=>translateUpdateTriplesBlock(W,U.graph)))),U.where&&U.where.length>0){q=translateGraphPattern({type:"group",patterns:U.where});const W=U.using;W?q=factory$1.createFrom(q,W.default,W.named):U.graph&&(q=recurseGraph(q,U.graph))}else U.updateType==="deletewhere"&&G.length>0&&(q=factory$1.createBgp(G));return factory$1.createDeleteInsert(G.length>0?G:void 0,Q.length>0?Q:void 0,q)}function translateUpdateTriplesBlock(U,G){let Q=G;U.type==="graph"&&(Q=U.name);let q=U.triples;return Q&&(q=q.map(W=>Object.assign(W,{graph:Q}))),q.map(translateQuad)}function translateUpdateGraph(U){let G;switch(util_1$1.default.isSimpleTerm(U.graph)?G=U.graph:U.graph.all?G="ALL":U.graph.default?G="DEFAULT":U.graph.named?G="NAMED":G=U.graph.name,U.type){case"clear":return factory$1.createClear(G,U.silent);case"create":return factory$1.createCreate(G,U.silent);case"drop":return factory$1.createDrop(G,U.silent)}}function translateUpdateGraphLoad(U){return factory$1.createLoad(U.source,U.destination,U.silent)}function translateUpdateGraphShortcut$1(U){const G=U.source.default?"DEFAULT":U.source.name,Q=U.destination.default?"DEFAULT":U.destination.name;switch(U.type){case"copy":return factory$1.createCopy(G,Q,U.silent);case"move":return factory$1.createMove(G,Q,U.silent);case"add":return factory$1.createAdd(G,Q,U.silent)}}function translateBlankNodesToVariables(U){const G={},Q=Array.from(variables).reduce((W,J)=>(W[J]=!0,W),{});return util_1$1.default.mapOperation(U,{[Algebra$1.types.DELETE_INSERT]:W=>({result:factory$1.createDeleteInsert(W.delete,W.insert,W.where&&translateBlankNodesToVariables(W.where)),recurse:!1}),[Algebra$1.types.PATH]:(W,J)=>({result:J.createPath(q(W.subject),W.predicate,q(W.object),q(W.graph)),recurse:!1}),[Algebra$1.types.PATTERN]:(W,J)=>({result:J.createPattern(q(W.subject),q(W.predicate),q(W.object),q(W.graph)),recurse:!1}),[Algebra$1.types.CONSTRUCT]:W=>({result:factory$1.createConstruct(translateBlankNodesToVariables(W.input),W.template),recurse:!1})});function q(W){if(W.termType==="BlankNode"){let J=G[W.value];return J||(J=util_1$1.default.createUniqueVariable(W.value,Q,factory$1.dataFactory),Q[J.value]=!0,G[W.value]=J),J}return W}}var sparql={},rdfIsomorphic={},RdfIsomorphic={},hash={},utils$9={},minimalisticAssert=assert$5;function assert$5(U,G){if(!U)throw new Error(G||"Assertion failed")}assert$5.equal=function(U,G,Q){if(U!=G)throw new Error(Q||"Assertion failed: "+U+" != "+G)};var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(U,G){G&&(U.super_=G,U.prototype=Object.create(G.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(U,G){if(G){U.super_=G;var Q=function(){};Q.prototype=G.prototype,U.prototype=new Q,U.prototype.constructor=U}};var inherits_browserExports=inherits_browser.exports,assert$4=minimalisticAssert,inherits=inherits_browserExports;utils$9.inherits=inherits;function isSurrogatePair(U,G){return(U.charCodeAt(G)&64512)!==55296||G<0||G+1>=U.length?!1:(U.charCodeAt(G+1)&64512)===56320}function toArray$2(U,G){if(Array.isArray(U))return U.slice();if(!U)return[];var Q=[];if(typeof U=="string")if(G){if(G==="hex")for(U=U.replace(/[^a-z0-9]+/ig,""),U.length%2!==0&&(U="0"+U),W=0;W<U.length;W+=2)Q.push(parseInt(U[W]+U[W+1],16))}else for(var q=0,W=0;W<U.length;W++){var J=U.charCodeAt(W);J<128?Q[q++]=J:J<2048?(Q[q++]=J>>6|192,Q[q++]=J&63|128):isSurrogatePair(U,W)?(J=65536+((J&1023)<<10)+(U.charCodeAt(++W)&1023),Q[q++]=J>>18|240,Q[q++]=J>>12&63|128,Q[q++]=J>>6&63|128,Q[q++]=J&63|128):(Q[q++]=J>>12|224,Q[q++]=J>>6&63|128,Q[q++]=J&63|128)}else for(W=0;W<U.length;W++)Q[W]=U[W]|0;return Q}utils$9.toArray=toArray$2;function toHex(U){for(var G="",Q=0;Q<U.length;Q++)G+=zero2(U[Q].toString(16));return G}utils$9.toHex=toHex;function htonl(U){var G=U>>>24|U>>>8&65280|U<<8&16711680|(U&255)<<24;return G>>>0}utils$9.htonl=htonl;function toHex32(U,G){for(var Q="",q=0;q<U.length;q++){var W=U[q];G==="little"&&(W=htonl(W)),Q+=zero8(W.toString(16))}return Q}utils$9.toHex32=toHex32;function zero2(U){return U.length===1?"0"+U:U}utils$9.zero2=zero2;function zero8(U){return U.length===7?"0"+U:U.length===6?"00"+U:U.length===5?"000"+U:U.length===4?"0000"+U:U.length===3?"00000"+U:U.length===2?"000000"+U:U.length===1?"0000000"+U:U}utils$9.zero8=zero8;function join32(U,G,Q,q){var W=Q-G;assert$4(W%4===0);for(var J=new Array(W/4),F=0,Y=G;F<J.length;F++,Y+=4){var X;q==="big"?X=U[Y]<<24|U[Y+1]<<16|U[Y+2]<<8|U[Y+3]:X=U[Y+3]<<24|U[Y+2]<<16|U[Y+1]<<8|U[Y],J[F]=X>>>0}return J}utils$9.join32=join32;function split32(U,G){for(var Q=new Array(U.length*4),q=0,W=0;q<U.length;q++,W+=4){var J=U[q];G==="big"?(Q[W]=J>>>24,Q[W+1]=J>>>16&255,Q[W+2]=J>>>8&255,Q[W+3]=J&255):(Q[W+3]=J>>>24,Q[W+2]=J>>>16&255,Q[W+1]=J>>>8&255,Q[W]=J&255)}return Q}utils$9.split32=split32;function rotr32$1(U,G){return U>>>G|U<<32-G}utils$9.rotr32=rotr32$1;function rotl32$2(U,G){return U<<G|U>>>32-G}utils$9.rotl32=rotl32$2;function sum32$3(U,G){return U+G>>>0}utils$9.sum32=sum32$3;function sum32_3$1(U,G,Q){return U+G+Q>>>0}utils$9.sum32_3=sum32_3$1;function sum32_4$2(U,G,Q,q){return U+G+Q+q>>>0}utils$9.sum32_4=sum32_4$2;function sum32_5$2(U,G,Q,q,W){return U+G+Q+q+W>>>0}utils$9.sum32_5=sum32_5$2;function sum64$1(U,G,Q,q){var W=U[G],J=U[G+1],F=q+J>>>0,Y=(F<q?1:0)+Q+W;U[G]=Y>>>0,U[G+1]=F}utils$9.sum64=sum64$1;function sum64_hi$1(U,G,Q,q){var W=G+q>>>0,J=(W<G?1:0)+U+Q;return J>>>0}utils$9.sum64_hi=sum64_hi$1;function sum64_lo$1(U,G,Q,q){var W=G+q;return W>>>0}utils$9.sum64_lo=sum64_lo$1;function sum64_4_hi$1(U,G,Q,q,W,J,F,Y){var X=0,te=G;te=te+q>>>0,X+=te<G?1:0,te=te+J>>>0,X+=te<J?1:0,te=te+Y>>>0,X+=te<Y?1:0;var re=U+Q+W+F+X;return re>>>0}utils$9.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(U,G,Q,q,W,J,F,Y){var X=G+q+J+Y;return X>>>0}utils$9.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(U,G,Q,q,W,J,F,Y,X,te){var re=0,ne=G;ne=ne+q>>>0,re+=ne<G?1:0,ne=ne+J>>>0,re+=ne<J?1:0,ne=ne+Y>>>0,re+=ne<Y?1:0,ne=ne+te>>>0,re+=ne<te?1:0;var ie=U+Q+W+F+X+re;return ie>>>0}utils$9.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(U,G,Q,q,W,J,F,Y,X,te){var re=G+q+J+Y+te;return re>>>0}utils$9.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(U,G,Q){var q=G<<32-Q|U>>>Q;return q>>>0}utils$9.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(U,G,Q){var q=U<<32-Q|G>>>Q;return q>>>0}utils$9.rotr64_lo=rotr64_lo$1;function shr64_hi$1(U,G,Q){return U>>>Q}utils$9.shr64_hi=shr64_hi$1;function shr64_lo$1(U,G,Q){var q=U<<32-Q|G>>>Q;return q>>>0}utils$9.shr64_lo=shr64_lo$1;var common$5={},utils$8=utils$9,assert$3=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4,BlockHash$4.prototype.update=function(U,G){if(U=utils$8.toArray(U,G),this.pending?this.pending=this.pending.concat(U):this.pending=U,this.pendingTotal+=U.length,this.pending.length>=this._delta8){U=this.pending;var Q=U.length%this._delta8;this.pending=U.slice(U.length-Q,U.length),this.pending.length===0&&(this.pending=null),U=utils$8.join32(U,0,U.length-Q,this.endian);for(var q=0;q<U.length;q+=this._delta32)this._update(U,q,q+this._delta32)}return this},BlockHash$4.prototype.digest=function(U){return this.update(this._pad()),assert$3(this.pending===null),this._digest(U)},BlockHash$4.prototype._pad=function(){var U=this.pendingTotal,G=this._delta8,Q=G-(U+this.padLength)%G,q=new Array(Q+this.padLength);q[0]=128;for(var W=1;W<Q;W++)q[W]=0;if(U<<=3,this.endian==="big"){for(var J=8;J<this.padLength;J++)q[W++]=0;q[W++]=0,q[W++]=0,q[W++]=0,q[W++]=0,q[W++]=U>>>24&255,q[W++]=U>>>16&255,q[W++]=U>>>8&255,q[W++]=U&255}else for(q[W++]=U&255,q[W++]=U>>>8&255,q[W++]=U>>>16&255,q[W++]=U>>>24&255,q[W++]=0,q[W++]=0,q[W++]=0,q[W++]=0,J=8;J<this.padLength;J++)q[W++]=0;return q};var sha={},common$4={},utils$7=utils$9,rotr32=utils$7.rotr32;function ft_1$1(U,G,Q,q){if(U===0)return ch32$1(G,Q,q);if(U===1||U===3)return p32(G,Q,q);if(U===2)return maj32$1(G,Q,q)}common$4.ft_1=ft_1$1;function ch32$1(U,G,Q){return U&G^~U&Q}common$4.ch32=ch32$1;function maj32$1(U,G,Q){return U&G^U&Q^G&Q}common$4.maj32=maj32$1;function p32(U,G,Q){return U^G^Q}common$4.p32=p32;function s0_256$1(U){return rotr32(U,2)^rotr32(U,13)^rotr32(U,22)}common$4.s0_256=s0_256$1;function s1_256$1(U){return rotr32(U,6)^rotr32(U,11)^rotr32(U,25)}common$4.s1_256=s1_256$1;function g0_256$1(U){return rotr32(U,7)^rotr32(U,18)^U>>>3}common$4.g0_256=g0_256$1;function g1_256$1(U){return rotr32(U,17)^rotr32(U,19)^U>>>10}common$4.g1_256=g1_256$1;var utils$6=utils$9,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$6.rotl32,sum32$2=utils$6.sum32,sum32_5$1=utils$6.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$6.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512,SHA1.outSize=160,SHA1.hmacStrength=80,SHA1.padLength=64,SHA1.prototype._update=function(U,G){for(var Q=this.W,q=0;q<16;q++)Q[q]=U[G+q];for(;q<Q.length;q++)Q[q]=rotl32$1(Q[q-3]^Q[q-8]^Q[q-14]^Q[q-16],1);var W=this.h[0],J=this.h[1],F=this.h[2],Y=this.h[3],X=this.h[4];for(q=0;q<Q.length;q++){var te=~~(q/20),re=sum32_5$1(rotl32$1(W,5),ft_1(te,J,F,Y),X,Q[q],sha1_K[te]);X=Y,Y=F,F=rotl32$1(J,30),J=W,W=re}this.h[0]=sum32$2(this.h[0],W),this.h[1]=sum32$2(this.h[1],J),this.h[2]=sum32$2(this.h[2],F),this.h[3]=sum32$2(this.h[3],Y),this.h[4]=sum32$2(this.h[4],X)},SHA1.prototype._digest=function(U){return U==="hex"?utils$6.toHex32(this.h,"big"):utils$6.split32(this.h,"big")};var utils$5=utils$9,common$2=common$5,shaCommon=common$4,assert$2=minimalisticAssert,sum32$1=utils$5.sum32,sum32_4$1=utils$5.sum32_4,sum32_5=utils$5.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$5.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512,SHA256$1.outSize=256,SHA256$1.hmacStrength=192,SHA256$1.padLength=64,SHA256$1.prototype._update=function(U,G){for(var Q=this.W,q=0;q<16;q++)Q[q]=U[G+q];for(;q<Q.length;q++)Q[q]=sum32_4$1(g1_256(Q[q-2]),Q[q-7],g0_256(Q[q-15]),Q[q-16]);var W=this.h[0],J=this.h[1],F=this.h[2],Y=this.h[3],X=this.h[4],te=this.h[5],re=this.h[6],ne=this.h[7];for(assert$2(this.k.length===Q.length),q=0;q<Q.length;q++){var ie=sum32_5(ne,s1_256(X),ch32(X,te,re),this.k[q],Q[q]),oe=sum32$1(s0_256(W),maj32(W,J,F));ne=re,re=te,te=X,X=sum32$1(Y,ie),Y=F,F=J,J=W,W=sum32$1(ie,oe)}this.h[0]=sum32$1(this.h[0],W),this.h[1]=sum32$1(this.h[1],J),this.h[2]=sum32$1(this.h[2],F),this.h[3]=sum32$1(this.h[3],Y),this.h[4]=sum32$1(this.h[4],X),this.h[5]=sum32$1(this.h[5],te),this.h[6]=sum32$1(this.h[6],re),this.h[7]=sum32$1(this.h[7],ne)},SHA256$1.prototype._digest=function(U){return U==="hex"?utils$5.toHex32(this.h,"big"):utils$5.split32(this.h,"big")};var utils$4=utils$9,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$4.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512,SHA224.outSize=224,SHA224.hmacStrength=192,SHA224.padLength=64,SHA224.prototype._digest=function(U){return U==="hex"?utils$4.toHex32(this.h.slice(0,7),"big"):utils$4.split32(this.h.slice(0,7),"big")};var utils$3=utils$9,common$1=common$5,assert$1=minimalisticAssert,rotr64_hi=utils$3.rotr64_hi,rotr64_lo=utils$3.rotr64_lo,shr64_hi=utils$3.shr64_hi,shr64_lo=utils$3.shr64_lo,sum64=utils$3.sum64,sum64_hi=utils$3.sum64_hi,sum64_lo=utils$3.sum64_lo,sum64_4_hi=utils$3.sum64_4_hi,sum64_4_lo=utils$3.sum64_4_lo,sum64_5_hi=utils$3.sum64_5_hi,sum64_5_lo=utils$3.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$3.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024,SHA512$1.outSize=512,SHA512$1.hmacStrength=192,SHA512$1.padLength=128,SHA512$1.prototype._prepareBlock=function(U,G){for(var Q=this.W,q=0;q<32;q++)Q[q]=U[G+q];for(;q<Q.length;q+=2){var W=g1_512_hi(Q[q-4],Q[q-3]),J=g1_512_lo(Q[q-4],Q[q-3]),F=Q[q-14],Y=Q[q-13],X=g0_512_hi(Q[q-30],Q[q-29]),te=g0_512_lo(Q[q-30],Q[q-29]),re=Q[q-32],ne=Q[q-31];Q[q]=sum64_4_hi(W,J,F,Y,X,te,re,ne),Q[q+1]=sum64_4_lo(W,J,F,Y,X,te,re,ne)}},SHA512$1.prototype._update=function(U,G){this._prepareBlock(U,G);var Q=this.W,q=this.h[0],W=this.h[1],J=this.h[2],F=this.h[3],Y=this.h[4],X=this.h[5],te=this.h[6],re=this.h[7],ne=this.h[8],ie=this.h[9],oe=this.h[10],ae=this.h[11],ue=this.h[12],ce=this.h[13],se=this.h[14],le=this.h[15];assert$1(this.k.length===Q.length);for(var de=0;de<Q.length;de+=2){var he=se,pe=le,ge=s1_512_hi(ne,ie),be=s1_512_lo(ne,ie),ve=ch64_hi(ne,ie,oe,ae,ue),Ee=ch64_lo(ne,ie,oe,ae,ue,ce),ke=this.k[de],Pe=this.k[de+1],Te=Q[de],xe=Q[de+1],Ne=sum64_5_hi(he,pe,ge,be,ve,Ee,ke,Pe,Te,xe),Se=sum64_5_lo(he,pe,ge,be,ve,Ee,ke,Pe,Te,xe);he=s0_512_hi(q,W),pe=s0_512_lo(q,W),ge=maj64_hi(q,W,J,F,Y),be=maj64_lo(q,W,J,F,Y,X);var Ge=sum64_hi(he,pe,ge,be),Ce=sum64_lo(he,pe,ge,be);se=ue,le=ce,ue=oe,ce=ae,oe=ne,ae=ie,ne=sum64_hi(te,re,Ne,Se),ie=sum64_lo(re,re,Ne,Se),te=Y,re=X,Y=J,X=F,J=q,F=W,q=sum64_hi(Ne,Se,Ge,Ce),W=sum64_lo(Ne,Se,Ge,Ce)}sum64(this.h,0,q,W),sum64(this.h,2,J,F),sum64(this.h,4,Y,X),sum64(this.h,6,te,re),sum64(this.h,8,ne,ie),sum64(this.h,10,oe,ae),sum64(this.h,12,ue,ce),sum64(this.h,14,se,le)},SHA512$1.prototype._digest=function(U){return U==="hex"?utils$3.toHex32(this.h,"big"):utils$3.split32(this.h,"big")};function ch64_hi(U,G,Q,q,W){var J=U&Q^~U&W;return J<0&&(J+=4294967296),J}function ch64_lo(U,G,Q,q,W,J){var F=G&q^~G&J;return F<0&&(F+=4294967296),F}function maj64_hi(U,G,Q,q,W){var J=U&Q^U&W^Q&W;return J<0&&(J+=4294967296),J}function maj64_lo(U,G,Q,q,W,J){var F=G&q^G&J^q&J;return F<0&&(F+=4294967296),F}function s0_512_hi(U,G){var Q=rotr64_hi(U,G,28),q=rotr64_hi(G,U,2),W=rotr64_hi(G,U,7),J=Q^q^W;return J<0&&(J+=4294967296),J}function s0_512_lo(U,G){var Q=rotr64_lo(U,G,28),q=rotr64_lo(G,U,2),W=rotr64_lo(G,U,7),J=Q^q^W;return J<0&&(J+=4294967296),J}function s1_512_hi(U,G){var Q=rotr64_hi(U,G,14),q=rotr64_hi(U,G,18),W=rotr64_hi(G,U,9),J=Q^q^W;return J<0&&(J+=4294967296),J}function s1_512_lo(U,G){var Q=rotr64_lo(U,G,14),q=rotr64_lo(U,G,18),W=rotr64_lo(G,U,9),J=Q^q^W;return J<0&&(J+=4294967296),J}function g0_512_hi(U,G){var Q=rotr64_hi(U,G,1),q=rotr64_hi(U,G,8),W=shr64_hi(U,G,7),J=Q^q^W;return J<0&&(J+=4294967296),J}function g0_512_lo(U,G){var Q=rotr64_lo(U,G,1),q=rotr64_lo(U,G,8),W=shr64_lo(U,G,7),J=Q^q^W;return J<0&&(J+=4294967296),J}function g1_512_hi(U,G){var Q=rotr64_hi(U,G,19),q=rotr64_hi(G,U,29),W=shr64_hi(U,G,6),J=Q^q^W;return J<0&&(J+=4294967296),J}function g1_512_lo(U,G){var Q=rotr64_lo(U,G,19),q=rotr64_lo(G,U,29),W=shr64_lo(U,G,6),J=Q^q^W;return J<0&&(J+=4294967296),J}var utils$2=utils$9,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$2.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024,SHA384.outSize=384,SHA384.hmacStrength=192,SHA384.padLength=128,SHA384.prototype._digest=function(U){return U==="hex"?utils$2.toHex32(this.h.slice(0,12),"big"):utils$2.split32(this.h.slice(0,12),"big")},sha.sha1=_1,sha.sha224=_224,sha.sha256=_256,sha.sha384=_384,sha.sha512=_512;var ripemd={},utils$1=utils$9,common=common$5,rotl32=utils$1.rotl32,sum32=utils$1.sum32,sum32_3=utils$1.sum32_3,sum32_4=utils$1.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$1.inherits(RIPEMD160,BlockHash),ripemd.ripemd160=RIPEMD160,RIPEMD160.blockSize=512,RIPEMD160.outSize=160,RIPEMD160.hmacStrength=192,RIPEMD160.padLength=64,RIPEMD160.prototype._update=function(U,G){for(var Q=this.h[0],q=this.h[1],W=this.h[2],J=this.h[3],F=this.h[4],Y=Q,X=q,te=W,re=J,ne=F,ie=0;ie<80;ie++){var oe=sum32(rotl32(sum32_4(Q,f$2(ie,q,W,J),U[r$4[ie]+G],K$1(ie)),s$6[ie]),F);Q=F,F=J,J=rotl32(W,10),W=q,q=oe,oe=sum32(rotl32(sum32_4(Y,f$2(79-ie,X,te,re),U[rh[ie]+G],Kh(ie)),sh[ie]),ne),Y=ne,ne=re,re=rotl32(te,10),te=X,X=oe}oe=sum32_3(this.h[1],W,re),this.h[1]=sum32_3(this.h[2],J,ne),this.h[2]=sum32_3(this.h[3],F,Y),this.h[3]=sum32_3(this.h[4],Q,X),this.h[4]=sum32_3(this.h[0],q,te),this.h[0]=oe},RIPEMD160.prototype._digest=function(U){return U==="hex"?utils$1.toHex32(this.h,"little"):utils$1.split32(this.h,"little")};function f$2(U,G,Q,q){return U<=15?G^Q^q:U<=31?G&Q|~G&q:U<=47?(G|~Q)^q:U<=63?G&q|Q&~q:G^(Q|~q)}function K$1(U){return U<=15?0:U<=31?1518500249:U<=47?1859775393:U<=63?2400959708:2840853838}function Kh(U){return U<=15?1352829926:U<=31?1548603684:U<=47?1836072691:U<=63?2053994217:0}var r$4=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$6=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils=utils$9,assert=minimalisticAssert;function Hmac(U,G,Q){if(!(this instanceof Hmac))return new Hmac(U,G,Q);this.Hash=U,this.blockSize=U.blockSize/8,this.outSize=U.outSize/8,this.inner=null,this.outer=null,this._init(utils.toArray(G,Q))}var hmac=Hmac;Hmac.prototype._init=function(U){U.length>this.blockSize&&(U=new this.Hash().update(U).digest()),assert(U.length<=this.blockSize);for(var G=U.length;G<this.blockSize;G++)U.push(0);for(G=0;G<U.length;G++)U[G]^=54;for(this.inner=new this.Hash().update(U),G=0;G<U.length;G++)U[G]^=106;this.outer=new this.Hash().update(U)},Hmac.prototype.update=function(U,G){return this.inner.update(U,G),this},Hmac.prototype.digest=function(U){return this.outer.update(this.inner.digest()),this.outer.digest(U)},function(U){var G=U;G.utils=utils$9,G.common=common$5,G.sha=sha,G.ripemd=ripemd,G.hmac=hmac,G.sha1=G.sha.sha1,G.sha256=G.sha.sha256,G.sha224=G.sha.sha224,G.sha384=G.sha.sha384,G.sha512=G.sha.sha512,G.ripemd160=G.ripemd.ripemd160}(hash),Object.defineProperty(RdfIsomorphic,"__esModule",{value:!0}),RdfIsomorphic.isTermGrounded=RdfIsomorphic.termToSignature=RdfIsomorphic.quadToSignature=RdfIsomorphic.sha1hex=RdfIsomorphic.hashTerm=RdfIsomorphic.hashTerms=RdfIsomorphic.getGraphBlankNodes=RdfIsomorphic.uniqGraph=RdfIsomorphic.deindexGraph=RdfIsomorphic.indexGraph=RdfIsomorphic.getQuadsWithoutBlankNodes=RdfIsomorphic.getQuadsWithBlankNodes=RdfIsomorphic.hasValue=RdfIsomorphic.hashValues=RdfIsomorphic.getBijectionInner=RdfIsomorphic.getBijection=RdfIsomorphic.isomorphic=void 0;const hash_js_1=hash,rdf_string_1$1=rdfString,rdf_terms_1=rdfTerms;function isomorphic(U,G){return!!getBijection(U,G)}RdfIsomorphic.isomorphic=isomorphic;function getBijection(U,G){const Q=indexGraph(getQuadsWithoutBlankNodes(U)),q=indexGraph(getQuadsWithoutBlankNodes(G));if(Object.keys(Q).length!==Object.keys(q).length)return null;for(const X in Q)if(Q[X]!==q[X])return null;const W=uniqGraph(getQuadsWithBlankNodes(U)),J=uniqGraph(getQuadsWithBlankNodes(G)),F=getGraphBlankNodes(U),Y=getGraphBlankNodes(G);return getBijectionInner(W,J,F,Y)}RdfIsomorphic.getBijection=getBijection;function getBijectionInner(U,G,Q,q,W,J){W||(W={}),J||(J={});const[F,Y]=hashTerms(U,Q,W),[X,te]=hashTerms(G,q,J);if(Object.keys(F).length!==Object.keys(X).length)return null;for(const ne in F)if(!hasValue(X,F[ne]))return null;let re={};for(const ne of Q){const ie=rdf_string_1$1.termToString(ne),oe=Y[ie];for(const ae in te)if(te[ae]===oe){re[ie]=ae,delete te[ae];break}}if(!arraysEqual(Object.keys(re).sort(),Q.map(rdf_string_1$1.termToString).sort())||!arraysEqual(hashValues(re).sort(),q.map(rdf_string_1$1.termToString).sort())){re=null;for(const ne of Q){const ie=rdf_string_1$1.termToString(ne);if(!F[ie])for(const oe of q){const ae=rdf_string_1$1.termToString(oe);if(!X[ae]&&Y[ie]===te[ae]){const ue=sha1hex(ie);re=getBijectionInner(U,G,Q,q,Object.assign(Object.assign({},F),{[ie]:ue}),Object.assign(Object.assign({},X),{[ae]:ue}))}}}}return re}RdfIsomorphic.getBijectionInner=getBijectionInner;function arraysEqual(U,G){if(U.length!==G.length)return!1;for(let Q=U.length;Q--;)if(U[Q]!==G[Q])return!1;return!0}function hashValues(U){const G=[];for(const Q in U)G.push(U[Q]);return G}RdfIsomorphic.hashValues=hashValues;function hasValue(U,G){for(const Q in U)if(U[Q]===G)return!0;return!1}RdfIsomorphic.hasValue=hasValue;function getQuadsWithBlankNodes(U){return U.filter(G=>rdf_terms_1.someTerms(G,Q=>Q.termType==="BlankNode"||Q.termType==="Quad"&&rdf_terms_1.getTermsNested(Q).some(q=>q.termType==="BlankNode")))}RdfIsomorphic.getQuadsWithBlankNodes=getQuadsWithBlankNodes;function getQuadsWithoutBlankNodes(U){return U.filter(G=>rdf_terms_1.everyTerms(G,Q=>Q.termType!=="BlankNode"&&!(Q.termType==="Quad"&&rdf_terms_1.getTermsNested(Q).some(q=>q.termType==="BlankNode"))))}RdfIsomorphic.getQuadsWithoutBlankNodes=getQuadsWithoutBlankNodes;function indexGraph(U){const G={};for(const Q of U)G[JSON.stringify(rdf_string_1$1.quadToStringQuad(Q))]=!0;return G}RdfIsomorphic.indexGraph=indexGraph;function deindexGraph(U){return Object.keys(U).map(G=>rdf_string_1$1.stringQuadToQuad(JSON.parse(G)))}RdfIsomorphic.deindexGraph=deindexGraph;function uniqGraph(U){return deindexGraph(indexGraph(U))}RdfIsomorphic.uniqGraph=uniqGraph;function getGraphBlankNodes(U){return rdf_terms_1.uniqTerms(U.map(G=>rdf_terms_1.getBlankNodes(rdf_terms_1.getTermsNested(G))).reduce((G,Q)=>G.concat(Q),[]))}RdfIsomorphic.getGraphBlankNodes=getGraphBlankNodes;function hashTerms(U,G,Q){const q=Object.assign({},Q),W={};let J=!0;for(;J;){const F=Object.keys(q).length;for(const X of G){const te=rdf_string_1$1.termToString(X);if(!q[te]){const[re,ne]=hashTerm(X,U,q);re&&(q[te]=ne),W[te]=ne}}const Y={};for(const X in W){const te=W[X];Y[te]===void 0?Y[te]=X:Y[te]=!1}for(const X in Y){const te=Y[X];te&&(q[te]=X)}J=F!==Object.keys(q).length}return[q,W]}RdfIsomorphic.hashTerms=hashTerms;function hashTerm(U,G,Q){const q=[];let W=!0;for(const F of G){const Y=rdf_terms_1.getTermsNested(F);if(Y.some(X=>X.equals(U))){q.push(quadToSignature(F,Q,U));for(const X of Y)!isTermGrounded(X,Q)&&!X.equals(U)&&(W=!1)}}const J=sha1hex(q.sort().join(""));return[W,J]}RdfIsomorphic.hashTerm=hashTerm;function sha1hex(U){return hash_js_1.sha1().update(U).digest("hex")}RdfIsomorphic.sha1hex=sha1hex;function quadToSignature(U,G,Q){return rdf_terms_1.getTerms(U).map(q=>termToSignature(q,G,Q)).join("|")}RdfIsomorphic.quadToSignature=quadToSignature;function termToSignature(U,G,Q){return U.equals(Q)?"@self":U.termType==="BlankNode"?G[rdf_string_1$1.termToString(U)]||"@blank":U.termType==="Quad"?`<${quadToSignature(U,G,Q)}>`:rdf_string_1$1.termToString(U)}RdfIsomorphic.termToSignature=termToSignature;function isTermGrounded(U,G){return U.termType!=="BlankNode"&&!(U.termType==="Quad"&&rdf_terms_1.getTermsNested(U).some(Q=>!isTermGrounded(Q,G)))||!!G[rdf_string_1$1.termToString(U)]}RdfIsomorphic.isTermGrounded=isTermGrounded,function(U){var G=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(q,W,J,F){F===void 0&&(F=J),Object.defineProperty(q,F,{enumerable:!0,get:function(){return W[J]}})}:function(q,W,J,F){F===void 0&&(F=J),q[F]=W[J]}),Q=commonjsGlobal&&commonjsGlobal.__exportStar||function(q,W){for(var J in q)J!=="default"&&!Object.prototype.hasOwnProperty.call(W,J)&&G(W,q,J)};Object.defineProperty(U,"__esModule",{value:!0}),Q(RdfIsomorphic,U)}(rdfIsomorphic);var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(U,G,Q,q){q===void 0&&(q=Q);var W=Object.getOwnPropertyDescriptor(G,Q);(!W||("get"in W?!G.__esModule:W.writable||W.configurable))&&(W={enumerable:!0,get:function(){return G[Q]}}),Object.defineProperty(U,q,W)}:function(U,G,Q,q){q===void 0&&(q=Q),U[q]=G[Q]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(U,G){Object.defineProperty(U,"default",{enumerable:!0,value:G})}:function(U,G){U.default=G}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(U){if(U&&U.__esModule)return U;var G={};if(U!=null)for(var Q in U)Q!=="default"&&Object.prototype.hasOwnProperty.call(U,Q)&&__createBinding(G,U,Q);return __setModuleDefault(G,U),G},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(sparql,"__esModule",{value:!0}),sparql.toSparqlJs=sparql.toSparql=void 0;const rdf_isomorphic_1=rdfIsomorphic,rdf_string_1=rdfString,sparqljs_1=sparql$1,Algebra=__importStar(algebra),factory_1=__importDefault(factory$2),util_1=__importDefault(util),types=Algebra.types,eTypes=Algebra.expressionTypes;let context;const factory=new factory_1.default;function toSparql(U,G={}){return new sparqljs_1.Generator(G).stringify(toSparqlJs(U))}sparql.toSparql=toSparql;function toSparqlJs(U){resetContext(),U=removeQuads(U);let G=translateOperation(U);return G.type==="group"?G.patterns[0]:G}sparql.toSparqlJs=toSparqlJs;function resetContext(){context={project:!1,extend:[],group:[],aggregates:[],order:[]}}function translateOperation(U){switch(U.type!==types.EXTEND&&U.type!==types.ORDER_BY&&U.type!==types.GRAPH&&(context.project=!1),U.type){case types.EXPRESSION:return translateExpression(U);case types.ASK:return translateProject(U,types.ASK);case types.BGP:return translateBgp(U);case types.CONSTRUCT:return translateConstruct(U);case types.DESCRIBE:return translateProject(U,types.DESCRIBE);case types.DISTINCT:return translateDistinct(U);case types.EXTEND:return translateExtend(U);case types.FROM:return translateFrom(U);case types.FILTER:return translateFilter(U);case types.GRAPH:return translateGraph(U);case types.GROUP:return translateGroup(U);case types.JOIN:return translateJoin(U);case types.LEFT_JOIN:return translateLeftJoin(U);case types.MINUS:return translateMinus(U);case types.NOP:return{};case types.ORDER_BY:return translateOrderBy(U);case types.PATH:return translatePath(U);case types.PATTERN:return translatePattern(U);case types.PROJECT:return translateProject(U,types.PROJECT);case types.REDUCED:return translateReduced(U);case types.SERVICE:return translateService(U);case types.SLICE:return translateSlice(U);case types.UNION:return translateUnion(U);case types.VALUES:return translateValues(U);case types.COMPOSITE_UPDATE:return translateCompositeUpdate(U);case types.DELETE_INSERT:return translateDeleteInsert(U);case types.LOAD:return translateLoad(U);case types.CLEAR:return translateClear(U);case types.CREATE:return translateCreate(U);case types.DROP:return translateDrop(U);case types.ADD:return translateAdd(U);case types.MOVE:return translateMove(U);case types.COPY:return translateCopy(U)}throw new Error(`Unknown Operation type ${U.type}`)}function translateExpression(U){switch(U.expressionType){case eTypes.AGGREGATE:return translateAggregateExpression(U);case eTypes.EXISTENCE:return translateExistenceExpression(U);case eTypes.NAMED:return translateNamedExpression(U);case eTypes.OPERATOR:return translateOperatorExpression(U);case eTypes.TERM:return translateTermExpression(U);case eTypes.WILDCARD:return translateWildcardExpression(U)}throw new Error(`Unknown Expression Operation type ${U.expressionType}`)}function translatePathComponent(U){switch(U.type){case types.ALT:return translateAlt(U);case types.INV:return translateInv(U);case types.LINK:return translateLink(U);case types.NPS:return translateNps(U);case types.ONE_OR_MORE_PATH:return translateOneOrMorePath(U);case types.SEQ:return translateSeq(U);case types.ZERO_OR_MORE_PATH:return translateZeroOrMorePath(U);case types.ZERO_OR_ONE_PATH:return translateZeroOrOnePath(U)}throw new Error(`Unknown Path type ${U.type}`)}function translateTerm(U){return(0,rdf_string_1.termToString)(U)}function translateAggregateExpression(U){const G={expression:translateExpression(U.expression),type:"aggregate",aggregation:U.aggregator,distinct:U.distinct};return U.separator&&(G.separator=U.separator),G}function translateExistenceExpression(U){return{type:"operation",operator:U.not?"notexists":"exists",args:[{type:"group",patterns:util_1.default.flatten([translateOperation(U.input)])}]}}function translateNamedExpression(U){return{type:"functionCall",function:U.name,args:U.args.map(translateExpression)}}function translateOperatorExpression(U){if(U.operator==="desc"){const Q={expression:translateExpression(U.args[0])};return Q.descending=!0,Q}const G={type:"operation",operator:U.operator,args:U.args.map(translateExpression)};return(G.operator==="in"||G.operator==="notin")&&(G.args=[G.args[0]].concat([G.args.slice(1)])),G}function translateTermExpression(U){return U.term}function translateWildcardExpression(U){return U.wildcard}function arrayToPattern(U){return Array.isArray(U)?U.length===1?U[0]:{type:"group",patterns:U}:U}function translateBoundAggregate(U){return U}function translateBgp(U){let G=U.patterns.map(translatePattern);return G.length===0?null:{type:"bgp",triples:G}}function translateConstruct(U){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:U.template.map(translatePattern),where:util_1.default.flatten([translateOperation(U.input)])}}function translateDistinct(U){let G=translateOperation(U.input);return G.patterns[0].distinct=!0,G}function translateExtend(U){return context.project?(context.extend.push(U),translateOperation(U.input)):util_1.default.flatten([translateOperation(U.input),{type:"bind",variable:U.variable,expression:translateExpression(U.expression)}])}function translateFrom(U){const G=translateOperation(U.input);let Q=G;return G.type==="group"&&(Q=G.patterns[0]),Q.from={default:U.default,named:U.named},G}function translateFilter(U){return{type:"group",patterns:util_1.default.flatten([translateOperation(U.input),{type:"filter",expression:translateExpression(U.expression)}])}}function translateGraph(U){return{type:"graph",patterns:util_1.default.flatten([translateOperation(U.input)]),name:U.name}}function translateGroup(U){const G=translateOperation(U.input),Q=U.aggregates.map(translateBoundAggregate);return context.aggregates.push(...Q),context.group.push(...U.variables),G}function translateJoin(U){return util_1.default.flatten(U.input.map(translateOperation)).reduce((G,Q)=>(Q.type!=="bgp"||G.length==0||G[G.length-1].type!=="bgp"?G.push(Q):G[G.length-1].triples.push(...Q.triples),G),[])}function translateLeftJoin(U){const G={type:"optional",patterns:[translateOperation(U.input[1])]};return U.expression&&G.patterns.push({type:"filter",expression:translateExpression(U.expression)}),G.patterns=util_1.default.flatten(G.patterns),util_1.default.flatten([translateOperation(U.input[0]),G])}function translateMinus(U){let G=translateOperation(U.input[1]);return G.type==="group"&&(G=G.patterns),Array.isArray(G)||(G=[G]),util_1.default.flatten([translateOperation(U.input[0]),{type:"minus",patterns:G}])}function translateOrderBy(U){return context.order.push(...U.expressions),translateOperation(U.input)}function translatePath(U){return{type:"bgp",triples:[{subject:U.subject,predicate:translatePathComponent(U.predicate),object:U.object}]}}function translatePattern(U){return{subject:U.subject,predicate:U.predicate,object:U.object}}function replaceAggregatorVariables(U,G){let Q=util_1.default.isSimpleTerm(U)?translateTerm(U):U;if(typeof Q=="string"){if(G[Q])return G[Q]}else if(Array.isArray(U))U=U.map(q=>replaceAggregatorVariables(q,G));else for(let q of Object.keys(U))U[q]=replaceAggregatorVariables(U[q],G);return U}function translateProject(U,G){const Q={type:"query",prefixes:{}},q=Q;let W;G===types.PROJECT?(Q.queryType="SELECT",W=U.variables):G===types.ASK?Q.queryType="ASK":G===types.DESCRIBE&&(Q.queryType="DESCRIBE",W=U.terms);const J=context.extend,F=context.group,Y=context.aggregates,X=context.order;resetContext(),context.project=!0;let te=util_1.default.flatten([translateOperation(U.input)]);te.length===1&&te[0].type==="group"&&(te=te[0].patterns),Q.where=te;let re={};for(let oe of context.aggregates)re[translateTerm(oe.variable)]=translateExpression(oe);let ne={};for(let oe=context.extend.length-1;oe>=0;--oe){let ae=context.extend[oe];ne[translateTerm(ae.variable)]=replaceAggregatorVariables(translateExpression(ae.expression),re)}context.group.length>0&&(q.group=context.group.map(oe=>{let ae=translateTerm(oe);if(ne[ae]){let ue=ne[ae];return delete ne[ae],{variable:oe,expression:ue}}return{expression:oe}})),context.order.length>0&&(q.order=context.order.map(translateOperation).map(oe=>oe.descending?oe:{expression:oe})),W&&(q.variables=W.map(oe=>{let ae=translateTerm(oe);if(ne[ae]){let ue=ne[ae];return delete ne[ae],{variable:oe,expression:ue}}return oe}),q.variables.length===0&&(q.variables=[new sparqljs_1.Wildcard]));const ie=Object.entries(ne);if(ie.length>0){q.where=q.where||[];for(const[oe,ae]of ie)q.where.push({type:"bind",variable:(0,rdf_string_1.stringToTerm)(oe),expression:ae})}if(Q.where.length>0&&Q.where[Q.where.length-1].type==="filter"){const oe=Q.where[Q.where.length-1];objectContainsValues(oe,Object.keys(re))&&(q.having=util_1.default.flatten([replaceAggregatorVariables(oe.expression,re)]),Q.where.splice(-1))}return context.extend=J,context.group=F,context.aggregates=Y,context.order=X,{type:"group",patterns:[q]}}function objectContainsValues(U,G){return util_1.default.isSimpleTerm(U)?G.indexOf(translateTerm(U))>=0:Array.isArray(U)?U.some(Q=>objectContainsValues(Q,G)):U===Object(U)?Object.keys(U).some(Q=>objectContainsValues(U[Q],G)):G.indexOf(U)>=0}function translateReduced(U){let G=translateOperation(U.input);return G.patterns[0].reduced=!0,G}function translateService(U){let G=translateOperation(U.input);return G.type==="group"&&(G=G.patterns),Array.isArray(G)||(G=[G]),{type:"service",name:U.name,silent:U.silent,patterns:G}}function translateSlice(U){let G=translateOperation(U.input),Q=G;return G.type&&G.type==="group"&&(Q=G.patterns[0]),U.start!==0&&(Q.offset=U.start),U.length!==void 0&&(Q.limit=U.length),G}function translateUnion(U){return{type:"union",patterns:U.input.map(translateOperation).map(arrayToPattern)}}function translateValues(U){return{type:"values",values:U.bindings.map(G=>{let Q={};for(let q of U.variables){let W=`?${q.value}`;G[W]?Q[W]=G[W]:Q[W]=void 0}return Q})}}function translateAlt(U){const G=U.input.map(translatePathComponent);return G.every(Q=>"pathType"in Q&&Q.pathType==="!")?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:util_1.default.flatten(G.map(Q=>Q.items))}]}:{type:"path",pathType:"|",items:G}}function translateInv(U){if(U.path.type===types.NPS){const G=U.path.iris.map(Q=>({type:"path",pathType:"^",items:[Q]}));return G.length<=1?{type:"path",pathType:"!",items:G}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:G}]}}return{type:"path",pathType:"^",items:[translatePathComponent(U.path)]}}function translateLink(U){return U.iri}function translateNps(U){return U.iris.length<=1?{type:"path",pathType:"!",items:U.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:U.iris}]}}function translateOneOrMorePath(U){return{type:"path",pathType:"+",items:[translatePathComponent(U.path)]}}function translateSeq(U){return{type:"path",pathType:"/",items:U.input.map(translatePathComponent)}}function translateZeroOrMorePath(U){return{type:"path",pathType:"*",items:[translatePathComponent(U.path)]}}function translateZeroOrOnePath(U){return{type:"path",pathType:"?",items:[translatePathComponent(U.path)]}}function translateCompositeUpdate(U){const G=U.updates.map(Q=>translateOperation(Q).updates[0]);return{prefixes:{},type:"update",updates:G}}function translateDeleteInsert(U){var G;let Q=U.where,q;if(Q&&Q.type===types.FROM){let J=Q;Q=J.input,q={default:J.default,named:J.named}}const W=[{updateType:"insertdelete",delete:convertUpdatePatterns(U.delete||[]),insert:convertUpdatePatterns(U.insert||[])}];if(q&&(W[0].using=q),!Q||Q.type===types.BGP&&Q.patterns.length===0)W[0].where=[];else{const J=[];let F=translateOperation(removeQuadsRecursive(Q,J));if(F.type==="group"?W[0].where=F.patterns:W[0].where=[F],J.length>0){if(J.length!==1)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");((G=J[0])===null||G===void 0?void 0:G.value)!==""&&(W[0].where=[{type:"graph",patterns:W[0].where,name:J[0]}])}}return!U.delete&&!U.where?(W[0].updateType="insert",delete W[0].delete,delete W[0].where):!U.insert&&!U.where?(delete W[0].insert,delete W[0].where,U.delete.some(J=>J.subject.termType==="Variable"||J.predicate.termType==="Variable"||J.object.termType==="Variable")?W[0].updateType="deletewhere":W[0].updateType="delete"):!U.insert&&U.where&&U.where.type==="bgp"&&(0,rdf_isomorphic_1.isomorphic)(U.delete,U.where.patterns)&&(delete W[0].where,W[0].updateType="deletewhere"),{prefixes:{},type:"update",updates:W}}function translateLoad(U){const G=[{type:"load",silent:!!U.silent,source:U.source}];return U.destination&&(G[0].destination=U.destination),{prefixes:{},type:"update",updates:G}}function translateClear(U){return translateClearCreateDrop(U,"clear")}function translateCreate(U){return translateClearCreateDrop(U,"create")}function translateDrop(U){return translateClearCreateDrop(U,"drop")}function translateClearCreateDrop(U,G){const Q=[{type:G,silent:!!U.silent}];return U.source==="DEFAULT"?Q[0].graph={default:!0}:U.source==="NAMED"?Q[0].graph={named:!0}:U.source==="ALL"?Q[0].graph={all:!0}:Q[0].graph={type:"graph",name:U.source},{prefixes:{},type:"update",updates:Q}}function translateAdd(U){return translateUpdateGraphShortcut(U,"add")}function translateMove(U){return translateUpdateGraphShortcut(U,"move")}function translateCopy(U){return translateUpdateGraphShortcut(U,"copy")}function translateUpdateGraphShortcut(U,G){const Q=[{type:G,silent:!!U.silent}];return Q[0].source=U.source==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:U.source},Q[0].destination=U.destination==="DEFAULT"?{type:"graph",default:!0}:{type:"graph",name:U.destination},{prefixes:{},type:"update",updates:Q}}function convertUpdatePatterns(U){if(!U)return[];const G={};return U.forEach(Q=>{const q=Q.graph.value;G[q]||(G[q]=[]),G[q].push(Q)}),Object.keys(G).map(Q=>Q===""?{type:"bgp",triples:G[Q].map(translatePattern)}:{type:"graph",triples:G[Q].map(translatePattern),name:G[Q][0].graph})}function removeQuads(U){return removeQuadsRecursive(U,[])}function removeQuadsRecursive(U,G){if(Array.isArray(U))return U.map(F=>removeQuadsRecursive(F,G));if(!U.type||U.type===types.DELETE_INSERT)return U;if((U.type===types.PATTERN||U.type===types.PATH)&&U.graph)return G.push(U.graph),U.graph.name!==""?U.type===types.PATTERN?factory.createPattern(U.subject,U.predicate,U.object):factory.createPath(U.subject,U.predicate,U.object):U;const Q={},q={},W={};for(let F of Object.keys(U)){const Y=[];if(Q[F]=removeQuadsRecursive(U[F],Y),Y.length>0){q[F]=Y;for(const X of Y)W[X.value]=X}}const J=Object.keys(W);if(J.length>0)if(J.length===1&&![types.PROJECT,types.SERVICE].includes(U.type))G.push(W[J[0]]);else{if(U.type===types.BGP)return splitBgpToGraphs(U,q.patterns);for(let F of Object.keys(q)){const Y=Q[F];Array.isArray(Y)?Q[F]=Y.map((X,te)=>q[F][0].value===""?X:factory.createGraph(X,q[F][te])):q[F][0].value!==""&&(Q[F]=factory.createGraph(Y,q[F][0]))}}return Q}function splitBgpToGraphs(U,G){var Q;const q={};for(let F=0;F<U.patterns.length;++F){const Y=U.patterns[F],X=G[F].value;q[X]=(Q=q[X])!==null&&Q!==void 0?Q:{patterns:[],graph:G[F]},q[X].patterns.push(Y)}let W=[];for(const[F,{patterns:Y,graph:X}]of Object.entries(q)){const te=factory.createBgp(Y);W.push(F===""?te:factory.createGraph(te,X))}let J=W[0];for(let F=1;F<W.length;++F)J=factory.createJoin([J,W[F]]);return J}(function(U){var G=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(re,ne,ie,oe){oe===void 0&&(oe=ie);var ae=Object.getOwnPropertyDescriptor(ne,ie);(!ae||("get"in ae?!ne.__esModule:ae.writable||ae.configurable))&&(ae={enumerable:!0,get:function(){return ne[ie]}}),Object.defineProperty(re,oe,ae)}:function(re,ne,ie,oe){oe===void 0&&(oe=ie),re[oe]=ne[ie]}),Q=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(re,ne){Object.defineProperty(re,"default",{enumerable:!0,value:ne})}:function(re,ne){re.default=ne}),q=commonjsGlobal&&commonjsGlobal.__importStar||function(re){if(re&&re.__esModule)return re;var ne={};if(re!=null)for(var ie in re)ie!=="default"&&Object.prototype.hasOwnProperty.call(re,ie)&&G(ne,re,ie);return Q(ne,re),ne},W=commonjsGlobal&&commonjsGlobal.__importDefault||function(re){return re&&re.__esModule?re:{default:re}};Object.defineProperty(U,"__esModule",{value:!0}),U.Util=U.toSparqlJs=U.toSparql=U.Factory=U.Algebra=U.translate=void 0;const J=W(sparqlAlgebra);U.translate=J.default;const F=q(algebra);U.Algebra=F;const Y=W(factory$2);U.Factory=Y.default;const X=sparql;Object.defineProperty(U,"toSparql",{enumerable:!0,get:function(){return X.toSparql}}),Object.defineProperty(U,"toSparqlJs",{enumerable:!0,get:function(){return X.toSparqlJs}});const te=W(util);U.Util=te.default})(sparqlalgebrajs);const index$1=getDefaultExportFromCjs(sparqlalgebrajs),__QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqlalgebrajs__=_mergeNamespaces({__proto__:null,default:index$1},[sparqlalgebrajs]);var __quadstore_comunica_modules__={"../node_modules/@comunica/actor-abstract-path/lib/ActorAbstractPath.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorAbstractPath=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("asynciterator"),X=Q("../node_modules/rdf-string/index.js"),te=Q("sparqlalgebrajs"),re=Q("../node_modules/@comunica/actor-abstract-path/lib/PathVariableObjectIterator.js");class ne extends q.ActorQueryOperationTypedMediated{constructor(oe,ae){super(oe,"path"),this.predicateType=ae}async testOperation(oe,ae){return oe.predicate.type!==this.predicateType?(0,J.failTest)(`This Actor only supports ${this.predicateType} Path operations.`):(0,J.passTestVoid)()}generateVariable(oe,ae,ue){return ue?ae&&(ae.subject.value===ue||ae.object.value===ue)?this.generateVariable(oe,ae,`${ue}b`):oe.variable(ue):this.generateVariable(oe,ae,"b")}async isPathArbitraryLengthDistinct(oe,ae,ue){return ae.get(W.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?(ae=ae.set(W.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),{context:ae,operation:void 0}):(ae=ae.set(W.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),{context:ae,operation:(0,F.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:oe.createDistinct(ue),context:ae}))})}async predicateStarGraphVariable(oe,ae,ue,ce,se,le,de){const he=this.getPathSources(ue),pe=this.generateVariable(le.dataFactory,le.createPath(oe,ue,ae,ce)),ge=le.createUnion([this.assignPatternSources(le,le.createPattern(oe,pe,ae,ce),he),this.assignPatternSources(le,le.createPattern(ae,pe,oe,ce),he)]),be=(0,F.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:se,operation:ge})),ve=new Set;return{bindingsStream:new Y.MultiTransformIterator(be.bindingsStream,{multiTransform:Ee=>{const ke=Ee.get(ce);return ve.has(ke.value)?new Y.EmptyIterator:(ve.add(ke.value),new Y.TransformIterator(async()=>{const Pe=new Y.BufferedIterator;return await this.getObjectsPredicateStar(le,oe,ue,ke,se,{},Pe,{count:0}),Pe.transform({transform(Te,xe,Ne){Ne(de.bindings([[ae,Te],[ce,ke]])),xe()}})},{maxBufferSize:128}))},autoStart:!1}),metadata:be.metadata}}async getObjectsPredicateStarEval(oe,ae,ue,ce,se,le,de,he){if(ce.termType==="Variable")return this.predicateStarGraphVariable(oe,ue,ae,ce,se,de,he);const pe=new re.PathVariableObjectIterator(de,oe,ae,ce,se,this.mediatorQueryOperation,le);return{bindingsStream:pe.transform({autoStart:!1,transform(ge,be,ve){ve(he.bindings([[ue,ge]])),be()}}),async metadata(){const ge=await new Promise(be=>{pe.getProperty("metadata",ve=>be(ve()))});return ge.cardinality.value++,ge}}}async getObjectsPredicateStar(oe,ae,ue,ce,se,le,de,he){const pe=(0,X.termToString)(ae);if(le[pe])return;de._push(ae),le[pe]=ae,he.count++;const ge=this.generateVariable(oe.dataFactory),be=oe.createPath(ae,ue,ge,ce),ve=(0,F.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:be,context:se}));return ve.bindingsStream.on("data",async Ee=>{const ke=Ee.get(ge);await this.getObjectsPredicateStar(oe,ke,ue,ce,se,le,de,he)}),ve.bindingsStream.on("end",()=>{--he.count===0&&de.close()}),ve.metadata}async getSubjectAndObjectBindingsPredicateStar(oe,ae,ue,ce,se,le,de,he,pe,ge,be,ve,Ee){const ke=(0,X.termToString)(ce)+(0,X.termToString)(le);if(pe[ke])return;if(be.count++,pe[ke]=!0,ge._push(Ee.bindings([[oe,ue],[ae,ce]])),ke in he){const Te=await he[ke];for(const xe of Te)await this.getSubjectAndObjectBindingsPredicateStar(oe,ae,ue,xe,se,le,de,he,pe,ge,be,ve,Ee);--be.count===0&&ge.close();return}const Pe=new Promise(async(Te,xe)=>{const Ne=[],Se=this.generateVariable(ve.dataFactory),Ge=ve.createPath(ce,se,Se,le),Ce=(0,F.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:Ge,context:de}));Ce.bindingsStream.on("data",async ze=>{const Ve=ze.get(Se);Ne.push(Ve),await this.getSubjectAndObjectBindingsPredicateStar(oe,ae,ue,Ve,se,le,de,he,pe,ge,be,ve,Ee)}),Ce.bindingsStream.on("error",xe),Ce.bindingsStream.on("end",()=>{--be.count===0&&ge.close(),Te(Ne)})});he[ke]=Pe}getPathSources(oe){switch(oe.type){case te.Algebra.types.ALT:case te.Algebra.types.SEQ:return oe.input.flatMap(ae=>this.getPathSources(ae));case te.Algebra.types.INV:case te.Algebra.types.ONE_OR_MORE_PATH:case te.Algebra.types.ZERO_OR_MORE_PATH:case te.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(oe.path);case te.Algebra.types.LINK:case te.Algebra.types.NPS:{const ae=(0,F.getOperationSource)(oe);if(!ae)throw new Error("Could not find a required source on a link path operation");return[ae]}}}assignPatternSources(oe,ae,ue){if(ue.length===0)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return ue.length===1?(0,F.assignOperationSource)(ae,ue[0]):oe.createUnion(ue.map(ce=>(0,F.assignOperationSource)(ae,ce)),!0)}}G.ActorAbstractPath=ne},"../node_modules/@comunica/actor-abstract-path/lib/PathVariableObjectIterator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.PathVariableObjectIterator=void 0;const q=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),W=Q("asynciterator"),J=Q("../node_modules/rdf-string/index.js");class F extends W.BufferedIterator{constructor(X,te,re,ne,ie,oe,ae,ue=16){super({autoStart:!0}),this.algebraFactory=X,this.subject=te,this.predicate=re,this.graph=ne,this.context=ie,this.mediatorQueryOperation=oe,this.maxRunningOperations=ue,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this._push(this.subject,ae)}_end(X){for(const te of this.runningOperations)te.destroy();super._end(X)}_push(X,te=!0){let re;if(te&&(re=(0,J.termToString)(X),this.termHashes.has(re)))return;const ne=this.algebraFactory.dataFactory.variable("b");this.pendingOperations.push({variable:ne,operation:this.algebraFactory.createPath(X,this.predicate,ne,this.graph)}),re&&(this.termHashes.set(re,X),super._push(X))}_read(X,te){const re=this;(async function(){for(;re.runningOperations.length<re.maxRunningOperations&&re.pendingOperations.length!==0;){const oe=re.pendingOperations.pop(),ae=(0,q.getSafeBindings)(await re.mediatorQueryOperation.mediate({operation:oe.operation,context:re.context})),ue=ae.bindingsStream.transform({autoStart:!1,transform(ce,se,le){const de=ce.get(oe.variable);le(de),se()}});ue.done||(re.runningOperations.push(ue),ue.on("error",ce=>re.destroy(ce)),ue.on("readable",()=>{re.readable=!0,re._fillBufferAsync()}),ue.on("end",()=>{re.runningOperations.splice(re.runningOperations.indexOf(ue),1),re.readable=!0,re._fillBufferAsync()})),re.setProperty("metadata",ae.metadata)}let ne=0,ie;for(;ne!==(ne=X);)for(let oe=0;oe<re.runningOperations.length&&X>0;oe++)(ie=re.runningOperations[oe].read())!==null&&(X--,re._push(ie));re.runningOperations.length===0&&re.pendingOperations.length===0&&re.close()})().then(()=>{te()},ne=>this.destroy(ne))}}G.PathVariableObjectIterator=F},"../node_modules/@comunica/actor-abstract-path/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-abstract-path/lib/ActorAbstractPath.js"),G),W(Q("../node_modules/@comunica/actor-abstract-path/lib/PathVariableObjectIterator.js"),G)},"../node_modules/@comunica/actor-bindings-aggregator-factory-average/lib/ActorBindingsAggregatorFactoryAverage.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorBindingsAggregatorFactoryAverage=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),Y=Q("../node_modules/@comunica/actor-bindings-aggregator-factory-average/lib/AverageAggregator.js");class X extends q.ActorBindingsAggregatorFactory{constructor(re){super(re),this.mediatorFunctionFactory=re.mediatorFunctionFactory}async test(re){return re.expr.aggregator!=="avg"?(0,J.failTest)("This actor only supports the 'avg' aggregator."):(0,J.passTestVoid)()}async run({context:re,expr:ne}){return new Y.AverageAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:ne.expression,context:re}),ne.distinct,re.getSafe(W.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:F.SparqlOperator.ADDITION,context:re,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:F.SparqlOperator.DIVISION,context:re,requireTermExpression:!0}))}}G.ActorBindingsAggregatorFactoryAverage=X},"../node_modules/@comunica/actor-bindings-aggregator-factory-average/lib/AverageAggregator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.AverageAggregator=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.AggregateEvaluator{constructor(Y,X,te,re,ne,ie){super(Y,X,ie),this.dataFactory=te,this.additionFunction=re,this.divisionFunction=ne,this.state=void 0}emptyValueTerm(){return W.typedLiteral("0",W.TypeURL.XSD_INTEGER)}putTerm(Y){if(this.state===void 0){const X=this.termToNumericOrError(Y);this.state={sum:X,count:1}}else{const X=this.termToNumericOrError(Y);this.state.sum=this.additionFunction.applyOnTerms([this.state.sum,X],this.evaluator),this.state.count++}}termResult(){if(this.state===void 0)return this.emptyValue();const Y=new W.IntegerLiteral(this.state.count);return this.divisionFunction.applyOnTerms([this.state.sum,Y],this.evaluator).toRDF(this.dataFactory)}}G.AverageAggregator=J},"../node_modules/@comunica/actor-bindings-aggregator-factory-average/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-average/lib/ActorBindingsAggregatorFactoryAverage.js"),G),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-average/lib/AverageAggregator.js"),G)},"../node_modules/@comunica/actor-bindings-aggregator-factory-count/lib/ActorBindingsAggregatorFactoryCount.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorBindingsAggregatorFactoryCount=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("sparqlalgebrajs"),F=Q("../node_modules/@comunica/actor-bindings-aggregator-factory-count/lib/CountAggregator.js");class Y extends q.ActorBindingsAggregatorFactory{constructor(te){super(te)}async test(te){return te.expr.aggregator!=="count"||te.expr.expression.expressionType===J.Algebra.expressionTypes.WILDCARD?(0,W.failTest)("This actor only supports the 'count' aggregator without wildcard."):(0,W.passTestVoid)()}async run({context:te,expr:re}){return new F.CountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:re.expression,context:te}),re.distinct)}}G.ActorBindingsAggregatorFactoryCount=Y},"../node_modules/@comunica/actor-bindings-aggregator-factory-count/lib/CountAggregator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.CountAggregator=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.AggregateEvaluator{constructor(Y,X,te){super(Y,X,te),this.state=void 0}emptyValueTerm(){return(0,W.typedLiteral)("0",W.TypeURL.XSD_INTEGER)}putTerm(Y){this.state===void 0&&(this.state=0),this.state++}termResult(){return this.state===void 0?this.emptyValue():(0,W.typedLiteral)(String(this.state),W.TypeURL.XSD_INTEGER)}}G.CountAggregator=J},"../node_modules/@comunica/actor-bindings-aggregator-factory-count/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-count/lib/ActorBindingsAggregatorFactoryCount.js"),G),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-count/lib/CountAggregator.js"),G)},"../node_modules/@comunica/actor-bindings-aggregator-factory-group-concat/lib/ActorBindingsAggregatorFactoryGroupConcat.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorBindingsAggregatorFactoryGroupConcat=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/actor-bindings-aggregator-factory-group-concat/lib/GroupConcatAggregator.js");class Y extends q.ActorBindingsAggregatorFactory{constructor(te){super(te)}async test(te){return te.expr.aggregator!=="group_concat"?(0,J.failTest)("This actor only supports the 'group_concat' aggregator."):(0,J.passTestVoid)()}async run({context:te,expr:re}){return new F.GroupConcatAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:re.expression,context:te}),re.distinct,te.getSafe(W.KeysInitQuery.dataFactory),re.separator)}}G.ActorBindingsAggregatorFactoryGroupConcat=Y},"../node_modules/@comunica/actor-bindings-aggregator-factory-group-concat/lib/GroupConcatAggregator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.GroupConcatAggregator=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.AggregateEvaluator{constructor(Y,X,te,re,ne){super(Y,X,ne),this.dataFactory=te,this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0,this.separator=re??" "}emptyValueTerm(){return W.typedLiteral("",W.TypeURL.XSD_STRING)}putTerm(Y){this.state===void 0?(this.state=Y.value,Y.termType==="Literal"&&(this.lastLanguage=Y.language)):(this.state+=this.separator+Y.value,this.lastLanguageValid&&Y.termType==="Literal"&&this.lastLanguage!==Y.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}termResult(){return this.state===void 0?this.emptyValue():this.lastLanguageValid&&this.lastLanguage?W.langString(this.state,this.lastLanguage).toRDF(this.dataFactory):W.typedLiteral(this.state,W.TypeURL.XSD_STRING)}}G.GroupConcatAggregator=J},"../node_modules/@comunica/actor-bindings-aggregator-factory-group-concat/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-group-concat/lib/ActorBindingsAggregatorFactoryGroupConcat.js"),G),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-group-concat/lib/GroupConcatAggregator.js"),G)},"../node_modules/@comunica/actor-bindings-aggregator-factory-max/lib/ActorBindingsAggregatorFactoryMax.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorBindingsAggregatorFactoryMax=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/actor-bindings-aggregator-factory-max/lib/MaxAggregator.js");class F extends q.ActorBindingsAggregatorFactory{constructor(X){super(X),this.mediatorTermComparatorFactory=X.mediatorTermComparatorFactory}async test(X){return X.expr.aggregator!=="max"?(0,W.failTest)("This actor only supports the 'max' aggregator."):(0,W.passTestVoid)()}async run({expr:X,context:te}){return new J.MaxAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:X.expression,context:te}),X.distinct,await this.mediatorTermComparatorFactory.mediate({context:te}))}}G.ActorBindingsAggregatorFactoryMax=F},"../node_modules/@comunica/actor-bindings-aggregator-factory-max/lib/MaxAggregator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MaxAggregator=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js");class W extends q.AggregateEvaluator{constructor(F,Y,X,te){super(F,Y,te),this.orderByEvaluator=X,this.state=void 0}putTerm(F){if(F.termType!=="Literal")throw new Error(`Term with value ${F.value} has type ${F.termType} and is not a literal`);this.state===void 0?this.state=F:this.orderByEvaluator.orderTypes(this.state,F)===-1&&(this.state=F)}termResult(){return this.state===void 0?this.emptyValue():this.state}}G.MaxAggregator=W},"../node_modules/@comunica/actor-bindings-aggregator-factory-max/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-max/lib/ActorBindingsAggregatorFactoryMax.js"),G),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-max/lib/MaxAggregator.js"),G)},"../node_modules/@comunica/actor-bindings-aggregator-factory-min/lib/ActorBindingsAggregatorFactoryMin.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorBindingsAggregatorFactoryMin=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/actor-bindings-aggregator-factory-min/lib/MinAggregator.js");class F extends q.ActorBindingsAggregatorFactory{constructor(X){super(X),this.mediatorTermComparatorFactory=X.mediatorTermComparatorFactory}async test(X){return X.expr.aggregator!=="min"?(0,W.failTest)("This actor only supports the 'min' aggregator."):(0,W.passTestVoid)()}async run({context:X,expr:te}){return new J.MinAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:te.expression,context:X}),te.distinct,await this.mediatorTermComparatorFactory.mediate({context:X}))}}G.ActorBindingsAggregatorFactoryMin=F},"../node_modules/@comunica/actor-bindings-aggregator-factory-min/lib/MinAggregator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MinAggregator=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js");class W extends q.AggregateEvaluator{constructor(F,Y,X,te){super(F,Y,te),this.orderByEvaluator=X,this.state=void 0}putTerm(F){if(F.termType!=="Literal")throw new Error(`Term with value ${F.value} has type ${F.termType} and is not a literal`);this.state===void 0?this.state=F:this.orderByEvaluator.orderTypes(this.state,F)===1&&(this.state=F)}termResult(){return this.state===void 0?this.emptyValue():this.state}}G.MinAggregator=W},"../node_modules/@comunica/actor-bindings-aggregator-factory-min/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-min/lib/ActorBindingsAggregatorFactoryMin.js"),G),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-min/lib/MinAggregator.js"),G)},"../node_modules/@comunica/actor-bindings-aggregator-factory-sample/lib/ActorBindingsAggregatorFactorySample.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorBindingsAggregatorFactorySample=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/actor-bindings-aggregator-factory-sample/lib/SampleAggregator.js");class F extends q.ActorBindingsAggregatorFactory{constructor(X){super(X)}async test(X){return X.expr.aggregator!=="sample"?(0,W.failTest)("This actor only supports the 'sample' aggregator."):(0,W.passTestVoid)()}async run({context:X,expr:te}){return new J.SampleAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:te.expression,context:X}),te.distinct)}}G.ActorBindingsAggregatorFactorySample=F},"../node_modules/@comunica/actor-bindings-aggregator-factory-sample/lib/SampleAggregator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.SampleAggregator=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js");class W extends q.AggregateEvaluator{constructor(F,Y,X){super(F,Y,X),this.state=void 0}putTerm(F){this.state===void 0&&(this.state=F)}termResult(){return this.state===void 0?this.emptyValue():this.state}}G.SampleAggregator=W},"../node_modules/@comunica/actor-bindings-aggregator-factory-sample/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-sample/lib/ActorBindingsAggregatorFactorySample.js"),G),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-sample/lib/SampleAggregator.js"),G)},"../node_modules/@comunica/actor-bindings-aggregator-factory-sum/lib/ActorBindingsAggregatorFactorySum.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorBindingsAggregatorFactorySum=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),Y=Q("../node_modules/@comunica/actor-bindings-aggregator-factory-sum/lib/SumAggregator.js");class X extends q.ActorBindingsAggregatorFactory{constructor(re){super(re),this.mediatorFunctionFactory=re.mediatorFunctionFactory}async test(re){return re.expr.aggregator!=="sum"?(0,J.failTest)("This actor only supports the 'sum' aggregator."):(0,J.passTestVoid)()}async run({expr:re,context:ne}){return new Y.SumAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:re.expression,context:ne}),re.distinct,ne.getSafe(W.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:F.SparqlOperator.ADDITION,context:ne,requireTermExpression:!0}))}}G.ActorBindingsAggregatorFactorySum=X},"../node_modules/@comunica/actor-bindings-aggregator-factory-sum/lib/SumAggregator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.SumAggregator=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.AggregateEvaluator{constructor(Y,X,te,re,ne){super(Y,X,ne),this.dataFactory=te,this.additionFunction=re,this.state=void 0}emptyValueTerm(){return(0,W.typedLiteral)("0",W.TypeURL.XSD_INTEGER)}putTerm(Y){if(this.state===void 0)this.state=this.termToNumericOrError(Y);else{const X=this.termToNumericOrError(Y);this.state=this.additionFunction.applyOnTerms([this.state,X],this.evaluator)}}termResult(){return this.state===void 0?this.emptyValue():this.state.toRDF(this.dataFactory)}}G.SumAggregator=J},"../node_modules/@comunica/actor-bindings-aggregator-factory-sum/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-sum/lib/ActorBindingsAggregatorFactorySum.js"),G),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-sum/lib/SumAggregator.js"),G)},"../node_modules/@comunica/actor-bindings-aggregator-factory-wildcard-count/lib/ActorBindingsAggregatorFactoryWildcardCount.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorBindingsAggregatorFactoryWildcardCount=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/actor-bindings-aggregator-factory-wildcard-count/lib/WildcardCountAggregator.js");class F extends q.ActorBindingsAggregatorFactory{constructor(X){super(X)}async test(X){return X.expr.aggregator!=="count"||X.expr.expression.expressionType!=="wildcard"?(0,W.failTest)("This actor only supports the 'count' aggregator with wildcard."):(0,W.passTestVoid)()}async run({context:X,expr:te}){return new J.WildcardCountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:te.expression,context:X}),te.distinct)}}G.ActorBindingsAggregatorFactoryWildcardCount=F},"../node_modules/@comunica/actor-bindings-aggregator-factory-wildcard-count/lib/WildcardCountAggregator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.WildcardCountAggregator=void 0;const q=Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/rdf-string/index.js");class F extends q.AggregateEvaluator{constructor(X,te,re){super(X,te,re),this.bindingValues=new Map,this.state=void 0}putTerm(X){}async putBindings(X){this.handleDistinct(X)||(this.state===void 0&&(this.state=0),this.state+=1)}emptyValueTerm(){return(0,W.typedLiteral)("0",W.TypeURL.XSD_INTEGER)}termResult(){return this.state===void 0?this.emptyValue():(0,W.typedLiteral)(String(this.state),W.TypeURL.XSD_INTEGER)}handleDistinct(X){if(this.distinct){const te=[...X];te.sort((ae,ue)=>ae[0].value.localeCompare(ue[0].value));const re=te.map(([ae])=>ae.value).join(","),ne=te.map(([,ae])=>J.termToString(ae)).join(","),ie=this.bindingValues.get(re),oe=ie!==void 0&&ie.has(ne);return ie||this.bindingValues.set(re,new Set),this.bindingValues.get(re).add(ne),oe}return!1}}G.WildcardCountAggregator=F},"../node_modules/@comunica/actor-bindings-aggregator-factory-wildcard-count/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-wildcard-count/lib/ActorBindingsAggregatorFactoryWildcardCount.js"),G),W(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-wildcard-count/lib/WildcardCountAggregator.js"),G)},"../node_modules/@comunica/actor-context-preprocess-convert-shortcuts/lib/ActorContextPreprocessConvertShortcuts.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorContextPreprocessConvertShortcuts=void 0;const q=Q("../node_modules/@comunica/bus-context-preprocess/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js");class J extends q.ActorContextPreprocess{constructor(Y){super(Y)}async test(Y){return(0,W.passTestVoid)()}async run(Y){return{context:J.expandShortcuts(Y.context,this.contextKeyShortcuts)}}static expandShortcuts(Y,X){for(const te of Y.keys())X[te.name]&&(Y=Y.set(new W.ActionContextKey(X[te.name]),Y.get(te)).delete(te));return Y}}G.ActorContextPreprocessConvertShortcuts=J},"../node_modules/@comunica/actor-context-preprocess-convert-shortcuts/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-context-preprocess-convert-shortcuts/lib/ActorContextPreprocessConvertShortcuts.js"),G)},"../node_modules/@comunica/actor-context-preprocess-query-source-identify/lib/ActorContextPreprocessQuerySourceIdentify.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorContextPreprocessQuerySourceIdentify=void 0;const q=Q("../node_modules/@comunica/bus-context-preprocess/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/lru-cache/dist/commonjs/index.js");class Y extends q.ActorContextPreprocess{constructor(te){super(te),this.cache=this.cacheSize?new F.LRUCache({max:this.cacheSize}):void 0;const re=this.cache;re&&this.httpInvalidator.addInvalidateListener(({url:ne})=>ne?re.delete(ne):re.clear())}async test(te){return(0,J.passTestVoid)()}async run(te){let re=te.context;if(re.has(W.KeysInitQuery.querySourcesUnidentified)){const ne=te.context.get(W.KeysInitQuery.querySourcesUnidentified),ie=await Promise.all(ne.map(ue=>this.expandSource(ue))),oe=await Promise.all(ie.map(async ue=>this.identifySource(ue,te.context))),ae=te.context.get(W.KeysStatistics.dereferencedLinks);if(ae)for(const ue of oe)ae.updateStatistic({url:ue.source.referenceValue,metadata:{seed:!0}},ue.source);re=te.context.delete(W.KeysInitQuery.querySourcesUnidentified).set(W.KeysQueryOperation.querySources,oe)}return{context:re}}async expandSource(te){return typeof te=="string"||"match"in te?{value:te}:{...te,context:(await this.mediatorContextPreprocess.mediate({context:J.ActionContext.ensureActionContext(te.context??{})})).context}}identifySource(te,re){let ne;return typeof te.value=="string"&&this.cache&&(ne=this.cache.get(te.value)),ne||(ne=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:te,context:re}).then(({querySource:ie})=>ie),typeof te.value=="string"&&this.cache&&this.cache.set(te.value,ne)),ne}}G.ActorContextPreprocessQuerySourceIdentify=Y},"../node_modules/@comunica/actor-context-preprocess-query-source-identify/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-context-preprocess-query-source-identify/lib/ActorContextPreprocessQuerySourceIdentify.js"),G)},"../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/ActorContextPreprocessQuerySourceSkolemize.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorContextPreprocessQuerySourceSkolemize=void 0;const q=Q("../node_modules/@comunica/bus-context-preprocess/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/QuerySourceSkolemized.js"),Y=Q("../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/utils.js");class X extends q.ActorContextPreprocess{constructor(re){super(re)}async test(re){return(0,J.passTestVoid)()}async run(re){let ne=re.context;if(ne.has(W.KeysQueryOperation.querySources)){ne.has(W.KeysQuerySourceIdentify.sourceIds)||(ne=ne.set(W.KeysQuerySourceIdentify.sourceIds,new Map));const ie=ne.getSafe(W.KeysQuerySourceIdentify.sourceIds);let oe=ne.getSafe(W.KeysQueryOperation.querySources);oe=oe.map(ae=>({source:new F.QuerySourceSkolemized(ae.source,(0,Y.getSourceId)(ie,ae.source)),context:ae.context})),ne=ne.set(W.KeysQueryOperation.querySources,oe)}return{context:ne}}}G.ActorContextPreprocessQuerySourceSkolemize=X},"../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/QuerySourceSkolemized.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.QuerySourceSkolemized=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),J=Q("asynciterator"),F=Q("../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/utils.js");class Y{constructor(te,re){this.innerSource=te,this.sourceId=re}async getSelectorShape(te){return this.innerSource.getSelectorShape(te)}queryBindings(te,re,ne){const ie=re.getSafe(q.KeysInitQuery.dataFactory),oe=(0,F.deskolemizeOperation)(ie,te,this.sourceId);if(!oe){const ae=new J.ArrayIterator([],{autoStart:!1});return ae.setProperty("metadata",{state:new W.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]}),ae}return(0,F.skolemizeBindingsStream)(ie,this.innerSource.queryBindings(oe,re,ne),this.sourceId)}queryBoolean(te,re){return this.innerSource.queryBoolean(te,re)}queryQuads(te,re){const ne=re.getSafe(q.KeysInitQuery.dataFactory),ie=(0,F.deskolemizeOperation)(ne,te,this.sourceId);if(!ie){const oe=new J.ArrayIterator([],{autoStart:!1});return oe.setProperty("metadata",{state:new W.MetadataValidationState,cardinality:{type:"exact",value:0}}),oe}return(0,F.skolemizeQuadStream)(ne,this.innerSource.queryQuads(ie,re),this.sourceId)}queryVoid(te,re){return this.innerSource.queryVoid(te,re)}get referenceValue(){return this.innerSource.referenceValue}toString(){return`${this.innerSource.toString()}(SkolemID:${this.sourceId})`}}G.QuerySourceSkolemized=Y},"../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/ActorContextPreprocessQuerySourceSkolemize.js"),G),W(Q("../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/QuerySourceSkolemized.js"),G),W(Q("../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/utils.js"),G)},"../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/utils.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.deskolemizeOperation=G.deskolemizeQuad=G.deskolemizeTermNestedThrowing=G.deskolemizeTerm=G.skolemizeBindingsStream=G.skolemizeQuadStream=G.skolemizeBindings=G.skolemizeQuad=G.skolemizeTerm=G.getSourceId=G.SKOLEM_PREFIX=void 0;const q=Q("../node_modules/@comunica/utils-data-factory/lib/index.js"),W=Q("../node_modules/rdf-terms/index.js"),J=Q("sparqlalgebrajs");G.SKOLEM_PREFIX="urn:comunica_skolem:source_";function F(ce,se){let le=ce.get(se.referenceValue);return le===void 0&&(le=`${ce.size}`,ce.set(se.referenceValue,le)),le}G.getSourceId=F;function Y(ce,se,le){return se.termType==="BlankNode"?new q.BlankNodeScoped(`bc_${le}_${se.value}`,ce.namedNode(`${G.SKOLEM_PREFIX}${le}:${se.value}`)):se}G.skolemizeTerm=Y;function X(ce,se,le){return(0,W.mapTermsNested)(se,de=>Y(ce,de,le))}G.skolemizeQuad=X;function te(ce,se,le){return se.map(de=>de.termType==="Quad"?X(ce,de,le):Y(ce,de,le))}G.skolemizeBindings=te;function re(ce,se,le){const de=se.map(pe=>X(ce,pe,le));function he(){se.getProperty("metadata",pe=>{de.setProperty("metadata",pe),pe.state.addInvalidateListener(he)})}return he(),de}G.skolemizeQuadStream=re;function ne(ce,se,le){const de=se.map(pe=>te(ce,pe,le));function he(){se.getProperty("metadata",pe=>{de.setProperty("metadata",pe),pe.state.addInvalidateListener(he)})}return he(),de}G.skolemizeBindingsStream=ne;function ie(ce,se,le){if(se.termType==="BlankNode"&&"skolemized"in se&&(se=se.skolemized),se.termType==="NamedNode"&&se.value.startsWith(G.SKOLEM_PREFIX)){const de=se.value.indexOf(":",G.SKOLEM_PREFIX.length);if(se.value.slice(G.SKOLEM_PREFIX.length,de)===le){const he=se.value.slice(de+1,se.value.length);return ce.blankNode(he)}return null}return se}G.deskolemizeTerm=ie;function oe(ce,se,le){if(se.termType==="Quad")return(0,W.mapTermsNested)(se,he=>{const pe=ie(ce,he,le);if(!pe)throw new Error("Skolemized term is not in scope for this source");return pe});const de=ie(ce,se,le);if(de===null)throw new Error("Skolemized term is not in scope for this source");return de}G.deskolemizeTermNestedThrowing=oe;function ae(ce,se,le){return(0,W.mapTermsNested)(se,de=>ie(ce,de,le)??de)}G.deskolemizeQuad=ae;function ue(ce,se,le){const de=new J.Factory;try{return J.Util.mapOperation(se,{[J.Algebra.types.PATTERN](he,pe){return{result:Object.assign(pe.createPattern(oe(ce,he.subject,le),oe(ce,he.predicate,le),oe(ce,he.object,le),oe(ce,he.graph,le)),{metadata:he.metadata}),recurse:!1}},[J.Algebra.types.PATH](he,pe){return{result:Object.assign(pe.createPath(oe(ce,he.subject,le),he.predicate,oe(ce,he.object,le),oe(ce,he.graph,le)),{metadata:he.metadata}),recurse:!1}}},de)}catch{}}G.deskolemizeOperation=ue},"../node_modules/@comunica/actor-context-preprocess-set-defaults/lib/ActorContextPreprocessSetDefaults.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorContextPreprocessSetDefaults=void 0;const q=Q("../node_modules/@comunica/bus-context-preprocess/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/rdf-data-factory/index.js");class Y extends q.ActorContextPreprocess{constructor(te){super(te),this.defaultFunctionArgumentsCache={}}async test(te){return(0,J.passTestVoid)()}async run(te){let re=te.context;if(te.initialize){re=re.setDefault(W.KeysInitQuery.queryTimestamp,new Date).setDefault(W.KeysInitQuery.queryTimestampHighResolution,performance.now()).setDefault(W.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(W.KeysCore.log,this.logger).setDefault(W.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(W.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map).setDefault(W.KeysInitQuery.dataFactory,new F.DataFactory);let ne={language:"sparql",version:"1.1"};re.has(W.KeysInitQuery.queryFormat)?(ne=re.get(W.KeysInitQuery.queryFormat),ne.language==="graphql"&&(re=re.setDefault(W.KeysInitQuery.graphqlSingularizeVariables,{}))):re=re.set(W.KeysInitQuery.queryFormat,ne)}return{context:re}}}G.ActorContextPreprocessSetDefaults=Y},"../node_modules/@comunica/actor-context-preprocess-set-defaults/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-context-preprocess-set-defaults/lib/ActorContextPreprocessSetDefaults.js"),G)},"../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/ActorContextPreprocessSourceToDestination.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorContextPreprocessSourceToDestination=void 0;const q=Q("../node_modules/@comunica/bus-context-preprocess/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js");class F extends q.ActorContextPreprocess{constructor(X){super(X)}async test(X){return(0,J.passTestVoid)()}async run(X){if(X.context.get(W.KeysInitQuery.querySourcesUnidentified)&&!X.context.get(W.KeysRdfUpdateQuads.destination)){const te=X.context.get(W.KeysInitQuery.querySourcesUnidentified);if(te.length===1)return{context:X.context.set(W.KeysRdfUpdateQuads.destination,te[0])}}return X}}G.ActorContextPreprocessSourceToDestination=F},"../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/ActorContextPreprocessSourceToDestination.js"),G)},"../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/ActorExpressionEvaluatorFactoryDefault.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorExpressionEvaluatorFactoryDefault=void 0;const q=Q("../node_modules/@comunica/bus-expression-evaluator-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),X=Q("../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/AlgebraTransformer.js"),te=Q("../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/ExpressionEvaluator.js");class re extends q.ActorExpressionEvaluatorFactory{constructor(ie){super(ie)}async test(ie){return(0,J.passTestVoid)()}async run(ie){const oe=(0,Y.prepareEvaluatorActionContext)(ie.context);return new te.ExpressionEvaluator(oe,await new X.AlgebraTransformer(oe,this.mediatorFunctionFactory).transformAlgebra(ie.algExpr),this.mediatorFunctionFactory,this.mediatorQueryOperation,await F.BindingsFactory.create(this.mediatorMergeBindingsContext,ie.context,ie.context.getSafe(W.KeysInitQuery.dataFactory)))}}G.ActorExpressionEvaluatorFactoryDefault=re},"../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/AlgebraTransformer.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.AlgebraTransformer=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("sparqlalgebrajs");class F extends W.TermTransformer{constructor(X,te){super(X.getSafe(q.KeysExpressionEvaluator.superTypeProvider)),this.context=X,this.mediatorFunctionFactory=te}async transformAlgebra(X){const te=J.Algebra.expressionTypes;switch(X.expressionType){case te.TERM:return this.transformTerm(X);case te.OPERATOR:return await this.transformOperator(X);case te.NAMED:return await this.transformNamed(X);case te.EXISTENCE:return F.transformExistence(X);case te.AGGREGATE:return F.transformAggregate(X);case te.WILDCARD:return F.transformWildcard(X)}}static transformWildcard(X){return new W.NamedNode(X.wildcard.value)}async getOperator(X,te){const re=await this.mediatorFunctionFactory.mediate({functionName:X,arguments:te.args,context:this.context}),ne=await Promise.all(te.args.map(ie=>this.transformAlgebra(ie)));if(!re.checkArity(ne))throw new W.InvalidArity(ne,X);return new W.Operator(X,ne,re.apply)}async transformOperator(X){return this.getOperator(X.operator.toLowerCase(),X)}async transformNamed(X){return this.getOperator(X.name.value,X)}static transformAggregate(X){const te=X.aggregator;return new W.Aggregate(te,X)}static transformExistence(X){return new W.Existence(X)}}G.AlgebraTransformer=F},"../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/ExpressionEvaluator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionEvaluator=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/InternalEvaluator.js");class J{constructor(Y,X,te,re,ne){this.context=Y,this.expr=X,this.mediatorFunctionFactory=te,this.mediatorQueryOperation=re,this.bindingsFactory=ne,this.internalEvaluator=new W.InternalEvaluator(Y,te,re,ne)}async evaluate(Y){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,Y)).toRDF(this.context.getSafe(q.KeysInitQuery.dataFactory))}async evaluateAsEBV(Y){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,Y)).coerceEBV()}evaluateAsEvaluatorExpression(Y){return this.evaluatorExpressionEvaluation(this.expr,Y)}evaluatorExpressionEvaluation(Y,X){return this.internalEvaluator.evaluatorExpressionEvaluation(Y,X)}}G.ExpressionEvaluator=J},"../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/InternalEvaluator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.InternalEvaluator=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/types/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("sparqlalgebrajs"),X=Q("../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/AlgebraTransformer.js");class te{constructor(ne,ie,oe,ae){this.context=ne,this.mediatorQueryOperation=oe,this.bindingsFactory=ae,this.subEvaluators={[W.ExpressionType.Term]:(ue,ce)=>this.term(ue),[W.ExpressionType.Variable]:(ue,ce)=>this.variable(ue,ce),[W.ExpressionType.Operator]:(ue,ce)=>this.evalFunction(ue,ce),[W.ExpressionType.Existence]:(ue,ce)=>this.evalExistence(ue,ce),[W.ExpressionType.Aggregate]:(ue,ce)=>this.evalAggregate()},this.transformer=new X.AlgebraTransformer(ne,ie)}async evaluatorExpressionEvaluation(ne,ie){return this.subEvaluators[ne.expressionType].bind(this)(ne,ie)}term(ne){return ne}variable(ne,ie){const oe=ie.get(J.expressionToVar(this.context.getSafe(q.KeysInitQuery.dataFactory),ne));if(!oe)throw new J.UnboundVariableError(ne.name,ie);return this.transformer.transformRDFTermUnsafe(oe)}async evalFunction(ne,ie){return ne.apply({args:ne.args,mapping:ie,exprEval:this})}async evalExistence(ne,ie){const oe=this.context.getSafe(q.KeysInitQuery.dataFactory),ae=new Y.Factory(oe),ue=(0,F.materializeOperation)(ne.expression.input,ie,ae,this.bindingsFactory),ce=await this.mediatorQueryOperation.mediate({operation:ue,context:this.context}),se=(0,F.getSafeBindings)(ce);return await new Promise((le,de)=>{se.bindingsStream.on("end",()=>{le(!1)}),se.bindingsStream.on("error",de),se.bindingsStream.on("data",()=>{se.bindingsStream.close(),le(!0)})}).then(le=>ne.expression.not?!le:le).then(le=>new J.BooleanLiteral(le))}evalAggregate(){throw new J.NoAggregator}}G.InternalEvaluator=te},"../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/ActorExpressionEvaluatorFactoryDefault.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-bnode/lib/ActorFunctionFactoryExpressionBnode.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionBnode=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-expression-bnode/lib/ExpressionFunctionBnode.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.BNODE],termFunction:!1})}async run(X){return new J.ExpressionFunctionBnode}}G.ActorFunctionFactoryExpressionBnode=F},"../node_modules/@comunica/actor-function-factory-expression-bnode/lib/ExpressionFunctionBnode.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionFunctionBnode=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-data-factory/lib/index.js"),F=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class Y extends q.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:F.SparqlOperator.BNODE,apply:async te=>{const{args:re,mapping:ne,exprEval:ie}=te,oe=re.length===1?await ie.evaluatorExpressionEvaluation(re[0],ne):void 0;let ae;if(oe){const ce=Y.bnodeTree.search([oe],ie.context.getSafe(W.KeysExpressionEvaluator.superTypeProvider),ie.context.getSafe(W.KeysInitQuery.functionArgumentsCache));if(!ce)throw new F.InvalidArgumentTypes(re,F.SparqlOperator.BNODE);ae=ce(ie)([oe]).str()}const ue=new J.BlankNodeBindingsScoped(ae??`BNODE_${Y.bnodeCounter++}`);return new F.BlankNode(ue)}})}checkArity(te){return te.length===0||te.length===1}}G.ExpressionFunctionBnode=Y,Y.bnodeTree=(0,F.declare)(F.SparqlOperator.BNODE).onString1(()=>X=>X).collect(),Y.bnodeCounter=0},"../node_modules/@comunica/actor-function-factory-expression-bnode/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-bnode/lib/ActorFunctionFactoryExpressionBnode.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-bound/lib/ActorFunctionFactoryExpressionBound.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionBound=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-expression-bound/lib/ExpressionFunctionBound.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.BOUND],termFunction:!1})}async run(X){return new J.ExpressionFunctionBound}}G.ActorFunctionFactoryExpressionBound=F},"../node_modules/@comunica/actor-function-factory-expression-bound/lib/ExpressionFunctionBound.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionFunctionBound=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/types/lib/index.js"),F=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class Y extends q.ExpressionFunctionBase{constructor(){super({arity:1,operator:F.SparqlOperator.BOUND,apply:async({args:te,mapping:re,exprEval:ne})=>{const ie=te[0];if(ie.expressionType!==J.ExpressionType.Variable)throw new F.InvalidArgumentTypes(te,F.SparqlOperator.BOUND);const oe=re.has((0,F.expressionToVar)(ne.context.getSafe(W.KeysInitQuery.dataFactory),ie));return(0,F.bool)(oe)}})}}G.ExpressionFunctionBound=Y},"../node_modules/@comunica/actor-function-factory-expression-bound/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-bound/lib/ActorFunctionFactoryExpressionBound.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-coalesce/lib/ActorFunctionFactoryExpressionCoalesce.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionCoalesce=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-expression-coalesce/lib/ExpressionFunctionCoalesce.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.COALESCE],termFunction:!1})}async run(X){return new J.ExpressionFunctionCoalesce}}G.ActorFunctionFactoryExpressionCoalesce=F},"../node_modules/@comunica/actor-function-factory-expression-coalesce/lib/ExpressionFunctionCoalesce.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionFunctionCoalesce=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:W.SparqlOperator.COALESCE,apply:async({args:Y,mapping:X,exprEval:te})=>{const re=[];for(const ne of Y)try{return await te.evaluatorExpressionEvaluation(ne,X)}catch(ie){re.push(ie)}throw new W.CoalesceError(re)}})}}G.ExpressionFunctionCoalesce=J},"../node_modules/@comunica/actor-function-factory-expression-coalesce/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-coalesce/lib/ActorFunctionFactoryExpressionCoalesce.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-concat/lib/ActorFunctionFactoryExpressionConcat.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionConcat=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-expression-concat/lib/ExpressionFunctionConcat.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.CONCAT],termFunction:!1})}async run(X){return new J.ExpressionFunctionConcat}}G.ActorFunctionFactoryExpressionConcat=F},"../node_modules/@comunica/actor-function-factory-expression-concat/lib/ExpressionFunctionConcat.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionFunctionConcat=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class F extends q.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:J.SparqlOperator.CONCAT,apply:async X=>{const{args:te,mapping:re,exprEval:ne}=X,ie=te.map(async ce=>ne.evaluatorExpressionEvaluation(ce,re)).map(async ce=>{const se=F.concatTree.search([await ce],ne.context.getSafe(W.KeysExpressionEvaluator.superTypeProvider),ne.context.getSafe(W.KeysInitQuery.functionArgumentsCache));if(!se)throw new J.InvalidArgumentTypes(te,J.SparqlOperator.CONCAT);return se(ne)([await ce])}),oe=await Promise.all(ie),ae=oe.map(ce=>ce.typedValue).join(""),ue=F.langAllEqual(oe)?oe[0].language:void 0;return ue?(0,J.langString)(ae,ue):(0,J.string)(ae)}})}static langAllEqual(X){return X.length>0&&X.every(te=>te.language===X[0].language)}}G.ExpressionFunctionConcat=F,F.concatTree=(0,J.declare)(J.SparqlOperator.CONCAT).onStringly1(()=>Y=>Y).collect()},"../node_modules/@comunica/actor-function-factory-expression-concat/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-concat/lib/ActorFunctionFactoryExpressionConcat.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-extensions/lib/ActorFunctionFactoryExpressionExtensions.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionExtensions=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/rdf-data-factory/index.js"),Y=Q("../node_modules/@comunica/actor-function-factory-expression-extensions/lib/NamedExtension.js");class X extends q.ActorFunctionFactory{constructor(re){super(re)}async test({context:re,functionName:ne}){return await re.getSafe(W.KeysExpressionEvaluator.extensionFunctionCreator)(new F.DataFactory().namedNode(ne))?(0,J.passTestVoid)():(0,J.failTest)(`Actor ${this.name} can only provide non-termExpression implementations for functions that are provided through config entries like: ${W.KeysInitQuery.extensionFunctionCreator.name} or ${W.KeysInitQuery.extensionFunctions.name}`)}async run({context:re,functionName:ne}){const ie=await re.getSafe(W.KeysExpressionEvaluator.extensionFunctionCreator)(new F.DataFactory().namedNode(ne));return new Y.NamedExtension({operator:ne,functionDefinition:ie})}}G.ActorFunctionFactoryExpressionExtensions=X},"../node_modules/@comunica/actor-function-factory-expression-extensions/lib/NamedExtension.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.NamedExtension=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/implementation/Core.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class F extends q.ExpressionFunctionBase{constructor({operator:X,functionDefinition:te}){super({arity:Number.POSITIVE_INFINITY,operator:X,apply:async({args:re,exprEval:ne,mapping:ie})=>{const oe=await Promise.all(re.map(ae=>ne.evaluatorExpressionEvaluation(ae,ie)));try{return new J.TermTransformer(ne.context.getSafe(W.KeysExpressionEvaluator.superTypeProvider)).transformRDFTermUnsafe(await te(oe.map(ae=>ae.toRDF(ne.context.getSafe(W.KeysInitQuery.dataFactory)))))}catch(ae){throw new J.ExtensionFunctionError(this.operator,ae)}}})}}G.NamedExtension=F},"../node_modules/@comunica/actor-function-factory-expression-extensions/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-extensions/lib/ActorFunctionFactoryExpressionExtensions.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-if/lib/ActorFunctionFactoryExpressionIf.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionIf=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-expression-if/lib/ExpressionFunctionIf.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.IF],termFunction:!1})}async run(X){return new J.ExpressionFunctionIf}}G.ActorFunctionFactoryExpressionIf=F},"../node_modules/@comunica/actor-function-factory-expression-if/lib/ExpressionFunctionIf.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionFunctionIf=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.ExpressionFunctionBase{constructor(){super({arity:3,operator:W.SparqlOperator.IF,apply:async({args:Y,mapping:X,exprEval:te})=>(await te.evaluatorExpressionEvaluation(Y[0],X)).coerceEBV()?te.evaluatorExpressionEvaluation(Y[1],X):te.evaluatorExpressionEvaluation(Y[2],X)})}}G.ExpressionFunctionIf=J},"../node_modules/@comunica/actor-function-factory-expression-if/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-if/lib/ActorFunctionFactoryExpressionIf.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-in/lib/ActorFunctionFactoryExpressionIn.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionIn=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-expression-in/lib/ExpressionFunctionIn.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.IN],termFunction:!1}),this.mediatorFunctionFactory=X.mediatorFunctionFactory}async run(X){const te=await this.mediatorFunctionFactory.mediate({functionName:W.SparqlOperator.EQUAL,requireTermExpression:!0,context:X.context,arguments:X.arguments});return new J.ExpressionFunctionIn(te)}}G.ActorFunctionFactoryExpressionIn=F},"../node_modules/@comunica/actor-function-factory-expression-in/lib/ExpressionFunctionIn.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionFunctionIn=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.ExpressionFunctionBase{constructor(Y){super({arity:Number.POSITIVE_INFINITY,operator:W.SparqlOperator.IN,apply:async X=>{const{args:te,mapping:re,exprEval:ne}=X,[ie,...oe]=te,ae=await ne.evaluatorExpressionEvaluation(ie,re);return await this.inRecursive(ae,{...X,args:oe},[])}}),this.equalityFunction=Y}checkArity(Y){return Y.length>0}async inRecursive(Y,X,te){const{args:re,mapping:ne,exprEval:ie}=X;if(re.length===0)return te.every(oe=>!oe)?(0,W.bool)(!1):Promise.reject(new W.InError(te));try{const oe=re.shift(),ae=await ie.evaluatorExpressionEvaluation(oe,ne);return this.equalityFunction.applyOnTerms([Y,ae],ie).typedValue?(0,W.bool)(!0):this.inRecursive(Y,X,[...te,!1])}catch(oe){return this.inRecursive(Y,X,[...te,oe])}}}G.ExpressionFunctionIn=J},"../node_modules/@comunica/actor-function-factory-expression-in/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-in/lib/ActorFunctionFactoryExpressionIn.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-logical-and/lib/ActorFunctionFactoryExpressionLogicalAnd.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionLogicalAnd=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-expression-logical-and/lib/ExpressionFunctionLogicalAnd.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.LOGICAL_AND],termFunction:!1})}async run(X){return new J.ExpressionFunctionLogicalAnd}}G.ActorFunctionFactoryExpressionLogicalAnd=F},"../node_modules/@comunica/actor-function-factory-expression-logical-and/lib/ExpressionFunctionLogicalAnd.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionFunctionLogicalAnd=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.ExpressionFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.LOGICAL_AND,apply:async({args:Y,mapping:X,exprEval:te})=>{const[re,ne]=Y;try{if(!(await te.evaluatorExpressionEvaluation(re,X)).coerceEBV())return(0,W.bool)(!1);const ie=(await te.evaluatorExpressionEvaluation(ne,X)).coerceEBV();return(0,W.bool)(ie)}catch(ie){if((await te.evaluatorExpressionEvaluation(ne,X)).coerceEBV())throw ie;return(0,W.bool)(!1)}}})}}G.ExpressionFunctionLogicalAnd=J},"../node_modules/@comunica/actor-function-factory-expression-logical-and/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-logical-and/lib/ActorFunctionFactoryExpressionLogicalAnd.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-logical-or/lib/ActorFunctionFactoryExpressionLogicalOr.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionLogicalOr=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-expression-logical-or/lib/ExpressionFunctionLogicalOr.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.LOGICAL_OR],termFunction:!1})}async run(X){return new J.ExpressionFunctionLogicalOr}}G.ActorFunctionFactoryExpressionLogicalOr=F},"../node_modules/@comunica/actor-function-factory-expression-logical-or/lib/ExpressionFunctionLogicalOr.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionFunctionLogicalOr=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.ExpressionFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.LOGICAL_OR,apply:async({args:Y,mapping:X,exprEval:te})=>{const[re,ne]=Y;try{if((await te.evaluatorExpressionEvaluation(re,X)).coerceEBV())return(0,W.bool)(!0);const ie=(await te.evaluatorExpressionEvaluation(ne,X)).coerceEBV();return(0,W.bool)(ie)}catch(ie){if(!(await te.evaluatorExpressionEvaluation(ne,X)).coerceEBV())throw ie;return(0,W.bool)(!0)}}})}}G.ExpressionFunctionLogicalOr=J},"../node_modules/@comunica/actor-function-factory-expression-logical-or/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-logical-or/lib/ActorFunctionFactoryExpressionLogicalOr.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-not-in/lib/ActorFunctionFactoryExpressionNotIn.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionNotIn=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-expression-not-in/lib/ExpressionFunctionNotIn.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.NOT_IN],termFunction:!1}),this.mediatorFunctionFactory=X.mediatorFunctionFactory}async run(X){const te=await this.mediatorFunctionFactory.mediate({functionName:W.SparqlOperator.IN,context:X.context,arguments:X.arguments});return new J.ExpressionFunctionNotIn(te)}}G.ActorFunctionFactoryExpressionNotIn=F},"../node_modules/@comunica/actor-function-factory-expression-not-in/lib/ExpressionFunctionNotIn.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionFunctionNotIn=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.ExpressionFunctionBase{constructor(Y){super({arity:Number.POSITIVE_INFINITY,operator:W.SparqlOperator.NOT_IN,apply:async X=>{const te=await this.inFunction.apply(X);return(0,W.bool)(!te.typedValue)}}),this.inFunction=Y}checkArity(Y){return Y.length>0}}G.ExpressionFunctionNotIn=J},"../node_modules/@comunica/actor-function-factory-expression-not-in/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-not-in/lib/ActorFunctionFactoryExpressionNotIn.js"),G)},"../node_modules/@comunica/actor-function-factory-expression-same-term/lib/ActorFunctionFactoryExpressionSameTerm.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryExpressionSameTerm=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-expression-same-term/lib/ExpressionFunctionSameTerm.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.SAME_TERM],termFunction:!1})}async run(X){return new J.ExpressionFunctionSameTerm}}G.ActorFunctionFactoryExpressionSameTerm=F},"../node_modules/@comunica/actor-function-factory-expression-same-term/lib/ExpressionFunctionSameTerm.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionFunctionSameTerm=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class F extends q.ExpressionFunctionBase{constructor(){super({arity:2,operator:J.SparqlOperator.SAME_TERM,apply:async({args:X,mapping:te,exprEval:re})=>{const ne=re.context.getSafe(W.KeysInitQuery.dataFactory),[ie,oe]=X.map(ce=>re.evaluatorExpressionEvaluation(ce,te)),[ae,ue]=await Promise.all([ie,oe]);return(0,J.bool)(ae.toRDF(ne).equals(ue.toRDF(ne)))}})}}G.ExpressionFunctionSameTerm=F},"../node_modules/@comunica/actor-function-factory-expression-same-term/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-expression-same-term/lib/ActorFunctionFactoryExpressionSameTerm.js"),G)},"../node_modules/@comunica/actor-function-factory-term-abs/lib/ActorFunctionFactoryTermAbs.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermAbs=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-abs/lib/TermFunctionAbs.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.ABS],termFunction:!0})}async run(X){return new J.TermFunctionAbs}}G.ActorFunctionFactoryTermAbs=F},"../node_modules/@comunica/actor-function-factory-term-abs/lib/TermFunctionAbs.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionAbs=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.ABS,overloads:(0,W.declare)(W.SparqlOperator.ABS).numericConverter(()=>Y=>Math.abs(Y)).collect()})}}G.TermFunctionAbs=J},"../node_modules/@comunica/actor-function-factory-term-abs/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-abs/lib/ActorFunctionFactoryTermAbs.js"),G)},"../node_modules/@comunica/actor-function-factory-term-addition/lib/ActorFunctionFactoryTermAddition.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermAddition=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-addition/lib/TermFunctionAddition.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.ADDITION],termFunction:!0})}async run(X){return new J.TermFunctionAddition}}G.ActorFunctionFactoryTermAddition=F},"../node_modules/@comunica/actor-function-factory-term-addition/lib/TermFunctionAddition.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionAddition=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/bignumber.js/bignumber.js");class F extends q.TermFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.ADDITION,overloads:(0,W.declare)(W.SparqlOperator.ADDITION).arithmetic(()=>(X,te)=>new J.BigNumber(X).plus(te).toNumber()).set([W.TypeURL.XSD_DATE_TIME,W.TypeURL.XSD_DAY_TIME_DURATION],()=>([X,te])=>new W.DateTimeLiteral((0,W.addDurationToDateTime)(X.typedValue,(0,W.defaultedDurationRepresentation)(te.typedValue)))).copy({from:[W.TypeURL.XSD_DATE_TIME,W.TypeURL.XSD_DAY_TIME_DURATION],to:[W.TypeURL.XSD_DATE_TIME,W.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([W.TypeURL.XSD_DATE,W.TypeURL.XSD_DAY_TIME_DURATION],()=>([X,te])=>new W.DateLiteral((0,W.addDurationToDateTime)((0,W.defaultedDateTimeRepresentation)(X.typedValue),(0,W.defaultedDurationRepresentation)(te.typedValue)))).copy({from:[W.TypeURL.XSD_DATE,W.TypeURL.XSD_DAY_TIME_DURATION],to:[W.TypeURL.XSD_DATE,W.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([W.TypeURL.XSD_TIME,W.TypeURL.XSD_DAY_TIME_DURATION],()=>([X,te])=>new W.TimeLiteral((0,W.addDurationToDateTime)((0,W.defaultedDateTimeRepresentation)(X.typedValue),(0,W.defaultedDurationRepresentation)(te.typedValue)))).copy({from:[W.TypeURL.XSD_TIME,W.TypeURL.XSD_DAY_TIME_DURATION],to:[W.TypeURL.XSD_TIME,W.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()})}}G.TermFunctionAddition=F},"../node_modules/@comunica/actor-function-factory-term-addition/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-addition/lib/ActorFunctionFactoryTermAddition.js"),G)},"../node_modules/@comunica/actor-function-factory-term-ceil/lib/ActorFunctionFactoryTermCeil.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermCeil=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-ceil/lib/TermFunctionCeil.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.CEIL],termFunction:!0})}async run(X){return new J.TermFunctionCeil}}G.ActorFunctionFactoryTermCeil=F},"../node_modules/@comunica/actor-function-factory-term-ceil/lib/TermFunctionCeil.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionCeil=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.CEIL,overloads:(0,W.declare)(W.SparqlOperator.CEIL).numericConverter(()=>Y=>Math.ceil(Y)).collect()})}}G.TermFunctionCeil=J},"../node_modules/@comunica/actor-function-factory-term-ceil/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-ceil/lib/ActorFunctionFactoryTermCeil.js"),G)},"../node_modules/@comunica/actor-function-factory-term-contains/lib/ActorFunctionFactoryTermContains.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermContains=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-contains/lib/TermFunctionContains.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.CONTAINS],termFunction:!0})}async run(X){return new J.TermFunctionContains}}G.ActorFunctionFactoryTermContains=F},"../node_modules/@comunica/actor-function-factory-term-contains/lib/TermFunctionContains.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionContains=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.CONTAINS,overloads:(0,W.declare)(W.SparqlOperator.CONTAINS).onBinaryTyped([W.TypeAlias.SPARQL_STRINGLY,W.TypeURL.XSD_STRING],()=>(Y,X)=>(0,W.bool)(Y.includes(X))).onBinary([W.TypeURL.RDF_LANG_STRING,W.TypeURL.RDF_LANG_STRING],()=>(Y,X)=>{if(Y.language!==X.language)throw new W.IncompatibleLanguageOperation(Y,X);return(0,W.bool)(Y.typedValue.includes(X.typedValue))}).collect()})}}G.TermFunctionContains=J},"../node_modules/@comunica/actor-function-factory-term-contains/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-contains/lib/ActorFunctionFactoryTermContains.js"),G)},"../node_modules/@comunica/actor-function-factory-term-datatype/lib/ActorFunctionFactoryTermDatatype.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermDatatype=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-datatype/lib/TermFunctionDatatype.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.DATATYPE],termFunction:!0})}async run(X){return new J.TermFunctionDatatype}}G.ActorFunctionFactoryTermDatatype=F},"../node_modules/@comunica/actor-function-factory-term-datatype/lib/TermFunctionDatatype.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionDatatype=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.DATATYPE,overloads:(0,W.declare)(W.SparqlOperator.DATATYPE).onLiteral1(()=>Y=>new W.NamedNode(Y.dataType)).collect()})}}G.TermFunctionDatatype=J},"../node_modules/@comunica/actor-function-factory-term-datatype/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-datatype/lib/ActorFunctionFactoryTermDatatype.js"),G)},"../node_modules/@comunica/actor-function-factory-term-day/lib/ActorFunctionFactoryTermDay.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermDay=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-day/lib/TermFunctionDay.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.DAY],termFunction:!0})}async run(X){return new J.TermFunctionDay}}G.ActorFunctionFactoryTermDay=F},"../node_modules/@comunica/actor-function-factory-term-day/lib/TermFunctionDay.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionDay=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.DAY,overloads:(0,W.declare)(W.SparqlOperator.DAY).onDateTime1(()=>Y=>(0,W.integer)(Y.typedValue.day)).set([W.TypeURL.XSD_DATE],()=>([Y])=>(0,W.integer)(Y.typedValue.day)).collect()})}}G.TermFunctionDay=J},"../node_modules/@comunica/actor-function-factory-term-day/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-day/lib/ActorFunctionFactoryTermDay.js"),G)},"../node_modules/@comunica/actor-function-factory-term-division/lib/ActorFunctionFactoryTermDivision.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermDivision=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-division/lib/TermFunctionDivision.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.DIVISION],termFunction:!0})}async run(X){return new J.TermFunctionDivision}}G.ActorFunctionFactoryTermDivision=F},"../node_modules/@comunica/actor-function-factory-term-division/lib/TermFunctionDivision.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionDivision=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/bignumber.js/bignumber.js");class F extends q.TermFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.DIVISION,overloads:(0,W.declare)(W.SparqlOperator.DIVISION).arithmetic(()=>(X,te)=>new J.BigNumber(X).div(te).toNumber()).onBinaryTyped([W.TypeURL.XSD_INTEGER,W.TypeURL.XSD_INTEGER],()=>(X,te)=>{if(te===0)throw new W.ExpressionError("Integer division by 0");return(0,W.decimal)(new J.BigNumber(X).div(te).toNumber())}).collect()})}}G.TermFunctionDivision=F},"../node_modules/@comunica/actor-function-factory-term-division/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-division/lib/ActorFunctionFactoryTermDivision.js"),G)},"../node_modules/@comunica/actor-function-factory-term-encode-for-uri/lib/ActorFunctionFactoryTermEncodeForUri.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermEncodeForUri=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-encode-for-uri/lib/TermFunctionEncodeForUri.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.ENCODE_FOR_URI],termFunction:!0})}async run(X){return new J.TermFunctionEncodeForUri}}G.ActorFunctionFactoryTermEncodeForUri=F},"../node_modules/@comunica/actor-function-factory-term-encode-for-uri/lib/TermFunctionEncodeForUri.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionEncodeForUri=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.ENCODE_FOR_URI,overloads:(0,W.declare)(W.SparqlOperator.ENCODE_FOR_URI).onStringly1Typed(()=>Y=>(0,W.string)(encodeURI(Y))).collect()})}}G.TermFunctionEncodeForUri=J},"../node_modules/@comunica/actor-function-factory-term-encode-for-uri/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-encode-for-uri/lib/ActorFunctionFactoryTermEncodeForUri.js"),G)},"../node_modules/@comunica/actor-function-factory-term-equality/lib/ActorFunctionFactoryTermEquality.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermEquality=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-equality/lib/TermFunctionEquality.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.EQUAL],termFunction:!0})}async run(X){return new J.TermFunctionEquality}}G.ActorFunctionFactoryTermEquality=F},"../node_modules/@comunica/actor-function-factory-term-equality/lib/TermFunctionEquality.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionEquality=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class F extends q.TermFunctionBase{constructor(){super({arity:2,operator:J.SparqlOperator.EQUAL,overloads:(0,J.declare)(J.SparqlOperator.EQUAL).numberTest(()=>(X,te)=>X===te).stringTest(()=>(X,te)=>X.localeCompare(te)===0).set([J.TypeURL.RDF_LANG_STRING,J.TypeURL.RDF_LANG_STRING],()=>([X,te])=>(0,J.bool)(X.str()===te.str()&&X.language===te.language)).set([J.TypeAlias.SPARQL_STRINGLY,J.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,J.bool)(!1)).booleanTest(()=>(X,te)=>X===te).dateTimeTest(X=>(te,re)=>(0,J.toUTCDate)(te,X.context.getSafe(W.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,J.toUTCDate)(re,X.context.getSafe(W.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[J.TypeURL.XSD_DATE_TIME,J.TypeURL.XSD_DATE_TIME],to:[J.TypeURL.XSD_DATE,J.TypeURL.XSD_DATE]}).set(["quad","quad"],X=>([te,re])=>(0,J.bool)(this.applyOnTerms([te.subject,re.subject],X).coerceEBV()&&this.applyOnTerms([te.predicate,re.predicate],X).coerceEBV()&&this.applyOnTerms([te.object,re.object],X).coerceEBV()&&this.applyOnTerms([te.graph,re.graph],X).coerceEBV()),!1).set(["term","term"],X=>([te,re])=>{const ne=te.toRDF(X.context.getSafe(W.KeysInitQuery.dataFactory)),ie=re.toRDF(X.context.getSafe(W.KeysInitQuery.dataFactory)),oe=ne.equals(ie);if(!oe&&ne.termType==="Literal"&&ie.termType==="Literal")throw new J.RDFEqualTypeError([te,re]);return(0,J.bool)(oe)},!1).set([J.TypeURL.XSD_DURATION,J.TypeURL.XSD_DURATION],()=>([X,te])=>(0,J.bool)((0,J.yearMonthDurationsToMonths)((0,J.defaultedYearMonthDurationRepresentation)(X.typedValue))===(0,J.yearMonthDurationsToMonths)((0,J.defaultedYearMonthDurationRepresentation)(te.typedValue))&&(0,J.dayTimeDurationsToSeconds)((0,J.defaultedDayTimeDurationRepresentation)(X.typedValue))===(0,J.dayTimeDurationsToSeconds)((0,J.defaultedDayTimeDurationRepresentation)(te.typedValue)))).set([J.TypeURL.XSD_TIME,J.TypeURL.XSD_TIME],X=>([te,re])=>(0,J.bool)((0,J.toUTCDate)((0,J.defaultedDateTimeRepresentation)(te.typedValue),X.context.getSafe(W.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,J.toUTCDate)((0,J.defaultedDateTimeRepresentation)(re.typedValue),X.context.getSafe(W.KeysExpressionEvaluator.defaultTimeZone)).getTime())).collect()})}}G.TermFunctionEquality=F},"../node_modules/@comunica/actor-function-factory-term-equality/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-equality/lib/ActorFunctionFactoryTermEquality.js"),G)},"../node_modules/@comunica/actor-function-factory-term-floor/lib/ActorFunctionFactoryTermFloor.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermFloor=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-floor/lib/TermFunctionFloor.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.FLOOR],termFunction:!0})}async run(X){return new J.TermFunctionFloor}}G.ActorFunctionFactoryTermFloor=F},"../node_modules/@comunica/actor-function-factory-term-floor/lib/TermFunctionFloor.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionFloor=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.FLOOR,overloads:(0,W.declare)(W.SparqlOperator.FLOOR).numericConverter(()=>Y=>Math.floor(Y)).collect()})}}G.TermFunctionFloor=J},"../node_modules/@comunica/actor-function-factory-term-floor/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-floor/lib/ActorFunctionFactoryTermFloor.js"),G)},"../node_modules/@comunica/actor-function-factory-term-greater-than-equal/lib/ActorFunctionFactoryTermGreaterThanEqual.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermGreaterThanEqual=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-greater-than-equal/lib/TermFunctionGreaterThanEqual.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.GTE],termFunction:!0}),this.mediatorFunctionFactory=X.mediatorFunctionFactory}async run(X){const te=await this.mediatorFunctionFactory.mediate({functionName:W.SparqlOperator.LTE,requireTermExpression:!0,context:X.context,arguments:X.arguments});return new J.TermFunctionGreaterThanEqual(te)}}G.ActorFunctionFactoryTermGreaterThanEqual=F},"../node_modules/@comunica/actor-function-factory-term-greater-than-equal/lib/TermFunctionGreaterThanEqual.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionGreaterThanEqual=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(Y){super({arity:2,operator:W.SparqlOperator.GTE,overloads:(0,W.declare)(W.SparqlOperator.GTE).set(["term","term"],X=>([te,re])=>this.lessThanEqualFunction.applyOnTerms([re,te],X)).collect()}),this.lessThanEqualFunction=Y}}G.TermFunctionGreaterThanEqual=J},"../node_modules/@comunica/actor-function-factory-term-greater-than-equal/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-greater-than-equal/lib/ActorFunctionFactoryTermGreaterThanEqual.js"),G)},"../node_modules/@comunica/actor-function-factory-term-greater-than/lib/ActorFunctionFactoryTermGreaterThan.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermGreaterThan=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-greater-than/lib/TermFunctionGreaterThan.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.GT],termFunction:!0}),this.mediatorFunctionFactory=X.mediatorFunctionFactory}async run(X){const te=await this.mediatorFunctionFactory.mediate({functionName:W.SparqlOperator.LT,requireTermExpression:!0,context:X.context,arguments:X.arguments});return new J.TermFunctionGreaterThan(te)}}G.ActorFunctionFactoryTermGreaterThan=F},"../node_modules/@comunica/actor-function-factory-term-greater-than/lib/TermFunctionGreaterThan.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionGreaterThan=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(Y){super({arity:2,operator:W.SparqlOperator.GT,overloads:(0,W.declare)(W.SparqlOperator.GT).set(["term","term"],X=>([te,re])=>this.lessThanFunction.applyOnTerms([re,te],X)).collect()}),this.lessThanFunction=Y}}G.TermFunctionGreaterThan=J},"../node_modules/@comunica/actor-function-factory-term-greater-than/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-greater-than/lib/ActorFunctionFactoryTermGreaterThan.js"),G)},"../node_modules/@comunica/actor-function-factory-term-hours/lib/ActorFunctionFactoryTermHours.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermHours=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-hours/lib/TermFunctionHours.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.HOURS],termFunction:!0})}async run(X){return new J.TermFunctionHours}}G.ActorFunctionFactoryTermHours=F},"../node_modules/@comunica/actor-function-factory-term-hours/lib/TermFunctionHours.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionHours=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.HOURS,overloads:(0,W.declare)(W.SparqlOperator.HOURS).onDateTime1(()=>Y=>(0,W.integer)(Y.typedValue.hours)).set([W.TypeURL.XSD_TIME],()=>([Y])=>(0,W.integer)(Y.typedValue.hours)).collect()})}}G.TermFunctionHours=J},"../node_modules/@comunica/actor-function-factory-term-hours/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-hours/lib/ActorFunctionFactoryTermHours.js"),G)},"../node_modules/@comunica/actor-function-factory-term-inequality/lib/ActorFunctionFactoryTermInequality.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermInequality=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-inequality/lib/TermFunctionInequality.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.NOT_EQUAL],termFunction:!0}),this.mediatorFunctionFactory=X.mediatorFunctionFactory}async run(X){const te=await this.mediatorFunctionFactory.mediate({functionName:W.SparqlOperator.EQUAL,requireTermExpression:!0,context:X.context,arguments:X.arguments});return new J.TermFunctionInequality(te)}}G.ActorFunctionFactoryTermInequality=F},"../node_modules/@comunica/actor-function-factory-term-inequality/lib/TermFunctionInequality.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionInequality=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(Y){super({arity:2,operator:W.SparqlOperator.NOT_EQUAL,overloads:(0,W.declare)(W.SparqlOperator.NOT_EQUAL).set(["term","term"],X=>([te,re])=>(0,W.bool)(!this.equalityFunction.applyOnTerms([te,re],X).typedValue)).collect()}),this.equalityFunction=Y}}G.TermFunctionInequality=J},"../node_modules/@comunica/actor-function-factory-term-inequality/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-inequality/lib/ActorFunctionFactoryTermInequality.js"),G)},"../node_modules/@comunica/actor-function-factory-term-iri/lib/ActorFunctionFactoryTermIri.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermIri=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-iri/lib/TermFunctionIri.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.IRI,W.SparqlOperator.URI],termFunction:!0})}async run(X){return new J.TermFunctionIri}}G.ActorFunctionFactoryTermIri=F},"../node_modules/@comunica/actor-function-factory-term-iri/lib/TermFunctionIri.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionIri=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),F=Q("../node_modules/relative-to-absolute-iri/index.js");class Y extends q.TermFunctionBase{constructor(){super({arity:1,operator:J.SparqlOperator.IRI,overloads:(0,J.declare)(J.SparqlOperator.IRI).set(["namedNode"],te=>re=>{const ne=re[0],ie=(0,F.resolve)(ne.str(),te.context.get(W.KeysInitQuery.baseIRI)??"");return new J.NamedNode(ie)}).onString1(te=>re=>{const ne=(0,F.resolve)(re.str(),te.context.get(W.KeysInitQuery.baseIRI)??"");return new J.NamedNode(ne)}).collect()})}}G.TermFunctionIri=Y},"../node_modules/@comunica/actor-function-factory-term-iri/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-iri/lib/ActorFunctionFactoryTermIri.js"),G)},"../node_modules/@comunica/actor-function-factory-term-is-blank/lib/ActorFunctionFactoryTermIsBlank.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermIsBlank=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-is-blank/lib/TermFunctionIsBlank.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.IS_BLANK],termFunction:!0})}async run(X){return new J.TermFunctionIsBlank}}G.ActorFunctionFactoryTermIsBlank=F},"../node_modules/@comunica/actor-function-factory-term-is-blank/lib/TermFunctionIsBlank.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionIsBlank=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.IS_BLANK,overloads:(0,W.declare)(W.SparqlOperator.IS_BLANK).onTerm1(()=>Y=>(0,W.bool)(Y.termType==="blankNode")).collect()})}}G.TermFunctionIsBlank=J},"../node_modules/@comunica/actor-function-factory-term-is-blank/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-is-blank/lib/ActorFunctionFactoryTermIsBlank.js"),G)},"../node_modules/@comunica/actor-function-factory-term-is-iri/lib/ActorFunctionFactoryTermIsIri.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermIsIri=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-is-iri/lib/TermFunctionIsIri.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.IS_IRI,W.SparqlOperator.IS_URI],termFunction:!0})}async run(X){return new J.TermFunctionIsIri}}G.ActorFunctionFactoryTermIsIri=F},"../node_modules/@comunica/actor-function-factory-term-is-iri/lib/TermFunctionIsIri.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionIsIri=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.IS_IRI,overloads:(0,W.declare)(W.SparqlOperator.IS_IRI).onTerm1(()=>Y=>(0,W.bool)(Y.termType==="namedNode")).collect()})}}G.TermFunctionIsIri=J},"../node_modules/@comunica/actor-function-factory-term-is-iri/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-is-iri/lib/ActorFunctionFactoryTermIsIri.js"),G)},"../node_modules/@comunica/actor-function-factory-term-is-literal/lib/ActorFunctionFactoryTermIsLiteral.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermIsLiteral=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-is-literal/lib/TermFunctionIsLiteral.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.IS_LITERAL],termFunction:!0})}async run(X){return new J.TermFunctionIsLiteral}}G.ActorFunctionFactoryTermIsLiteral=F},"../node_modules/@comunica/actor-function-factory-term-is-literal/lib/TermFunctionIsLiteral.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionIsLiteral=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.IS_LITERAL,overloads:(0,W.declare)(W.SparqlOperator.IS_LITERAL).onTerm1(()=>Y=>(0,W.bool)(Y.termType==="literal")).collect()})}}G.TermFunctionIsLiteral=J},"../node_modules/@comunica/actor-function-factory-term-is-literal/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-is-literal/lib/ActorFunctionFactoryTermIsLiteral.js"),G)},"../node_modules/@comunica/actor-function-factory-term-is-numeric/lib/ActorFunctionFactoryTermIsNumeric.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermIsNumeric=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-is-numeric/lib/TermFunctionIsNumeric.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.IS_NUMERIC],termFunction:!0})}async run(X){return new J.TermFunctionIsNumeric}}G.ActorFunctionFactoryTermIsNumeric=F},"../node_modules/@comunica/actor-function-factory-term-is-numeric/lib/TermFunctionIsNumeric.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionIsNumeric=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.IS_NUMERIC,overloads:(0,W.declare)(W.SparqlOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,W.bool)(!0)).onTerm1(()=>()=>(0,W.bool)(!1)).collect()})}}G.TermFunctionIsNumeric=J},"../node_modules/@comunica/actor-function-factory-term-is-numeric/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-is-numeric/lib/ActorFunctionFactoryTermIsNumeric.js"),G)},"../node_modules/@comunica/actor-function-factory-term-is-triple/lib/ActorFunctionFactoryTermIsTriple.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermIsTriple=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-is-triple/lib/TermFunctionIsTriple.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.IS_TRIPLE],termFunction:!0})}async run(X){return new J.TermFunctionIsTriple}}G.ActorFunctionFactoryTermIsTriple=F},"../node_modules/@comunica/actor-function-factory-term-is-triple/lib/TermFunctionIsTriple.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionIsTriple=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.IS_TRIPLE,overloads:(0,W.declare)(W.SparqlOperator.IS_TRIPLE).onTerm1(()=>Y=>(0,W.bool)(Y.termType==="quad")).collect()})}}G.TermFunctionIsTriple=J},"../node_modules/@comunica/actor-function-factory-term-is-triple/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-is-triple/lib/ActorFunctionFactoryTermIsTriple.js"),G)},"../node_modules/@comunica/actor-function-factory-term-lang/lib/ActorFunctionFactoryTermLang.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermLang=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-lang/lib/TermFunctionLang.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.LANG],termFunction:!0})}async run(X){return new J.TermFunctionLang}}G.ActorFunctionFactoryTermLang=F},"../node_modules/@comunica/actor-function-factory-term-lang/lib/TermFunctionLang.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionLang=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.LANG,overloads:(0,W.declare)(W.SparqlOperator.LANG).onLiteral1(()=>Y=>(0,W.string)(Y.language??"")).collect()})}}G.TermFunctionLang=J},"../node_modules/@comunica/actor-function-factory-term-lang/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-lang/lib/ActorFunctionFactoryTermLang.js"),G)},"../node_modules/@comunica/actor-function-factory-term-langmatches/lib/ActorFunctionFactoryTermLangmatches.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermLangmatches=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-langmatches/lib/TermFunctionLangmatches.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.LANG_MATCHES],termFunction:!0})}async run(X){return new J.TermFunctionLangmatches}}G.ActorFunctionFactoryTermLangmatches=F},"../node_modules/@comunica/actor-function-factory-term-langmatches/lib/TermFunctionLangmatches.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionLangmatches=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.LANG_MATCHES,overloads:(0,W.declare)(W.SparqlOperator.LANG_MATCHES).onBinaryTyped([W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING],()=>(Y,X)=>(0,W.bool)(J.langMatches(Y,X))).collect()})}static langMatches(Y,X){const te=Y.split("-"),re=X.split("-");if(!J.matchLangTag(re[0],te[0])&&!J.isWildCard(te[0]))return!1;let ne=1,ie=1;for(;ie<re.length;){if(J.isWildCard(re[ie])){ie++;continue}if(ne===te.length)return!1;if(J.matchLangTag(re[ie],te[ne])){ne++,ie++;continue}if(te[ne].length===1)return!1;ne++}return!0}static isWildCard(Y){return Y==="*"}static matchLangTag(Y,X){return new RegExp(`/${Y}/`,"iu").test(`/${X}/`)}}G.TermFunctionLangmatches=J},"../node_modules/@comunica/actor-function-factory-term-langmatches/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-langmatches/lib/ActorFunctionFactoryTermLangmatches.js"),G)},"../node_modules/@comunica/actor-function-factory-term-lcase/lib/ActorFunctionFactoryTermLcase.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermLcase=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-lcase/lib/TermFunctionLcase.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.LCASE],termFunction:!0})}async run(X){return new J.TermFunctionLcase}}G.ActorFunctionFactoryTermLcase=F},"../node_modules/@comunica/actor-function-factory-term-lcase/lib/TermFunctionLcase.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionLcase=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.LCASE,overloads:(0,W.declare)(W.SparqlOperator.LCASE).onString1Typed(()=>Y=>(0,W.string)(Y.toLowerCase())).onLangString1(()=>Y=>(0,W.langString)(Y.typedValue.toLowerCase(),Y.language)).collect()})}}G.TermFunctionLcase=J},"../node_modules/@comunica/actor-function-factory-term-lcase/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-lcase/lib/ActorFunctionFactoryTermLcase.js"),G)},"../node_modules/@comunica/actor-function-factory-term-lesser-than-equal/lib/ActorFunctionFactoryTermLesserThanEqual.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermLesserThanEqual=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-lesser-than-equal/lib/TermFunctionLesserThanEqual.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.LTE],termFunction:!0}),this.mediatorFunctionFactory=X.mediatorFunctionFactory}async run(X){const te=await this.mediatorFunctionFactory.mediate({functionName:W.SparqlOperator.EQUAL,requireTermExpression:!0,context:X.context,arguments:X.arguments}),re=await this.mediatorFunctionFactory.mediate({functionName:W.SparqlOperator.LT,requireTermExpression:!0,context:X.context,arguments:X.arguments});return new J.TermFunctionLesserThanEqual(te,re)}}G.ActorFunctionFactoryTermLesserThanEqual=F},"../node_modules/@comunica/actor-function-factory-term-lesser-than-equal/lib/TermFunctionLesserThanEqual.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionLesserThanEqual=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(Y,X){super({arity:2,operator:W.SparqlOperator.LTE,overloads:(0,W.declare)(W.SparqlOperator.LTE).set(["term","term"],te=>([re,ne])=>(0,W.bool)(this.lessThanFunction.applyOnTerms([re,ne],te).typedValue||this.equalityFunction.applyOnTerms([re,ne],te).typedValue)).collect()}),this.equalityFunction=Y,this.lessThanFunction=X}}G.TermFunctionLesserThanEqual=J},"../node_modules/@comunica/actor-function-factory-term-lesser-than-equal/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-lesser-than-equal/lib/ActorFunctionFactoryTermLesserThanEqual.js"),G)},"../node_modules/@comunica/actor-function-factory-term-lesser-than/lib/ActorFunctionFactoryTermLesserThan.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermLesserThan=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-lesser-than/lib/TermFunctionLesserThan.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.LT],termFunction:!0}),this.mediatorFunctionFactory=X.mediatorFunctionFactory}async run(X){const te=await this.mediatorFunctionFactory.mediate({functionName:W.SparqlOperator.EQUAL,requireTermExpression:!0,context:X.context,arguments:X.arguments});return new J.TermFunctionLesserThan(te)}}G.ActorFunctionFactoryTermLesserThan=F},"../node_modules/@comunica/actor-function-factory-term-lesser-than/lib/TermFunctionLesserThan.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionLesserThan=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class F extends q.TermFunctionBase{constructor(X){super({arity:2,operator:J.SparqlOperator.LT,overloads:(0,J.declare)(J.SparqlOperator.LT).numberTest(()=>(te,re)=>te<re).stringTest(()=>(te,re)=>te.localeCompare(re)===-1).booleanTest(()=>(te,re)=>te<re).dateTimeTest(te=>(re,ne)=>(0,J.toUTCDate)(re,te.context.getSafe(W.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,J.toUTCDate)(ne,te.context.getSafe(W.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[J.TypeURL.XSD_DATE_TIME,J.TypeURL.XSD_DATE_TIME],to:[J.TypeURL.XSD_DATE,J.TypeURL.XSD_DATE]}).set([J.TypeURL.XSD_YEAR_MONTH_DURATION,J.TypeURL.XSD_YEAR_MONTH_DURATION],()=>([te,re])=>(0,J.bool)((0,J.yearMonthDurationsToMonths)((0,J.defaultedYearMonthDurationRepresentation)(te.typedValue))<(0,J.yearMonthDurationsToMonths)((0,J.defaultedYearMonthDurationRepresentation)(re.typedValue)))).set([J.TypeURL.XSD_DAY_TIME_DURATION,J.TypeURL.XSD_DAY_TIME_DURATION],()=>([te,re])=>(0,J.bool)((0,J.dayTimeDurationsToSeconds)((0,J.defaultedDayTimeDurationRepresentation)(te.typedValue))<(0,J.dayTimeDurationsToSeconds)((0,J.defaultedDayTimeDurationRepresentation)(re.typedValue)))).set([J.TypeURL.XSD_TIME,J.TypeURL.XSD_TIME],te=>([re,ne])=>(0,J.bool)((0,J.toUTCDate)((0,J.defaultedDateTimeRepresentation)(re.typedValue),te.context.getSafe(W.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,J.toUTCDate)((0,J.defaultedDateTimeRepresentation)(ne.typedValue),te.context.getSafe(W.KeysExpressionEvaluator.defaultTimeZone)).getTime())).set(["quad","quad"],te=>([re,ne])=>{const ie=this.quadComponentTest(re.subject,ne.subject,te);if(ie!==void 0)return(0,J.bool)(ie);const oe=this.quadComponentTest(re.predicate,ne.predicate,te);if(oe!==void 0)return(0,J.bool)(oe);const ae=this.quadComponentTest(re.object,ne.object,te);return ae!==void 0?(0,J.bool)(ae):(0,J.bool)(this.quadComponentTest(re.graph,ne.graph,te)??!1)},!1).collect()}),this.equalityFunction=X}quadComponentTest(X,te,re){return this.equalityFunction.applyOnTerms([X,te],re).typedValue?void 0:this.applyOnTerms([X,te],re).typedValue}}G.TermFunctionLesserThan=F},"../node_modules/@comunica/actor-function-factory-term-lesser-than/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-lesser-than/lib/ActorFunctionFactoryTermLesserThan.js"),G)},"../node_modules/@comunica/actor-function-factory-term-md5/lib/ActorFunctionFactoryTermMd5.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermMd5=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-md5/lib/TermFunctionMd5.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.MD5],termFunction:!0})}async run(X){return new J.TermFunctionMd5}}G.ActorFunctionFactoryTermMd5=F},"../node_modules/@comunica/actor-function-factory-term-md5/lib/TermFunctionMd5.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionMd5=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/spark-md5/spark-md5.js");class F extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.MD5,overloads:(0,W.declare)(W.SparqlOperator.MD5).onString1Typed(()=>X=>(0,W.string)((0,J.hash)(X))).collect()})}}G.TermFunctionMd5=F},"../node_modules/@comunica/actor-function-factory-term-md5/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-md5/lib/ActorFunctionFactoryTermMd5.js"),G)},"../node_modules/@comunica/actor-function-factory-term-minutes/lib/ActorFunctionFactoryTermMinutes.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermMinutes=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-minutes/lib/TermFunctionMinutes.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.MINUTES],termFunction:!0})}async run(X){return new J.TermFunctionMinutes}}G.ActorFunctionFactoryTermMinutes=F},"../node_modules/@comunica/actor-function-factory-term-minutes/lib/TermFunctionMinutes.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionMinutes=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.MINUTES,overloads:(0,W.declare)(W.SparqlOperator.MINUTES).onDateTime1(()=>Y=>(0,W.integer)(Y.typedValue.minutes)).set([W.TypeURL.XSD_TIME],()=>([Y])=>(0,W.integer)(Y.typedValue.minutes)).collect()})}}G.TermFunctionMinutes=J},"../node_modules/@comunica/actor-function-factory-term-minutes/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-minutes/lib/ActorFunctionFactoryTermMinutes.js"),G)},"../node_modules/@comunica/actor-function-factory-term-month/lib/ActorFunctionFactoryTermMonth.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermMonth=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-month/lib/TermFunctionMonth.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.MONTH],termFunction:!0})}async run(X){return new J.TermFunctionMonth}}G.ActorFunctionFactoryTermMonth=F},"../node_modules/@comunica/actor-function-factory-term-month/lib/TermFunctionMonth.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionMonth=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.MONTH,overloads:(0,W.declare)(W.SparqlOperator.MONTH).onDateTime1(()=>Y=>(0,W.integer)(Y.typedValue.month)).set([W.TypeURL.XSD_DATE],()=>([Y])=>(0,W.integer)(Y.typedValue.month)).collect()})}}G.TermFunctionMonth=J},"../node_modules/@comunica/actor-function-factory-term-month/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-month/lib/ActorFunctionFactoryTermMonth.js"),G)},"../node_modules/@comunica/actor-function-factory-term-multiplication/lib/ActorFunctionFactoryTermMultiplication.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermMultiplication=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-multiplication/lib/TermFunctionMultiplication.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.MULTIPLICATION],termFunction:!0})}async run(X){return new J.TermFunctionMultiplication}}G.ActorFunctionFactoryTermMultiplication=F},"../node_modules/@comunica/actor-function-factory-term-multiplication/lib/TermFunctionMultiplication.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionMultiplication=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/bignumber.js/bignumber.js");class F extends q.TermFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.MULTIPLICATION,overloads:(0,W.declare)(W.SparqlOperator.MULTIPLICATION).arithmetic(()=>(X,te)=>new J.BigNumber(X).times(te).toNumber()).collect()})}}G.TermFunctionMultiplication=F},"../node_modules/@comunica/actor-function-factory-term-multiplication/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-multiplication/lib/ActorFunctionFactoryTermMultiplication.js"),G)},"../node_modules/@comunica/actor-function-factory-term-not/lib/ActorFunctionFactoryTermNot.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermNot=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-not/lib/TermFunctionNot.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.NOT],termFunction:!0})}async run(X){return new J.TermFunctionNot}}G.ActorFunctionFactoryTermNot=F},"../node_modules/@comunica/actor-function-factory-term-not/lib/TermFunctionNot.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionNot=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.NOT,overloads:(0,W.declare)(W.SparqlOperator.NOT).onTerm1(()=>Y=>(0,W.bool)(!Y.coerceEBV())).collect()})}}G.TermFunctionNot=J},"../node_modules/@comunica/actor-function-factory-term-not/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-not/lib/ActorFunctionFactoryTermNot.js"),G)},"../node_modules/@comunica/actor-function-factory-term-now/lib/ActorFunctionFactoryTermNow.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermNow=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-now/lib/TermFunctionNow.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.NOW],termFunction:!0})}async run(X){return new J.TermFunctionNow}}G.ActorFunctionFactoryTermNow=F},"../node_modules/@comunica/actor-function-factory-term-now/lib/TermFunctionNow.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionNow=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class F extends q.TermFunctionBase{constructor(){super({arity:0,operator:J.SparqlOperator.NOW,overloads:(0,J.declare)(J.SparqlOperator.NOW).set([],X=>()=>new J.DateTimeLiteral((0,J.toDateTimeRepresentation)({date:X.context.getSafe(W.KeysInitQuery.queryTimestamp),timeZone:X.context.getSafe(W.KeysExpressionEvaluator.defaultTimeZone)}))).collect()})}}G.TermFunctionNow=F},"../node_modules/@comunica/actor-function-factory-term-now/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-now/lib/ActorFunctionFactoryTermNow.js"),G)},"../node_modules/@comunica/actor-function-factory-term-object/lib/ActorFunctionFactoryTermObject.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermObject=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-object/lib/TermFunctionObject.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.OBJECT],termFunction:!0})}async run(X){return new J.TermFunctionObject}}G.ActorFunctionFactoryTermObject=F},"../node_modules/@comunica/actor-function-factory-term-object/lib/TermFunctionObject.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionObject=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.OBJECT,overloads:(0,W.declare)(W.SparqlOperator.OBJECT).onQuad1(()=>Y=>Y.object).collect()})}}G.TermFunctionObject=J},"../node_modules/@comunica/actor-function-factory-term-object/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-object/lib/ActorFunctionFactoryTermObject.js"),G)},"../node_modules/@comunica/actor-function-factory-term-predicate/lib/ActorFunctionFactoryTermPredicate.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermPredicate=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-predicate/lib/TermFunctionPredicate.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.PREDICATE],termFunction:!0})}async run(X){return new J.TermFunctionPredicate}}G.ActorFunctionFactoryTermPredicate=F},"../node_modules/@comunica/actor-function-factory-term-predicate/lib/TermFunctionPredicate.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionPredicate=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.PREDICATE,overloads:(0,W.declare)(W.SparqlOperator.PREDICATE).onQuad1(()=>Y=>Y.predicate).collect()})}}G.TermFunctionPredicate=J},"../node_modules/@comunica/actor-function-factory-term-predicate/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-predicate/lib/ActorFunctionFactoryTermPredicate.js"),G)},"../node_modules/@comunica/actor-function-factory-term-rand/lib/ActorFunctionFactoryTermRand.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermRand=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-rand/lib/TermFunctionRand.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.RAND],termFunction:!0})}async run(X){return new J.TermFunctionRand}}G.ActorFunctionFactoryTermRand=F},"../node_modules/@comunica/actor-function-factory-term-rand/lib/TermFunctionRand.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionRand=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:0,operator:W.SparqlOperator.RAND,overloads:(0,W.declare)(W.SparqlOperator.RAND).set([],()=>()=>(0,W.double)(Math.random())).collect()})}}G.TermFunctionRand=J},"../node_modules/@comunica/actor-function-factory-term-rand/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-rand/lib/ActorFunctionFactoryTermRand.js"),G)},"../node_modules/@comunica/actor-function-factory-term-regex/lib/ActorFunctionFactoryTermRegex.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermRegex=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-regex/lib/TermFunctionRegex.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.REGEX],termFunction:!0})}async run(X){return new J.TermFunctionRegex}}G.ActorFunctionFactoryTermRegex=F},"../node_modules/@comunica/actor-function-factory-term-regex/lib/TermFunctionRegex.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionRegex=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:[2,3],operator:W.SparqlOperator.REGEX,overloads:(0,W.declare)(W.SparqlOperator.REGEX).onBinaryTyped([W.TypeAlias.SPARQL_STRINGLY,W.TypeURL.XSD_STRING],J.regex2).onTernaryTyped([W.TypeAlias.SPARQL_STRINGLY,W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING],J.regex3).collect()})}static matches(Y,X,te){return new RegExp(X,te).test(Y)}static regex2(){return(Y,X)=>(0,W.bool)(J.matches(Y,X))}static regex3(){return(Y,X,te)=>(0,W.bool)(J.matches(Y,X,te))}}G.TermFunctionRegex=J},"../node_modules/@comunica/actor-function-factory-term-regex/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-regex/lib/ActorFunctionFactoryTermRegex.js"),G)},"../node_modules/@comunica/actor-function-factory-term-replace/lib/ActorFunctionFactoryTermReplace.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermReplace=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-replace/lib/TermFunctionReplace.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.REPLACE],termFunction:!0})}async run(X){return new J.TermFunctionReplace}}G.ActorFunctionFactoryTermReplace=F},"../node_modules/@comunica/actor-function-factory-term-replace/lib/TermFunctionReplace.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionReplace=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:[3,4],operator:W.SparqlOperator.REPLACE,overloads:(0,W.declare)(W.SparqlOperator.REPLACE).onTernaryTyped([W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING],()=>(Y,X,te)=>(0,W.string)(J.replace(Y,X,te))).set([W.TypeURL.RDF_LANG_STRING,W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING],()=>([Y,X,te])=>{const re=J.replace(Y.typedValue,X.typedValue,te.typedValue);return(0,W.langString)(re,Y.language)}).onQuaternaryTyped([W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING],()=>(Y,X,te,re)=>(0,W.string)(J.replace(Y,X,te,re))).set([W.TypeURL.RDF_LANG_STRING,W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING],()=>([Y,X,te,re])=>{const ne=J.replace(Y.typedValue,X.typedValue,te.typedValue,re.typedValue);return(0,W.langString)(ne,Y.language)}).collect()})}static replace(Y,X,te,re){let ne=new RegExp(X,re);if(!ne.global){const ie=re??"";ne=new RegExp(X,`${ie}g`)}return Y.replace(ne,te)}}G.TermFunctionReplace=J},"../node_modules/@comunica/actor-function-factory-term-replace/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-replace/lib/ActorFunctionFactoryTermReplace.js"),G)},"../node_modules/@comunica/actor-function-factory-term-round/lib/ActorFunctionFactoryTermRound.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermRound=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-round/lib/TermFunctionRound.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.ROUND],termFunction:!0})}async run(X){return new J.TermFunctionRound}}G.ActorFunctionFactoryTermRound=F},"../node_modules/@comunica/actor-function-factory-term-round/lib/TermFunctionRound.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionRound=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.ROUND,overloads:(0,W.declare)(W.SparqlOperator.ROUND).numericConverter(()=>Y=>Math.round(Y)).collect()})}}G.TermFunctionRound=J},"../node_modules/@comunica/actor-function-factory-term-round/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-round/lib/ActorFunctionFactoryTermRound.js"),G)},"../node_modules/@comunica/actor-function-factory-term-seconds/lib/ActorFunctionFactoryTermSeconds.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermSeconds=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-seconds/lib/TermFunctionSeconds.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.SECONDS],termFunction:!0})}async run(X){return new J.TermFunctionSeconds}}G.ActorFunctionFactoryTermSeconds=F},"../node_modules/@comunica/actor-function-factory-term-seconds/lib/TermFunctionSeconds.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionSeconds=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.SECONDS,overloads:(0,W.declare)(W.SparqlOperator.SECONDS).onDateTime1(()=>Y=>(0,W.decimal)(Y.typedValue.seconds)).set([W.TypeURL.XSD_TIME],()=>([Y])=>(0,W.integer)(Y.typedValue.seconds)).collect()})}}G.TermFunctionSeconds=J},"../node_modules/@comunica/actor-function-factory-term-seconds/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-seconds/lib/ActorFunctionFactoryTermSeconds.js"),G)},"../node_modules/@comunica/actor-function-factory-term-sha1/lib/ActorFunctionFactoryTermSha1.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermSha1=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-sha1/lib/TermFunctionSha1.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.SHA1],termFunction:!0})}async run(X){return new J.TermFunctionSha1}}G.ActorFunctionFactoryTermSha1=F},"../node_modules/@comunica/actor-function-factory-term-sha1/lib/TermFunctionSha1.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionSha1=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/hash.js/lib/hash.js");class F extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.SHA1,overloads:(0,W.declare)(W.SparqlOperator.SHA1).onString1Typed(()=>X=>(0,W.string)((0,J.sha1)().update(X).digest("hex"))).collect()})}}G.TermFunctionSha1=F},"../node_modules/@comunica/actor-function-factory-term-sha1/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-sha1/lib/ActorFunctionFactoryTermSha1.js"),G)},"../node_modules/@comunica/actor-function-factory-term-sha256/lib/ActorFunctionFactoryTermSha256.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermSha256=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-sha256/lib/TermFunctionSha256.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.SHA256],termFunction:!0})}async run(X){return new J.TermFunctionSha256}}G.ActorFunctionFactoryTermSha256=F},"../node_modules/@comunica/actor-function-factory-term-sha256/lib/TermFunctionSha256.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionSha256=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/hash.js/lib/hash.js");class F extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.SHA256,overloads:(0,W.declare)(W.SparqlOperator.SHA256).onString1Typed(()=>X=>(0,W.string)((0,J.sha256)().update(X).digest("hex"))).collect()})}}G.TermFunctionSha256=F},"../node_modules/@comunica/actor-function-factory-term-sha256/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-sha256/lib/ActorFunctionFactoryTermSha256.js"),G)},"../node_modules/@comunica/actor-function-factory-term-sha384/lib/ActorFunctionFactoryTermSha384.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermSha384=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-sha384/lib/TermFunctionSha384.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.SHA384],termFunction:!0})}async run(X){return new J.TermFunctionSha384}}G.ActorFunctionFactoryTermSha384=F},"../node_modules/@comunica/actor-function-factory-term-sha384/lib/TermFunctionSha384.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionSha384=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/hash.js/lib/hash.js");class F extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.SHA384,overloads:(0,W.declare)(W.SparqlOperator.SHA384).onString1Typed(()=>X=>(0,W.string)((0,J.sha384)().update(X).digest("hex"))).collect()})}}G.TermFunctionSha384=F},"../node_modules/@comunica/actor-function-factory-term-sha384/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-sha384/lib/ActorFunctionFactoryTermSha384.js"),G)},"../node_modules/@comunica/actor-function-factory-term-sha512/lib/ActorFunctionFactoryTermSha512.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermSha512=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-sha512/lib/TermFunctionSha512.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.SHA512],termFunction:!0})}async run(X){return new J.TermFunctionSha512}}G.ActorFunctionFactoryTermSha512=F},"../node_modules/@comunica/actor-function-factory-term-sha512/lib/TermFunctionSha512.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionSha512=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/hash.js/lib/hash.js");class F extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.SHA512,overloads:(0,W.declare)(W.SparqlOperator.SHA512).onString1Typed(()=>X=>(0,W.string)((0,J.sha512)().update(X).digest("hex"))).collect()})}}G.TermFunctionSha512=F},"../node_modules/@comunica/actor-function-factory-term-sha512/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-sha512/lib/ActorFunctionFactoryTermSha512.js"),G)},"../node_modules/@comunica/actor-function-factory-term-str-after/lib/ActorFunctionFactoryTermStrAfter.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermStrAfter=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-str-after/lib/TermFunctionStrAfter.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.STRAFTER],termFunction:!0})}async run(X){return new J.TermFunctionStrAfter}}G.ActorFunctionFactoryTermStrAfter=F},"../node_modules/@comunica/actor-function-factory-term-str-after/lib/TermFunctionStrAfter.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionStrAfter=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.STRAFTER,overloads:(0,W.declare)(W.SparqlOperator.STRAFTER).onBinaryTyped([W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING],()=>(Y,X)=>(0,W.string)(Y.slice(Y.indexOf(X)).slice(X.length))).onBinary([W.TypeURL.RDF_LANG_STRING,W.TypeURL.XSD_STRING],()=>(Y,X)=>{const[te,re]=[Y.typedValue,X.typedValue],ne=te.slice(te.indexOf(re)).slice(re.length);return ne||!re?(0,W.langString)(ne,Y.language):(0,W.string)(ne)}).onBinary([W.TypeURL.RDF_LANG_STRING,W.TypeURL.RDF_LANG_STRING],()=>(Y,X)=>{if(Y.language!==X.language)throw new W.IncompatibleLanguageOperation(Y,X);const[te,re]=[Y.typedValue,X.typedValue],ne=te.slice(te.indexOf(re)).slice(re.length);return ne||!re?(0,W.langString)(ne,Y.language):(0,W.string)(ne)}).collect()})}}G.TermFunctionStrAfter=J},"../node_modules/@comunica/actor-function-factory-term-str-after/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-str-after/lib/ActorFunctionFactoryTermStrAfter.js"),G)},"../node_modules/@comunica/actor-function-factory-term-str-before/lib/ActorFunctionFactoryTermStrBefore.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermStrBefore=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-str-before/lib/TermFunctionStrBefore.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.STRBEFORE],termFunction:!0})}async run(X){return new J.TermFunctionStrBefore}}G.ActorFunctionFactoryTermStrBefore=F},"../node_modules/@comunica/actor-function-factory-term-str-before/lib/TermFunctionStrBefore.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionStrBefore=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.STRBEFORE,overloads:(0,W.declare)(W.SparqlOperator.STRBEFORE).onBinaryTyped([W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING],()=>(Y,X)=>(0,W.string)(Y.slice(0,Math.max(0,Y.indexOf(X))))).onBinary([W.TypeURL.RDF_LANG_STRING,W.TypeURL.XSD_STRING],()=>(Y,X)=>{const[te,re]=[Y.typedValue,X.typedValue],ne=Y.typedValue.slice(0,Math.max(0,te.indexOf(re)));return ne||!re?(0,W.langString)(ne,Y.language):(0,W.string)(ne)}).onBinary([W.TypeURL.RDF_LANG_STRING,W.TypeURL.RDF_LANG_STRING],()=>(Y,X)=>{if(Y.language!==X.language)throw new W.IncompatibleLanguageOperation(Y,X);const[te,re]=[Y.typedValue,X.typedValue],ne=Y.typedValue.slice(0,Math.max(0,te.indexOf(re)));return ne||!re?(0,W.langString)(ne,Y.language):(0,W.string)(ne)}).collect()})}}G.TermFunctionStrBefore=J},"../node_modules/@comunica/actor-function-factory-term-str-before/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-str-before/lib/ActorFunctionFactoryTermStrBefore.js"),G)},"../node_modules/@comunica/actor-function-factory-term-str-dt/lib/ActorFunctionFactoryTermStrDt.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermStrDt=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-str-dt/lib/TermFunctionStrDt.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.STRDT],termFunction:!0})}async run(X){return new J.TermFunctionStrDt}}G.ActorFunctionFactoryTermStrDt=F},"../node_modules/@comunica/actor-function-factory-term-str-dt/lib/TermFunctionStrDt.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionStrDt=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class F extends q.TermFunctionBase{constructor(){super({arity:2,operator:J.SparqlOperator.STRDT,overloads:(0,J.declare)(J.SparqlOperator.STRDT).set([J.TypeURL.XSD_STRING,"namedNode"],X=>([te,re])=>{const ne=X.context.getSafe(W.KeysInitQuery.dataFactory),ie=ne.literal(te.typedValue,ne.namedNode(re.value));return new J.TermTransformer(X.context.getSafe(W.KeysExpressionEvaluator.superTypeProvider)).transformLiteral(ie)}).collect()})}}G.TermFunctionStrDt=F},"../node_modules/@comunica/actor-function-factory-term-str-dt/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-str-dt/lib/ActorFunctionFactoryTermStrDt.js"),G)},"../node_modules/@comunica/actor-function-factory-term-str-ends/lib/ActorFunctionFactoryTermStrEnds.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermStrEnds=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-str-ends/lib/TermFunctionStrEnds.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.STRENDS],termFunction:!0})}async run(X){return new J.TermFunctionStrEnds}}G.ActorFunctionFactoryTermStrEnds=F},"../node_modules/@comunica/actor-function-factory-term-str-ends/lib/TermFunctionStrEnds.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionStrEnds=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.STRENDS,overloads:(0,W.declare)(W.SparqlOperator.STRENDS).onBinaryTyped([W.TypeAlias.SPARQL_STRINGLY,W.TypeURL.XSD_STRING],()=>(Y,X)=>(0,W.bool)(Y.endsWith(X))).onBinary([W.TypeURL.RDF_LANG_STRING,W.TypeURL.RDF_LANG_STRING],()=>(Y,X)=>{if(Y.language!==X.language)throw new W.IncompatibleLanguageOperation(Y,X);return(0,W.bool)(Y.typedValue.endsWith(X.typedValue))}).collect()})}}G.TermFunctionStrEnds=J},"../node_modules/@comunica/actor-function-factory-term-str-ends/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-str-ends/lib/ActorFunctionFactoryTermStrEnds.js"),G)},"../node_modules/@comunica/actor-function-factory-term-str-lang/lib/ActorFunctionFactoryTermStrLang.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermStrLang=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-str-lang/lib/TermFunctionStrLang.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.STRLANG],termFunction:!0})}async run(X){return new J.TermFunctionStrLang}}G.ActorFunctionFactoryTermStrLang=F},"../node_modules/@comunica/actor-function-factory-term-str-lang/lib/TermFunctionStrLang.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionStrLang=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.STRLANG,overloads:(0,W.declare)(W.SparqlOperator.STRLANG).onBinaryTyped([W.TypeURL.XSD_STRING,W.TypeURL.XSD_STRING],()=>(Y,X)=>new W.LangStringLiteral(Y,X.toLowerCase())).collect()})}}G.TermFunctionStrLang=J},"../node_modules/@comunica/actor-function-factory-term-str-lang/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-str-lang/lib/ActorFunctionFactoryTermStrLang.js"),G)},"../node_modules/@comunica/actor-function-factory-term-str-len/lib/ActorFunctionFactoryTermStrLen.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermStrLen=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-str-len/lib/TermFunctionStrLen.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.STRLEN],termFunction:!0})}async run(X){return new J.TermFunctionStrLen}}G.ActorFunctionFactoryTermStrLen=F},"../node_modules/@comunica/actor-function-factory-term-str-len/lib/TermFunctionStrLen.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionStrLen=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.STRLEN,overloads:(0,W.declare)(W.SparqlOperator.STRLEN).onStringly1(()=>Y=>(0,W.integer)([...Y.typedValue].length)).collect()})}}G.TermFunctionStrLen=J},"../node_modules/@comunica/actor-function-factory-term-str-len/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-str-len/lib/ActorFunctionFactoryTermStrLen.js"),G)},"../node_modules/@comunica/actor-function-factory-term-str-starts/lib/ActorFunctionFactoryTermStrStarts.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermStrStarts=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-str-starts/lib/TermFunctionStrStarts.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.STRSTARTS],termFunction:!0})}async run(X){return new J.TermFunctionStrStarts}}G.ActorFunctionFactoryTermStrStarts=F},"../node_modules/@comunica/actor-function-factory-term-str-starts/lib/TermFunctionStrStarts.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionStrStarts=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:2,operator:W.SparqlOperator.STRSTARTS,overloads:(0,W.declare)(W.SparqlOperator.STRSTARTS).onBinaryTyped([W.TypeAlias.SPARQL_STRINGLY,W.TypeURL.XSD_STRING],()=>(Y,X)=>(0,W.bool)(Y.startsWith(X))).onBinary([W.TypeURL.RDF_LANG_STRING,W.TypeURL.RDF_LANG_STRING],()=>(Y,X)=>{if(Y.language!==X.language)throw new W.IncompatibleLanguageOperation(Y,X);return(0,W.bool)(Y.typedValue.startsWith(X.typedValue))}).collect()})}}G.TermFunctionStrStarts=J},"../node_modules/@comunica/actor-function-factory-term-str-starts/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-str-starts/lib/ActorFunctionFactoryTermStrStarts.js"),G)},"../node_modules/@comunica/actor-function-factory-term-str-uuid/lib/ActorFunctionFactoryTermStrUuid.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermStrUuid=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-str-uuid/lib/TermFunctionStrUuid.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.STRUUID],termFunction:!0})}async run(X){return new J.TermFunctionStrUuid}}G.ActorFunctionFactoryTermStrUuid=F},"../node_modules/@comunica/actor-function-factory-term-str-uuid/lib/TermFunctionStrUuid.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionStrUuid=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../packages/uuid/dist/index.js");class F extends q.TermFunctionBase{constructor(){super({arity:0,operator:W.SparqlOperator.STRUUID,overloads:(0,W.declare)(W.SparqlOperator.STRUUID).set([],()=>()=>(0,W.string)(J.v4())).collect()})}}G.TermFunctionStrUuid=F},"../node_modules/@comunica/actor-function-factory-term-str-uuid/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-str-uuid/lib/ActorFunctionFactoryTermStrUuid.js"),G)},"../node_modules/@comunica/actor-function-factory-term-str/lib/ActorFunctionFactoryTermStr.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermStr=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-str/lib/TermFunctionStr.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.STR],termFunction:!0})}async run(X){return new J.TermFunctionStr}}G.ActorFunctionFactoryTermStr=F},"../node_modules/@comunica/actor-function-factory-term-str/lib/TermFunctionStr.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionStr=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.STR,overloads:(0,W.declare)(W.SparqlOperator.STR).onTerm1(()=>Y=>(0,W.string)(Y.str())).collect()})}}G.TermFunctionStr=J},"../node_modules/@comunica/actor-function-factory-term-str/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-str/lib/ActorFunctionFactoryTermStr.js"),G)},"../node_modules/@comunica/actor-function-factory-term-sub-str/lib/ActorFunctionFactoryTermSubStr.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermSubStr=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-sub-str/lib/TermFunctionSubStr.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.SUBSTR],termFunction:!0})}async run(X){return new J.TermFunctionSubStr}}G.ActorFunctionFactoryTermSubStr=F},"../node_modules/@comunica/actor-function-factory-term-sub-str/lib/TermFunctionSubStr.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionSubStr=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:[2,3],operator:W.SparqlOperator.SUBSTR,overloads:(0,W.declare)(W.SparqlOperator.SUBSTR).onBinaryTyped([W.TypeURL.XSD_STRING,W.TypeURL.XSD_INTEGER],()=>(Y,X)=>(0,W.string)([...Y].slice(X-1).join(""))).onBinary([W.TypeURL.RDF_LANG_STRING,W.TypeURL.XSD_INTEGER],()=>(Y,X)=>{const te=[...Y.typedValue].slice(X.typedValue-1).join("");return(0,W.langString)(te,Y.language)}).onTernaryTyped([W.TypeURL.XSD_STRING,W.TypeURL.XSD_INTEGER,W.TypeURL.XSD_INTEGER],()=>(Y,X,te)=>(0,W.string)([...Y].slice(X-1,te+X-1).join(""))).onTernary([W.TypeURL.RDF_LANG_STRING,W.TypeURL.XSD_INTEGER,W.TypeURL.XSD_INTEGER],()=>(Y,X,te)=>{const re=[...Y.typedValue].slice(X.typedValue-1,te.typedValue+X.typedValue-1).join("");return(0,W.langString)(re,Y.language)}).collect()})}}G.TermFunctionSubStr=J},"../node_modules/@comunica/actor-function-factory-term-sub-str/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-sub-str/lib/ActorFunctionFactoryTermSubStr.js"),G)},"../node_modules/@comunica/actor-function-factory-term-subject/lib/ActorFunctionFactoryTermSubject.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermSubject=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-subject/lib/TermFunctionSubject.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.SUBJECT],termFunction:!0})}async run(X){return new J.TermFunctionSubject}}G.ActorFunctionFactoryTermSubject=F},"../node_modules/@comunica/actor-function-factory-term-subject/lib/TermFunctionSubject.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionSubject=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.SUBJECT,overloads:(0,W.declare)(W.SparqlOperator.SUBJECT).onQuad1(()=>Y=>Y.subject).collect()})}}G.TermFunctionSubject=J},"../node_modules/@comunica/actor-function-factory-term-subject/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-subject/lib/ActorFunctionFactoryTermSubject.js"),G)},"../node_modules/@comunica/actor-function-factory-term-subtraction/lib/ActorFunctionFactoryTermSubtraction.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermSubtraction=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-subtraction/lib/TermFunctionSubtraction.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.SUBTRACTION],termFunction:!0})}async run(X){return new J.TermFunctionSubtraction}}G.ActorFunctionFactoryTermSubtraction=F},"../node_modules/@comunica/actor-function-factory-term-subtraction/lib/TermFunctionSubtraction.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionSubtraction=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),F=Q("../node_modules/bignumber.js/bignumber.js");class Y extends q.TermFunctionBase{constructor(){super({arity:2,operator:J.SparqlOperator.SUBTRACTION,overloads:(0,J.declare)(J.SparqlOperator.SUBTRACTION).arithmetic(()=>(te,re)=>new F.BigNumber(te).minus(re).toNumber()).set([J.TypeURL.XSD_DATE_TIME,J.TypeURL.XSD_DATE_TIME],te=>([re,ne])=>new J.DayTimeDurationLiteral((0,J.elapsedDuration)(re.typedValue,ne.typedValue,te.context.getSafe(W.KeysExpressionEvaluator.defaultTimeZone)))).copy({from:[J.TypeURL.XSD_DATE_TIME,J.TypeURL.XSD_DATE_TIME],to:[J.TypeURL.XSD_DATE,J.TypeURL.XSD_DATE]}).copy({from:[J.TypeURL.XSD_DATE_TIME,J.TypeURL.XSD_DATE_TIME],to:[J.TypeURL.XSD_TIME,J.TypeURL.XSD_TIME]}).set([J.TypeURL.XSD_DATE_TIME,J.TypeURL.XSD_DAY_TIME_DURATION],()=>([te,re])=>new J.DateTimeLiteral((0,J.addDurationToDateTime)(te.typedValue,(0,J.defaultedDurationRepresentation)((0,J.negateDuration)(re.typedValue))))).copy({from:[J.TypeURL.XSD_DATE_TIME,J.TypeURL.XSD_DAY_TIME_DURATION],to:[J.TypeURL.XSD_DATE_TIME,J.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([J.TypeURL.XSD_DATE,J.TypeURL.XSD_DAY_TIME_DURATION],()=>([te,re])=>new J.DateLiteral((0,J.addDurationToDateTime)((0,J.defaultedDateTimeRepresentation)(te.typedValue),(0,J.defaultedDurationRepresentation)((0,J.negateDuration)(re.typedValue))))).copy({from:[J.TypeURL.XSD_DATE,J.TypeURL.XSD_DAY_TIME_DURATION],to:[J.TypeURL.XSD_DATE,J.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([J.TypeURL.XSD_TIME,J.TypeURL.XSD_DAY_TIME_DURATION],()=>([te,re])=>new J.TimeLiteral((0,J.addDurationToDateTime)((0,J.defaultedDateTimeRepresentation)(te.typedValue),(0,J.defaultedDurationRepresentation)((0,J.negateDuration)(re.typedValue))))).collect()})}}G.TermFunctionSubtraction=Y},"../node_modules/@comunica/actor-function-factory-term-subtraction/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-subtraction/lib/ActorFunctionFactoryTermSubtraction.js"),G)},"../node_modules/@comunica/actor-function-factory-term-timezone/lib/ActorFunctionFactoryTermTimezone.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermTimezone=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-timezone/lib/TermFunctionTimezone.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.TIMEZONE],termFunction:!0})}async run(X){return new J.TermFunctionTimezone}}G.ActorFunctionFactoryTermTimezone=F},"../node_modules/@comunica/actor-function-factory-term-timezone/lib/TermFunctionTimezone.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionTimezone=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.TIMEZONE,overloads:(0,W.declare)(W.SparqlOperator.TIMEZONE).onDateTime1(()=>Y=>{const X={hours:Y.typedValue.zoneHours,minutes:Y.typedValue.zoneMinutes};if(X.hours===void 0&&X.minutes===void 0)throw new W.InvalidTimezoneCall(Y.str());return new W.DayTimeDurationLiteral(X)}).copy({from:[W.TypeURL.XSD_DATE_TIME],to:[W.TypeURL.XSD_DATE]}).copy({from:[W.TypeURL.XSD_DATE_TIME],to:[W.TypeURL.XSD_TIME]}).collect()})}}G.TermFunctionTimezone=J},"../node_modules/@comunica/actor-function-factory-term-timezone/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-timezone/lib/ActorFunctionFactoryTermTimezone.js"),G)},"../node_modules/@comunica/actor-function-factory-term-triple/lib/ActorFunctionFactoryTermTriple.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermTriple=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-triple/lib/TermFunctionTriple.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.TRIPLE],termFunction:!0})}async run(X){return new J.TermFunctionTriple}}G.ActorFunctionFactoryTermTriple=F},"../node_modules/@comunica/actor-function-factory-term-triple/lib/TermFunctionTriple.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionTriple=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:3,operator:W.SparqlOperator.TRIPLE,overloads:(0,W.declare)(W.SparqlOperator.TRIPLE).onTerm3(Y=>(...X)=>new W.Quad(X[0],X[1],X[2],new W.DefaultGraph)).collect()})}}G.TermFunctionTriple=J},"../node_modules/@comunica/actor-function-factory-term-triple/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-triple/lib/ActorFunctionFactoryTermTriple.js"),G)},"../node_modules/@comunica/actor-function-factory-term-tz/lib/ActorFunctionFactoryTermTz.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermTz=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-tz/lib/TermFunctionTz.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.TZ],termFunction:!0})}async run(X){return new J.TermFunctionTz}}G.ActorFunctionFactoryTermTz=F},"../node_modules/@comunica/actor-function-factory-term-tz/lib/TermFunctionTz.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionTz=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.TZ,overloads:(0,W.declare)(W.SparqlOperator.TZ).onDateTime1(()=>Y=>(0,W.string)((0,W.extractRawTimeZone)(Y.str()))).copy({from:[W.TypeURL.XSD_DATE_TIME],to:[W.TypeURL.XSD_DATE]}).copy({from:[W.TypeURL.XSD_DATE_TIME],to:[W.TypeURL.XSD_TIME]}).collect()})}}G.TermFunctionTz=J},"../node_modules/@comunica/actor-function-factory-term-tz/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-tz/lib/ActorFunctionFactoryTermTz.js"),G)},"../node_modules/@comunica/actor-function-factory-term-ucase/lib/ActorFunctionFactoryTermUcase.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermUcase=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-ucase/lib/TermFunctionUcase.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.UCASE],termFunction:!0})}async run(X){return new J.TermFunctionUcase}}G.ActorFunctionFactoryTermUcase=F},"../node_modules/@comunica/actor-function-factory-term-ucase/lib/TermFunctionUcase.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionUcase=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.UCASE,overloads:(0,W.declare)(W.SparqlOperator.UCASE).onString1Typed(()=>Y=>(0,W.string)(Y.toUpperCase())).onLangString1(()=>Y=>(0,W.langString)(Y.typedValue.toUpperCase(),Y.language)).collect()})}}G.TermFunctionUcase=J},"../node_modules/@comunica/actor-function-factory-term-ucase/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-ucase/lib/ActorFunctionFactoryTermUcase.js"),G)},"../node_modules/@comunica/actor-function-factory-term-unary-minus/lib/ActorFunctionFactoryTermUnaryMinus.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermUnaryMinus=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-unary-minus/lib/TermFunctionUnaryMinus.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.UMINUS],termFunction:!0})}async run(X){return new J.TermFunctionUnaryMinus}}G.ActorFunctionFactoryTermUnaryMinus=F},"../node_modules/@comunica/actor-function-factory-term-unary-minus/lib/TermFunctionUnaryMinus.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionUnaryMinus=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.UMINUS,overloads:(0,W.declare)(W.SparqlOperator.UMINUS).numericConverter(()=>Y=>-Y).collect()})}}G.TermFunctionUnaryMinus=J},"../node_modules/@comunica/actor-function-factory-term-unary-minus/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-unary-minus/lib/ActorFunctionFactoryTermUnaryMinus.js"),G)},"../node_modules/@comunica/actor-function-factory-term-unary-plus/lib/ActorFunctionFactoryTermUnaryPlus.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermUnaryPlus=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-unary-plus/lib/TermFunctionUnaryPlus.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.UPLUS],termFunction:!0})}async run(X){return new J.TermFunctionUnaryPlus}}G.ActorFunctionFactoryTermUnaryPlus=F},"../node_modules/@comunica/actor-function-factory-term-unary-plus/lib/TermFunctionUnaryPlus.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionUnaryPlus=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.UPLUS,overloads:(0,W.declare)(W.SparqlOperator.UPLUS).numericConverter(()=>Y=>Y).collect()})}}G.TermFunctionUnaryPlus=J},"../node_modules/@comunica/actor-function-factory-term-unary-plus/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-unary-plus/lib/ActorFunctionFactoryTermUnaryPlus.js"),G)},"../node_modules/@comunica/actor-function-factory-term-uuid/lib/ActorFunctionFactoryTermUuid.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermUuid=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-uuid/lib/TermFunctionUuid.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.UUID],termFunction:!0})}async run(X){return new J.TermFunctionUuid}}G.ActorFunctionFactoryTermUuid=F},"../node_modules/@comunica/actor-function-factory-term-uuid/lib/TermFunctionUuid.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionUuid=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../packages/uuid/dist/index.js");class F extends q.TermFunctionBase{constructor(){super({arity:0,operator:W.SparqlOperator.UUID,overloads:(0,W.declare)(W.SparqlOperator.UUID).set([],()=>()=>new W.NamedNode(`urn:uuid:${J.v4()}`)).collect()})}}G.TermFunctionUuid=F},"../node_modules/@comunica/actor-function-factory-term-uuid/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-uuid/lib/ActorFunctionFactoryTermUuid.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-boolean/lib/ActorFunctionFactoryTermXsdToBoolean.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToBoolean=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-boolean/lib/TermFunctionXsdToBoolean.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_BOOLEAN],termFunction:!0})}async run(X){return new J.TermFunctionXsdToBoolean}}G.ActorFunctionFactoryTermXsdToBoolean=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-boolean/lib/TermFunctionXsdToBoolean.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToBoolean=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_BOOLEAN,overloads:(0,W.declare)(W.TypeURL.XSD_BOOLEAN).onNumeric1(()=>Y=>(0,W.bool)(Y.coerceEBV()),!0).onUnary(W.TypeURL.XSD_BOOLEAN,()=>Y=>(0,W.bool)(Y.coerceEBV()),!0).onUnary(W.TypeURL.XSD_STRING,()=>Y=>{switch(Y.str()){case"true":return(0,W.bool)(!0);case"false":return(0,W.bool)(!1);case"1":return(0,W.bool)(!0);case"0":return(0,W.bool)(!1);default:throw new W.CastError(Y,W.TypeURL.XSD_BOOLEAN)}},!1).collect()})}}G.TermFunctionXsdToBoolean=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-boolean/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-boolean/lib/ActorFunctionFactoryTermXsdToBoolean.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-date/lib/ActorFunctionFactoryTermXsdToDate.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToDate=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-date/lib/TermFunctionXsdToDate.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_DATE],termFunction:!0})}async run(X){return new J.TermFunctionXsdToDate}}G.ActorFunctionFactoryTermXsdToDate=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-date/lib/TermFunctionXsdToDate.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToDate=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_DATE,overloads:(0,W.declare)(W.TypeURL.XSD_DATE).onUnary(W.TypeURL.XSD_DATE,()=>Y=>new W.DateLiteral(Y.typedValue,Y.strValue)).onUnary(W.TypeURL.XSD_DATE_TIME,()=>Y=>new W.DateLiteral(Y.typedValue)).onStringly1(()=>Y=>new W.DateLiteral((0,W.parseDate)(Y.str()))).collect()})}}G.TermFunctionXsdToDate=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-date/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-date/lib/ActorFunctionFactoryTermXsdToDate.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-datetime/lib/ActorFunctionFactoryTermXsdToDatetime.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToDatetime=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-datetime/lib/TermFunctionXsdToDatetime.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_DATE_TIME],termFunction:!0})}async run(X){return new J.TermFunctionXsdToDatetime}}G.ActorFunctionFactoryTermXsdToDatetime=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-datetime/lib/TermFunctionXsdToDatetime.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToDatetime=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_DATE_TIME,overloads:(0,W.declare)(W.TypeURL.XSD_DATE_TIME).onUnary(W.TypeURL.XSD_DATE_TIME,()=>Y=>Y).onUnary(W.TypeURL.XSD_STRING,()=>Y=>(0,W.dateTime)((0,W.parseDateTime)(Y.str()),Y.str()),!1).onUnary(W.TypeURL.XSD_DATE,()=>Y=>new W.DateTimeLiteral({...Y.typedValue,hours:0,minutes:0,seconds:0})).collect()})}}G.TermFunctionXsdToDatetime=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-datetime/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-datetime/lib/ActorFunctionFactoryTermXsdToDatetime.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-day-time-duration/lib/ActorFunctionFactoryTermXsdToDayTimeDuration.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToDayTimeDuration=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-day-time-duration/lib/TermFunctionXsdToDayTimeDuration.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_DAY_TIME_DURATION],termFunction:!0})}async run(X){return new J.TermFunctionXsdToDayTimeDuration}}G.ActorFunctionFactoryTermXsdToDayTimeDuration=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-day-time-duration/lib/TermFunctionXsdToDayTimeDuration.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToDayTimeDuration=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,W.declare)(W.TypeURL.XSD_DAY_TIME_DURATION).onUnary(W.TypeURL.XSD_DURATION,()=>Y=>new W.DayTimeDurationLiteral((0,W.trimToDayTimeDuration)(Y.typedValue))).onStringly1(()=>Y=>new W.DayTimeDurationLiteral((0,W.parseDayTimeDuration)(Y.str()))).collect()})}}G.TermFunctionXsdToDayTimeDuration=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-day-time-duration/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-day-time-duration/lib/ActorFunctionFactoryTermXsdToDayTimeDuration.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-decimal/lib/ActorFunctionFactoryTermXsdToDecimal.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToDecimal=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-decimal/lib/TermFunctionXsdToDecimal.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_DECIMAL],termFunction:!0})}async run(X){return new J.TermFunctionXsdToDecimal}}G.ActorFunctionFactoryTermXsdToDecimal=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-decimal/lib/TermFunctionXsdToDecimal.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToDecimal=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_DECIMAL,overloads:(0,W.declare)(W.TypeURL.XSD_DECIMAL).onNumeric1(()=>Y=>{const X=(0,W.parseXSDDecimal)(Y.str());if(X===void 0)throw new W.CastError(Y,W.TypeURL.XSD_DECIMAL);return(0,W.decimal)(X)}).onString1(()=>Y=>{const X=Y.str(),te=/^([+-])?(\d+(\.\d+)?)$/u.test(X)?(0,W.parseXSDDecimal)(X):void 0;if(te===void 0)throw new W.CastError(Y,W.TypeURL.XSD_DECIMAL);return(0,W.decimal)(te)},!1).onBoolean1Typed(()=>Y=>(0,W.decimal)(Y?1:0)).collect()})}}G.TermFunctionXsdToDecimal=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-decimal/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-decimal/lib/ActorFunctionFactoryTermXsdToDecimal.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-double/lib/ActorFunctionFactoryTermXsdToDouble.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToDouble=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-double/lib/TermFunctionXsdToDouble.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_DOUBLE],termFunction:!0})}async run(X){return new J.TermFunctionXsdToDouble}}G.ActorFunctionFactoryTermXsdToDouble=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-double/lib/TermFunctionXsdToDouble.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToDouble=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_DOUBLE,overloads:(0,W.declare)(W.TypeURL.XSD_DOUBLE).onNumeric1(()=>Y=>(0,W.double)(Y.typedValue)).onBoolean1Typed(()=>Y=>(0,W.double)(Y?1:0)).onUnary(W.TypeURL.XSD_STRING,()=>Y=>{const X=(0,W.parseXSDFloat)(Y.str());if(X===void 0)throw new W.CastError(Y,W.TypeURL.XSD_DOUBLE);return(0,W.double)(X)},!1).collect()})}}G.TermFunctionXsdToDouble=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-double/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-double/lib/ActorFunctionFactoryTermXsdToDouble.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-duration/lib/ActorFunctionFactoryTermXsdToDuration.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToDuration=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-duration/lib/TermFunctionXsdToDuration.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_DURATION],termFunction:!0})}async run(X){return new J.TermFunctionXsdToDuration}}G.ActorFunctionFactoryTermXsdToDuration=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-duration/lib/TermFunctionXsdToDuration.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToDuration=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,W.declare)(W.TypeURL.XSD_DURATION).onUnary(W.TypeURL.XSD_DURATION,()=>Y=>new W.DurationLiteral(Y.typedValue,Y.strValue)).onStringly1(()=>Y=>new W.DurationLiteral((0,W.parseDuration)(Y.str()))).collect()})}}G.TermFunctionXsdToDuration=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-duration/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-duration/lib/ActorFunctionFactoryTermXsdToDuration.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-float/lib/ActorFunctionFactoryTermXsdToFloat.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToFloat=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-float/lib/TermFunctionXsdToFloat.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_FLOAT],termFunction:!0})}async run(X){return new J.TermFunctionXsdToFloat}}G.ActorFunctionFactoryTermXsdToFloat=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-float/lib/TermFunctionXsdToFloat.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToFloat=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_FLOAT,overloads:(0,W.declare)(W.TypeURL.XSD_FLOAT).onNumeric1(()=>Y=>(0,W.float)(Y.typedValue)).onBoolean1Typed(()=>Y=>(0,W.float)(Y?1:0)).onUnary(W.TypeURL.XSD_STRING,()=>Y=>{const X=(0,W.parseXSDFloat)(Y.str());if(X===void 0)throw new W.CastError(Y,W.TypeURL.XSD_FLOAT);return(0,W.float)(X)},!1).collect()})}}G.TermFunctionXsdToFloat=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-float/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-float/lib/ActorFunctionFactoryTermXsdToFloat.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-integer/lib/ActorFunctionFactoryTermXsdToInteger.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToInteger=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-integer/lib/TermFunctionXsdToInteger.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_INTEGER],termFunction:!0})}async run(X){return new J.TermFunctionXsdToInteger}}G.ActorFunctionFactoryTermXsdToInteger=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-integer/lib/TermFunctionXsdToInteger.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToInteger=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_INTEGER,overloads:(0,W.declare)(W.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>Y=>(0,W.integer)(Y?1:0)).onNumeric1(()=>Y=>{if(!Number.isFinite(Y.typedValue))throw new W.CastError(Y,W.TypeURL.XSD_INTEGER);return(0,W.integer)(Math.trunc(Y.typedValue))}).onString1(()=>Y=>{const X=Y.str(),te=/^\d+$/u.test(X)?Number.parseInt(X,10):void 0;if(te===void 0)throw new W.CastError(Y,W.TypeURL.XSD_INTEGER);return(0,W.integer)(te)}).collect()})}}G.TermFunctionXsdToInteger=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-integer/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-integer/lib/ActorFunctionFactoryTermXsdToInteger.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-string/lib/ActorFunctionFactoryTermXsdToString.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToString=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-string/lib/TermFunctionXsdToString.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_STRING],termFunction:!0})}async run(X){return new J.TermFunctionXsdToString}}G.ActorFunctionFactoryTermXsdToString=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-string/lib/TermFunctionXsdToString.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToString=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_STRING,overloads:(0,W.declare)(W.TypeURL.XSD_STRING).onNumeric1(()=>Y=>(0,W.string)((0,W.float)(Y.typedValue).str())).onBoolean1Typed(()=>Y=>(0,W.string)((0,W.bool)(Y).str())).onTerm1(()=>Y=>(0,W.string)(Y.str())).collect()})}}G.TermFunctionXsdToString=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-string/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-string/lib/ActorFunctionFactoryTermXsdToString.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-time/lib/ActorFunctionFactoryTermXsdToTime.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToTime=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-time/lib/TermFunctionXsdToTime.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_TIME],termFunction:!0})}async run(X){return new J.TermFunctionXsdToTime}}G.ActorFunctionFactoryTermXsdToTime=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-time/lib/TermFunctionXsdToTime.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToTime=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_TIME,overloads:(0,W.declare)(W.TypeURL.XSD_TIME).onUnary(W.TypeURL.XSD_TIME,()=>Y=>new W.TimeLiteral(Y.typedValue,Y.strValue)).onUnary(W.TypeURL.XSD_DATE_TIME,()=>Y=>new W.TimeLiteral(Y.typedValue)).onStringly1(()=>Y=>new W.TimeLiteral((0,W.parseTime)(Y.str()))).collect()})}}G.TermFunctionXsdToTime=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-time/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-time/lib/ActorFunctionFactoryTermXsdToTime.js"),G)},"../node_modules/@comunica/actor-function-factory-term-xsd-to-year-month-duration/lib/ActorFunctionFactoryTermXsdToYearMonthDuration.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermXsdToYearMonthDuration=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-year-month-duration/lib/TermFunctionXsdToYearMonthDuration.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.TypeURL.XSD_YEAR_MONTH_DURATION],termFunction:!0})}async run(X){return new J.TermFunctionXsdToYearMonthDuration}}G.ActorFunctionFactoryTermXsdToYearMonthDuration=F},"../node_modules/@comunica/actor-function-factory-term-xsd-to-year-month-duration/lib/TermFunctionXsdToYearMonthDuration.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionXsdToYearMonthDuration=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.TypeURL.XSD_YEAR_MONTH_DURATION,overloads:(0,W.declare)(W.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(W.TypeURL.XSD_DURATION,()=>Y=>new W.YearMonthDurationLiteral((0,W.trimToYearMonthDuration)(Y.typedValue))).onStringly1(()=>Y=>new W.YearMonthDurationLiteral((0,W.parseYearMonthDuration)(Y.str()))).collect()})}}G.TermFunctionXsdToYearMonthDuration=J},"../node_modules/@comunica/actor-function-factory-term-xsd-to-year-month-duration/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-year-month-duration/lib/ActorFunctionFactoryTermXsdToYearMonthDuration.js"),G)},"../node_modules/@comunica/actor-function-factory-term-year/lib/ActorFunctionFactoryTermYear.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryTermYear=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/@comunica/actor-function-factory-term-year/lib/TermFunctionYear.js");class F extends q.ActorFunctionFactoryDedicated{constructor(X){super({...X,functionNames:[W.SparqlOperator.YEAR],termFunction:!0})}async run(X){return new J.TermFunctionYear}}G.ActorFunctionFactoryTermYear=F},"../node_modules/@comunica/actor-function-factory-term-year/lib/TermFunctionYear.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionYear=void 0;const q=Q("../node_modules/@comunica/bus-function-factory/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J extends q.TermFunctionBase{constructor(){super({arity:1,operator:W.SparqlOperator.YEAR,overloads:(0,W.declare)(W.SparqlOperator.YEAR).onDateTime1(()=>Y=>(0,W.integer)(Y.typedValue.year)).set([W.TypeURL.XSD_DATE],()=>([Y])=>(0,W.integer)(Y.typedValue.year)).collect()})}}G.TermFunctionYear=J},"../node_modules/@comunica/actor-function-factory-term-year/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-function-factory-term-year/lib/ActorFunctionFactoryTermYear.js"),G)},"../node_modules/@comunica/actor-hash-bindings-murmur/lib/ActorHashBindingsMurmur.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorHashBindingsMurmur=void 0;const q=Q("../node_modules/@comunica/bus-hash-bindings/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/imurmurhash/imurmurhash.js");class F extends q.ActorHashBindings{async test(X){return(0,W.passTestVoid)()}async run(X){return{hashFunction:(te,re)=>{var ie;let ne=J();for(const oe of re)ne=ne.hash(((ie=te.get(oe))==null?void 0:ie.value)??"UNDEF");return ne.result()}}}}G.ActorHashBindingsMurmur=F},"../node_modules/@comunica/actor-hash-bindings-murmur/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-hash-bindings-murmur/lib/ActorHashBindingsMurmur.js"),G)},"../node_modules/@comunica/actor-hash-quads-murmur/lib/ActorHashQuadsMurmur.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorHashQuadsMurmur=void 0;const q=Q("../node_modules/@comunica/bus-hash-quads/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/imurmurhash/imurmurhash.js");class F extends q.ActorHashQuads{async test(X){return(0,W.passTestVoid)()}async run(X){return{hashFunction:te=>{const re=J(te.subject.value);return re.hash(te.predicate.value),re.hash(te.object.value),re.hash(te.graph.value),re.result()}}}}G.ActorHashQuadsMurmur=F},"../node_modules/@comunica/actor-hash-quads-murmur/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-hash-quads-murmur/lib/ActorHashQuadsMurmur.js"),G)},"../node_modules/@comunica/actor-init-query/lib/ActorInitQuery-browser.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorInitQuery=void 0;const q=Q("../node_modules/@comunica/actor-init-query/lib/ActorInitQueryBase.js");typeof process>"u"&&(globalThis.process=Q("../node_modules/process/browser.js"));class W extends q.ActorInitQueryBase{}G.ActorInitQuery=W},"../node_modules/@comunica/actor-init-query/lib/ActorInitQueryBase.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorInitQueryBase=void 0;const q=Q("../node_modules/@comunica/bus-init/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js");class J extends q.ActorInit{async test(Y){return(0,W.passTestVoid)()}async run(Y){throw new Error("ActorInitSparql#run is not supported in the browser.")}}G.ActorInitQueryBase=J},"../node_modules/@comunica/actor-init-query/lib/QueryEngineBase.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.QueryEngineBase=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js");class J{constructor(Y){this.actorInitQuery=Y}async queryBindings(Y,X){return this.queryOfType(Y,X,"bindings")}async queryQuads(Y,X){return this.queryOfType(Y,X,"quads")}async queryBoolean(Y,X){return this.queryOfType(Y,X,"boolean")}async queryVoid(Y,X){return this.queryOfType(Y,X,"void")}async queryOfType(Y,X,te){const re=await this.query(Y,X);if(re.resultType===te)return await re.execute();throw new Error(`Query result type '${te}' was expected, while '${re.resultType}' was found.`)}async query(Y,X){const te=await this.queryOrExplain(Y,X);if("explain"in te)throw new Error("Tried to explain a query when in query-only mode");return te}async explain(Y,X,te){return X.explain=te,await this.queryOrExplain(Y,X)}async queryOrExplain(Y,X){const te=W.ActionContext.ensureActionContext(X);te.get(q.KeysInitQuery.invalidateCache)&&await this.invalidateHttpCache();const{result:re}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:Y,context:te});return"explain"in re?re:J.internalToFinalResult(re)}async getResultMediaTypes(Y){return Y=W.ActionContext.ensureActionContext(Y),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:Y,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(Y){return Y=W.ActionContext.ensureActionContext(Y),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:Y,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(Y,X,te){if(te=W.ActionContext.ensureActionContext(te),!X)switch(Y.resultType){case"bindings":X="application/json";break;case"quads":X="application/trig";break;default:X="simple";break}const re={...await J.finalToInternalResult(Y),context:te};return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:te,handle:re,handleMediaType:X})).handle}invalidateHttpCache(Y,X){return X=W.ActionContext.ensureActionContext(X),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:Y,context:X})}static internalToFinalResult(Y){switch(Y.type){case"bindings":return{resultType:"bindings",execute:async()=>Y.bindingsStream,metadata:async()=>{const X=await Y.metadata();return X.variables=X.variables.map(te=>te.variable),X},context:Y.context};case"quads":return{resultType:"quads",execute:async()=>Y.quadStream,metadata:async()=>await Y.metadata(),context:Y.context};case"boolean":return{resultType:"boolean",execute:async()=>Y.execute(),context:Y.context};case"void":return{resultType:"void",execute:async()=>Y.execute(),context:Y.context}}}static async finalToInternalResult(Y){switch(Y.resultType){case"bindings":return{type:"bindings",bindingsStream:await Y.execute(),metadata:async()=>{const X=await Y.metadata();return X.variables=X.variables.map(te=>({variable:te,canBeUndef:!1})),X}};case"quads":return{type:"quads",quadStream:await Y.execute(),metadata:async()=>await Y.metadata()};case"boolean":return{type:"boolean",execute:()=>Y.execute()};case"void":return{type:"void",execute:()=>Y.execute()}}}}G.QueryEngineBase=J},"../node_modules/@comunica/actor-init-query/lib/index-browser.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(F,Y,X,te){te===void 0&&(te=X);var re=Object.getOwnPropertyDescriptor(Y,X);(!re||("get"in re?!Y.__esModule:re.writable||re.configurable))&&(re={enumerable:!0,get:function(){return Y[X]}}),Object.defineProperty(F,te,re)}:function(F,Y,X,te){te===void 0&&(te=X),F[te]=Y[X]}),W=this&&this.__exportStar||function(F,Y){for(var X in F)X!=="default"&&!Object.prototype.hasOwnProperty.call(Y,X)&&q(Y,F,X)};Object.defineProperty(G,"__esModule",{value:!0}),G.QueryEngineBase=void 0,W(Q("../node_modules/@comunica/actor-init-query/lib/ActorInitQueryBase.js"),G),W(Q("../node_modules/@comunica/actor-init-query/lib/ActorInitQuery-browser.js"),G);var J=Q("../node_modules/@comunica/actor-init-query/lib/QueryEngineBase.js");Object.defineProperty(G,"QueryEngineBase",{enumerable:!0,get:function(){return J.QueryEngineBase}})},"../node_modules/@comunica/actor-optimize-query-operation-assign-sources-exhaustive/lib/ActorOptimizeQueryOperationAssignSourcesExhaustive.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/bus-rdf-update-quads/lib/index.js"),J=Q("../node_modules/@comunica/context-entries/lib/index.js"),F=Q("../node_modules/@comunica/core/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),X=Q("sparqlalgebrajs");class te extends q.ActorOptimizeQueryOperation{constructor(ne){super(ne)}async test(ne){return(0,F.passTestVoid)()}async run(ne){const ie=ne.context.getSafe(J.KeysInitQuery.dataFactory),oe=new X.Factory(ie),ae=ne.context.get(J.KeysQueryOperation.querySources)??[];if(ae.length===0)return{operation:ne.operation,context:ne.context};if(ae.length===1){const ue=ae[0],ce=ne.context.get(J.KeysRdfUpdateQuads.destination);if(!ce||ue.source.referenceValue===(0,W.getDataDestinationValue)(ce))try{const se=await ue.source.getSelectorShape(ne.context);if((0,Y.doesShapeAcceptOperation)(se,ne.operation))return{operation:(0,Y.assignOperationSource)(ne.operation,ue),context:ne.context}}catch{}}return{operation:this.assignExhaustive(oe,ne.operation,ae),context:ne.context.delete(J.KeysInitQuery.queryString)}}assignExhaustive(ne,ie,oe){const ae=this;return X.Util.mapOperation(ie,{[X.Algebra.types.PATTERN](ue,ce){return oe.length===1?{result:(0,Y.assignOperationSource)(ue,oe[0]),recurse:!1}:{result:ce.createUnion(oe.map(se=>(0,Y.assignOperationSource)(ue,se))),recurse:!1}},[X.Algebra.types.LINK](ue,ce){return oe.length===1?{result:(0,Y.assignOperationSource)(ue,oe[0]),recurse:!1}:{result:ce.createAlt(oe.map(se=>(0,Y.assignOperationSource)(ue,se))),recurse:!1}},[X.Algebra.types.NPS](ue,ce){return oe.length===1?{result:(0,Y.assignOperationSource)(ue,oe[0]),recurse:!1}:{result:ce.createAlt(oe.map(se=>(0,Y.assignOperationSource)(ue,se))),recurse:!1}},[X.Algebra.types.SERVICE](ue){return{result:ue,recurse:!1}},[X.Algebra.types.CONSTRUCT](ue,ce){return{result:ce.createConstruct(ae.assignExhaustive(ne,ue.input,oe),ue.template),recurse:!1}},[X.Algebra.types.DELETE_INSERT](ue,ce){return{result:ce.createDeleteInsert(ue.delete,ue.insert,ue.where?ae.assignExhaustive(ne,ue.where,oe):void 0),recurse:!1}}},ne)}}G.ActorOptimizeQueryOperationAssignSourcesExhaustive=te},"../node_modules/@comunica/actor-optimize-query-operation-assign-sources-exhaustive/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-assign-sources-exhaustive/lib/ActorOptimizeQueryOperationAssignSourcesExhaustive.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/ActorOptimizeQueryOperationBgpToJoin.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationBgpToJoin=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorOptimizeQueryOperation{async test(te){return(0,J.passTestVoid)()}async run(te){const re=te.context.getSafe(W.KeysInitQuery.dataFactory),ne=new F.Factory(re);return{operation:F.Util.mapOperation(te.operation,{bgp(ie,oe){return{recurse:!1,result:oe.createJoin(ie.patterns)}}},ne),context:te.context}}}G.ActorOptimizeQueryOperationBgpToJoin=Y},"../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/ActorOptimizeQueryOperationBgpToJoin.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-construct-distinct/lib/ActorOptimizeQueryOperationConstructDistinct.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationConstructDistinct=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/Keys.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorOptimizeQueryOperation{constructor(te){super(te)}async test(te){return te.context.has(W.KeysInitQuery.distinctConstruct)?(0,J.passTestVoid)():(0,J.failTest)(`${this.name} was not enabled by the query.`)}async run(te){return{operation:F.Util.mapOperation(te.operation,{construct(re,ne){return{recurse:!1,result:ne.createDistinct(ne.createConstruct(re.input,re.template))}}}),context:te.context.delete(W.KeysInitQuery.distinctConstruct)}}}G.ActorOptimizeQueryOperationConstructDistinct=Y},"../node_modules/@comunica/actor-optimize-query-operation-construct-distinct/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-construct-distinct/lib/ActorOptimizeQueryOperationConstructDistinct.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-describe-to-constructs-subject/lib/ActorOptimizeQueryOperationDescribeToConstructsSubject.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorOptimizeQueryOperation{constructor(te){super(te)}async test(te){return te.operation.type!==F.Algebra.types.DESCRIBE?(0,J.failTest)(`Actor ${this.name} only supports describe operations, but got ${te.operation.type}`):(0,J.passTest)(!0)}async run(te){const re=te.context.getSafe(W.KeysInitQuery.dataFactory),ne=new F.Factory(re),ie=te.operation,oe=ie.terms.filter(ae=>ae.termType!=="Variable").map(ae=>{const ue=[re.quad(ae,re.variable("__predicate"),re.variable("__object"))];return ue.forEach(ce=>ce.type="pattern"),{input:{type:F.Algebra.types.BGP,patterns:ue},template:ue,type:"construct"}});if(oe.length!==ie.terms.length){let ae=[];ie.terms.filter(ue=>ue.termType==="Variable").forEach((ue,ce)=>{const se=[re.quad(ue,re.variable(`__predicate${ce}`),re.variable(`__object${ce}`))];se.forEach(le=>le.type="pattern"),ae=[...ae,...se]}),oe.push({input:{type:F.Algebra.types.JOIN,input:[ie.input,{type:F.Algebra.types.BGP,patterns:ae}]},template:ae,type:F.Algebra.types.CONSTRUCT})}return{operation:ne.createUnion(oe,!1),context:te.context}}}G.ActorOptimizeQueryOperationDescribeToConstructsSubject=Y},"../node_modules/@comunica/actor-optimize-query-operation-describe-to-constructs-subject/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-describe-to-constructs-subject/lib/ActorOptimizeQueryOperationDescribeToConstructsSubject.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-filter-pushdown/lib/ActorOptimizeQueryOperationFilterPushdown.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationFilterPushdown=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("../node_modules/rdf-terms/index.js"),X=Q("sparqlalgebrajs");class te extends q.ActorOptimizeQueryOperation{constructor(ne){super(ne)}async test(ne){return(0,J.passTestVoid)()}async run(ne){const ie=ne.context.getSafe(W.KeysInitQuery.dataFactory),oe=new X.Factory(ie);let ae=ne.operation;const ue=this;this.splitConjunctive&&(ae=X.Util.mapOperation(ae,{filter(he,pe){return he.expression.expressionType===X.Algebra.expressionTypes.OPERATOR&&he.expression.operator==="&&"?(ue.logDebug(ne.context,`Split conjunctive filter into ${he.expression.args.length} nested filters`),{recurse:!0,result:he.expression.args.reduce((ge,be)=>pe.createFilter(ge,be),he.input)}):{recurse:!0,result:he}}},oe));const ce=this.getSources(ae),se=new Map(await Promise.all(ce.map(async he=>[he,await he.source.getSelectorShape(ne.context)])));let le=!0,de=0;for(;le&&de<this.maxIterations;)le=!1,ae=X.Util.mapOperation(ae,{filter(he,pe){if(!ue.shouldAttemptPushDown(he,ce,se))return{recurse:!0,result:he};const ge=ue.getExpressionVariables(he.expression),[be,ve]=ue.filterPushdown(he.expression,ge,he.input,pe,ne.context);return be&&(le=!0),{recurse:!0,result:ve}}}),de++;return de>1&&ue.logDebug(ne.context,`Pushed down filters in ${de} iterations`),this.mergeConjunctive&&(ae=X.Util.mapOperation(ae,{filter(he,pe){if(he.input.type===X.Algebra.types.FILTER){const{nestedExpressions:ge,input:be}=ue.getNestedFilterExpressions(he);return ue.logDebug(ne.context,`Merge ${ge.length} nested filters into conjunctive filter`),{recurse:!0,result:pe.createFilter(be,ge.slice(1).reduce((ve,Ee)=>pe.createOperatorExpression("&&",[ve,Ee]),ge[0]))}}return{recurse:!0,result:he}}})),{operation:ae,context:ne.context}}shouldAttemptPushDown(ne,ie,oe){if(this.aggressivePushdown)return!0;const ae=ne.expression;return!!(ae.expressionType===X.Algebra.expressionTypes.OPERATOR&&ae.operator==="="&&(ae.args[0].expressionType==="term"&&ae.args[0].term.termType!=="Variable"&&ae.args[1].expressionType==="term"&&ae.args[1].term.termType==="Variable"||ae.args[0].expressionType==="term"&&ae.args[0].term.termType==="Variable"&&ae.args[1].expressionType==="term"&&ae.args[1].term.termType!=="Variable")||ie.some(ue=>(0,F.doesShapeAcceptOperation)(oe.get(ue),ne)))}getSources(ne){const ie=new Set,oe=ae=>{const ue=(0,F.getOperationSource)(ae);return ue&&ie.add(ue),!1};return X.Util.recurseOperation(ne,{[X.Algebra.types.PATTERN]:oe,[X.Algebra.types.LINK]:oe,[X.Algebra.types.NPS]:oe,[X.Algebra.types.SERVICE]:oe}),[...ie]}getExpressionVariables(ne){switch(ne.expressionType){case X.Algebra.expressionTypes.AGGREGATE:case X.Algebra.expressionTypes.WILDCARD:throw new Error(`Getting expression variables is not supported for ${ne.expressionType}`);case X.Algebra.expressionTypes.EXISTENCE:return X.Util.inScopeVariables(ne.input);case X.Algebra.expressionTypes.NAMED:return[];case X.Algebra.expressionTypes.OPERATOR:return(0,Y.uniqTerms)(ne.args.flatMap(ie=>this.getExpressionVariables(ie)));case X.Algebra.expressionTypes.TERM:return ne.term.termType==="Variable"?[ne.term]:[]}}getOverlappingOperations(ne,ie){const oe=[],ae=[],ue=[];for(const ce of ne.input){const se=X.Util.inScopeVariables(ce);this.variablesSubSetOf(ie,se)?oe.push(ce):this.variablesIntersect(ie,se)?ae.push(ce):ue.push(ce)}return{fullyOverlapping:oe,partiallyOverlapping:ae,notOverlapping:ue}}filterPushdown(ne,ie,oe,ae,ue){if(this.isExpressionFalse(ne))return[!0,ae.createUnion([])];if(ne.type===X.Algebra.types.EXPRESSION&&ne.expressionType===X.Algebra.expressionTypes.EXISTENCE)return[!1,ae.createFilter(oe,ne)];switch(oe.type){case X.Algebra.types.EXTEND:return this.variablesIntersect([oe.variable],ie)?[!1,ae.createFilter(oe,ne)]:[!0,ae.createExtend(this.filterPushdown(ne,ie,oe.input,ae,ue)[1],oe.variable,oe.expression)];case X.Algebra.types.FILTER:{const[ce,se]=this.filterPushdown(ne,ie,oe.input,ae,ue);return[ce,ae.createFilter(se,oe.expression)]}case X.Algebra.types.JOIN:{if(oe.input.length===0)return[!1,ae.createFilter(oe,ne)];const{fullyOverlapping:ce,partiallyOverlapping:se,notOverlapping:le}=this.getOverlappingOperations(oe,ie),de=[];let he=!1;return ce.length>0&&(he=!0,de.push(ae.createJoin(ce.map(pe=>this.filterPushdown(ne,ie,pe,ae,ue)[1])))),se.length>0&&de.push(ae.createFilter(ae.createJoin(se,!1),ne)),le.length>0&&de.push(...le),de.length>1&&(he=!0),he&&this.logDebug(ue,`Push down filter across join entries with ${ce.length} fully overlapping, ${se.length} partially overlapping, and ${le.length} not overlapping`),[he,de.length===1?de[0]:ae.createJoin(de)]}case X.Algebra.types.NOP:return[!0,oe];case X.Algebra.types.PROJECT:return this.variablesIntersect(oe.variables,ie)?[!0,ae.createProject(this.filterPushdown(ne,ie,oe.input,ae,ue)[1],oe.variables)]:[!0,oe];case X.Algebra.types.UNION:{const{fullyOverlapping:ce,partiallyOverlapping:se,notOverlapping:le}=this.getOverlappingOperations(oe,ie),de=[];let he=!1;return ce.length>0&&(he=!0,de.push(ae.createUnion(ce.map(pe=>this.filterPushdown(ne,ie,pe,ae,ue)[1])))),se.length>0&&de.push(ae.createFilter(ae.createUnion(se,!1),ne)),le.length>0&&de.push(...le),de.length>1&&(he=!0),he&&this.logDebug(ue,`Push down filter across union entries with ${ce.length} fully overlapping, ${se.length} partially overlapping, and ${le.length} not overlapping`),[he,de.length===1?de[0]:ae.createUnion(de)]}case X.Algebra.types.VALUES:return this.variablesIntersect(oe.variables,ie)?[!1,ae.createFilter(oe,ne)]:[!0,oe];case X.Algebra.types.LEFT_JOIN:{if(this.pushIntoLeftJoins){const ce=X.Util.inScopeVariables(oe.input[1]);if(!this.variablesIntersect(ie,ce))return this.logDebug(ue,"Push down filter into left join"),[!0,ae.createLeftJoin(this.filterPushdown(ne,ie,oe.input[0],ae,ue)[1],oe.input[1],oe.expression)]}return[!1,ae.createFilter(oe,ne)]}case X.Algebra.types.PATTERN:{if(this.pushEqualityIntoPatterns){const ce=this.getEqualityExpressionPushableIntoPattern(ne);if(ce){let se=!1;const le=oe.metadata;if(oe=(0,Y.mapTermsNested)(oe,de=>de.equals(ce.variable)?(se=!0,ce.term):de),oe.type=X.Algebra.types.PATTERN,oe.metadata=le,se)return this.logDebug(ue,`Push down filter into pattern for ?${ce.variable.value}`),[!0,ae.createJoin([oe,ae.createValues([ce.variable],[{[`?${ce.variable.value}`]:ce.term}])])]}}return[!1,ae.createFilter(oe,ne)]}case X.Algebra.types.PATH:{if(this.pushEqualityIntoPatterns){const ce=this.getEqualityExpressionPushableIntoPattern(ne);if(ce&&(oe.subject.equals(ce.variable)||oe.object.equals(ce.variable))){this.logDebug(ue,`Push down filter into path for ?${ce.variable.value}`);const se=oe.metadata;return oe=ae.createPath(oe.subject.equals(ce.variable)?ce.term:oe.subject,oe.predicate,oe.object.equals(ce.variable)?ce.term:oe.object),oe.metadata=se,[!0,ae.createJoin([oe,ae.createValues([ce.variable],[{[`?${ce.variable.value}`]:ce.term}])])]}}return[!1,ae.createFilter(oe,ne)]}case X.Algebra.types.MINUS:case X.Algebra.types.ALT:case X.Algebra.types.ASK:case X.Algebra.types.BGP:case X.Algebra.types.CONSTRUCT:case X.Algebra.types.DESCRIBE:case X.Algebra.types.DISTINCT:case X.Algebra.types.EXPRESSION:case X.Algebra.types.FROM:case X.Algebra.types.GRAPH:case X.Algebra.types.GROUP:case X.Algebra.types.INV:case X.Algebra.types.LINK:case X.Algebra.types.NPS:case X.Algebra.types.ONE_OR_MORE_PATH:case X.Algebra.types.ORDER_BY:case X.Algebra.types.REDUCED:case X.Algebra.types.SEQ:case X.Algebra.types.SERVICE:case X.Algebra.types.SLICE:case X.Algebra.types.ZERO_OR_MORE_PATH:case X.Algebra.types.ZERO_OR_ONE_PATH:case X.Algebra.types.COMPOSITE_UPDATE:case X.Algebra.types.DELETE_INSERT:case X.Algebra.types.LOAD:case X.Algebra.types.CLEAR:case X.Algebra.types.CREATE:case X.Algebra.types.DROP:case X.Algebra.types.ADD:case X.Algebra.types.MOVE:case X.Algebra.types.COPY:return[!1,ae.createFilter(oe,ne)]}}getEqualityExpressionPushableIntoPattern(ne){if(ne.expressionType===X.Algebra.expressionTypes.OPERATOR&&ne.operator==="="){if(ne.args[0].expressionType==="term"&&ne.args[0].term.termType!=="Variable"&&(ne.args[0].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(ne.args[0].term))&&ne.args[1].expressionType==="term"&&ne.args[1].term.termType==="Variable")return{variable:ne.args[1].term,term:ne.args[0].term};if(ne.args[0].expressionType==="term"&&ne.args[0].term.termType==="Variable"&&ne.args[1].expressionType==="term"&&ne.args[1].term.termType!=="Variable"&&(ne.args[1].term.termType!=="Literal"||this.isLiteralWithCanonicalLexicalForm(ne.args[1].term)))return{variable:ne.args[0].term,term:ne.args[1].term}}}isLiteralWithCanonicalLexicalForm(ne){if(ne.termType==="Literal")switch(ne.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#anyURI":case"http://www.w3.org/2001/XMLSchema#base64Binary":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#token":case"http://www.w3.org/2001/XMLSchema#hexBinary":return!0}return!1}variablesIntersect(ne,ie){return ne.some(oe=>ie.some(ae=>oe.equals(ae)))}variablesSubSetOf(ne,ie){return ne.length<=ie.length&&ne.every(oe=>ie.some(ae=>oe.equals(ae)))}isExpressionFalse(ne){return ne.term&&ne.term.termType==="Literal"&&ne.term.value==="false"}getNestedFilterExpressions(ne){if(ne.input.type===X.Algebra.types.FILTER){const ie=this.getNestedFilterExpressions(ne.input);return{nestedExpressions:[ne.expression,...ie.nestedExpressions],input:ie.input}}return{nestedExpressions:[ne.expression],input:ne.input}}}G.ActorOptimizeQueryOperationFilterPushdown=te},"../node_modules/@comunica/actor-optimize-query-operation-filter-pushdown/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-filter-pushdown/lib/ActorOptimizeQueryOperationFilterPushdown.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-group-sources/lib/ActorOptimizeQueryOperationGroupSources.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationGroupSources=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("sparqlalgebrajs");class X extends q.ActorOptimizeQueryOperation{constructor(re){super(re)}async test(re){return(0,F.getOperationSource)(re.operation)?(0,J.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,J.passTestVoid)()}async run(re){return{operation:await this.groupOperation(re.operation,re.context),context:re.context}}async groupOperation(re,ne){var se;const ie=ne.getSafe(W.KeysInitQuery.dataFactory),oe=new Y.Factory(ie);if((0,F.getOperationSource)(re)??!("input"in re))return re;if(!Array.isArray(re.input)){const le=await this.groupOperation(re.input,ne);if((se=le.metadata)!=null&&se.scopedSource){const de=(0,F.getOperationSource)(le);(0,F.doesShapeAcceptOperation)(await de.source.getSelectorShape(ne),re)&&(this.logDebug(ne,`Hoist 1 source-specific operation into a single ${re.type} operation for ${de.source.toString()}`),(0,F.removeOperationSource)(le),re=(0,F.assignOperationSource)(re,de))}return{...re,input:le}}const ae=await Promise.all(re.input.map(le=>this.groupOperation(le,ne))),ue=this.clusterOperationsWithEqualSources(ae);if(ue.length===1){const le=ue[0],de=(0,F.getOperationSource)(ue[0][0]);return{...await this.moveSourceAnnotationUpwardsIfPossible(re,le,de,ne),input:le}}if(ue.length===ae.length)return{...re,input:ae};let ce;switch(re.type){case Y.Algebra.types.JOIN:ce=oe.createJoin.bind(oe);break;case Y.Algebra.types.UNION:ce=oe.createUnion.bind(oe);break;case Y.Algebra.types.ALT:ce=oe.createAlt.bind(oe);break;case Y.Algebra.types.SEQ:ce=oe.createSeq.bind(oe);break;default:throw new Error(`Unsupported operation '${re.type}' detected while grouping sources`)}return await this.groupOperationMulti(ue,ce,ne)}async groupOperationMulti(re,ne,ie){let oe=!0;const ae=await Promise.all(re.map(async ue=>{const ce=(0,F.getOperationSource)(ue[0]),se=await this.moveSourceAnnotationUpwardsIfPossible(ne(ue,!0),ue,ce,ie);return(0,F.getOperationSource)(se)&&(oe=!1),se}));return ne(ae,oe)}clusterOperationsWithEqualSources(re){const ne=new Map,ie=[];for(const ae of re){const ue=(0,F.getOperationSource)(ae);ue?(ne.has(ue)||ne.set(ue,[]),ne.get(ue).push(ae)):ie.push(ae)}const oe=[];ie.length>0&&oe.push(ie);for(const[ae,ue]of ne.entries())oe.push(ue.map(ce=>(0,F.assignOperationSource)(ce,ae)));return oe}async moveSourceAnnotationUpwardsIfPossible(re,ne,ie,oe){if(ie&&(0,F.doesShapeAcceptOperation)(await ie.source.getSelectorShape(oe),re)){this.logDebug(oe,`Hoist ${ne.length} source-specific operations into a single ${re.type} operation for ${ie.source.toString()}`),re=(0,F.assignOperationSource)(re,ie);for(const ae of ne)(0,F.removeOperationSource)(ae)}return re}}G.ActorOptimizeQueryOperationGroupSources=X},"../node_modules/@comunica/actor-optimize-query-operation-group-sources/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-group-sources/lib/ActorOptimizeQueryOperationGroupSources.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/ActorOptimizeQueryOperationJoinBgp.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationJoinBgp=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorOptimizeQueryOperation{async test(te){return(0,J.passTestVoid)()}async run(te){const re=te.context.getSafe(W.KeysInitQuery.dataFactory),ne=new F.Factory(re);return{operation:F.Util.mapOperation(te.operation,{join(ie,oe){return ie.input.every(ae=>ae.type==="bgp")?{recurse:!1,result:oe.createBgp(ie.input.flatMap(ae=>ae.patterns))}:{recurse:!1,result:ie}}},ne),context:te.context}}}G.ActorOptimizeQueryOperationJoinBgp=Y},"../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/ActorOptimizeQueryOperationJoinBgp.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/ActorOptimizeQueryOperationJoinConnected.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationJoinConnected=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorOptimizeQueryOperation{async test(te){return(0,J.passTestVoid)()}async run(te){const re=te.context.getSafe(W.KeysInitQuery.dataFactory),ne=new F.Factory(re);return{operation:F.Util.mapOperation(te.operation,{join(ie,oe){return{recurse:!1,result:Y.cluster(ie,oe)}}},ne),context:te.context}}static cluster(te,re){const ne=te.input.map(ue=>({inScopeVariables:Object.fromEntries(F.Util.inScopeVariables(ue).map(ce=>[ce.value,!0])),entries:[ue]}));let ie,oe=ne;do ie=oe,oe=Y.clusterIteration(ie);while(ie.length!==oe.length);const ae=oe.map(ue=>ue.entries.length===1?ue.entries[0]:re.createJoin(ue.entries));return ae.length===1?ae[0]:re.createJoin(ae,!1)}static clusterIteration(te){const re=[];for(const ne of te){let ie=!1;for(const oe of re)if(Y.haveOverlappingVariables(ne.inScopeVariables,oe.inScopeVariables)){oe.entries=[...oe.entries,...ne.entries],oe.inScopeVariables={...oe.inScopeVariables,...ne.inScopeVariables},ie=!0;break}ie||re.push({inScopeVariables:ne.inScopeVariables,entries:ne.entries})}return re}static haveOverlappingVariables(te,re){for(const ne of Object.keys(te))if(re[ne])return!0;return!1}}G.ActorOptimizeQueryOperationJoinConnected=Y},"../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/ActorOptimizeQueryOperationJoinConnected.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-prune-empty-source-operations/lib/ActorOptimizeQueryOperationPruneEmptySourceOperations.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("sparqlalgebrajs");class X extends q.ActorOptimizeQueryOperation{constructor(re){super(re)}async test(re){return(0,F.getOperationSource)(re.operation)?(0,J.failTest)(`Actor ${this.name} does not work with top-level operation sources.`):(0,J.passTestVoid)()}async run(re){const ne=re.context.getSafe(W.KeysInitQuery.dataFactory),ie=new Y.Factory(ne);let oe=re.operation;const ae=[],ue=this;Y.Util.recurseOperation(oe,{[Y.Algebra.types.UNION](se){return ue.collectMultiOperationInputs(se.input,ae,Y.Algebra.types.PATTERN),!0},[Y.Algebra.types.ALT](se){return ue.collectMultiOperationInputs(se.input,ae,Y.Algebra.types.LINK),!1},[Y.Algebra.types.SERVICE](){return!1}});const ce=new Set;return await Promise.all(ae.map(async se=>{const le=se.type==="link"?ie.createPattern(ne.variable("?s"),se.iri,ne.variable("?o")):se;await this.hasSourceResults(ie,(0,F.getOperationSource)(se),le,re.context)||ce.add(se)})),ce.size>0&&(this.logDebug(re.context,`Pruning ${ce.size} source-specific operations`),oe=Y.Util.mapOperation(oe,{[Y.Algebra.types.UNION](se,le){return ue.mapMultiOperation(se,ce,de=>le.createUnion(de))},[Y.Algebra.types.ALT](se,le){return ue.mapMultiOperation(se,ce,de=>le.createAlt(de))}},ie),oe=Y.Util.mapOperation(oe,{[Y.Algebra.types.PROJECT](se,le){return X.hasEmptyOperation(se)?{recurse:!1,result:le.createUnion([])}:{recurse:!0,result:se}},[Y.Algebra.types.LEFT_JOIN](se){return X.hasEmptyOperation(se.input[1])?{recurse:!0,result:se.input[0]}:{recurse:!0,result:se}}},ie)),{operation:oe,context:re.context}}static hasEmptyOperation(re){let ne=!1;return Y.Util.recurseOperation(re,{[Y.Algebra.types.UNION](ie){return ie.input.every(oe=>X.hasEmptyOperation(oe))&&(ne=!0),!1},[Y.Algebra.types.ALT](ie){return ie.input.length===0&&(ne=!0),!1},[Y.Algebra.types.LEFT_JOIN](ie){return X.hasEmptyOperation(ie.input[0])&&(ne=!0),!1}}),ne}collectMultiOperationInputs(re,ne,ie){for(const oe of re)(0,F.getOperationSource)(oe)&&oe.type===ie&&ne.push(oe)}mapMultiOperation(re,ne,ie){const oe=re.input.filter(ae=>!ne.has(ae));return oe.length===re.input.length?{result:re,recurse:!0}:oe.length===0?{result:ie([]),recurse:!1}:oe.length===1?{result:oe[0],recurse:!0}:{result:ie(oe),recurse:!0}}async hasSourceResults(re,ne,ie,oe){var ue;if((ue=ne.context)!=null&&ue.get(W.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const ce=re.createAsk(ie);if((0,F.doesShapeAcceptOperation)(await ne.source.getSelectorShape(oe),ce))return ne.source.queryBoolean(ce,oe)}const ae=ne.source.queryBindings(ie,oe);return new Promise((ce,se)=>{ae.on("error",se),ae.getProperty("metadata",le=>{ae.destroy(),ce(le.cardinality.value>0)})})}}G.ActorOptimizeQueryOperationPruneEmptySourceOperations=X},"../node_modules/@comunica/actor-optimize-query-operation-prune-empty-source-operations/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-prune-empty-source-operations/lib/ActorOptimizeQueryOperationPruneEmptySourceOperations.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-rewrite-add/lib/ActorOptimizeQueryOperationRewriteAdd.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationRewriteAdd=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/rdf-data-factory/index.js"),Y=Q("sparqlalgebrajs"),X=new F.DataFactory;class te extends q.ActorOptimizeQueryOperation{constructor(ne){super(ne)}async test(ne){return(0,J.passTestVoid)()}async run(ne){const ie=ne.context.getSafe(W.KeysInitQuery.dataFactory),oe=new Y.Factory(ie);return{operation:Y.Util.mapOperation(ne.operation,{[Y.Algebra.types.ADD](ae,ue){const ce=ae.destination==="DEFAULT"?X.defaultGraph():ae.destination,se=ae.source==="DEFAULT"?X.defaultGraph():ae.source;return{result:ue.createDeleteInsert(void 0,[ue.createPattern(X.variable("s"),X.variable("p"),X.variable("o"),ce)],ue.createPattern(X.variable("s"),X.variable("p"),X.variable("o"),se)),recurse:!1}}},oe),context:ne.context}}}G.ActorOptimizeQueryOperationRewriteAdd=te},"../node_modules/@comunica/actor-optimize-query-operation-rewrite-add/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-rewrite-add/lib/ActorOptimizeQueryOperationRewriteAdd.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-rewrite-copy/lib/ActorOptimizeQueryOperationRewriteCopy.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationRewriteCopy=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorOptimizeQueryOperation{constructor(te){super(te)}async test(te){return(0,J.passTestVoid)()}async run(te){const re=te.context.getSafe(W.KeysInitQuery.dataFactory),ne=new F.Factory(re);return{operation:F.Util.mapOperation(te.operation,{[F.Algebra.types.COPY](ie,oe){let ae;return typeof ie.destination=="string"&&typeof ie.source=="string"&&ie.destination===ie.source||typeof ie.destination!="string"&&typeof ie.source!="string"&&ie.destination.equals(ie.source)?ae=oe.createCompositeUpdate([]):ae=oe.createCompositeUpdate([oe.createDrop(ie.destination,!0),oe.createAdd(ie.source,ie.destination,ie.silent)]),{result:ae,recurse:!1}}},ne),context:te.context}}}G.ActorOptimizeQueryOperationRewriteCopy=Y},"../node_modules/@comunica/actor-optimize-query-operation-rewrite-copy/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-rewrite-copy/lib/ActorOptimizeQueryOperationRewriteCopy.js"),G)},"../node_modules/@comunica/actor-optimize-query-operation-rewrite-move/lib/ActorOptimizeQueryOperationRewriteMove.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperationRewriteMove=void 0;const q=Q("../node_modules/@comunica/bus-optimize-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorOptimizeQueryOperation{constructor(te){super(te)}async test(te){return(0,J.passTestVoid)()}async run(te){const re=te.context.getSafe(W.KeysInitQuery.dataFactory),ne=new F.Factory(re);return{operation:F.Util.mapOperation(te.operation,{[F.Algebra.types.MOVE](ie,oe){let ae;if(typeof ie.destination=="string"&&typeof ie.source=="string"&&ie.destination===ie.source||typeof ie.destination!="string"&&typeof ie.source!="string"&&ie.destination.equals(ie.source))ae=oe.createCompositeUpdate([]);else{const ue=[oe.createDrop(ie.destination,!0),oe.createAdd(ie.source,ie.destination,ie.silent),oe.createDrop(ie.source)];ae=oe.createCompositeUpdate(ue)}return{result:ae,recurse:!1}}},ne),context:te.context}}}G.ActorOptimizeQueryOperationRewriteMove=Y},"../node_modules/@comunica/actor-optimize-query-operation-rewrite-move/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-optimize-query-operation-rewrite-move/lib/ActorOptimizeQueryOperationRewriteMove.js"),G)},"../node_modules/@comunica/actor-query-operation-ask/lib/ActorQueryOperationAsk.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationAsk=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class F extends q.ActorQueryOperationTypedMediated{constructor(X){super(X,"ask")}async testOperation(X,te){return(0,W.passTestVoid)()}async runOperation(X,te){const re=await this.mediatorQueryOperation.mediate({operation:X.input,context:te}),{bindingsStream:ne}=(0,J.getSafeBindings)(re);return{type:"boolean",execute:async()=>(await ne.take(1).toArray()).length===1}}}G.ActorQueryOperationAsk=F},"../node_modules/@comunica/actor-query-operation-ask/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-ask/lib/ActorQueryOperationAsk.js"),G)},"../node_modules/@comunica/actor-query-operation-bgp-join/lib/ActorQueryOperationBgpJoin.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationBgpJoin=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorQueryOperationTypedMediated{constructor(te){super(te,"bgp")}async testOperation(te,re){return(0,J.passTestVoid)()}async runOperation(te,re){const ne=re.getSafe(W.KeysInitQuery.dataFactory),ie=new F.Factory(ne);return this.mediatorQueryOperation.mediate({operation:ie.createJoin(te.patterns),context:re})}}G.ActorQueryOperationBgpJoin=Y},"../node_modules/@comunica/actor-query-operation-bgp-join/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-bgp-join/lib/ActorQueryOperationBgpJoin.js"),G)},"../node_modules/@comunica/actor-query-operation-construct/lib/ActorQueryOperationConstruct.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationConstruct=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("../node_modules/rdf-terms/index.js"),X=Q("sparqlalgebrajs"),te=Q("../node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js");class re extends q.ActorQueryOperationTypedMediated{constructor(ie){super(ie,"construct")}static getVariables(ie){return(0,Y.uniqTerms)([].concat.apply([],ie.map(oe=>(0,Y.getVariables)((0,Y.getTermsNested)(oe)))))}async testOperation(ie,oe){return(0,J.passTestVoid)()}async runOperation(ie,oe){const ae=oe.getSafe(W.KeysInitQuery.dataFactory),ue=re.getVariables(ie.template),ce={type:X.Algebra.types.PROJECT,input:ie.input,variables:ue},se=(0,F.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:ce,context:oe})),le=new te.BindingsToQuadsIterator(ae,ie.template,se.bindingsStream);return{metadata:()=>se.metadata().then(de=>({...de,order:void 0,cardinality:{type:de.cardinality.type,value:de.cardinality.value*ie.template.length},availableOrders:void 0})),quadStream:le,type:"quads"}}}G.ActorQueryOperationConstruct=re},"../node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BindingsToQuadsIterator=void 0;const q=Q("asynciterator"),W=Q("../node_modules/rdf-terms/index.js");class J extends q.MultiTransformIterator{constructor(Y,X,te){super(te,{autoStart:!1}),this.dataFactory=Y,this.template=X,this.blankNodeCounter=0}static bindTerm(Y,X){return X.termType==="Variable"?Y.get(X):X}static bindQuad(Y,X){try{return(0,W.mapTermsNested)(X,te=>{const re=J.bindTerm(Y,te);if(!re)throw new Error("Unbound term");return re})}catch{}}static localizeBlankNode(Y,X,te){return te.termType==="BlankNode"?Y.blankNode(`${te.value}${X}`):te}static localizeQuad(Y,X,te){return(0,W.mapTermsNested)(te,re=>J.localizeBlankNode(Y,X,re))}bindTemplate(Y,X,te){return X.map(J.localizeQuad.bind(null,this.dataFactory,te)).map(re=>J.bindQuad.bind(null,Y)(re)).filter(Boolean)}_createTransformer(Y){return new q.ArrayIterator(this.bindTemplate(Y,this.template,this.blankNodeCounter++),{autoStart:!1})}}G.BindingsToQuadsIterator=J},"../node_modules/@comunica/actor-query-operation-construct/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-construct/lib/ActorQueryOperationConstruct.js"),G),W(Q("../node_modules/@comunica/actor-query-operation-construct/lib/BindingsToQuadsIterator.js"),G)},"../node_modules/@comunica/actor-query-operation-distinct-hash/lib/ActorQueryOperationDistinctHash.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationDistinctHash=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class F extends q.ActorQueryOperationTypedMediated{constructor(X){super(X,"distinct")}async testOperation(X,te){return(0,W.passTestVoid)()}async runOperation(X,te){const re=await this.mediatorQueryOperation.mediate({operation:X.input,context:te});if(re.type==="quads"){const oe=(0,J.getSafeQuads)(re);return{type:"quads",quadStream:oe.quadStream.filter(await this.newHashFilterQuads(te)),metadata:oe.metadata}}const ne=(0,J.getSafeBindings)(re),ie=(await ne.metadata()).variables.map(oe=>oe.variable);return{type:"bindings",bindingsStream:ne.bindingsStream.filter(await this.newHashFilter(te,ie)),metadata:ne.metadata}}async newHashFilter(X,te){const{hashFunction:re}=await this.mediatorHashBindings.mediate({context:X}),ne={};return ie=>{const oe=re(ie,te);return!(oe in ne)&&(ne[oe]=!0)}}async newHashFilterQuads(X){const{hashFunction:te}=await this.mediatorHashQuads.mediate({context:X}),re={};return ne=>{const ie=te(ne);return!(ie in re)&&(re[ie]=!0)}}}G.ActorQueryOperationDistinctHash=F},"../node_modules/@comunica/actor-query-operation-distinct-hash/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-distinct-hash/lib/ActorQueryOperationDistinctHash.js"),G)},"../node_modules/@comunica/actor-query-operation-extend/lib/ActorQueryOperationExtend.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationExtend=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),F=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class X extends q.ActorQueryOperationTypedMediated{constructor(re){super(re,"extend"),this.mediatorExpressionEvaluatorFactory=re.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,W.passTestVoid)()}async runOperation(re,ne){const{expression:ie,input:oe,variable:ae}=re,ue=(0,Y.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:oe,context:ne}));if((await ue.metadata()).variables.some(de=>de.variable.equals(ae)))throw new Error(`Illegal binding to variable '${ae.value}' that has already been bound`);const ce=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:ie,context:ne}),se=async(de,he,pe)=>{try{const ge=await ce.evaluate(de),be=de.set(ae,ge);pe(be)}catch(ge){(0,F.isExpressionError)(ge)?(pe(de),this.logWarn(ne,`Expression error for extend operation (${ge.message})with bindings '${(0,J.bindingsToString)(de)}'`)):le.emit("error",ge)}he()},le=ue.bindingsStream.transform({autoStart:!1,transform:se});return{type:"bindings",bindingsStream:le,async metadata(){const de=await ue.metadata();return{...de,variables:[...de.variables,{variable:ae,canBeUndef:!1}]}}}}}G.ActorQueryOperationExtend=X},"../node_modules/@comunica/actor-query-operation-extend/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-extend/lib/ActorQueryOperationExtend.js"),G)},"../node_modules/@comunica/actor-query-operation-filter/lib/ActorQueryOperationFilter.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationFilter=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),F=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class X extends q.ActorQueryOperationTypedMediated{constructor(re){super(re,"filter"),this.mediatorExpressionEvaluatorFactory=re.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,W.passTestVoid)()}async runOperation(re,ne){const ie=await this.mediatorQueryOperation.mediate({operation:re.input,context:ne}),oe=(0,Y.getSafeBindings)(ie);(0,Y.validateQueryOutput)(oe,"bindings");const ae=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:re.expression,context:ne}),ue=async(se,le,de)=>{try{await ae.evaluateAsEBV(se)&&de(se)}catch(he){(0,F.isExpressionError)(he)?this.logWarn(ne,"Error occurred while filtering.",()=>({error:he,bindings:(0,J.bindingsToString)(se)})):ce.emit("error",he)}le()},ce=oe.bindingsStream.transform({transform:ue,autoStart:!1});return{type:"bindings",bindingsStream:ce,metadata:oe.metadata}}}G.ActorQueryOperationFilter=X},"../node_modules/@comunica/actor-query-operation-filter/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-filter/lib/ActorQueryOperationFilter.js"),G)},"../node_modules/@comunica/actor-query-operation-from-quad/lib/ActorQueryOperationFromQuad.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationFromQuad=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorQueryOperationTypedMediated{constructor(te){super(te,"from")}static copyOperation(te,re){const ne={};for(const ie of Object.keys(te))Array.isArray(te[ie])&&ie!=="template"?ie==="variables"?ne[ie]=te[ie]:ne[ie]=te[ie].map(re):Y.ALGEBRA_TYPES.includes(te[ie].type)?ne[ie]=re(te[ie]):ne[ie]=te[ie];return ne}static applyOperationDefaultGraph(te,re,ne){if(re.type==="bgp"&&re.patterns.length>0||re.type==="path"||re.type==="pattern"){if(re.type==="bgp")return Y.joinOperations(te,re.patterns.map(oe=>{if(oe.graph.termType!=="DefaultGraph")return te.createBgp([oe]);const ae=ne.map(ue=>te.createBgp([Object.assign(te.createPattern(oe.subject,oe.predicate,oe.object,ue),{metadata:oe.metadata})]));return Y.unionOperations(te,ae)}));if(re.graph.termType!=="DefaultGraph")return re;const ie=ne.map(oe=>re.type==="path"?te.createPath(re.subject,re.predicate,re.object,oe):Object.assign(te.createPattern(re.subject,re.predicate,re.object,oe),{metadata:re.metadata}));return Y.unionOperations(te,ie)}return Y.copyOperation(re,ie=>this.applyOperationDefaultGraph(te,ie,ne))}static applyOperationNamedGraph(te,re,ne,ie){if(re.type==="bgp"&&re.patterns.length>0||re.type==="path"||re.type==="pattern"){const oe=re.type==="bgp"?re.patterns[0].graph:re.graph;if(oe.termType==="DefaultGraph")return{type:F.Algebra.types.BGP,patterns:[]};if(oe.termType==="Variable"){if(ne.length===1){const ae=ne[0],ue={};ue[`?${oe.value}`]=ae;const ce=te.createValues([oe],[ue]);let se;return re.type==="bgp"?se=te.createBgp(re.patterns.map(le=>te.createPattern(le.subject,le.predicate,le.object,ae))):re.type==="path"?se=te.createPath(re.subject,re.predicate,re.object,ae):se=te.createPattern(re.subject,re.predicate,re.object,ae),te.createJoin([ce,se])}return Y.unionOperations(te,ne.map(ae=>Y.applyOperationNamedGraph(te,re,[ae],ie)))}return[...ne,...ie].some(ae=>ae.equals(oe))?re:{type:F.Algebra.types.BGP,patterns:[]}}return Y.copyOperation(re,oe=>this.applyOperationNamedGraph(te,oe,ne,ie))}static joinOperations(te,re){if(re.length===1)return re[0];if(re.length>1)return te.createJoin(re);throw new Error("A join can only be applied on at least one operation")}static unionOperations(te,re){if(re.length===1)return re[0];if(re.length>1)return te.createUnion(re);throw new Error("A union can only be applied on at least one operation")}static createOperation(te,re){let ne=re.input;return re.default.length>0&&(ne=Y.applyOperationDefaultGraph(te,ne,re.default)),(re.named.length>0||re.default.length>0)&&(ne=Y.applyOperationNamedGraph(te,ne,re.named,re.default)),ne}async testOperation(te,re){return(0,J.passTestVoid)()}async runOperation(te,re){const ne=re.getSafe(W.KeysInitQuery.dataFactory),ie=new F.Factory(ne),oe=Y.createOperation(ie,te);return this.mediatorQueryOperation.mediate({operation:oe,context:re})}}G.ActorQueryOperationFromQuad=Y,Y.ALGEBRA_TYPES=Object.keys(F.Algebra.types).map(X=>F.Algebra.types[X])},"../node_modules/@comunica/actor-query-operation-from-quad/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-from-quad/lib/ActorQueryOperationFromQuad.js"),G)},"../node_modules/@comunica/actor-query-operation-group/lib/ActorQueryOperationGroup.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationGroup=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),X=Q("asynciterator"),te=Q("../node_modules/@comunica/actor-query-operation-group/lib/GroupsState.js");class re extends q.ActorQueryOperationTypedMediated{constructor(ie){super(ie,"group"),this.mediatorBindingsAggregatorFactory=ie.mediatorBindingsAggregatorFactory}async testOperation(){return(0,J.passTestVoid)()}async runOperation(ie,oe){const ae=oe.getSafe(W.KeysInitQuery.dataFactory),ue=await F.BindingsFactory.create(this.mediatorMergeBindingsContext,oe,ae),{input:ce,aggregates:se}=ie,le=await this.mediatorQueryOperation.mediate({operation:ce,context:oe}),de=(0,Y.getSafeBindings)(le),he=[...ie.variables,...se.map(ge=>ge.variable)].map(ge=>({variable:ge,canBeUndef:!1})),pe=(await de.metadata()).variables.map(ge=>ge.variable);return{type:"bindings",bindingsStream:new X.TransformIterator(()=>new Promise((ge,be)=>{const ve=new te.GroupsState(ie,this.mediatorBindingsAggregatorFactory,oe,ue,pe);de.bindingsStream.on("end",async()=>{try{const Ee=new X.ArrayIterator(await ve.collectResults(),{autoStart:!1});ge(Ee)}catch(Ee){be(Ee)}}),de.bindingsStream.on("error",be),de.bindingsStream.on("data",Ee=>{ve.consumeBindings(Ee).catch(be)})}),{autoStart:!1}),metadata:async()=>({...await de.metadata(),variables:he})}}}G.ActorQueryOperationGroup=re},"../node_modules/@comunica/actor-query-operation-group/lib/GroupsState.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.GroupsState=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js");class J{constructor(Y,X,te,re,ne){this.pattern=Y,this.mediatorBindingsAggregatorFactory=X,this.context=te,this.bindingsFactory=re,this.variables=ne,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(ie=>ie.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(Y){const X=this.resultCheck();if(X)return X;this.waitCounter++;const te=Y.filter((oe,ae)=>this.groupVariables.has(ae.value)),re=this.hashBindings(te);let ne=this.groupsInitializer.get(re),ie;if(ne){const oe=ne;ie=(async()=>{const ae=await oe;await Promise.all(this.pattern.aggregates.map(async ue=>{const ce=ue.variable.value;await ae.aggregators[ce].putBindings(Y)}))})().then(async()=>{await this.subtractWaitCounterAndCollect()})}else ne=(async()=>{const oe={};await Promise.all(this.pattern.aggregates.map(async ue=>{const ce=ue.variable.value;oe[ce]=await this.mediatorBindingsAggregatorFactory.mediate({expr:ue,context:this.context}),await oe[ce].putBindings(Y)}));const ae={aggregators:oe,bindings:te};return this.groups.set(re,ae),await this.subtractWaitCounterAndCollect(),ae})(),this.groupsInitializer.set(re,ne),ie=ne;return ie}async subtractWaitCounterAndCollect(){--this.waitCounter===0&&await this.handleResultCollection()}async handleResultCollection(){const Y=this.context.getSafe(q.KeysInitQuery.dataFactory);let X=await Promise.all([...this.groups].map(async([te,re])=>{const{bindings:ne,aggregators:ie}=re;let oe=ne;for(const ae in ie){const ue=await ie[ae].result();ue&&(oe=oe.set(Y.variable(ae),ue))}return oe}));if(X.length===0&&this.groupVariables.size===0){const te=[];await Promise.all(this.pattern.aggregates.map(async re=>{const ne=re.variable,ie=await(await this.mediatorBindingsAggregatorFactory.mediate({expr:re,context:this.context})).result();ie!==void 0&&te.push([ne,ie])})),X=[this.bindingsFactory.bindings(te)]}this.waitResolver(X)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}async collectResults(){const Y=this.resultCheck();if(Y)return Y;this.resultHasBeenCalled=!0;const X=new Promise(te=>{this.waitResolver=te});return await this.subtractWaitCounterAndCollect(),X}hashBindings(Y){return(0,W.bindingsToCompactString)(Y,this.variables)}}G.GroupsState=J},"../node_modules/@comunica/actor-query-operation-group/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-group/lib/ActorQueryOperationGroup.js"),G)},"../node_modules/@comunica/actor-query-operation-join/lib/ActorQueryOperationJoin.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationJoin=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class F extends q.ActorQueryOperationTypedMediated{constructor(X){super(X,"join")}async testOperation(X,te){return(0,W.passTestVoid)()}async runOperation(X,te){const re=(await Promise.all(X.input.map(async ne=>({output:await this.mediatorQueryOperation.mediate({operation:ne,context:te}),operation:ne})))).map(({output:ne,operation:ie})=>({output:(0,J.getSafeBindings)(ne),operation:ie}));return this.mediatorJoin.mediate({type:"inner",entries:re,context:te})}}G.ActorQueryOperationJoin=F},"../node_modules/@comunica/actor-query-operation-join/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-join/lib/ActorQueryOperationJoin.js"),G)},"../node_modules/@comunica/actor-query-operation-leftjoin/lib/ActorQueryOperationLeftJoin.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationLeftJoin=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class Y extends q.ActorQueryOperationTypedMediated{constructor(te){super(te,"leftjoin"),this.mediatorExpressionEvaluatorFactory=te.mediatorExpressionEvaluatorFactory}async testOperation(te,re){return(0,W.passTestVoid)()}async runOperation(te,re){const ne=(await Promise.all(te.input.map(async oe=>({output:await this.mediatorQueryOperation.mediate({operation:oe,context:re}),operation:oe})))).map(({output:oe,operation:ae})=>({output:(0,F.getSafeBindings)(oe),operation:ae})),ie=await this.mediatorJoin.mediate({type:"optional",entries:ne,context:re});if(te.expression){const oe=(await ne[1].output.metadata()).variables,ae=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:te.expression,context:re}),ue=ie.bindingsStream.transform({autoStart:!1,transform:async(ce,se,le)=>{if(!oe.every(de=>ce.has(de.variable.value)))return le(ce),se();try{await ae.evaluateAsEBV(ce)&&le(ce)}catch(de){(0,J.isExpressionError)(de)?this.logWarn(re,"Error occurred while filtering.",()=>({error:de,bindings:ce})):ue.emit("error",de)}se()}});ie.bindingsStream=ue}return ie}}G.ActorQueryOperationLeftJoin=Y},"../node_modules/@comunica/actor-query-operation-leftjoin/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-leftjoin/lib/ActorQueryOperationLeftJoin.js"),G)},"../node_modules/@comunica/actor-query-operation-minus/lib/ActorQueryOperationMinus.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationMinus=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class F extends q.ActorQueryOperationTypedMediated{constructor(X){super(X,"minus")}async testOperation(X,te){return(0,W.passTestVoid)()}async runOperation(X,te){const re=(await Promise.all(X.input.map(async ne=>({output:await this.mediatorQueryOperation.mediate({operation:ne,context:te}),operation:ne})))).map(({output:ne,operation:ie})=>({output:(0,J.getSafeBindings)(ne),operation:ie}));return this.mediatorJoin.mediate({type:"minus",entries:re,context:te})}}G.ActorQueryOperationMinus=F},"../node_modules/@comunica/actor-query-operation-minus/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-minus/lib/ActorQueryOperationMinus.js"),G)},"../node_modules/@comunica/actor-query-operation-nop/lib/ActorQueryOperationNop.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationNop=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),X=Q("asynciterator");class te extends q.ActorQueryOperationTypedMediated{constructor(ne){super(ne,"nop")}async testOperation(ne,ie){return(0,J.passTestVoid)()}async runOperation(ne,ie){const oe=ie.getSafe(W.KeysInitQuery.dataFactory),ae=await F.BindingsFactory.create(this.mediatorMergeBindingsContext,ie,oe);return{bindingsStream:new X.SingletonIterator(ae.bindings()),metadata:()=>Promise.resolve({state:new Y.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}G.ActorQueryOperationNop=te},"../node_modules/@comunica/actor-query-operation-nop/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-nop/lib/ActorQueryOperationNop.js"),G)},"../node_modules/@comunica/actor-query-operation-orderby/lib/ActorQueryOperationOrderBy.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationOrderBy=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("sparqlalgebrajs"),X=Q("../node_modules/@comunica/actor-query-operation-orderby/lib/SortIterator.js");class te extends q.ActorQueryOperationTypedMediated{constructor(ne){super(ne,"orderby"),this.window=ne.window??Number.POSITIVE_INFINITY,this.mediatorExpressionEvaluatorFactory=ne.mediatorExpressionEvaluatorFactory,this.mediatorTermComparatorFactory=ne.mediatorTermComparatorFactory}async testOperation(){return(0,W.passTestVoid)()}async runOperation(ne,ie){const oe=await this.mediatorQueryOperation.mediate({operation:ne.input,context:ie}),ae=(0,F.getSafeBindings)(oe),ue={window:this.window};let{bindingsStream:ce}=ae;const se=await this.mediatorTermComparatorFactory.mediate({context:ie});for(let le=ne.expressions.length-1;le>=0;le--){let de=ne.expressions[le];const he=this.isAscending(de);de=this.extractSortExpression(de);const pe=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:de,context:ie}),ge=async(ve,Ee,ke)=>{try{const Pe=await pe.evaluate(ve);ke({bindings:ve,result:Pe})}catch(Pe){(0,J.isExpressionError)(Pe)||ce.emit("error",Pe),ke({bindings:ve,result:void 0})}Ee()},be=ce.transform({transform:ge});ce=new X.SortIterator(be,(ve,Ee)=>{let ke=se.orderTypes(ve.result,Ee.result);return he||(ke*=-1),ke},ue).map(({bindings:ve})=>ve)}return{type:"bindings",bindingsStream:ce,metadata:ae.metadata}}extractSortExpression(ne){const{expressionType:ie,operator:oe}=ne;return ie!==Y.Algebra.expressionTypes.OPERATOR?ne:oe==="desc"?ne.args[0]:ne}isAscending(ne){const{expressionType:ie,operator:oe}=ne;return ie!==Y.Algebra.expressionTypes.OPERATOR?!0:oe!=="desc"}}G.ActorQueryOperationOrderBy=te},"../node_modules/@comunica/actor-query-operation-orderby/lib/SortIterator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.SortIterator=void 0;const q=Q("asynciterator");class W extends q.TransformIterator{constructor(F,Y,X){super(F,X);const te=X&&X.window;this.windowLength=Number.isFinite(te)&&te>0?te:Number.POSITIVE_INFINITY,this.sort=Y,this.sorted=[]}_read(F,Y){let X,{length:te}=this.sorted;for(;te!==this.windowLength&&(X=this.source.read(),X!==null);){let re=0,ne=te-1,ie,oe;for(;re<=ne;)ie=Math.trunc((re+ne)/2),oe=this.sort(X,this.sorted[ie]),oe<0?re=ie+1:oe>0?ne=ie-1:(re=ie,ne=-1);this.sorted.splice(re,0,X),te++}te===this.windowLength&&this._push(this.sorted.pop()),Y()}_flush(F){let{length:Y}=this.sorted;for(;Y--;)this._push(this.sorted.pop());F()}}G.SortIterator=W},"../node_modules/@comunica/actor-query-operation-orderby/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-orderby/lib/ActorQueryOperationOrderBy.js"),G)},"../node_modules/@comunica/actor-query-operation-path-alt/lib/ActorQueryOperationPathAlt.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationPathAlt=void 0;const q=Q("../node_modules/@comunica/actor-abstract-path/lib/index.js"),W=Q("../node_modules/@comunica/actor-query-operation-union/lib/index.js"),J=Q("../node_modules/@comunica/context-entries/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("asynciterator"),X=Q("sparqlalgebrajs");class te extends q.ActorAbstractPath{constructor(ne){super(ne,X.Algebra.types.ALT)}async runOperation(ne,ie){const oe=ie.getSafe(J.KeysInitQuery.dataFactory),ae=new X.Factory(oe),ue=ne.predicate,ce=(await Promise.all(ue.input.map(se=>this.mediatorQueryOperation.mediate({context:ie,operation:ae.createPath(ne.subject,se,ne.object,ne.graph)})))).map(F.getSafeBindings);return{type:"bindings",bindingsStream:new Y.UnionIterator(ce.map(se=>se.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(ce.map(se=>se.metadata())).then(se=>W.ActorQueryOperationUnion.unionMetadata(se,!0,ie,this.mediatorRdfMetadataAccumulate))}}}G.ActorQueryOperationPathAlt=te},"../node_modules/@comunica/actor-query-operation-path-alt/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-path-alt/lib/ActorQueryOperationPathAlt.js"),G)},"../node_modules/@comunica/actor-query-operation-path-inv/lib/ActorQueryOperationPathInv.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationPathInv=void 0;const q=Q("../node_modules/@comunica/actor-abstract-path/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("sparqlalgebrajs");class F extends q.ActorAbstractPath{constructor(X){super(X,J.Algebra.types.INV)}async runOperation(X,te){const re=te.getSafe(W.KeysInitQuery.dataFactory),ne=new J.Factory(re),ie=X.predicate,oe=ne.createPath(X.object,ie.path,X.subject,X.graph);return this.mediatorQueryOperation.mediate({operation:oe,context:te})}}G.ActorQueryOperationPathInv=F},"../node_modules/@comunica/actor-query-operation-path-inv/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-path-inv/lib/ActorQueryOperationPathInv.js"),G)},"../node_modules/@comunica/actor-query-operation-path-link/lib/ActorQueryOperationPathLink.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationPathLink=void 0;const q=Q("../node_modules/@comunica/actor-abstract-path/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("sparqlalgebrajs");class F extends q.ActorAbstractPath{constructor(X){super(X,J.Algebra.types.LINK)}async runOperation(X,te){const re=te.getSafe(W.KeysInitQuery.dataFactory),ne=new J.Factory(re),ie=X.predicate,oe=Object.assign(ne.createPattern(X.subject,ie.iri,X.object,X.graph),{metadata:ie.metadata});return this.mediatorQueryOperation.mediate({operation:oe,context:te})}}G.ActorQueryOperationPathLink=F},"../node_modules/@comunica/actor-query-operation-path-link/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-path-link/lib/ActorQueryOperationPathLink.js"),G)},"../node_modules/@comunica/actor-query-operation-path-nps/lib/ActorQueryOperationPathNps.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationPathNps=void 0;const q=Q("../node_modules/@comunica/actor-abstract-path/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorAbstractPath{constructor(te){super(te,F.Algebra.types.NPS)}async runOperation(te,re){const ne=re.getSafe(W.KeysInitQuery.dataFactory),ie=new F.Factory(ne),oe=te.predicate,ae=this.generateVariable(ne,te),ue=Object.assign(ie.createPattern(te.subject,ae,te.object,te.graph),{metadata:oe.metadata}),ce=(0,J.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:ue,context:re}));return{type:"bindings",bindingsStream:ce.bindingsStream.map(se=>oe.iris.some(le=>le.equals(se.get(ae)))?null:se.delete(ae)),metadata:ce.metadata}}}G.ActorQueryOperationPathNps=Y},"../node_modules/@comunica/actor-query-operation-path-nps/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-path-nps/lib/ActorQueryOperationPathNps.js"),G)},"../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/ActorQueryOperationPathOneOrMore.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationPathOneOrMore=void 0;const q=Q("../node_modules/@comunica/actor-abstract-path/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("asynciterator"),X=Q("sparqlalgebrajs");class te extends q.ActorAbstractPath{constructor(ne){super(ne,X.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(ne,ie){const oe=ie.getSafe(W.KeysInitQuery.dataFactory),ae=new X.Factory(oe),ue=await J.BindingsFactory.create(this.mediatorMergeBindingsContext,ie,oe),ce=await this.isPathArbitraryLengthDistinct(ae,ie,ne);if(ce.operation)return ce.operation;ie=ce.context;const se=ne.predicate;if(ne.subject.termType!=="Variable"&&ne.object.termType==="Variable"){const he=ne.object,pe=await this.getObjectsPredicateStarEval(ne.subject,se.path,he,ne.graph,ie,!1,ae,ue),ge=(ne.graph.termType==="Variable"?[he,ne.graph]:[he]).map(be=>({variable:be,canBeUndef:!1}));return{type:"bindings",bindingsStream:pe.bindingsStream,metadata:async()=>({...await pe.metadata(),variables:ge})}}if(ne.subject.termType==="Variable"&&ne.object.termType==="Variable"){const he=ae.createDistinct(ae.createPath(ne.subject,ne.predicate.path,ne.object,ne.graph)),pe=(0,F.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:ie,operation:he})),ge=ne.subject,be=ne.object,ve={},Ee=new Y.MultiTransformIterator(pe.bindingsStream,{multiTransform:Pe=>{const Te=Pe.get(ge),xe=Pe.get(be),Ne=ne.graph.termType==="Variable"?Pe.get(ne.graph):ne.graph;return new Y.TransformIterator(async()=>{const Se=new Y.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(ge,be,Te,xe,se.path,Ne,ie,ve,{},Se,{count:0},ae,ue),Se.transform({transform(Ge,Ce,ze){ne.graph.termType==="Variable"&&(Ge=Ge.set(ne.graph,Ne)),ze(Ge),Ce()}})},{maxBufferSize:128})},autoStart:!1}),ke=(ne.graph.termType==="Variable"?[ge,be,ne.graph]:[ge,be]).map(Pe=>({variable:Pe,canBeUndef:!1}));return{type:"bindings",bindingsStream:Ee,metadata:async()=>({...await pe.metadata(),variables:ke})}}if(ne.subject.termType==="Variable"&&ne.object.termType!=="Variable")return this.mediatorQueryOperation.mediate({context:ie,operation:ae.createPath(ne.object,ae.createOneOrMorePath(ae.createInv(se.path)),ne.subject,ne.graph)});const le=this.generateVariable(oe),de=(0,F.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:ie,operation:ae.createPath(ne.subject,se,le,ne.graph)}));return{type:"bindings",bindingsStream:de.bindingsStream.transform({filter:he=>ne.object.equals(he.get(le)),transform(he,pe,ge){const be=ne.graph.termType==="Variable"?ue.bindings([[ne.graph,he.get(ne.graph)]]):ue.bindings();ge(be),pe()}}),metadata:async()=>({...await de.metadata(),variables:(ne.graph.termType==="Variable"?[ne.graph]:[]).map(he=>({variable:he,canBeUndef:!1}))})}}}G.ActorQueryOperationPathOneOrMore=te},"../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/ActorQueryOperationPathOneOrMore.js"),G)},"../node_modules/@comunica/actor-query-operation-path-seq/lib/ActorQueryOperationPathSeq.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationPathSeq=void 0;const q=Q("../node_modules/@comunica/actor-abstract-path/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorAbstractPath{constructor(te){super(te,F.Algebra.types.SEQ)}async runOperation(te,re){const ne=re.getSafe(W.KeysInitQuery.dataFactory),ie=new F.Factory(ne),oe=te.predicate;let ae=te.subject;const ue=[],ce=await Promise.all(oe.input.map((le,de)=>{const he=de===oe.input.length-1?te.object:this.generateVariable(ne,te,`b${de}`),pe=ie.createPath(ae,le,he,te.graph),ge=this.mediatorQueryOperation.mediate({context:re,operation:pe});return ae=he,de<oe.input.length-1&&ue.push(he),{output:ge,operation:pe}}).map(async({output:le,operation:de})=>({output:(0,J.getSafeBindings)(await le),operation:de}))),se=(0,J.getSafeBindings)(await this.mediatorJoin.mediate({type:"inner",entries:ce,context:re}));return{type:"bindings",bindingsStream:se.bindingsStream.transform({transform(le,de,he){for(const pe of ue)le=le.delete(pe);he(le),de()}}),async metadata(){const le=await se.metadata(),de=le.variables.filter(he=>!ue.some(pe=>pe.value===he.variable.value));return{...le,variables:de}}}}}G.ActorQueryOperationPathSeq=Y},"../node_modules/@comunica/actor-query-operation-path-seq/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-path-seq/lib/ActorQueryOperationPathSeq.js"),G)},"../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/ActorQueryOperationPathZeroOrMore.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationPathZeroOrMore=void 0;const q=Q("../node_modules/@comunica/actor-abstract-path/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("asynciterator"),X=Q("../node_modules/rdf-string/index.js"),te=Q("sparqlalgebrajs");class re extends q.ActorAbstractPath{constructor(ie){super(ie,te.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(ie,oe){const ae=oe.getSafe(W.KeysInitQuery.dataFactory),ue=new te.Factory(ae),ce=await J.BindingsFactory.create(this.mediatorMergeBindingsContext,oe,ae),se=await this.isPathArbitraryLengthDistinct(ue,oe,ie);if(se.operation)return se.operation;oe=se.context;const le=ie.predicate,de=this.getPathSources(le),he=ie.subject.termType==="Variable",pe=ie.object.termType==="Variable";if(ie.subject.termType==="Variable"&&ie.object.termType==="Variable"){const Pe=this.generateVariable(ae,ie),Te=this.assignPatternSources(ue,ue.createPattern(ie.subject,Pe,ie.object,ie.graph),de),xe=(0,F.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:oe,operation:Te})),Ne=ie.subject,Se=ie.object,Ge=new Set,Ce={},ze=new Y.MultiTransformIterator(xe.bindingsStream,{multiTransform:Ke=>{const Ze=Ke.get(Ne),et=Ke.get(Se),ot=ie.graph.termType==="Variable"?Ke.get(ie.graph):ie.graph,nt=(0,X.termToString)(Ze)+(0,X.termToString)(ot),dt=(0,X.termToString)(et)+(0,X.termToString)(ot);return new Y.TransformIterator(async()=>{if(Ge.has(nt)&&Ge.has(dt))return new Y.EmptyIterator;const Fe=new Y.BufferedIterator,Xe={count:0};return Ge.has(nt)||(Ge.add(nt),await this.getSubjectAndObjectBindingsPredicateStar(Ne,Se,Ze,Ze,le.path,ot,oe,Ce,{},Fe,Xe,ue,ce)),Ge.has(dt)||(Ge.add(dt),await this.getSubjectAndObjectBindingsPredicateStar(Ne,Se,et,et,le.path,ot,oe,Ce,{},Fe,Xe,ue,ce)),Fe.transform({transform(pt,yt,vt){ie.graph.termType==="Variable"&&(pt=pt.set(ie.graph,ot)),vt(pt),yt()}})})}}),Ve=(ie.graph.termType==="Variable"?[Ne,ie.object,ie.graph]:[Ne,ie.object]).map(Ke=>({variable:Ke,canBeUndef:!1}));return{type:"bindings",bindingsStream:ze,metadata:async()=>({...await xe.metadata(),variables:Ve})}}if(!he&&!pe){const Pe=this.generateVariable(ae),Te=await this.getObjectsPredicateStarEval(ie.subject,le.path,Pe,ie.graph,oe,!0,ue,ce);return{type:"bindings",bindingsStream:Te.bindingsStream.transform({filter:xe=>ie.object.equals(xe.get(Pe)),transform(xe,Ne,Se){const Ge=ie.graph.termType==="Variable"?ce.bindings([[ie.graph,xe.get(ie.graph)]]):ce.bindings();Se(Ge),Ne()}}),metadata:async()=>({...await Te.metadata(),variables:(ie.graph.termType==="Variable"?[ie.graph]:[]).map(xe=>({variable:xe,canBeUndef:!1}))})}}const ge=he?ie.object:ie.subject,be=he?ie.subject:ie.object,ve=he?ue.createInv(le.path):le.path,Ee=await this.getObjectsPredicateStarEval(ge,ve,be,ie.graph,oe,!0,ue,ce),ke=(ie.graph.termType==="Variable"?[be,ie.graph]:[be]).map(Pe=>({variable:Pe,canBeUndef:!1}));return{type:"bindings",bindingsStream:Ee.bindingsStream,metadata:async()=>({...await Ee.metadata(),variables:ke})}}}G.ActorQueryOperationPathZeroOrMore=re},"../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/ActorQueryOperationPathZeroOrMore.js"),G)},"../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/ActorQueryOperationPathZeroOrOne.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationPathZeroOrOne=void 0;const q=Q("../node_modules/@comunica/actor-abstract-path/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),F=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),X=Q("asynciterator"),te=Q("sparqlalgebrajs");class re extends q.ActorAbstractPath{constructor(ie){super(ie,te.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(ie,oe){const ae=oe.getSafe(W.KeysInitQuery.dataFactory),ue=new te.Factory(ae),ce=await J.BindingsFactory.create(this.mediatorMergeBindingsContext,oe,ae),se=ie.predicate,le=this.getPathSources(se),de=[];if(ie.subject.termType!=="Variable"&&ie.object.termType!=="Variable"&&ie.subject.equals(ie.object))return{type:"bindings",bindingsStream:new X.SingletonIterator(ce.bindings()),metadata:()=>Promise.resolve({state:new F.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})};const he=await this.isPathArbitraryLengthDistinct(ue,oe,ie);if(he.operation)return he.operation;oe=he.context;const pe=(0,Y.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:oe,operation:ue.createPath(ie.subject,se.path,ie.object,ie.graph)}));let ge;if(ie.subject.termType==="Variable"&&ie.object.termType==="Variable"){const be=this.generateVariable(ae,ie),ve=(0,Y.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:oe,operation:ue.createFilter(this.assignPatternSources(ue,ue.createPattern(ie.subject,be,ie.object,ie.graph),le),ue.createOperatorExpression("=",[ue.createTermExpression(ie.subject),ue.createTermExpression(ie.object)]))})).bindingsStream.map(Ee=>Ee.delete(be));ge=new X.UnionIterator([ve,pe.bindingsStream],{autoStart:!1})}else ie.subject.termType==="Variable"&&de.push(ce.bindings([[ie.subject,ie.object]])),ie.object.termType==="Variable"&&de.push(ce.bindings([[ie.object,ie.subject]])),ge=pe.bindingsStream.prepend(de);return{type:"bindings",bindingsStream:ge,metadata:pe.metadata}}}G.ActorQueryOperationPathZeroOrOne=re},"../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/ActorQueryOperationPathZeroOrOne.js"),G)},"../node_modules/@comunica/actor-query-operation-project/lib/ActorQueryOperationProject.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationProject=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-data-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class X extends q.ActorQueryOperationTypedMediated{constructor(re){super(re,"project")}async testOperation(re,ne){return(0,J.passTestVoid)()}async runOperation(re,ne){const ie=ne.getSafe(W.KeysInitQuery.dataFactory),oe=(0,Y.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:re.input,context:ne})),ae=await oe.metadata(),ue=Object.fromEntries(ae.variables.map(ge=>[ge.variable.value,ge])),ce=re.variables.map(ge=>({variable:ge,canBeUndef:!1})),se=Object.fromEntries(ce.map(ge=>[ge.variable.value,ge])),le=ae.variables.filter(ge=>!(ge.variable.value in se)),de=ce.map(ge=>({variable:ge.variable,canBeUndef:!(ge.variable.value in ue)||ue[ge.variable.value].canBeUndef}));let he=le.length===0?oe.bindingsStream:oe.bindingsStream.map(ge=>{for(const be of le)ge=ge.delete(be.variable);return ge}),pe=0;return he=he.map(ge=>{pe++;const be=new Map;return ge.map(ve=>{if(ve instanceof F.BlankNodeBindingsScoped){let Ee=be.get(ve.value);return Ee||(Ee=ie.blankNode(`${ve.value}${pe}`),be.set(ve.value,Ee)),Ee}return ve})}),{type:"bindings",bindingsStream:he,metadata:async()=>({...ae,variables:de})}}}G.ActorQueryOperationProject=X},"../node_modules/@comunica/actor-query-operation-project/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-project/lib/ActorQueryOperationProject.js"),G)},"../node_modules/@comunica/actor-query-operation-reduced-hash/lib/ActorQueryOperationReducedHash.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationReducedHash=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),F=Q("../node_modules/lru-cache/dist/commonjs/index.js");class Y extends q.ActorQueryOperationTypedMediated{constructor(te){super(te,"reduced")}async testOperation(te,re){return(0,W.passTestVoid)()}async runOperation(te,re){const ne=(0,J.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:te.input,context:re})),ie=(await ne.metadata()).variables.map(oe=>oe.variable);return{type:"bindings",bindingsStream:ne.bindingsStream.filter(await this.newHashFilter(re,ie)),metadata:ne.metadata}}async newHashFilter(te,re){const{hashFunction:ne}=await this.mediatorHashBindings.mediate({context:te}),ie=new F.LRUCache({max:this.cacheSize});return oe=>{const ae=ne(oe,re);return ie.has(ae)?!1:(ie.set(ae,!0),!0)}}}G.ActorQueryOperationReducedHash=Y},"../node_modules/@comunica/actor-query-operation-reduced-hash/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-reduced-hash/lib/ActorQueryOperationReducedHash.js"),G)},"../node_modules/@comunica/actor-query-operation-service/lib/ActorQueryOperationService.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationService=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),X=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),te=Q("asynciterator");class re extends q.ActorQueryOperationTypedMediated{constructor(ie){super(ie,"service")}async testOperation(ie,oe){return ie.name.termType!=="NamedNode"?(0,J.failTest)(`${this.name} can only query services by IRI, while a ${ie.name.termType} was given.`):(0,J.passTestVoid)()}async runOperation(ie,oe){const{querySource:ae}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:ie.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:oe});let ue;try{ue=(0,X.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:(0,X.assignOperationSource)(ie.input,ae),context:oe}))}catch(ce){if(ie.silent){const se=oe.getSafe(W.KeysInitQuery.dataFactory),le=await F.BindingsFactory.create(this.mediatorMergeBindingsContext,oe,se);ue={bindingsStream:new te.SingletonIterator(le.bindings()),type:"bindings",metadata:async()=>({state:new Y.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})},this.logWarn(oe,`An error occurred when executing a SERVICE clause: ${ce.message}`)}else throw ce}return ue}}G.ActorQueryOperationService=re},"../node_modules/@comunica/actor-query-operation-service/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-service/lib/ActorQueryOperationService.js"),G)},"../node_modules/@comunica/actor-query-operation-slice/lib/ActorQueryOperationSlice.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationSlice=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js");class F extends q.ActorQueryOperationTypedMediated{constructor(X){super(X,"slice")}async testOperation(X,te){return(0,J.passTestVoid)()}async runOperation(X,te){X.length&&(te=te.set(W.KeysQueryOperation.limitIndicator,X.length));const re=await this.mediatorQueryOperation.mediate({operation:X.input,context:te});return re.type==="bindings"?{type:"bindings",bindingsStream:this.sliceStream(re.bindingsStream,X),metadata:this.sliceMetadata(re,X)}:re.type==="quads"?{type:"quads",quadStream:this.sliceStream(re.quadStream,X),metadata:this.sliceMetadata(re,X)}:re}sliceStream(X,te){const re=!!te.length||te.length===0,{start:ne}=te,ie=re?te.start+te.length-1:Number.POSITIVE_INFINITY;return X.transform({offset:ne,limit:Math.max(ie-ne+1,0),autoStart:!1})}sliceMetadata(X,te){const re=!!te.length||te.length===0;return()=>X.metadata().then(ne=>{const ie={...ne.cardinality};return Number.isFinite(ie.value)&&(ie.value=Math.max(0,ie.value-te.start),re&&(ie.value=Math.min(ie.value,te.length))),{...ne,cardinality:ie}})}}G.ActorQueryOperationSlice=F},"../node_modules/@comunica/actor-query-operation-slice/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-slice/lib/ActorQueryOperationSlice.js"),G)},"../node_modules/@comunica/actor-query-operation-source/lib/ActorQueryOperationSource.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationSource=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),X=Q("sparqlalgebrajs");class te extends q.ActorQueryOperation{constructor(ne){super(ne)}async test(ne){return(0,Y.getOperationSource)(ne.operation)?(0,J.passTest)({httpRequests:1}):(0,J.failTest)(`Actor ${this.name} requires an operation with source annotation.`)}async run(ne){const ie=ne.context.get(W.KeysInitQuery.physicalQueryPlanLogger);ie&&(ie.logOperation(ne.operation.type,void 0,ne.operation,ne.context.get(W.KeysInitQuery.physicalQueryPlanNode),this.name,{}),ne.context=ne.context.set(W.KeysInitQuery.physicalQueryPlanNode,ne.operation));const oe=(0,Y.getOperationSource)(ne.operation),ae=oe.context?ne.context.merge(oe.context):ne.context;let ue=!1;if(X.Util.recurseOperation(ne.operation,{construct(){return ue=!0,!1}}),ue){const le=oe.source.queryQuads(ne.operation,ae),de=(0,F.getMetadataQuads)(le);return{type:"quads",quadStream:le,metadata:de}}switch(ne.operation.type){case X.Algebra.types.ASK:return{type:"boolean",execute:()=>oe.source.queryBoolean(ne.operation,ae)};case X.Algebra.types.COMPOSITE_UPDATE:case X.Algebra.types.DELETE_INSERT:case X.Algebra.types.LOAD:case X.Algebra.types.CLEAR:case X.Algebra.types.CREATE:case X.Algebra.types.DROP:case X.Algebra.types.ADD:case X.Algebra.types.MOVE:case X.Algebra.types.COPY:return{type:"void",execute:()=>oe.source.queryVoid(ne.operation,ae)}}const ce=oe.source.queryBindings(ne.operation,ae),se=(0,F.getMetadataBindings)(ce);return{type:"bindings",bindingsStream:ce,metadata:se}}}G.ActorQueryOperationSource=te},"../node_modules/@comunica/actor-query-operation-source/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-source/lib/ActorQueryOperationSource.js"),G)},"../node_modules/@comunica/actor-query-operation-union/lib/ActorQueryOperationUnion.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationUnion=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("asynciterator");class X extends q.ActorQueryOperationTypedMediated{constructor(re){super(re,"union")}static unionVariables(re){const ne={};for(const ie of re)for(const oe of ie){ne[oe.variable.value]||(ne[oe.variable.value]={variable:oe.variable,canBeUndef:oe.canBeUndef,occurrences:0});const ae=ne[oe.variable.value];ae.canBeUndef=ae.canBeUndef||oe.canBeUndef,ae.occurrences++}return Object.values(ne).map(ie=>ie.occurrences===re.length?{variable:ie.variable,canBeUndef:ie.canBeUndef}:{variable:ie.variable,canBeUndef:!0})}static async unionMetadata(re,ne,ie,oe){let ae=(await oe.mediate({mode:"initialize",context:ie})).metadata;for(const ce of re)ae={...ce,...(await oe.mediate({mode:"append",accumulatedMetadata:ae,appendingMetadata:ce,context:ie})).metadata};ae.state=new J.MetadataValidationState;const ue=()=>ae.state.invalidate();for(const ce of re)ce.state.addInvalidateListener(ue);if(ne){const ce=re.map(se=>se.variables);ae.variables=X.unionVariables(ce)}return ae}async testOperation(re,ne){return(0,W.passTestVoid)()}async runOperation(re,ne){const ie=await Promise.all(re.input.map(ae=>this.mediatorQueryOperation.mediate({operation:ae,context:ne})));let oe;for(const ae of ie)if(oe===void 0)oe=ae.type;else if(oe!==ae.type)throw new Error(`Unable to union ${oe} and ${ae.type}`);if(oe==="bindings"||re.input.length===0){const ae=ie.map(F.getSafeBindings);return{type:"bindings",bindingsStream:new Y.UnionIterator(ae.map(ue=>ue.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(ae.map(ue=>ue.metadata())).then(ue=>X.unionMetadata(ue,!0,ne,this.mediatorRdfMetadataAccumulate))}}if(oe==="quads"){const ae=ie.map(F.getSafeQuads);return{type:"quads",quadStream:new Y.UnionIterator(ae.map(ue=>ue.quadStream),{autoStart:!1}),metadata:()=>Promise.all(ae.map(ue=>ue.metadata())).then(ue=>X.unionMetadata(ue,!1,ne,this.mediatorRdfMetadataAccumulate))}}throw new Error(`Unable to union ${oe}`)}}G.ActorQueryOperationUnion=X},"../node_modules/@comunica/actor-query-operation-union/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-union/lib/ActorQueryOperationUnion.js"),G)},"../node_modules/@comunica/actor-query-operation-update-clear/lib/ActorQueryOperationClear.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationClear=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class F extends q.ActorQueryOperationTypedMediated{constructor(X){super(X,"clear")}async testOperation(X,te){return(0,J.testReadOnly)(te)}async runOperation(X,te){const re=te.getSafe(W.KeysInitQuery.dataFactory);let ne;X.source==="DEFAULT"?ne=re.defaultGraph():typeof X.source=="string"?ne=X.source:ne=[X.source];const{execute:ie}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:ne,requireExistence:!X.silent,dropGraphs:!1},context:te});return{type:"void",execute:ie}}}G.ActorQueryOperationClear=F},"../node_modules/@comunica/actor-query-operation-update-clear/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-update-clear/lib/ActorQueryOperationClear.js"),G)},"../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/ActorQueryOperationUpdateCompositeUpdate.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationUpdateCompositeUpdate=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class J extends q.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"compositeupdate")}async testOperation(Y,X){return(0,W.testReadOnly)(X)}async runOperation(Y,X){return{type:"void",execute:()=>(async()=>{for(const te of Y.updates)await(0,W.getSafeVoid)(await this.mediatorQueryOperation.mediate({operation:te,context:X})).execute()})()}}}G.ActorQueryOperationUpdateCompositeUpdate=J},"../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/ActorQueryOperationUpdateCompositeUpdate.js"),G)},"../node_modules/@comunica/actor-query-operation-update-create/lib/ActorQueryOperationCreate.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationCreate=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class J extends q.ActorQueryOperationTypedMediated{constructor(Y){super(Y,"create")}async testOperation(Y,X){return(0,W.testReadOnly)(X)}async runOperation(Y,X){const{execute:te}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[Y.source],requireNonExistence:!Y.silent},context:X});return{type:"void",execute:te}}}G.ActorQueryOperationCreate=J},"../node_modules/@comunica/actor-query-operation-update-create/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-update-create/lib/ActorQueryOperationCreate.js"),G)},"../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/ActorQueryOperationUpdateDeleteInsert.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationUpdateDeleteInsert=void 0;const q=Q("../node_modules/@comunica/actor-query-operation-construct/lib/index.js"),W=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),J=Q("../node_modules/@comunica/context-entries/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),X=Q("asynciterator");class te extends W.ActorQueryOperationTypedMediated{constructor(ne){super(ne,"deleteinsert"),this.blankNodeCounter=0}async testOperation(ne,ie){return(0,Y.testReadOnly)(ie)}async runOperation(ne,ie){const oe=ie.getSafe(J.KeysInitQuery.dataFactory),ae=await F.BindingsFactory.create(this.mediatorMergeBindingsContext,ie,oe),ue=ne.where?(0,Y.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:ne.where,context:ie})).bindingsStream:new X.ArrayIterator([ae.bindings()],{autoStart:!1});let ce,se;ne.insert&&(ce=new q.BindingsToQuadsIterator(oe,ne.insert.map(q.BindingsToQuadsIterator.localizeQuad.bind(null,oe,this.blankNodeCounter)),ue.clone()),this.blankNodeCounter++),ne.delete&&(se=new q.BindingsToQuadsIterator(oe,ne.delete.map(q.BindingsToQuadsIterator.localizeQuad.bind(null,oe,this.blankNodeCounter)),ue.clone()),this.blankNodeCounter++);const{execute:le}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:ce,quadStreamDelete:se,context:ie});return{type:"void",execute:le}}}G.ActorQueryOperationUpdateDeleteInsert=te},"../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/ActorQueryOperationUpdateDeleteInsert.js"),G)},"../node_modules/@comunica/actor-query-operation-update-drop/lib/ActorQueryOperationDrop.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationDrop=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-query-operation/lib/index.js");class F extends q.ActorQueryOperationTypedMediated{constructor(X){super(X,"drop")}async testOperation(X,te){return(0,J.testReadOnly)(te)}async runOperation(X,te){const re=te.getSafe(W.KeysInitQuery.dataFactory);let ne;X.source==="DEFAULT"?ne=re.defaultGraph():typeof X.source=="string"?ne=X.source:ne=[X.source];const{execute:ie}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:ne,requireExistence:!X.silent,dropGraphs:!0},context:te});return{type:"void",execute:ie}}}G.ActorQueryOperationDrop=F},"../node_modules/@comunica/actor-query-operation-update-drop/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-update-drop/lib/ActorQueryOperationDrop.js"),G)},"../node_modules/@comunica/actor-query-operation-update-load/lib/ActorQueryOperationLoad.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationLoad=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),F=Q("sparqlalgebrajs");class Y extends q.ActorQueryOperationTypedMediated{constructor(te){super(te,"load")}async testOperation(te,re){return(0,J.testReadOnly)(re)}async runOperation(te,re){const ne=re.getSafe(W.KeysInitQuery.dataFactory),ie=new F.Factory(ne);let oe=re;te.silent&&(oe=oe.set(W.KeysInitQuery.lenient,!0));const{querySource:ae}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:te.source.value},context:oe});let ue=(0,J.getSafeQuads)(await this.mediatorQueryOperation.mediate({operation:ie.createConstruct((0,J.assignOperationSource)(ie.createPattern(ne.variable("s"),ne.variable("p"),ne.variable("o")),ae),[ie.createPattern(ne.variable("s"),ne.variable("p"),ne.variable("o"))]),context:oe})).quadStream;te.destination&&(ue=ue.map(se=>ne.quad(se.subject,se.predicate,se.object,te.destination)));const{execute:ce}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:ue,context:re});return{type:"void",execute:ce}}}G.ActorQueryOperationLoad=Y},"../node_modules/@comunica/actor-query-operation-update-load/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-update-load/lib/ActorQueryOperationLoad.js"),G)},"../node_modules/@comunica/actor-query-operation-values/lib/ActorQueryOperationValues.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationValues=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),X=Q("asynciterator");class te extends q.ActorQueryOperationTyped{constructor(ne){super(ne,"values")}async testOperation(ne,ie){return(0,J.passTestVoid)()}async runOperation(ne,ie){const oe=ie.getSafe(W.KeysInitQuery.dataFactory),ae=await F.BindingsFactory.create(this.mediatorMergeBindingsContext,ie,oe);return{type:"bindings",bindingsStream:new X.ArrayIterator(ne.bindings.map(ue=>ae.bindings(Object.entries(ue).map(([ce,se])=>[oe.variable(ce.slice(1)),se])))),metadata:()=>Promise.resolve({state:new Y.MetadataValidationState,cardinality:{type:"exact",value:ne.bindings.length},variables:ne.variables.map(ue=>({variable:ue,canBeUndef:ne.bindings.some(ce=>!(`?${ue.value}`in ce))}))})}}}G.ActorQueryOperationValues=te},"../node_modules/@comunica/actor-query-operation-values/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-operation-values/lib/ActorQueryOperationValues.js"),G)},"../node_modules/@comunica/actor-query-parse-sparql/lib/ActorQueryParseSparql.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryParseSparql=void 0;const q=Q("../node_modules/@comunica/bus-query-parse/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("sparqlalgebrajs"),Y=Q("sparqljs");class X extends q.ActorQueryParse{constructor(re){super(re),this.prefixes=Object.freeze(this.prefixes)}async test(re){return re.queryFormat&&re.queryFormat.language!=="sparql"?(0,J.failTest)("This actor can only parse SPARQL queries"):(0,J.passTestVoid)()}async run(re){const ne=re.context.getSafe(W.KeysInitQuery.dataFactory),ie=new Y.Parser({prefixes:this.prefixes,baseIRI:re.baseIRI,sparqlStar:!0,factory:ne}).parse(re.query);return{baseIRI:ie.type==="query"?ie.base:void 0,operation:(0,F.translate)(ie,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:re.baseIRI,dataFactory:ne})}}}G.ActorQueryParseSparql=X},"../node_modules/@comunica/actor-query-parse-sparql/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-parse-sparql/lib/ActorQueryParseSparql.js"),G)},"../node_modules/@comunica/actor-query-process-sequential/lib/ActorQueryProcessSequential.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryProcessSequential=void 0;const q=Q("../node_modules/@comunica/bus-query-process/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),X=Q("sparqlalgebrajs");class te extends q.ActorQueryProcess{constructor(ne){super(ne)}async test(ne){return ne.context.get(W.KeysInitQuery.explain)??ne.context.get(new J.ActionContextKey("explain"))?(0,J.failTest)(`${this.name} is not able to explain queries.`):(0,J.passTestVoid)()}async run(ne){let{operation:ie,context:oe}=await this.parse(ne.query,ne.context);return{operation:ie,context:oe}=await this.optimize(ie,oe),{result:await this.evaluate(ie,oe)}}async parse(ne,ie){ie=(await this.mediatorContextPreprocess.mediate({context:ie,initialize:!0})).context;let oe;if(typeof ne=="string"){ie=ie.set(W.KeysInitQuery.queryString,ne);const ae=ie.get(W.KeysInitQuery.baseIRI),ue=ie.get(W.KeysInitQuery.queryFormat),ce=await this.mediatorQueryParse.mediate({context:ie,query:ne,queryFormat:ue,baseIRI:ae});oe=ce.operation,ce.baseIRI&&(ie=ie.set(W.KeysInitQuery.baseIRI,ce.baseIRI))}else oe=ne;if(ie.has(W.KeysInitQuery.initialBindings)){const ae=ie.getSafe(W.KeysInitQuery.dataFactory),ue=new X.Factory(ae),ce=await F.BindingsFactory.create(this.mediatorMergeBindingsContext,ie,ae);oe=(0,Y.materializeOperation)(oe,ie.get(W.KeysInitQuery.initialBindings),ue,ce),ie=ie.delete(W.KeysInitQuery.queryString)}return{operation:oe,context:ie}}async optimize(ne,ie){return ie=ie.set(W.KeysInitQuery.query,ne),{operation:ne,context:ie}=await this.mediatorOptimizeQueryOperation.mediate({context:ie,operation:ne}),ie=ie.set(W.KeysInitQuery.query,ne),{operation:ne,context:ie}}async evaluate(ne,ie){const oe=await this.mediatorQueryOperation.mediate({context:ie,operation:ne});return oe.context=ie,oe}}G.ActorQueryProcessSequential=te},"../node_modules/@comunica/actor-query-process-sequential/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-process-sequential/lib/ActorQueryProcessSequential.js"),G)},"../node_modules/@comunica/actor-query-source-identify-rdfjs/lib/ActorQuerySourceIdentifyRdfJs.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQuerySourceIdentifyRdfJs=void 0;const q=Q("../node_modules/@comunica/bus-query-source-identify/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/actor-query-source-identify-rdfjs/lib/QuerySourceRdfJs.js");class X extends q.ActorQuerySourceIdentify{constructor(re){super(re)}async test(re){const ne=re.querySourceUnidentified;return ne.type!==void 0&&ne.type!=="rdfjs"?(0,J.failTest)(`${this.name} requires a single query source with rdfjs type to be present in the context.`):typeof ne.value=="string"||!("match"in ne.value)?(0,J.failTest)(`${this.name} received an invalid rdfjs query source.`):(0,J.passTestVoid)()}async run(re){const ne=re.context.getSafe(W.KeysInitQuery.dataFactory);return{querySource:{source:new Y.QuerySourceRdfJs(re.querySourceUnidentified.value,ne,await F.BindingsFactory.create(this.mediatorMergeBindingsContext,re.context,ne)),context:re.querySourceUnidentified.context??new J.ActionContext}}}}G.ActorQuerySourceIdentifyRdfJs=X},"../node_modules/@comunica/actor-query-source-identify-rdfjs/lib/IRdfJsSourceExtended.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/actor-query-source-identify-rdfjs/lib/QuerySourceRdfJs.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.QuerySourceRdfJs=void 0;const q=Q("../node_modules/@comunica/bus-query-source-identify/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),F=Q("asynciterator"),Y=Q("../node_modules/rdf-terms/index.js"),X=Q("sparqlalgebrajs");class te{constructor(ne,ie,oe){this.source=ne,this.referenceValue=ne,this.dataFactory=ie,this.bindingsFactory=oe;const ae=new X.Factory(this.dataFactory);this.selectorShape={type:"operation",operation:{operationType:"pattern",pattern:ae.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o")]}}static nullifyVariables(ne,ie){return!ne||ne.termType==="Variable"||!ie&&ne.termType==="Quad"&&(0,Y.someTermsNested)(ne,oe=>oe.termType==="Variable")?void 0:ne}static hasDuplicateVariables(ne){const ie=(0,Y.filterTermsNested)(ne,oe=>oe.termType==="Variable");return ie.length>1&&(0,Y.uniqTerms)(ie).length<ie.length}async getSelectorShape(){return this.selectorShape}queryBindings(ne,ie){var ce;if(ne.type!=="pattern")throw new Error(`Attempted to pass non-pattern operation '${ne.type}' to QuerySourceRdfJs`);const oe=!!((ce=this.source.features)!=null&&ce.quotedTripleFiltering),ae=this.source.match(te.nullifyVariables(ne.subject,oe),te.nullifyVariables(ne.predicate,oe),te.nullifyVariables(ne.object,oe),te.nullifyVariables(ne.graph,oe));let ue=ae instanceof F.AsyncIterator?ae:(0,F.wrap)(ae,{autoStart:!1});return oe||(ue=(0,q.filterMatchingQuotedQuads)(ne,ue)),ue.getProperty("metadata")||this.setMetadata(ue,ne).catch(se=>ue.destroy(se)),(0,q.quadsToBindings)(ue,ne,this.dataFactory,this.bindingsFactory,!!ie.get(W.KeysQueryOperation.unionDefaultGraph))}async setMetadata(ne,ie){var ce;const oe=!!((ce=this.source.features)!=null&&ce.quotedTripleFiltering);let ae;if(this.source.countQuads)ae=await this.source.countQuads(te.nullifyVariables(ie.subject,oe),te.nullifyVariables(ie.predicate,oe),te.nullifyVariables(ie.object,oe),te.nullifyVariables(ie.graph,oe));else{let se=0;ae=await new Promise((le,de)=>{const he=this.source.match(te.nullifyVariables(ie.subject,oe),te.nullifyVariables(ie.predicate,oe),te.nullifyVariables(ie.object,oe),te.nullifyVariables(ie.graph,oe));he.on("error",de),he.on("end",()=>le(se)),he.on("data",()=>se++)})}const ue=!oe&&(0,Y.someTerms)(ie,se=>se.termType==="Quad")||te.hasDuplicateVariables(ie);ne.setProperty("metadata",{state:new J.MetadataValidationState,cardinality:{type:ue?"estimate":"exact",value:ae}})}queryQuads(ne,ie){throw new Error("queryQuads is not implemented in QuerySourceRdfJs")}queryBoolean(ne,ie){throw new Error("queryBoolean is not implemented in QuerySourceRdfJs")}queryVoid(ne,ie){throw new Error("queryVoid is not implemented in QuerySourceRdfJs")}toString(){return`QuerySourceRdfJs(${this.source.constructor.name})`}}G.QuerySourceRdfJs=te},"../node_modules/@comunica/actor-query-source-identify-rdfjs/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-query-source-identify-rdfjs/lib/ActorQuerySourceIdentifyRdfJs.js"),G),W(Q("../node_modules/@comunica/actor-query-source-identify-rdfjs/lib/IRdfJsSourceExtended.js"),G),W(Q("../node_modules/@comunica/actor-query-source-identify-rdfjs/lib/QuerySourceRdfJs.js"),G)},"../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/ActorRdfJoinEntriesSortCardinality.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinEntriesSortCardinality=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join-entries-sort/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js");class J extends q.ActorRdfJoinEntriesSort{constructor(Y){super(Y)}async test(Y){return(0,W.passTestVoid)()}async run(Y){return{entries:[...Y.entries].sort((X,te)=>X.metadata.cardinality.value-te.metadata.cardinality.value)}}}G.ActorRdfJoinEntriesSortCardinality=J},"../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/ActorRdfJoinEntriesSortCardinality.js"),G)},"../node_modules/@comunica/actor-rdf-join-inner-hash/lib/ActorRdfJoinHash.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinHash=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-bindings-index/lib/index.js"),F=Q("../node_modules/@comunica/utils-iterator/lib/index.js"),Y=Q("asynciterator"),X=Q("../node_modules/asyncjoin/index.js"),te=Q("../node_modules/rdf-string/index.js");class re extends q.ActorRdfJoin{constructor(ie){super(ie,{logicalType:"inner",physicalName:`hash-${ie.canHandleUndefs?"undef":"def"}`,limitEntries:2,requiresVariableOverlap:!0,canHandleUndefs:ie.canHandleUndefs})}async getOutput(ie,oe){const ae=oe.metadatas;let ue;const ce=q.ActorRdfJoin.overlappingVariables(ae);if(this.canHandleUndefs){const se=oe.entriesSorted[0].output,le=oe.entriesSorted[1].output;ue=new F.ClosableTransformIterator(async()=>{const de=new J.BindingsIndexUndef(ce,he=>he&&he.termType!=="Variable"?(0,te.termToString)(he):"",!0);return await new Promise(he=>{se.bindingsStream.on("data",pe=>{(de.getFirst(pe,!1)??de.put(pe,[])).push(pe)}),se.bindingsStream.on("end",he),se.bindingsStream.on("error",pe=>{ue.emit("error",pe)})}),new Y.MultiTransformIterator(le.bindingsStream,{multiTransform:he=>new Y.ArrayIterator(de.get(he).flat().map(pe=>q.ActorRdfJoin.joinBindings(he,pe)).filter(pe=>pe!==null),{autoStart:!1}),autoStart:!1})},{autoStart:!1,onClose(){se.bindingsStream.destroy(),le.bindingsStream.destroy()}})}else{const{hashFunction:se}=await this.mediatorHashBindings.mediate({context:ie.context}),le=ce.map(de=>de.variable);ue=new X.HashJoin(oe.entriesSorted[0].output.bindingsStream,oe.entriesSorted[1].output.bindingsStream,de=>se(de,le),q.ActorRdfJoin.joinBindings)}return{result:{type:"bindings",bindingsStream:ue,metadata:async()=>await this.constructResultMetadata(oe.entriesSorted,ae,ie.context)}}}async getJoinCoefficients(ie,oe){let ae=ie.entries;oe.metadatas[1].cardinality.value<oe.metadatas[0].cardinality.value&&(oe.metadatas=[oe.metadatas[1],oe.metadatas[0]],ae=[ie.entries[1],ie.entries[0]]);const{metadatas:ue}=oe,ce=q.ActorRdfJoin.getRequestInitialTimes(ue),se=q.ActorRdfJoin.getRequestItemTimes(ue);let le=ue[0].cardinality.value+ue[1].cardinality.value;return this.canHandleUndefs||(le*=.8),(0,W.passTestWithSideData)({iterations:le,persistedItems:ue[0].cardinality.value,blockingItems:ue[0].cardinality.value,requestTime:ce[0]+ue[0].cardinality.value*se[0]+ce[1]+ue[1].cardinality.value*se[1]},{...oe,entriesSorted:ae})}}G.ActorRdfJoinHash=re},"../node_modules/@comunica/actor-rdf-join-inner-hash/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-inner-hash/lib/ActorRdfJoinHash.js"),G)},"../node_modules/@comunica/actor-rdf-join-inner-multi-bind-source/lib/ActorRdfJoinMultiBindSource.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinMultiBindSource=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-iterator/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),X=Q("asynciterator"),te=Q("sparqlalgebrajs");class re extends q.ActorRdfJoin{constructor(ie){super(ie,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(ie,oe){const ae=ie.context.getSafe(W.KeysInitQuery.dataFactory),ue=new te.Factory(ae),ce=oe.entriesSorted;this.logDebug(ie.context,"First entry for Bind Join Source: ",()=>({entry:ce[0].operation,metadata:ce[0].metadata}));for(const[be,ve]of ce.entries())be!==0&&ve.output.bindingsStream.close();const se=ce[0].output,le=ce[0].metadata,de=[...ce];de.splice(0,1);const he=(0,Y.getOperationSource)(de[0].operation),pe=this.createOperationFromEntries(ue,de),ge=new F.ChunkedIterator(se.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new X.UnionIterator(ge.map(be=>he.source.queryBindings(pe,he.context?ie.context.merge(he.context):ie.context,{joinBindings:{bindings:be,metadata:le}}))),metadata:()=>this.constructResultMetadata(ce,ce.map(be=>be.metadata),ie.context)},physicalPlanMetadata:{bindIndex:oe.entriesUnsorted.indexOf(ce[0])}}}async sortJoinEntries(ie,oe){const ae=await q.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,ie,oe);return ae.isFailed()?ae:(ie=ae.get(),ie=ie.sort((ue,ce)=>ue.operationModified&&!ce.operationModified?-1:0),(0,J.passTest)(ie))}async getJoinCoefficients(ie,oe){let{metadatas:ae}=oe;const ue=ie.context.getSafe(W.KeysInitQuery.dataFactory),ce=new te.Factory(ue),se=ie.entries.map((xe,Ne)=>({...xe,metadata:ae[Ne]})),le=await this.sortJoinEntries(se,ie.context);if(le.isFailed())return le;const de=le.get();ae=de.map(xe=>xe.metadata);const he=q.ActorRdfJoin.getRequestInitialTimes(ae),pe=q.ActorRdfJoin.getRequestItemTimes(ae),ge=[...de];[...he],[...pe],ge.splice(0,1);const be=ge.map(xe=>(0,Y.getOperationSource)(xe.operation));if(be.some(xe=>!xe))return(0,J.failTest)(`Actor ${this.name} can not bind on remaining operations without source annotation`);if(be.some(xe=>xe!==be[0]))return(0,J.failTest)(`Actor ${this.name} can not bind on remaining operations with non-equal source annotation`);const ve=be[0],Ee=this.createOperationFromEntries(ce,ge),ke=await ve.source.getSelectorShape(ie.context);if(!(0,Y.doesShapeAcceptOperation)(ke,Ee,{joinBindings:!0}))return(0,J.failTest)(`Actor ${this.name} detected a source that can not handle passing down join bindings`);const Pe=await Promise.all(ge.map(async xe=>(await this.mediatorJoinSelectivity.mediate({entries:[de[0],xe],context:ie.context})).selectivity*this.selectivityModifier)),Te=ge.map((xe,Ne)=>xe.metadata.cardinality.value*Pe[Ne]).reduce((xe,Ne)=>xe+Ne,0);return(0,J.passTestWithSideData)({iterations:1,persistedItems:ae[0].cardinality.value,blockingItems:ae[0].cardinality.value,requestTime:he[0]+ae[0].cardinality.value*pe[0]+he[1]+Te*pe[1]},{...oe,entriesUnsorted:se,entriesSorted:de})}createOperationFromEntries(ie,oe){return oe.length===1?oe[0].operation:ie.createJoin(oe.map(ae=>ae.operation),!0)}}G.ActorRdfJoinMultiBindSource=re},"../node_modules/@comunica/actor-rdf-join-inner-multi-bind-source/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-inner-multi-bind-source/lib/ActorRdfJoinMultiBindSource.js"),G)},"../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/ActorRdfJoinMultiBind.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinMultiBind=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),X=Q("asynciterator"),te=Q("sparqlalgebrajs");class re extends q.ActorRdfJoin{constructor(ie){super(ie,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(ie,oe,ae,ue,ce,se,le){const de=ie==="depth-first",he=pe=>{const ge=ae.map(ve=>(0,Y.materializeOperation)(ve,pe,se,le,{bindFilter:!0})),be=ve=>ve.merge(pe);return new X.TransformIterator(async()=>(await ue(ge,pe)).transform({map:be}),{maxBufferSize:128,autoStart:de})};switch(ie){case"depth-first":return new X.MultiTransformIterator(oe,{autoStart:!1,multiTransform:he,optional:ce});case"breadth-first":return new X.UnionIterator(oe.transform({map:he,optional:ce}),{autoStart:!1});default:throw new Error(`Received request for unknown bind order: ${ie}`)}}async getOutput(ie,oe){const ae=ie.context.getSafe(W.KeysInitQuery.dataFactory),ue=new te.Factory(ae),ce=await F.BindingsFactory.create(this.mediatorMergeBindingsContext,ie.context,ae),se=oe.entriesSorted;this.logDebug(ie.context,"First entry for Bind Join: ",()=>({entry:se[0].operation,metadata:se[0].metadata}));for(const[pe,ge]of se.entries())pe!==0&&ge.output.bindingsStream.close();const le=se[0].output,de=[...se];de.splice(0,1);const he=ie.context.set(W.KeysQueryOperation.joinLeftMetadata,se[0].metadata).set(W.KeysQueryOperation.joinRightMetadatas,de.map(pe=>pe.metadata));return{result:{type:"bindings",bindingsStream:re.createBindStream(this.bindOrder,le.bindingsStream,de.map(pe=>pe.operation),async(pe,ge)=>{const be=pe.length===1?pe[0]:ue.createJoin(pe);return(0,Y.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:be,context:he==null?void 0:he.set(W.KeysQueryOperation.joinBindings,ge)})).bindingsStream},!1,ue,ce),metadata:()=>this.constructResultMetadata(se,se.map(pe=>pe.metadata),ie.context)},physicalPlanMetadata:{bindIndex:oe.entriesUnsorted.indexOf(se[0]),bindOperation:se[0].operation,bindOperationCardinality:se[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(ie){let oe=!0;return te.Util.recurseOperation(ie,{[te.Algebra.types.EXTEND](){return oe=!1,!1},[te.Algebra.types.GROUP](){return oe=!1,!1}}),oe}async getJoinCoefficients(ie,oe){let{metadatas:ae}=oe;const ue=ie.entries.map((Pe,Te)=>({...Pe,metadata:ae[Te]})),ce=await q.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,ue,ie.context);if(ce.isFailed())return ce;const se=ce.get();ae=se.map(Pe=>Pe.metadata);const le=q.ActorRdfJoin.getRequestInitialTimes(ae),de=q.ActorRdfJoin.getRequestItemTimes(ae),he=[...se],pe=[...le],ge=[...de];if(he.splice(0,1),pe.splice(0,1),ge.splice(0,1),he.some(Pe=>!this.canBindWithOperation(Pe.operation)))return(0,J.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);if(he.some(Pe=>Pe.operationModified))return(0,J.failTest)(`Actor ${this.name} can not be used over remaining entries with modified operations`);if(ae[0].cardinality.value*this.minMaxCardinalityRatio>Math.max(...ae.map(Pe=>Pe.cardinality.value)))return(0,J.failTest)(`Actor ${this.name} can only run if the smallest stream is much smaller than largest stream`);const be=await Promise.all(he.map(async Pe=>(await this.mediatorJoinSelectivity.mediate({entries:[se[0],Pe],context:ie.context})).selectivity*this.selectivityModifier)),ve=he.map((Pe,Te)=>Pe.metadata.cardinality.value*be[Te]).reduce((Pe,Te)=>Pe+Te,0),Ee=pe.reduce((Pe,Te)=>Pe+Te,0),ke=ge.reduce((Pe,Te)=>Pe+Te,0);return(0,J.passTestWithSideData)({iterations:ae[0].cardinality.value*ve,persistedItems:0,blockingItems:0,requestTime:le[0]+ae[0].cardinality.value*(de[0]+Ee+ve*ke)},{...oe,entriesUnsorted:ue,entriesSorted:se})}}G.ActorRdfJoinMultiBind=re},"../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/ActorRdfJoinMultiBind.js"),G)},"../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/ActorRdfJoinMultiEmpty.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinMultiEmpty=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),Y=Q("asynciterator");class X extends q.ActorRdfJoin{constructor(re){super(re,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(re){return(await q.ActorRdfJoin.getMetadatas(re.entries)).every(ne=>q.ActorRdfJoin.getCardinality(ne).value>0)?(0,J.failTest)(`Actor ${this.name} can only join entries where at least one is empty`):super.test(re)}async getOutput(re){for(const ie of re.entries)ie.output.bindingsStream.close();const ne=re.context.getSafe(W.KeysInitQuery.dataFactory);return{result:{bindingsStream:new Y.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new F.MetadataValidationState,cardinality:{type:"exact",value:0},variables:q.ActorRdfJoin.joinVariables(ne,await q.ActorRdfJoin.getMetadatas(re.entries))}),type:"bindings"}}}async getJoinCoefficients(re,ne){return(0,J.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},ne)}}G.ActorRdfJoinMultiEmpty=X},"../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/ActorRdfJoinMultiEmpty.js"),G)},"../node_modules/@comunica/actor-rdf-join-inner-multi-smallest-filter-bindings/lib/ActorRdfJoinMultiSmallestFilterBindings.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinMultiSmallestFilterBindings=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-iterator/lib/index.js"),X=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),te=Q("asynciterator"),re=Q("sparqlalgebrajs");class ne extends q.ActorRdfJoin{constructor(oe){super(oe,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(oe,ae){let{entries:ue}=await this.mediatorJoinEntriesSort.mediate({entries:oe,context:ae});ue=ue.sort((pe,ge)=>pe.operationModified&&!ge.operationModified?-1:0);const ce=ue.splice(0,1)[0];let se,le=-1,de=0;for(const[pe,ge]of ue.entries()){const be=ce.metadata.variables.filter(ve=>ge.metadata.variables.some(Ee=>ve.variable.equals(Ee.variable))).length;(!se||be>de||be===de&&(ge.metadata.variables.length<se.metadata.variables.length||ge.metadata.variables.length===se.metadata.variables.length&&ge.metadata.cardinality.value<se.metadata.cardinality.value))&&(se=ge,le=pe,de=be)}if(de===0)return(0,J.failTest)(`Actor ${this.name} can only join with common variables`);const he=ue;return he.splice(le,1),(0,J.passTest)({first:ce,second:se,remaining:he})}async getOutput(oe){const ae=oe.context.getSafe(W.KeysInitQuery.dataFactory),ue=new re.Factory(ae),ce=await q.ActorRdfJoin.getEntriesWithMetadatas([...oe.entries]),{first:se,second:le,remaining:de}=(await this.sortJoinEntries(ce,oe.context)).getOrThrow(),he=se.output.bindingsStream;se.output.bindingsStream=he.clone();const pe=se.metadata.variables.filter(xe=>le.metadata.variables.some(Ne=>xe.variable.equals(Ne.variable))),ge={},be=he.clone().map(xe=>xe.filter((Ne,Se)=>pe.some(Ge=>Ge.variable.equals(Se)))).filter(xe=>{const Ne=(0,F.bindingsToString)(xe);return!(Ne in ge)&&(ge[Ne]=!0)}),ve=new Y.ChunkedIterator(be,this.blockSize,{autoStart:!1}),Ee=(0,X.getOperationSource)(le.operation),ke={output:{type:"bindings",bindingsStream:new te.UnionIterator(ve.map(xe=>Ee.source.queryBindings(le.operation,Ee.context?oe.context.merge(Ee.context):oe.context,{filterBindings:{bindings:xe,metadata:se.metadata}}))),metadata:le.output.metadata},operation:le.operation,operationModified:!0};le.output.bindingsStream.destroy();const Pe={output:(0,X.getSafeBindings)(await this.mediatorJoin.mediate({type:oe.type,entries:[se,ke],context:oe.context.set(W.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:ue.createJoin([se.operation,ke.operation],!1),operationModified:!0},Te=de;return Te.unshift(Pe),{result:await this.mediatorJoin.mediate({type:oe.type,entries:Te,context:oe.context}),physicalPlanMetadata:{firstIndex:ce.indexOf(se),secondIndex:ce.indexOf(le)}}}async getJoinCoefficients(oe,ae){let{metadatas:ue}=ae;if(oe.context.get(W.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)return(0,J.failTest)(`Actor ${this.name} can not be called recursively`);ue=[...ue];const ce=await this.sortJoinEntries(oe.entries.map((Pe,Te)=>({...Pe,metadata:ue[Te]})),oe.context);if(ce.isFailed())return ce;const{first:se,second:le,remaining:de}=ce.get(),he=(0,X.getOperationSource)(le.operation);if(!he)return(0,J.failTest)(`Actor ${this.name} can only process if entries[1] has a source`);const pe=le.operation,ge=await he.source.getSelectorShape(oe.context);if(!(0,X.doesShapeAcceptOperation)(ge,pe,{filterBindings:!0}))return(0,J.failTest)(`Actor ${this.name} can only process if entries[1] accept filterBindings`);ue=[se.metadata,le.metadata,...de.map(Pe=>Pe.metadata)];const be=q.ActorRdfJoin.getRequestInitialTimes(ue),ve=q.ActorRdfJoin.getRequestItemTimes(ue),{selectivity:Ee}=await this.mediatorJoinSelectivity.mediate({entries:[se,le],context:oe.context}),ke=de.reduce((Pe,Te)=>Pe*Te.metadata.cardinality.value*this.selectivityModifier,1);return(0,J.passTestWithSideData)({iterations:Ee*this.selectivityModifier*le.metadata.cardinality.value*ke,persistedItems:se.metadata.cardinality.value,blockingItems:se.metadata.cardinality.value,requestTime:be[0]+ue[0].cardinality.value*ve[0]+be[1]+ke*ve[1]},ae)}}G.ActorRdfJoinMultiSmallestFilterBindings=ne},"../node_modules/@comunica/actor-rdf-join-inner-multi-smallest-filter-bindings/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-inner-multi-smallest-filter-bindings/lib/ActorRdfJoinMultiSmallestFilterBindings.js"),G)},"../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/ActorRdfJoinMultiSmallest.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinMultiSmallest=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),Y=Q("sparqlalgebrajs");class X extends q.ActorRdfJoin{constructor(re){super(re,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}async sortJoinEntries(re,ne){return(await this.mediatorJoinEntriesSort.mediate({entries:re,context:ne})).entries}async getOutput(re,ne){const ie=re.context.getSafe(W.KeysInitQuery.dataFactory),oe=new Y.Factory(ie),ae=ne.sortedEntries,ue=ae[0],ce=ae[1];ae.splice(0,2);const se={output:(0,F.getSafeBindings)(await this.mediatorJoin.mediate({type:re.type,entries:[ue,ce],context:re.context})),operation:oe.createJoin([ue.operation,ce.operation],!1)};return ae.push(se),{result:await this.mediatorJoin.mediate({type:re.type,entries:ae,context:re.context})}}async getJoinCoefficients(re,ne){let{metadatas:ie}=ne;ie=[...ie];const oe=await this.sortJoinEntries(re.entries.map((ce,se)=>({...ce,metadata:ie[se]})),re.context);ie=oe.map(ce=>ce.metadata);const ae=q.ActorRdfJoin.getRequestInitialTimes(ie),ue=q.ActorRdfJoin.getRequestItemTimes(ie);return(0,J.passTestWithSideData)({iterations:ie[0].cardinality.value*ie[1].cardinality.value*ie.slice(2).reduce((ce,se)=>ce*se.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:ae[0]+ie[0].cardinality.value*ue[0]+ae[1]+ie[1].cardinality.value*ue[1]+ie.slice(2).reduce((ce,se,le)=>ce+ae.slice(2)[le]+se.cardinality.value*ue.slice(2)[le],0)},{...ne,sortedEntries:oe})}}G.ActorRdfJoinMultiSmallest=X},"../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/ActorRdfJoinMultiSmallest.js"),G)},"../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/ActorRdfJoinNestedLoop.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinNestedLoop=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/asyncjoin/index.js");class F extends q.ActorRdfJoin{constructor(X){super(X,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(X){return{result:{type:"bindings",bindingsStream:new J.NestedLoopJoin(X.entries[0].output.bindingsStream,X.entries[1].output.bindingsStream,q.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(X.entries,await q.ActorRdfJoin.getMetadatas(X.entries),X.context)}}}async getJoinCoefficients(X,te){const{metadatas:re}=te,ne=q.ActorRdfJoin.getRequestInitialTimes(re),ie=q.ActorRdfJoin.getRequestItemTimes(re);return(0,W.passTestWithSideData)({iterations:re[0].cardinality.value*re[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:ne[0]+re[0].cardinality.value*ie[0]+ne[1]+re[1].cardinality.value*ie[1]},te)}}G.ActorRdfJoinNestedLoop=F},"../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/ActorRdfJoinNestedLoop.js"),G)},"../node_modules/@comunica/actor-rdf-join-inner-none/lib/ActorRdfJoinNone.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinNone=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),Y=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),X=Q("asynciterator");class te extends q.ActorRdfJoin{constructor(ne){super(ne,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(ne){return ne.entries.length>0?(0,J.failTest)(`Actor ${this.name} can only join zero entries`):await this.getJoinCoefficients(ne,void 0)}async getOutput(ne){const ie=ne.context.getSafe(W.KeysInitQuery.dataFactory),oe=await F.BindingsFactory.create(this.mediatorMergeBindingsContext,ne.context,ie);return{result:{bindingsStream:new X.ArrayIterator([oe.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new Y.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}async getJoinCoefficients(ne,ie){return(0,J.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},ie)}}G.ActorRdfJoinNone=te},"../node_modules/@comunica/actor-rdf-join-inner-none/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-inner-none/lib/ActorRdfJoinNone.js"),G)},"../node_modules/@comunica/actor-rdf-join-inner-single/lib/ActorRdfJoinSingle.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinSingle=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js");class J extends q.ActorRdfJoin{constructor(Y){super(Y,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(Y){return Y.entries.length!==1?(0,W.failTest)(`Actor ${this.name} can only join a single entry`):await this.getJoinCoefficients(Y,void 0)}async getOutput(Y){return{result:Y.entries[0].output}}async getJoinCoefficients(Y,X){return(0,W.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},X)}}G.ActorRdfJoinSingle=J},"../node_modules/@comunica/actor-rdf-join-inner-single/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-inner-single/lib/ActorRdfJoinSingle.js"),G)},"../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/ActorRdfJoinSymmetricHash.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinSymmetricHash=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/asyncjoin/index.js");class F extends q.ActorRdfJoin{constructor(X){super(X,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2,requiresVariableOverlap:!0})}async getOutput(X){const te=await q.ActorRdfJoin.getMetadatas(X.entries),re=q.ActorRdfJoin.overlappingVariables(te),{hashFunction:ne}=await this.mediatorHashBindings.mediate({context:X.context}),ie=re.map(oe=>oe.variable);return{result:{type:"bindings",bindingsStream:new J.SymmetricHashJoin(X.entries[0].output.bindingsStream,X.entries[1].output.bindingsStream,oe=>ne(oe,ie),q.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(X.entries,te,X.context)}}}async getJoinCoefficients(X,te){const{metadatas:re}=te,ne=q.ActorRdfJoin.getRequestInitialTimes(re),ie=q.ActorRdfJoin.getRequestItemTimes(re);return(0,W.passTestWithSideData)({iterations:re[0].cardinality.value+re[1].cardinality.value,persistedItems:re[0].cardinality.value+re[1].cardinality.value,blockingItems:0,requestTime:ne[0]+re[0].cardinality.value*ie[0]+ne[1]+re[1].cardinality.value*ie[1]},te)}}G.ActorRdfJoinSymmetricHash=F},"../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/ActorRdfJoinSymmetricHash.js"),G)},"../node_modules/@comunica/actor-rdf-join-minus-hash/lib/ActorRdfJoinMinusHash.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinMinusHash=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-index/lib/index.js"),Y=Q("../node_modules/@comunica/utils-iterator/lib/index.js"),X=Q("../node_modules/rdf-string/index.js");class te extends q.ActorRdfJoin{constructor(ne){super(ne,{logicalType:"minus",physicalName:`hash-${ne.canHandleUndefs?"undef":"def"}`,limitEntries:2,canHandleUndefs:ne.canHandleUndefs})}static constructIndex(ne,ie){return ne?new F.BindingsIndexUndef(ie,oe=>oe&&oe.termType!=="Variable"?(0,X.termToString)(oe):"",!1):new F.BindingsIndexDef(ie,J.bindingsToCompactString)}async getOutput(ne){const ie=ne.entries[1].output,oe=ne.entries[0].output,ae=await q.ActorRdfJoin.getMetadatas(ne.entries),ue=q.ActorRdfJoin.overlappingVariables(ae);if(ue.length===0)return ie.bindingsStream.destroy(),{result:oe};const ce=new Y.ClosableTransformIterator(async()=>{const se=te.constructIndex(this.canHandleUndefs,ue);return await new Promise(le=>{ie.bindingsStream.on("data",de=>se.put(de,!0)),ie.bindingsStream.on("end",le),ie.bindingsStream.on("error",de=>ce.emit("error",de))}),oe.bindingsStream.filter(le=>!se.getFirst(le,!0))},{autoStart:!1,onClose(){ie.bindingsStream.destroy(),oe.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:ce,metadata:oe.metadata}}}async getJoinCoefficients(ne,ie){const{metadatas:oe}=ie,ae=q.ActorRdfJoin.getRequestInitialTimes(oe),ue=q.ActorRdfJoin.getRequestItemTimes(oe);let ce=oe[0].cardinality.value+oe[1].cardinality.value;return this.canHandleUndefs||(ce*=.8),(0,W.passTestWithSideData)({iterations:ce,persistedItems:oe[0].cardinality.value,blockingItems:oe[0].cardinality.value,requestTime:ae[0]+oe[0].cardinality.value*ue[0]+ae[1]+oe[1].cardinality.value*ue[1]},ie)}}G.ActorRdfJoinMinusHash=te},"../node_modules/@comunica/actor-rdf-join-minus-hash/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-minus-hash/lib/ActorRdfJoinMinusHash.js"),G)},"../node_modules/@comunica/actor-rdf-join-optional-bind/lib/ActorRdfJoinOptionalBind.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinOptionalBind=void 0;const q=Q("../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/index.js"),W=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),J=Q("../node_modules/@comunica/context-entries/lib/index.js"),F=Q("../node_modules/@comunica/core/lib/index.js"),Y=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),X=Q("../node_modules/@comunica/utils-query-operation/lib/index.js"),te=Q("sparqlalgebrajs");class re extends W.ActorRdfJoin{constructor(ie){super(ie,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1,requiresVariableOverlap:!0})}async getOutput(ie){const oe=ie.context.getSafe(J.KeysInitQuery.dataFactory),ae=new te.Factory(oe),ue=await Y.BindingsFactory.create(this.mediatorMergeBindingsContext,ie.context,oe);ie.entries[1].output.bindingsStream.close();const ce=ie.context.set(J.KeysQueryOperation.joinLeftMetadata,await ie.entries[0].output.metadata()).set(J.KeysQueryOperation.joinRightMetadatas,[await ie.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:q.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,ie.entries[0].output.bindingsStream,[ie.entries[1].operation],async(se,le)=>{const de=se[0];return(0,X.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:de,context:ce==null?void 0:ce.set(J.KeysQueryOperation.joinBindings,le)})).bindingsStream},!0,ae,ue),metadata:async()=>await this.constructResultMetadata(ie.entries,await W.ActorRdfJoin.getMetadatas(ie.entries),ie.context,{},!0)}}}async getJoinCoefficients(ie,oe){const{metadatas:ae}=oe,ue=W.ActorRdfJoin.getRequestInitialTimes(ae),ce=W.ActorRdfJoin.getRequestItemTimes(ae);if(ie.entries[1].operation.type===te.Algebra.types.EXTEND||ie.entries[1].operation.type===te.Algebra.types.GROUP)return(0,F.failTest)(`Actor ${this.name} can not bind on Extend and Group operations`);const se=(await this.mediatorJoinSelectivity.mediate({entries:ie.entries,context:ie.context})).selectivity*this.selectivityModifier;return(0,F.passTestWithSideData)({iterations:ae[0].cardinality.value*ae[1].cardinality.value*se,persistedItems:0,blockingItems:0,requestTime:ue[0]+ae[0].cardinality.value*(ce[0]+ue[1]+se*ae[1].cardinality.value*ce[1])},oe)}}G.ActorRdfJoinOptionalBind=re},"../node_modules/@comunica/actor-rdf-join-optional-bind/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-optional-bind/lib/ActorRdfJoinOptionalBind.js"),G)},"../node_modules/@comunica/actor-rdf-join-optional-hash/lib/ActorRdfJoinOptionalHash.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinOptionalHash=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),F=Q("../node_modules/@comunica/utils-bindings-index/lib/index.js"),Y=Q("../node_modules/@comunica/utils-iterator/lib/index.js"),X=Q("asynciterator"),te=Q("../node_modules/rdf-string/index.js");class re extends q.ActorRdfJoin{constructor(ie){super(ie,{logicalType:"optional",physicalName:`hash-${ie.canHandleUndefs?"undef":"def"}-${ie.blocking?"blocking":"nonblocking"}`,limitEntries:2,canHandleUndefs:ie.canHandleUndefs,requiresVariableOverlap:!0})}static constructIndex(ie,oe){return ie?new F.BindingsIndexUndef(oe,ae=>ae&&ae.termType!=="Variable"?(0,te.termToString)(ae):"",!0):new F.BindingsIndexDef(oe,J.bindingsToCompactString)}async getOutput(ie){const oe=ie.entries[1].output,ae=ie.entries[0].output,ue=await q.ActorRdfJoin.getMetadatas(ie.entries),ce=q.ActorRdfJoin.overlappingVariables(ue);let se;return this.blocking?se=new Y.ClosableTransformIterator(async()=>{const le=re.constructIndex(this.canHandleUndefs,ce);return await new Promise(de=>{oe.bindingsStream.on("data",he=>{(le.getFirst(he,!0)??le.put(he,[])).push(he)}),oe.bindingsStream.on("end",de),oe.bindingsStream.on("error",he=>{se.emit("error",he)})}),new X.MultiTransformIterator(ae.bindingsStream,{multiTransform:de=>new X.ArrayIterator(le.get(de).flat().map(he=>q.ActorRdfJoin.joinBindings(de,he)).filter(he=>he!==null),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){oe.bindingsStream.destroy(),ae.bindingsStream.destroy()}}):se=new Y.ClosableTransformIterator(async()=>{const le=re.constructIndex(this.canHandleUndefs,ce);let de=!0;return oe.bindingsStream.on("data",he=>{(le.getFirst(he,!0)??le.put(he,new X.BufferedIterator({autoStart:!1})))._push(he)}),oe.bindingsStream.on("end",()=>{for(const he of le.values())he.close();de=!1}),oe.bindingsStream.on("error",he=>{se.emit("error",he)}),new X.MultiTransformIterator(ae.bindingsStream,{multiTransform:he=>{let pe=le.get(he);return pe.length===0&&(de?pe=[le.put(he,new X.BufferedIterator({autoStart:!1}))]:pe=[]),new X.UnionIterator(pe.map(ge=>ge.clone()),{autoStart:!1}).map(ge=>q.ActorRdfJoin.joinBindings(he,ge))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){oe.bindingsStream.destroy(),ae.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:se,metadata:async()=>await this.constructResultMetadata(ie.entries,ue,ie.context,{},!0)}}}async getJoinCoefficients(ie,oe){const{metadatas:ae}=oe,ue=q.ActorRdfJoin.getRequestInitialTimes(ae),ce=q.ActorRdfJoin.getRequestItemTimes(ae);let se=ae[0].cardinality.value+ae[1].cardinality.value;return this.canHandleUndefs||(se*=.8),this.blocking&&(se*=.9),(0,W.passTestWithSideData)({iterations:se,persistedItems:ae[0].cardinality.value,blockingItems:this.blocking?ae[0].cardinality.value:0,requestTime:ue[0]+ae[0].cardinality.value*ce[0]+ue[1]+ae[1].cardinality.value*ce[1]},oe)}}G.ActorRdfJoinOptionalHash=re},"../node_modules/@comunica/actor-rdf-join-optional-hash/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-optional-hash/lib/ActorRdfJoinOptionalHash.js"),G)},"../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/ActorRdfJoinOptionalNestedLoop.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinOptionalNestedLoop=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/asyncjoin/index.js");class F extends q.ActorRdfJoin{constructor(X){super(X,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(X){return{result:{type:"bindings",bindingsStream:new J.NestedLoopJoin(X.entries[0].output.bindingsStream,X.entries[1].output.bindingsStream,q.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(X.entries,await q.ActorRdfJoin.getMetadatas(X.entries),X.context,{},!0)}}}async getJoinCoefficients(X,te){const{metadatas:re}=te,ne=q.ActorRdfJoin.getRequestInitialTimes(re),ie=q.ActorRdfJoin.getRequestItemTimes(re);return(0,W.passTestWithSideData)({iterations:re[0].cardinality.value*re[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:ne[0]+re[0].cardinality.value*ie[0]+ne[1]+re[1].cardinality.value*ie[1]},te)}}G.ActorRdfJoinOptionalNestedLoop=F},"../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/ActorRdfJoinOptionalNestedLoop.js"),G)},"../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/ActorRdfJoinSelectivityVariableCounting.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.JoinTypes=G.ActorRdfJoinSelectivityVariableCounting=void 0;const q=Q("../node_modules/@comunica/bus-rdf-join-selectivity/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("sparqlalgebrajs");class F extends q.ActorRdfJoinSelectivity{constructor(te){super(te)}async test(te){return(0,W.passTest)({accuracy:.5})}static getPatternCost(te){let re=1;return te.subject.termType==="Variable"&&(re+=4),(te.predicate.termType==="Variable"||te.type===J.Algebra.types.PATH)&&(re+=1),te.object.termType==="Variable"&&(re+=2),te.graph.termType==="Variable"&&(re+=1),re/9}static getJoinTypes(te,re){const ne=[];return te.subject.termType==="Variable"?(te.subject.equals(re.subject)&&ne.push(Y.unboundSS),re.type==="pattern"&&te.subject.equals(re.predicate)&&ne.push(Y.unboundSP),te.subject.equals(re.object)&&ne.push(Y.unboundSO),te.subject.equals(re.graph)&&ne.push(Y.unboundSG)):(te.subject.equals(re.subject)&&ne.push(Y.boundSS),re.type==="pattern"&&te.subject.equals(re.predicate)&&ne.push(Y.boundSP),te.subject.equals(re.object)&&ne.push(Y.boundSO),te.subject.equals(re.graph)&&ne.push(Y.boundSG)),te.type==="pattern"&&(te.predicate.termType==="Variable"?(te.predicate.equals(re.subject)&&ne.push(Y.unboundPS),re.type==="pattern"&&te.predicate.equals(re.predicate)&&ne.push(Y.unboundPP),te.predicate.equals(re.object)&&ne.push(Y.unboundPO),te.predicate.equals(re.graph)&&ne.push(Y.unboundPG)):(te.predicate.equals(re.subject)&&ne.push(Y.boundPS),re.type==="pattern"&&te.predicate.equals(re.predicate)&&ne.push(Y.boundPP),te.predicate.equals(re.object)&&ne.push(Y.boundPO),te.predicate.equals(re.graph)&&ne.push(Y.boundPG))),te.object.termType==="Variable"?(te.object.equals(re.subject)&&ne.push(Y.unboundOS),re.type==="pattern"&&te.object.equals(re.predicate)&&ne.push(Y.unboundOP),te.object.equals(re.object)&&ne.push(Y.unboundOO),te.object.equals(re.graph)&&ne.push(Y.unboundOG)):(te.object.equals(re.subject)&&ne.push(Y.boundOS),re.type==="pattern"&&te.object.equals(re.predicate)&&ne.push(Y.boundOP),te.object.equals(re.object)&&ne.push(Y.boundOO),te.object.equals(re.graph)&&ne.push(Y.boundOG)),te.graph.termType==="Variable"?(te.graph.equals(re.subject)&&ne.push(Y.unboundGS),re.type==="pattern"&&te.graph.equals(re.predicate)&&ne.push(Y.unboundGP),te.graph.equals(re.object)&&ne.push(Y.unboundGO),te.graph.equals(re.graph)&&ne.push(Y.unboundGG)):(te.graph.equals(re.subject)&&ne.push(Y.boundGS),re.type==="pattern"&&te.graph.equals(re.predicate)&&ne.push(Y.boundGP),te.graph.equals(re.object)&&ne.push(Y.boundGO),te.graph.equals(re.graph)&&ne.push(Y.boundGG)),ne}static getOperationsPairwiseJoinCost(te,re){let ne=F.MAX_PAIRWISE_COST;for(const ie of F.getJoinTypes(te,re))switch(ie){case Y.boundSS:ne-=2*2;break;case Y.boundSP:ne-=3*2;break;case Y.boundSO:ne-=1*2;break;case Y.boundSG:ne-=3*2;break;case Y.boundPS:ne-=3*2;break;case Y.boundPP:return 1;case Y.boundPO:ne-=3*2;break;case Y.boundPG:ne-=3*2;break;case Y.boundOS:ne-=1*2;break;case Y.boundOP:ne-=3*2;break;case Y.boundOO:ne-=1*2;break;case Y.boundOG:ne-=3*2;break;case Y.boundGS:ne-=3*2;break;case Y.boundGP:ne-=3*2;break;case Y.boundGO:ne-=3*2;break;case Y.boundGG:ne-=3*2;break;case Y.unboundSS:ne-=2;break;case Y.unboundSP:ne-=3;break;case Y.unboundSO:ne-=1;break;case Y.unboundSG:ne-=3;break;case Y.unboundPS:ne-=3;break;case Y.unboundPP:ne-=3;break;case Y.unboundPO:ne-=3;break;case Y.unboundPG:ne-=3;break;case Y.unboundOS:ne-=1;break;case Y.unboundOP:ne-=3;break;case Y.unboundOO:ne-=1;break;case Y.unboundOG:ne-=3;break;case Y.unboundGS:ne-=3;break;case Y.unboundGP:ne-=3;break;case Y.unboundGO:ne-=3;break;case Y.unboundGG:ne-=3;break}return ne/F.MAX_PAIRWISE_COST}static getOperationsJoinCost(te){const re=[];for(const oe of te)J.Util.recurseOperation(oe,{[J.Algebra.types.PATTERN](ae){return re.push(ae),!1},[J.Algebra.types.PATH](ae){return re.push(ae),!1}});let ne=0,ie=0;for(const oe of re)for(const ae of re)oe!==ae&&(ne+=F.getOperationsPairwiseJoinCost(oe,ae),ie++);return ie===0?1:ne/ie*re.reduce((oe,ae)=>oe*F.getPatternCost(ae),1)}async run(te){return te.entries.length<=1?{selectivity:1}:{selectivity:F.getOperationsJoinCost(te.entries.map(re=>re.operation))}}}G.ActorRdfJoinSelectivityVariableCounting=F,F.MAX_PAIRWISE_COST=41*2;var Y;(function(X){X[X.boundSS=0]="boundSS",X[X.boundSP=1]="boundSP",X[X.boundSO=2]="boundSO",X[X.boundSG=3]="boundSG",X[X.boundPS=4]="boundPS",X[X.boundPP=5]="boundPP",X[X.boundPO=6]="boundPO",X[X.boundPG=7]="boundPG",X[X.boundOS=8]="boundOS",X[X.boundOP=9]="boundOP",X[X.boundOO=10]="boundOO",X[X.boundOG=11]="boundOG",X[X.boundGS=12]="boundGS",X[X.boundGP=13]="boundGP",X[X.boundGO=14]="boundGO",X[X.boundGG=15]="boundGG",X[X.unboundSS=16]="unboundSS",X[X.unboundSP=17]="unboundSP",X[X.unboundSO=18]="unboundSO",X[X.unboundSG=19]="unboundSG",X[X.unboundPS=20]="unboundPS",X[X.unboundPP=21]="unboundPP",X[X.unboundPO=22]="unboundPO",X[X.unboundPG=23]="unboundPG",X[X.unboundOS=24]="unboundOS",X[X.unboundOP=25]="unboundOP",X[X.unboundOO=26]="unboundOO",X[X.unboundOG=27]="unboundOG",X[X.unboundGS=28]="unboundGS",X[X.unboundGP=29]="unboundGP",X[X.unboundGO=30]="unboundGO",X[X.unboundGG=31]="unboundGG"})(Y||(G.JoinTypes=Y={}))},"../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/ActorRdfJoinSelectivityVariableCounting.js"),G)},"../node_modules/@comunica/actor-rdf-metadata-accumulate-cardinality/lib/ActorRdfMetadataAccumulateCardinality.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfMetadataAccumulateCardinality=void 0;const q=Q("../node_modules/@comunica/bus-rdf-metadata-accumulate/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js");class J extends q.ActorRdfMetadataAccumulate{constructor(Y){super(Y)}async test(Y){return(0,W.passTestVoid)()}async run(Y){if(Y.mode==="initialize")return{metadata:{cardinality:{type:"exact",value:0}}};const X={...Y.accumulatedMetadata.cardinality};if(X.dataset){if(Y.accumulatedMetadata.defaultGraph===X.dataset&&X.dataset!==Y.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:Y.appendingMetadata.cardinality}};if(Y.appendingMetadata.cardinality.dataset){if(X.dataset!==Y.appendingMetadata.cardinality.dataset&&Y.appendingMetadata.subsetOf===X.dataset)return{metadata:{cardinality:Y.appendingMetadata.cardinality}};if(X.dataset===Y.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:X}};delete X.dataset}else return{metadata:{cardinality:X}}}return!Y.appendingMetadata.cardinality||!Number.isFinite(Y.appendingMetadata.cardinality.value)?(X.type="estimate",X.value=Number.POSITIVE_INFINITY):(Y.appendingMetadata.cardinality.type==="estimate"&&(X.type="estimate"),X.value+=Y.appendingMetadata.cardinality.value),{metadata:{cardinality:X}}}}G.ActorRdfMetadataAccumulateCardinality=J},"../node_modules/@comunica/actor-rdf-metadata-accumulate-cardinality/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-metadata-accumulate-cardinality/lib/ActorRdfMetadataAccumulateCardinality.js"),G)},"../node_modules/@comunica/actor-rdf-metadata-accumulate-pagesize/lib/ActorRdfMetadataAccumulatePageSize.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfMetadataAccumulatePageSize=void 0;const q=Q("../node_modules/@comunica/bus-rdf-metadata-accumulate/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js");class J extends q.ActorRdfMetadataAccumulate{constructor(Y){super(Y)}async test(Y){return(0,W.passTestVoid)()}async run(Y){return Y.mode==="initialize"?{metadata:{}}:{metadata:{..."pageSize"in Y.accumulatedMetadata||"pageSize"in Y.appendingMetadata?{pageSize:(Y.accumulatedMetadata.pageSize??0)+(Y.appendingMetadata.pageSize??0)}:{}}}}}G.ActorRdfMetadataAccumulatePageSize=J},"../node_modules/@comunica/actor-rdf-metadata-accumulate-pagesize/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-metadata-accumulate-pagesize/lib/ActorRdfMetadataAccumulatePageSize.js"),G)},"../node_modules/@comunica/actor-rdf-metadata-accumulate-requesttime/lib/ActorRdfMetadataAccumulateRequestTime.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfMetadataAccumulateRequestTime=void 0;const q=Q("../node_modules/@comunica/bus-rdf-metadata-accumulate/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js");class J extends q.ActorRdfMetadataAccumulate{constructor(Y){super(Y)}async test(Y){return(0,W.passTestVoid)()}async run(Y){return Y.mode==="initialize"?{metadata:{}}:{metadata:{..."requestTime"in Y.accumulatedMetadata||"requestTime"in Y.appendingMetadata?{requestTime:(Y.accumulatedMetadata.requestTime??0)+(Y.appendingMetadata.requestTime??0)}:{}}}}}G.ActorRdfMetadataAccumulateRequestTime=J},"../node_modules/@comunica/actor-rdf-metadata-accumulate-requesttime/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-metadata-accumulate-requesttime/lib/ActorRdfMetadataAccumulateRequestTime.js"),G)},"../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/ActorRdfUpdateQuadsRdfJsStore.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfUpdateQuadsRdfJsStore=void 0;const q=Q("../node_modules/@comunica/bus-rdf-update-quads/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/RdfJsQuadDestination.js");class Y extends q.ActorRdfUpdateQuadsDestination{constructor(te){super(te)}async test(te){var ne;const re=(0,q.getContextDestination)(te.context);return!re||typeof re=="string"||!("remove"in re)&&"value"in re&&!((ne=re.value)!=null&&ne.remove)?(0,J.failTest)(`${this.name} received an invalid rdfjsStore.`):(0,J.passTestVoid)()}async getDestination(te){const re=(0,q.getContextDestination)(te);return new F.RdfJsQuadDestination(te.getSafe(W.KeysInitQuery.dataFactory),"remove"in re?re:re.value)}}G.ActorRdfUpdateQuadsRdfJsStore=Y},"../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/RdfJsQuadDestination.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.RdfJsQuadDestination=void 0;const q=Q("../node_modules/event-emitter-promisify/dist/index.js"),W=Q("../node_modules/rdf-string/index.js");class J{constructor(Y,X){this.dataFactory=Y,this.store=X}async update(Y){Y.delete&&await(0,q.promisifyEventEmitter)(this.store.remove(Y.delete)),Y.insert&&await(0,q.promisifyEventEmitter)(this.store.import(Y.insert))}async deleteGraphs(Y,X,te){switch(Y){case"ALL":await(0,q.promisifyEventEmitter)(this.store.deleteGraph(this.dataFactory.defaultGraph()));case"NAMED":const re=this.store.match(),ne={};re.on("data",ie=>{ie.graph.termType!=="DefaultGraph"&&(ne[(0,W.termToString)(ie.graph)]=!0)}),await(0,q.promisifyEventEmitter)(re),await Promise.all(Object.keys(ne).map(ie=>(0,q.promisifyEventEmitter)(this.store.deleteGraph((0,W.stringToTerm)(ie,this.dataFactory)))));break;default:for(const ie of Array.isArray(Y)?Y:[Y])await(0,q.promisifyEventEmitter)(this.store.deleteGraph(ie))}}async createGraphs(Y,X){if(X)for(const te of Y){const re=this.store.match(void 0,void 0,void 0,te);await new Promise((ne,ie)=>{re.once("data",()=>{ie(new Error(`Unable to create graph ${te.value} as it already exists`))}),re.on("end",ne),re.on("error",ie)})}}}G.RdfJsQuadDestination=J},"../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/ActorRdfUpdateQuadsRdfJsStore.js"),G)},"../node_modules/@comunica/actor-term-comparator-factory-expression-evaluator/lib/ActorTermComparatorFactoryExpressionEvaluator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorTermComparatorFactoryExpressionEvaluator=void 0;const q=Q("../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/InternalEvaluator.js"),W=Q("../node_modules/@comunica/bus-term-comparator-factory/lib/index.js"),J=Q("../node_modules/@comunica/context-entries/lib/index.js"),F=Q("../node_modules/@comunica/core/lib/index.js"),Y=Q("../node_modules/@comunica/utils-bindings-factory/lib/index.js"),X=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),te=Q("../node_modules/@comunica/actor-term-comparator-factory-expression-evaluator/lib/TermComparatorExpressionEvaluator.js");class re extends W.ActorTermComparatorFactory{async test(ie){return(0,F.passTestVoid)()}async run({context:ie}){return ie=X.prepareEvaluatorActionContext(ie),new te.TermComparatorExpressionEvaluator(new q.InternalEvaluator(ie,this.mediatorFunctionFactory,this.mediatorQueryOperation,await Y.BindingsFactory.create(this.mediatorMergeBindingsContext,ie,ie.getSafe(J.KeysInitQuery.dataFactory))),await this.mediatorFunctionFactory.mediate({functionName:X.SparqlOperator.EQUAL,context:ie,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:X.SparqlOperator.LT,context:ie,requireTermExpression:!0}))}}G.ActorTermComparatorFactoryExpressionEvaluator=re},"../node_modules/@comunica/actor-term-comparator-factory-expression-evaluator/lib/TermComparatorExpressionEvaluator.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermComparatorExpressionEvaluator=void 0;class Q{constructor(W,J,F){this.internalEvaluator=W,this.equalityFunction=J,this.lessThanFunction=F,this._TERM_ORDERING_PRIORITY={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5}}orderTypes(W,J){if(W===J)return 0;if(W===void 0)return-1;if(J===void 0)return 1;if(W.termType!==J.termType)return this._TERM_ORDERING_PRIORITY[W.termType]<this._TERM_ORDERING_PRIORITY[J.termType]?-1:1;if(W.equals(J))return 0;if(W.termType==="Quad"&&J.termType==="Quad"){const F=this.orderTypes(W.subject,J.subject);if(F!==0)return F;const Y=this.orderTypes(W.predicate,J.predicate);if(Y!==0)return Y;const X=this.orderTypes(W.object,J.object);return X!==0?X:this.orderTypes(W.graph,J.graph)}return W.termType==="Literal"?this.orderLiteralTypes(W,J):this.comparePrimitives(W.value,J.value)}orderLiteralTypes(W,J){const F=this.internalEvaluator.transformer.transformLiteral(W),Y=this.internalEvaluator.transformer.transformLiteral(J);try{return this.equalityFunction.applyOnTerms([F,Y],this.internalEvaluator).typedValue?0:this.lessThanFunction.applyOnTerms([F,Y],this.internalEvaluator).typedValue?-1:1}catch{const X=this.comparePrimitives(F.dataType,Y.dataType);return X!==0?X:this.comparePrimitives(F.str(),Y.str())}}comparePrimitives(W,J){return W===J?0:W<J?-1:1}}G.TermComparatorExpressionEvaluator=Q},"../node_modules/@comunica/actor-term-comparator-factory-expression-evaluator/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/actor-term-comparator-factory-expression-evaluator/lib/ActorTermComparatorFactoryExpressionEvaluator.js"),G)},"../node_modules/@comunica/bus-bindings-aggregator-factory/lib/ActorBindingsAggregatorFactory.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorBindingsAggregatorFactory=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F),this.mediatorExpressionEvaluatorFactory=F.mediatorExpressionEvaluatorFactory}}G.ActorBindingsAggregatorFactory=W},"../node_modules/@comunica/bus-bindings-aggregator-factory/lib/AggregateEvaluator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.AggregateEvaluator=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js"),J=Q("../node_modules/rdf-string/index.js");class F{constructor(X,te,re=!1){this.evaluator=X,this.distinct=te,this.throwError=re,this.errorOccurred=!1,this.errorOccurred=!1,this.superTypeProvider=X.context.getSafe(q.KeysExpressionEvaluator.superTypeProvider),this.termTransformer=new W.TermTransformer(this.superTypeProvider),this.variableValues=new Set}emptyValueTerm(){}emptyValue(){const X=this.emptyValueTerm();if(X===void 0&&this.throwError)throw new W.EmptyAggregateError;return X}async putBindings(X){if(!this.errorOccurred)try{const te=await this.evaluator.evaluate(X);if(!te||this.errorOccurred)return;(!this.distinct||!this.variableValues.has(J.termToString(te)))&&(this.putTerm(te),this.distinct&&this.variableValues.add(J.termToString(te)))}catch(te){this.safeThrow(te)}}async result(){if(!this.errorOccurred)return this.termResult()}safeThrow(X){if(this.throwError)throw X;this.errorOccurred=!0}termToNumericOrError(X){if(X.termType!=="Literal")throw new Error(`Term with value ${X.value} has type ${X.termType} and is not a numeric literal`);if(!W.isSubTypeOf(X.datatype.value,W.TypeAlias.SPARQL_NUMERIC,this.superTypeProvider))throw new Error(`Term datatype ${X.datatype.value} with value ${X.value} has type ${X.termType} and is not a numeric literal`);return this.termTransformer.transformLiteral(X)}}G.AggregateEvaluator=F},"../node_modules/@comunica/bus-bindings-aggregator-factory/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/ActorBindingsAggregatorFactory.js"),G),W(Q("../node_modules/@comunica/bus-bindings-aggregator-factory/lib/AggregateEvaluator.js"),G)},"../node_modules/@comunica/bus-context-preprocess/lib/ActorContextPreprocess.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorContextPreprocess=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorContextPreprocess=W},"../node_modules/@comunica/bus-context-preprocess/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-context-preprocess/lib/ActorContextPreprocess.js"),G)},"../node_modules/@comunica/bus-expression-evaluator-factory/lib/ActorExpressionEvaluatorFactory.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorExpressionEvaluatorFactory=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F),this.mediatorQueryOperation=F.mediatorQueryOperation,this.mediatorFunctionFactory=F.mediatorFunctionFactory,this.mediatorMergeBindingsContext=F.mediatorMergeBindingsContext}}G.ActorExpressionEvaluatorFactory=W},"../node_modules/@comunica/bus-expression-evaluator-factory/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-expression-evaluator-factory/lib/ActorExpressionEvaluatorFactory.js"),G)},"../node_modules/@comunica/bus-function-factory/lib/ActorFunctionFactory.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MediatorFunctionFactory=G.ActorFunctionFactory=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(Y){super(Y)}}G.ActorFunctionFactory=W;class J extends q.Mediator{}G.MediatorFunctionFactory=J},"../node_modules/@comunica/bus-function-factory/lib/ActorFunctionFactoryDedicated.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorFunctionFactoryDedicated=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js"),W=Q("../node_modules/@comunica/bus-function-factory/lib/ActorFunctionFactory.js");class J extends W.ActorFunctionFactory{constructor(Y){super(Y)}async test(Y){return this.functionNames.includes(Y.functionName)&&(this.termFunction||!Y.requireTermExpression)?(0,q.passTestVoid)():(0,q.failTest)(`Actor ${this.name} can not provide implementation for "${Y.functionName}", only for ${this.termFunction?"":"non-termExpression "}${this.functionNames.join(" and ")}.`)}}G.ActorFunctionFactoryDedicated=J},"../node_modules/@comunica/bus-function-factory/lib/BusFunctionFactory.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BusFunctionFactory=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.BusIndexed{constructor(F){super({...F,actorIdentifierFields:["functionNames"],actionIdentifierFields:["functionName"]})}}G.BusFunctionFactory=W},"../node_modules/@comunica/bus-function-factory/lib/implementation/Core.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermFunctionBase=G.ExpressionFunctionBase=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/index.js");class J{constructor({arity:X,operator:te,apply:re}){this.arity=X,this.operator=te,this.apply=re}checkArity(X){return Array.isArray(this.arity)?this.arity.includes(X.length):this.arity===Number.POSITIVE_INFINITY?!0:X.length===this.arity}}G.ExpressionFunctionBase=J;class F extends J{constructor({arity:X,operator:te,overloads:re}){super({arity:X,operator:te,apply:async({args:ne,exprEval:ie,mapping:oe})=>this.applyOnTerms(await Promise.all(ne.map(ae=>ie.evaluatorExpressionEvaluation(ae,oe))),ie)}),this.supportsTermExpressions=!0,this.overloads=re}applyOnTerms(X,te){return(this.overloads.search(X,te.context.getSafe(q.KeysExpressionEvaluator.superTypeProvider),te.context.getSafe(q.KeysInitQuery.functionArgumentsCache))??this.handleInvalidTypes(X))(te)(X)}handleInvalidTypes(X){throw new W.InvalidArgumentTypes(X,this.operator)}}G.TermFunctionBase=F},"../node_modules/@comunica/bus-function-factory/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-function-factory/lib/ActorFunctionFactory.js"),G),W(Q("../node_modules/@comunica/bus-function-factory/lib/ActorFunctionFactoryDedicated.js"),G),W(Q("../node_modules/@comunica/bus-function-factory/lib/BusFunctionFactory.js"),G),W(Q("../node_modules/@comunica/bus-function-factory/lib/implementation/Core.js"),G)},"../node_modules/@comunica/bus-hash-bindings/lib/ActorHashBindings.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorHashBindings=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorHashBindings=W},"../node_modules/@comunica/bus-hash-bindings/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-hash-bindings/lib/ActorHashBindings.js"),G)},"../node_modules/@comunica/bus-hash-quads/lib/ActorHashQuads.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorHashQuads=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorHashQuads=W},"../node_modules/@comunica/bus-hash-quads/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-hash-quads/lib/ActorHashQuads.js"),G)},"../node_modules/@comunica/bus-http-invalidate/lib/ActorHttpInvalidate.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorHttpInvalidate=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorHttpInvalidate=W},"../node_modules/@comunica/bus-http-invalidate/lib/ActorHttpInvalidateListenable.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorHttpInvalidateListenable=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js"),W=Q("../node_modules/@comunica/bus-http-invalidate/lib/ActorHttpInvalidate.js");class J extends W.ActorHttpInvalidate{constructor(Y){super(Y),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(Y){this.invalidateListeners.push(Y)}async test(Y){return(0,q.passTestVoid)()}async run(Y){for(const X of this.invalidateListeners)X(Y);return{}}}G.ActorHttpInvalidateListenable=J},"../node_modules/@comunica/bus-http-invalidate/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-http-invalidate/lib/ActorHttpInvalidate.js"),G),W(Q("../node_modules/@comunica/bus-http-invalidate/lib/ActorHttpInvalidateListenable.js"),G)},"../node_modules/@comunica/bus-init/lib/ActorInit.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorInit=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorInit=W},"../node_modules/@comunica/bus-init/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-init/lib/ActorInit.js"),G)},"../node_modules/@comunica/bus-optimize-query-operation/lib/ActorOptimizeQueryOperation.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorOptimizeQueryOperation=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorOptimizeQueryOperation=W},"../node_modules/@comunica/bus-optimize-query-operation/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-optimize-query-operation/lib/ActorOptimizeQueryOperation.js"),G)},"../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperation=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorQueryOperation=W},"../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationTyped=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),F=Q("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js");class Y extends F.ActorQueryOperation{constructor(te,re){if(super({...te,operationName:re}),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(te){if(!te.operation)return(0,W.failTest)("Missing field 'operation' in a query operation action.");if(te.operation.type!==this.operationName)return(0,W.failTest)(`Actor ${this.name} only supports ${this.operationName} operations, but got ${te.operation.type}`);const re=te.operation;return this.testOperation(re,te.context)}async run(te,re){const ne=te.context.get(q.KeysInitQuery.physicalQueryPlanLogger);ne&&(ne.logOperation(te.operation.type,void 0,te.operation,te.context.get(q.KeysInitQuery.physicalQueryPlanNode),this.name,{}),te.context=te.context.set(q.KeysInitQuery.physicalQueryPlanNode,te.operation));const ie=te.operation,oe=te.context.set(q.KeysQueryOperation.operation,ie),ae=await this.runOperation(ie,oe,re);return"metadata"in ae&&(ae.metadata=(0,J.cachifyMetadata)(ae.metadata)),ae}}G.ActorQueryOperationTyped=Y},"../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTypedMediated.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryOperationTypedMediated=void 0;const q=Q("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js");class W extends q.ActorQueryOperationTyped{constructor(F,Y){super(F,Y)}}G.ActorQueryOperationTypedMediated=W},"../node_modules/@comunica/bus-query-operation/lib/BusQueryOperation.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BusQueryOperation=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.BusIndexed{constructor(F){super({...F,actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]})}}G.BusQueryOperation=W},"../node_modules/@comunica/bus-query-operation/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperation.js"),G),W(Q("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTyped.js"),G),W(Q("../node_modules/@comunica/bus-query-operation/lib/ActorQueryOperationTypedMediated.js"),G),W(Q("../node_modules/@comunica/bus-query-operation/lib/BusQueryOperation.js"),G)},"../node_modules/@comunica/bus-query-parse/lib/ActorQueryParse.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryParse=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorQueryParse=W},"../node_modules/@comunica/bus-query-parse/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-query-parse/lib/ActorQueryParse.js"),G)},"../node_modules/@comunica/bus-query-process/lib/ActorQueryProcess.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQueryProcess=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorQueryProcess=W},"../node_modules/@comunica/bus-query-process/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-query-process/lib/ActorQueryProcess.js"),G)},"../node_modules/@comunica/bus-query-source-identify/lib/ActorQuerySourceIdentify.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorQuerySourceIdentify=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorQuerySourceIdentify=W},"../node_modules/@comunica/bus-query-source-identify/lib/Utils.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.filterMatchingQuotedQuads=G.quadsOrderToBindingsOrder=G.quadsMetadataToBindingsMetadata=G.setMetadata=G.getDuplicateElementLinks=G.getVariables=G.isTermVariable=G.quadsToBindings=void 0;const q=Q("../node_modules/@comunica/utils-iterator/lib/index.js"),W=Q("../node_modules/@comunica/utils-metadata/lib/index.js"),J=Q("../node_modules/rdf-string/index.js"),F=Q("../node_modules/rdf-terms/index.js"),Y=Q("../node_modules/rdf-terms/lib/QuadTermUtil.js");function X(ce,se,le,de,he){const pe=re(se),ge=se.graph.termType==="Variable"&&!he,be=ne(se),ve=(0,F.reduceTermsNested)(se,(Pe,Te,xe)=>(Te.termType==="Variable"&&(Pe[xe.join("_")]=Te.value),Pe),{});let Ee=ce;ge&&(Ee=Ee.filter(Pe=>Pe.graph.termType!=="DefaultGraph")),be&&(Ee=Ee.filter(Pe=>{for(const Te in be){const xe=Te.split("_"),Ne=(0,F.getValueNestedPath)(Pe,xe);for(const Se of be[Te])if(!Ne.equals((0,F.getValueNestedPath)(Pe,Se)))return!1}return!0}));const ke=new q.ClosableIterator(Ee.map(Pe=>de.bindings(Object.keys(ve).map(Te=>{const xe=Te.split("_"),Ne=ve[Te],Se=(0,F.getValueNestedPath)(Pe,xe);return[le.variable(Ne),Se]}))),{onClose:()=>ce.destroy()});return ie(le,ke,ce,ve,pe,ge||!!be),ke}G.quadsToBindings=X;function te(ce){return ce.termType==="Variable"}G.isTermVariable=te;function re(ce){return(0,F.uniqTerms)((0,F.getTermsNested)(ce).filter(te))}G.getVariables=re;function ne(ce){const se={};let le=!1;if((0,F.forEachTermsNested)(ce,(he,pe)=>{if(he.termType==="Variable"){const ge=(0,J.termToString)(he),be=(se[ge]||(se[ge]=[])).push(pe);le=le||be>1}}),!le)return;const de={};for(const he in se){const pe=se[he],ge=pe.slice(1);ge.length>0&&(de[pe[0].join("_")]=ge)}return de}G.getDuplicateElementLinks=ne;function ie(ce,se,le,de,he,pe){const ge=ve=>{pe&&(ve.cardinality.type="estimate"),se.setProperty("metadata",oe(ce,(0,W.validateMetadataQuads)(ve),de,he)),ve.state&&ve.state.addInvalidateListener(()=>{ie(ce,se,le,de,he,pe)})},be=le.getProperty("metadata");be?ge(be):le.getProperty("metadata",ge)}G.setMetadata=ie;function oe(ce,se,le,de){return{...se,order:se.order?ae(ce,se.order,le):void 0,availableOrders:se.availableOrders?se.availableOrders.map(he=>({cost:he.cost,terms:ae(ce,he.terms,le)})):void 0,variables:de.map(he=>({variable:he,canBeUndef:!1}))}}G.quadsMetadataToBindingsMetadata=oe;function ae(ce,se,le){const de={};return se.map(he=>{const pe=le[he.term];if(pe&&!de[pe])return de[pe]=!0,{term:ce.variable(pe),direction:he.direction}}).filter(Boolean)}G.quadsOrderToBindingsOrder=ae;function ue(ce,se){return(0,F.someTerms)(ce,le=>le.termType==="Quad")&&(se=se.filter(le=>(0,Y.matchPatternMappings)(le,ce))),se}G.filterMatchingQuotedQuads=ue},"../node_modules/@comunica/bus-query-source-identify/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-query-source-identify/lib/ActorQuerySourceIdentify.js"),G),W(Q("../node_modules/@comunica/bus-query-source-identify/lib/Utils.js"),G)},"../node_modules/@comunica/bus-rdf-join-entries-sort/lib/ActorRdfJoinEntriesSort.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinEntriesSort=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorRdfJoinEntriesSort=W},"../node_modules/@comunica/bus-rdf-join-entries-sort/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-rdf-join-entries-sort/lib/ActorRdfJoinEntriesSort.js"),G)},"../node_modules/@comunica/bus-rdf-join-selectivity/lib/ActorRdfJoinSelectivity.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoinSelectivity=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorRdfJoinSelectivity=W},"../node_modules/@comunica/bus-rdf-join-selectivity/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-rdf-join-selectivity/lib/ActorRdfJoinSelectivity.js"),G)},"../node_modules/@comunica/bus-rdf-join/lib/ActorRdfJoin.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfJoin=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js"),J=Q("../node_modules/@comunica/utils-iterator/lib/index.js"),F=Q("../node_modules/@comunica/utils-metadata/lib/index.js");class Y extends W.Actor{constructor(te,re){super(te),this.includeInLogs=!0,this.logicalType=re.logicalType,this.physicalName=re.physicalName,this.limitEntries=re.limitEntries??Number.POSITIVE_INFINITY,this.limitEntriesMin=re.limitEntriesMin??!1,this.canHandleUndefs=re.canHandleUndefs??!1,this.isLeaf=re.isLeaf??!0,this.requiresVariableOverlap=re.requiresVariableOverlap??!1}static overlappingVariables(te){const re={};for(const ne of te)for(const ie of ne.variables){re[ie.variable.value]||(re[ie.variable.value]={variable:ie.variable,canBeUndef:ie.canBeUndef,occurrences:0});const oe=re[ie.variable.value];oe.canBeUndef=oe.canBeUndef||ie.canBeUndef,oe.occurrences++}return Object.values(re).filter(ne=>ne.occurrences===te.length).map(ne=>({variable:ne.variable,canBeUndef:ne.canBeUndef}))}static joinVariables(te,re,ne=!1){const ie={};let oe=!0;for(const ae of re){for(const ue of ae.variables)ie[ue.variable.value]=ie[ue.variable.value]||ue.canBeUndef||!oe&&ne&&!(ue.variable.value in ie);oe=!1}return Object.entries(ie).map(([ae,ue])=>({variable:te.variable(ae),canBeUndef:ue}))}static joinBindings(...te){if(te.length===0)return null;if(te.length===1)return te[0];let re=te[0];for(const ne of te.slice(1)){const ie=re.merge(ne);if(!ie)return null;re=ie}return re}static getCardinality(te){return te.cardinality}static async getMetadatas(te){return await Promise.all(te.map(re=>re.output.metadata()))}static async getEntriesWithMetadatas(te){const re=await Y.getMetadatas(te);return te.map((ne,ie)=>({...ne,metadata:re[ie]}))}static getRequestInitialTimes(te){return te.map(re=>re.pageSize?0:re.requestTime??0)}static getRequestItemTimes(te){return te.map(re=>re.pageSize?(re.requestTime??0)/re.pageSize:0)}constructState(te){const re=new F.MetadataValidationState,ne=()=>re.invalidate();for(const ie of te)ie.state.addInvalidateListener(ne);return re}async constructResultMetadata(te,re,ne,ie={},oe=!1){let ae;return ie.cardinality?ae=ie.cardinality:(ae=re.reduce((ue,ce)=>{const se=Y.getCardinality(ce);return{type:se.type==="estimate"?"estimate":ue.type,value:ue.value*(oe?Math.max(1,se.value):se.value)}},{type:"exact",value:1}),ae.value*=(await this.mediatorJoinSelectivity.mediate({entries:te,context:ne})).selectivity),{state:this.constructState(re),...ie,cardinality:{type:ae.type,value:ae.value},variables:Y.joinVariables(ne.getSafe(q.KeysInitQuery.dataFactory),re,oe)}}static async sortJoinEntries(te,re,ne){if(re.some(ue=>ue.metadata.variables.some(ce=>ce.canBeUndef)))return(0,W.passTest)(re);const ie={};for(const ue of re)for(const ce of ue.metadata.variables){let se=ie[ce.variable.value];se||(se=0),ie[ce.variable.value]=++se}const oe=[];for(const[ue,ce]of Object.entries(ie))ce>=2&&oe.push(ue);if(oe.length===0)return(0,W.failTest)("Bind join can only join entries with at least one common variable");const ae=[];for(const ue of re){let ce=!1;for(const se of ue.metadata.variables)if(oe.includes(se.variable.value)){ce=!0;break}ce||ae.push(ue)}return(0,W.passTest)((await te.mediate({entries:re,context:ne})).entries.sort((ue,ce)=>{const se=ae.includes(ue),le=ae.includes(ce);return se===le?0:se?1:-1}))}async test(te){if(te.type!==this.logicalType)return(0,W.failTest)(`${this.name} can only handle logical joins of type '${this.logicalType}', while '${te.type}' was given.`);if(te.entries.length<=1)return(0,W.failTest)(`${this.name} requires at least two join entries.`);if(this.limitEntriesMin?te.entries.length<this.limitEntries:te.entries.length>this.limitEntries)return(0,W.failTest)(`${this.name} requires ${this.limitEntries} join entries at ${this.limitEntriesMin?"least":"most"}. The input contained ${te.entries.length}.`);for(const ie of te.entries)if(ie.output.type!=="bindings")return(0,W.failTest)(`Invalid type of a join entry: Expected 'bindings' but got '${ie.output.type}'`);const re=await Y.getMetadatas(te.entries);let ne;return!this.canHandleUndefs&&(ne=Y.overlappingVariables(re),ne.some(ie=>ie.canBeUndef))?(0,W.failTest)(`Actor ${this.name} can not join streams containing undefs`):this.requiresVariableOverlap&&(ne??Y.overlappingVariables(re)).length===0?(0,W.failTest)(`Actor ${this.name} can only join entries with at least one common variable`):await this.getJoinCoefficients(te,{metadatas:re})}async run(te,re){let ne;te.context.has(q.KeysInitQuery.physicalQueryPlanLogger)&&(ne=te.context.get(q.KeysInitQuery.physicalQueryPlanNode),te.context=te.context.set(q.KeysInitQuery.physicalQueryPlanNode,te));const ie=te.context.get(q.KeysInitQuery.physicalQueryPlanLogger);let oe;this.includeInLogs&&ie&&(oe={},ie.stashChildren(ne,ce=>ce.logicalOperator.startsWith("join")),ie.logOperation(`join-${this.logicalType}`,this.physicalName,te,ne,this.name,oe));const{result:ae,physicalPlanMetadata:ue}=await this.getOutput(te,re);if(oe){(0,J.instrumentIterator)(ae.bindingsStream).then(se=>{ie.appendMetadata(te,{cardinalityReal:se.count,timeSelf:se.timeSelf,timeLife:se.timeLife})}),Object.assign(oe,ue);const ce=re.metadatas.map(Y.getCardinality);if(oe.cardinalities=ce,oe.joinCoefficients=(await this.getJoinCoefficients(te,re)).getOrThrow(),this.isLeaf)for(let se=0;se<te.entries.length;se++){const le=te.entries[se];ie.unstashChild(le.operation,te),ie.appendMetadata(le.operation,{cardinality:ce[se]})}}return ae.metadata=(0,F.cachifyMetadata)(ae.metadata),ae}}G.ActorRdfJoin=Y},"../node_modules/@comunica/bus-rdf-join/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-rdf-join/lib/ActorRdfJoin.js"),G)},"../node_modules/@comunica/bus-rdf-metadata-accumulate/lib/ActorRdfMetadataAccumulate.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfMetadataAccumulate=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorRdfMetadataAccumulate=W},"../node_modules/@comunica/bus-rdf-metadata-accumulate/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-rdf-metadata-accumulate/lib/ActorRdfMetadataAccumulate.js"),G)},"../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfUpdateQuads=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F)}}G.ActorRdfUpdateQuads=W},"../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuadsDestination.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorRdfUpdateQuadsDestination=G.deskolemize=G.deskolemizeStream=void 0;const q=Q("../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/index.js"),W=Q("../node_modules/@comunica/context-entries/lib/index.js"),J=Q("../node_modules/@comunica/core/lib/index.js"),F=Q("../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js");function Y(re,ne,ie){return ne==null?void 0:ne.map(oe=>(0,q.deskolemizeQuad)(re,oe,ie))}G.deskolemizeStream=Y;function X(re){var ae;const ne=re.context.getSafe(W.KeysInitQuery.dataFactory),ie=re.context.get(W.KeysRdfUpdateQuads.destination),oe=(ae=re.context.get(W.KeysQuerySourceIdentify.sourceIds))==null?void 0:ae.get(ie);return oe?{...re,quadStreamInsert:Y(ne,re.quadStreamInsert,oe),quadStreamDelete:Y(ne,re.quadStreamDelete,oe)}:re}G.deskolemize=X;class te extends F.ActorRdfUpdateQuads{async test(ne){return(0,J.passTestVoid)()}async run(ne){const ie=await this.getDestination(ne.context);return await this.getOutput(ie,X(ne))}async getOutput(ne,ie){return{execute:async()=>{await ne.update({insert:ie.quadStreamInsert,delete:ie.quadStreamDelete}),await(ie.deleteGraphs?ne.deleteGraphs(ie.deleteGraphs.graphs,ie.deleteGraphs.requireExistence,ie.deleteGraphs.dropGraphs):Promise.resolve()),await(ie.createGraphs?ne.createGraphs(ie.createGraphs.graphs,ie.createGraphs.requireNonExistence):Promise.resolve())}}}}G.ActorRdfUpdateQuadsDestination=te},"../node_modules/@comunica/bus-rdf-update-quads/lib/IQuadDestination.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/bus-rdf-update-quads/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuads.js"),G),W(Q("../node_modules/@comunica/bus-rdf-update-quads/lib/ActorRdfUpdateQuadsDestination.js"),G),W(Q("../node_modules/@comunica/bus-rdf-update-quads/lib/IQuadDestination.js"),G),W(Q("../node_modules/@comunica/bus-rdf-update-quads/lib/utils.js"),G)},"../node_modules/@comunica/bus-rdf-update-quads/lib/utils.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.getContextDestinationUrl=G.getContextDestination=G.getDataDestinationContext=G.getDataDestinationValue=G.getDataDestinationType=G.isDataDestinationRawType=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js");function W(re){return typeof re=="string"||"remove"in re}G.isDataDestinationRawType=W;function J(re){return typeof re=="string"?"":"remove"in re?"rdfjsStore":re.type}G.getDataDestinationType=J;function F(re){return W(re)?re:re.value}G.getDataDestinationValue=F;function Y(re,ne){return typeof re=="string"||"remove"in re||!re.context?ne:ne.merge(re.context)}G.getDataDestinationContext=Y;function X(re){return re.get(q.KeysRdfUpdateQuads.destination)}G.getContextDestination=X;function te(re){if(re){let ne=F(re);if(typeof ne=="string"){const ie=ne.indexOf("#");return ie>=0&&(ne=ne.slice(0,ie)),ne}}}G.getContextDestinationUrl=te},"../node_modules/@comunica/bus-term-comparator-factory/lib/ActorTermComparatorFactory.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActorTermComparatorFactory=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Actor{constructor(F){super(F),this.mediatorQueryOperation=F.mediatorQueryOperation,this.mediatorFunctionFactory=F.mediatorFunctionFactory,this.mediatorMergeBindingsContext=F.mediatorMergeBindingsContext}}G.ActorTermComparatorFactory=W},"../node_modules/@comunica/bus-term-comparator-factory/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/bus-term-comparator-factory/lib/ActorTermComparatorFactory.js"),G)},"../node_modules/@comunica/context-entries/lib/Keys.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.KeysStatistics=G.KeysRdfJoin=G.KeysMergeBindingsContext=G.KeysRdfUpdateQuads=G.KeysQuerySourceIdentify=G.KeysRdfParseHtmlScript=G.KeysRdfParseJsonLd=G.KeysQueryOperation=G.KeysExpressionEvaluator=G.KeysInitQuery=G.KeysHttpProxy=G.KeysHttpMemento=G.KeysHttpWayback=G.KeysHttp=G.KeysCore=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");G.KeysCore={log:q.CONTEXT_KEY_LOGGER},G.KeysHttp={includeCredentials:new q.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new q.ActionContextKey("@comunica/bus-http:auth"),fetch:new q.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new q.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new q.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new q.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new q.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new q.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new q.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},G.KeysHttpWayback={recoverBrokenLinks:new q.ActionContextKey("@comunica/bus-http:recover-broken-links")},G.KeysHttpMemento={datetime:new q.ActionContextKey("@comunica/actor-http-memento:datetime")},G.KeysHttpProxy={httpProxyHandler:new q.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},G.KeysInitQuery={querySourcesUnidentified:new q.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new q.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new q.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new q.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new q.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new q.ActionContextKey("@comunica/actor-init-query:queryString"),query:new q.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new q.ActionContextKey("@comunica/actor-init-query:baseIRI"),functionArgumentsCache:new q.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new q.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new q.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new q.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new q.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),cliArgsHandlers:new q.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new q.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new q.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new q.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new q.ActionContextKey("@context"),invalidateCache:new q.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new q.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new q.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},G.KeysExpressionEvaluator={extensionFunctionCreator:new q.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new q.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new q.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new q.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},G.KeysQueryOperation={operation:new q.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new q.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new q.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new q.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new q.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new q.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new q.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new q.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new q.ActionContextKey("@comunica/bus-query-operation:querySources")},G.KeysRdfParseJsonLd={documentLoader:new q.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new q.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new q.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},G.KeysRdfParseHtmlScript={processingHtmlScript:new q.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new q.ActionContextKey("extractAllScripts")},G.KeysQuerySourceIdentify={sourceIds:new q.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new q.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new q.ActionContextKey("@comunica/bus-query-source-identify:traverse")},G.KeysRdfUpdateQuads={destination:new q.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},G.KeysMergeBindingsContext={sourcesBinding:new q.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},G.KeysRdfJoin={lastPhysicalJoin:new q.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},G.KeysStatistics={discoveredLinks:new q.ActionContextKey("@comunica/bus-context-preprocess:discoveredLinks"),dereferencedLinks:new q.ActionContextKey("@comunica/bus-context-preprocess:dereferencedLinks")}},"../node_modules/@comunica/context-entries/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/context-entries/lib/Keys.js"),G)},"../node_modules/@comunica/core/lib/ActionContext.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActionContextKey=G.ActionContext=void 0;const q=Q("../packages/immutable/dist/index.js");class W{constructor(Y={}){this.map=(0,q.Map)(Y)}setDefault(Y,X){return this.has(Y)?this:this.set(Y,X)}set(Y,X){return this.setRaw(Y.name,X)}setRaw(Y,X){return new W(this.map.set(Y,X))}delete(Y){return new W(this.map.delete(Y.name))}get(Y){return this.getRaw(Y.name)}getRaw(Y){return this.map.get(Y)}getSafe(Y){if(!this.has(Y))throw new Error(`Context entry ${Y.name} is required but not available`);return this.get(Y)}has(Y){return this.hasRaw(Y.name)}hasRaw(Y){return this.map.has(Y)}merge(...Y){let X=this;for(const te of Y)for(const re of te.keys())X=X.set(re,te.get(re));return X}keys(){return[...this.map.keys()].map(Y=>new J(Y))}toJS(){return this.map.toJS()}toString(){return`ActionContext(${JSON.stringify(this.map.toJS())})`}[Symbol.for("nodejs.util.inspect.custom")](){return`ActionContext(${JSON.stringify(this.map.toJS(),null,"  ")})`}static ensureActionContext(Y){return Y instanceof W?Y:new W((0,q.Map)(Y??{}))}}G.ActionContext=W;class J{constructor(Y){this.name=Y}}G.ActionContextKey=J},"../node_modules/@comunica/core/lib/ActionObserver.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ActionObserver=void 0;class Q{constructor(W){Object.assign(this,W)}}G.ActionObserver=Q},"../node_modules/@comunica/core/lib/Actor.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Actor=void 0;const q=Q("../node_modules/@comunica/core/lib/ContextEntries.js");class W{constructor(F){this.beforeActors=[],Object.assign(this,F),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),F.busFailMessage&&(this.bus.failMessage=F.busFailMessage)}static getContextLogger(F){return F.get(q.CONTEXT_KEY_LOGGER)}runObservable(F,Y){const X=this.run(F,Y);return this.bus.onRun(this,F,X),X}getDefaultLogData(F,Y){const X=Y?Y():{};return X.actor=this.name,X}logTrace(F,Y,X){const te=W.getContextLogger(F);te&&te.trace(Y,this.getDefaultLogData(F,X))}logDebug(F,Y,X){const te=W.getContextLogger(F);te&&te.debug(Y,this.getDefaultLogData(F,X))}logInfo(F,Y,X){const te=W.getContextLogger(F);te&&te.info(Y,this.getDefaultLogData(F,X))}logWarn(F,Y,X){const te=W.getContextLogger(F);te&&te.warn(Y,this.getDefaultLogData(F,X))}logError(F,Y,X){const te=W.getContextLogger(F);te&&te.error(Y,this.getDefaultLogData(F,X))}logFatal(F,Y,X){const te=W.getContextLogger(F);te&&te.fatal(Y,this.getDefaultLogData(F,X))}}G.Actor=W},"../node_modules/@comunica/core/lib/Bus.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Bus=void 0;class Q{constructor(W){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,W),this.failMessage=`All actors over bus ${this.name} failed to handle an action`}subscribe(W){this.actors.push(W),this.reorderForDependencies()}subscribeObserver(W){this.observers.push(W)}unsubscribe(W){const J=this.actors.indexOf(W);return J>=0?(this.actors.splice(J,1),!0):!1}unsubscribeObserver(W){const J=this.observers.indexOf(W);return J>=0?(this.observers.splice(J,1),!0):!1}publish(W){return this.actors.map(J=>({actor:J,reply:J.test(W)}))}onRun(W,J,F){for(const Y of this.observers)Y.onRun(W,J,F)}addDependencies(W,J){for(const F of J){let Y=this.dependencyLinks.get(F);Y||(Y=[],this.dependencyLinks.set(F,Y)),Y.push(W)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const W=[];for(const J of this.dependencyLinks.keys()){const F=this.actors.indexOf(J);F>=0&&(this.actors.splice(F,1),W.push(J))}for(;W.length>0;){let J=-1;for(let Y=0;Y<W.length;Y++){let X=!0;for(const te of this.dependencyLinks.get(W[Y]))if(!this.actors.includes(te)&&W.includes(te)){X=!1;break}if(X){J=Y;break}}if(J<0)throw new Error(`Cyclic dependency links detected in bus ${this.name}`);const F=W.splice(J,1)[0];this.actors.push(F)}}}}G.Bus=Q},"../node_modules/@comunica/core/lib/BusIndexed.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BusIndexed=void 0;const q=Q("../node_modules/@comunica/core/lib/Bus.js");class W extends q.Bus{constructor(F){super(F),this.actorsIndex={}}subscribe(F){const Y=this.getActorIdentifiers(F)??["_undefined_"];for(const X of Y){let te=this.actorsIndex[X];te||(te=this.actorsIndex[X]=[]),te.push(F),super.subscribe(F)}}unsubscribe(F){const Y=this.getActorIdentifiers(F)??["_undefined_"];let X=!1;for(const te of Y){const re=this.actorsIndex[te];if(re){const ne=re.indexOf(F);ne>=0&&re.splice(ne,1),re.length===0&&delete this.actorsIndex[te]}X=X||super.unsubscribe(F)}return X}publish(F){const Y=this.getActionIdentifier(F);return Y?[...this.actorsIndex[Y]||[],...this.actorsIndex._undefined_||[]].map(X=>({actor:X,reply:X.test(F)})):super.publish(F)}getActorIdentifiers(F){const Y=this.actorIdentifierFields.reduce((X,te)=>X[te],F);if(Y)return Array.isArray(Y)?Y:[Y]}getActionIdentifier(F){return this.actionIdentifierFields.reduce((Y,X)=>Y[X],F)}}G.BusIndexed=W},"../node_modules/@comunica/core/lib/ContextEntries.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.CONTEXT_KEY_LOGGER=void 0;const q=Q("../node_modules/@comunica/core/lib/ActionContext.js");G.CONTEXT_KEY_LOGGER=new q.ActionContextKey("@comunica/core:log")},"../node_modules/@comunica/core/lib/Mediator.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Mediator=void 0;class Q{constructor(W){Object.assign(this,W)}publish(W){const J=this.bus.publish(W);if(J.length===0)throw new Error(`No actors are able to reply to a message in the bus ${this.bus.name}`);return J}async mediateActor(W){return await this.mediateWith(W,this.publish(W))}async mediateTestable(W){return(await this.mediateActor(W)).mapAsync((J,F)=>J.runObservable(W,F))}async mediate(W){return(await this.mediateTestable(W)).getOrThrow()}constructFailureMessage(W,J){const F=`
        `;return`${this.bus.failMessage.replaceAll(/\$\{(.*?)\}/gu,(Y,X)=>Q.getObjectValue({action:W},X.split("."))||Y)}
    Error messages of failing actors:${F}${J.join(F)}`}static getObjectValue(W,J){if(J.length===0)return W;if(W)return Q.getObjectValue(W[J[0]],J.slice(1))}}G.Mediator=Q},"../node_modules/@comunica/core/lib/TestResult.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TestResultFailed=G.TestResultPassed=G.failTest=G.passTestVoidWithSideData=G.passTestWithSideData=G.passTestVoid=G.passTest=void 0;function Q(te){return new Y(te,void 0)}G.passTest=Q;function q(){return new Y(!0,void 0)}G.passTestVoid=q;function W(te,re){return new Y(te,re)}G.passTestWithSideData=W;function J(te){return new Y(!0,te)}G.passTestVoidWithSideData=J;function F(te){return new X(te)}G.failTest=F;class Y{constructor(re,ne){this.value=re,this.sideData=ne}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(re){return new Y(re(this.value,this.sideData),this.sideData)}async mapAsync(re){return new Y(await re(this.value,this.sideData),this.sideData)}}G.TestResultPassed=Y;class X{constructor(re){this.failMessage=re}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}G.TestResultFailed=X},"../node_modules/@comunica/core/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/core/lib/ActionContext.js"),G),W(Q("../node_modules/@comunica/core/lib/Bus.js"),G),W(Q("../node_modules/@comunica/core/lib/BusIndexed.js"),G),W(Q("../node_modules/@comunica/core/lib/ContextEntries.js"),G),W(Q("../node_modules/@comunica/core/lib/ActionObserver.js"),G),W(Q("../node_modules/@comunica/core/lib/Actor.js"),G),W(Q("../node_modules/@comunica/core/lib/Mediator.js"),G),W(Q("../node_modules/@comunica/core/lib/TestResult.js"),G)},"../node_modules/@comunica/logger-void/lib/LoggerVoid.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.LoggerVoid=void 0;const q=Q("../node_modules/@comunica/types/lib/index.js");class W extends q.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}G.LoggerVoid=W},"../node_modules/@comunica/logger-void/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/logger-void/lib/LoggerVoid.js"),G)},"../node_modules/@comunica/mediator-all/lib/MediatorAll.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MediatorAll=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Mediator{constructor(F){super(F)}async mediate(F){const Y=[];let X;try{X=this.publish(F)}catch{X=[]}for(const te of X){const re=await te.reply;re.isPassed()&&Y.push({actor:te.actor,sideData:re.getSideData()})}return(await Promise.all(Y.map(te=>te.actor.runObservable(F,te.sideData))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}}G.MediatorAll=W},"../node_modules/@comunica/mediator-all/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/mediator-all/lib/MediatorAll.js"),G)},"../node_modules/@comunica/mediator-combine-pipeline/lib/MediatorCombinePipeline.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MediatorCombinePipeline=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Mediator{constructor(F){super(F)}async mediate(F){let Y;try{Y=this.publish(F)}catch{return F}if(this.filterFailures){const ne=[];for(const ie of Y)(await ie.reply).isPassed()&&ne.push(ie);Y=ne}const X=[];if(Y=await Promise.all(Y.map(async({actor:ne,reply:ie},oe)=>{try{const ae=await ie,ue=ae.getOrThrow();return X[oe]=ae.getSideData(),{actor:ne,reply:ue}}catch(ae){throw new Error(this.constructFailureMessage(F,[ae.message]))}})),this.order){const ne=ie=>{const oe=this.field?ie[this.field]:ie;if(typeof oe!="number")throw new TypeError("Cannot order elements that are not numbers.");return oe};Y=Y.sort((ie,oe)=>(this.order==="increasing"?1:-1)*(ne(ie.reply)-ne(oe.reply)))}let te=F,re=0;for(const{actor:ne}of Y)te={...te,...await ne.runObservable(te,X[re++])};return te}mediateWith(){throw new Error("Method not supported.")}}G.MediatorCombinePipeline=W},"../node_modules/@comunica/mediator-combine-pipeline/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/mediator-combine-pipeline/lib/MediatorCombinePipeline.js"),G)},"../node_modules/@comunica/mediator-combine-union/lib/MediatorCombineUnion.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MediatorCombineUnion=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Mediator{constructor(F){super(F),this.combiner=this.createCombiner()}async mediate(F){let Y;try{Y=this.publish(F)}catch{Y=[]}if(this.filterFailures){const re=[];for(const ne of Y)(await ne.reply).isPassed()&&re.push(ne);Y=re}const X=[];await Promise.all(Y.map(async({reply:re},ne)=>{const ie=await re,oe=ie.getOrThrow();return X[ne]=ie.getSideData(),oe}));const te=await Promise.all(Y.map((re,ne)=>re.actor.runObservable(F,X[ne])));return this.combiner(te)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return F=>{const Y={};return Y[this.field]={},[{}].concat(F.map(X=>X[this.field])).forEach(X=>{Y[this.field]={...X,...Y[this.field]}}),Y}}}G.MediatorCombineUnion=W},"../node_modules/@comunica/mediator-combine-union/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/mediator-combine-union/lib/MediatorCombineUnion.js"),G)},"../node_modules/@comunica/mediator-join-coefficients-fixed/lib/MediatorJoinCoefficientsFixed.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MediatorJoinCoefficientsFixed=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js");class J extends W.Mediator{constructor(Y){super(Y)}async mediateWith(Y,X){var le;const te=[],re=X.map(({reply:de})=>de),ne=(await Promise.all(re)).map(de=>{if(de.isFailed()){te.push(de.getFailMessage());return}return{value:de.get(),sideData:de.getSideData()}});let ie=ne.map(de=>{if(de)return de.value.iterations*this.cpuWeight+de.value.persistedItems*this.memoryWeight+de.value.blockingItems*this.timeWeight+de.value.requestTime*this.ioWeight});const oe=Math.max(...ie.filter(de=>de!==void 0)),ae=Y.context.get(q.KeysQueryOperation.limitIndicator);ae&&(ie=ie.map((de,he)=>{var pe,ge;return de!==void 0&&((pe=ne[he])==null?void 0:pe.value).blockingItems>0&&((ge=ne[he])==null?void 0:ge.value).iterations>ae?de+oe:de}));let ue=-1,ce=Number.POSITIVE_INFINITY;for(const[de,he]of ie.entries())he!==void 0&&(ue===-1||he<ce)&&(ue=de,ce=he);if(ue<0)return(0,W.failTest)(this.constructFailureMessage(Y,te));const se=X[ue].actor;return se.includeInLogs&&((le=W.Actor.getContextLogger(Y.context))==null||le.debug(`Determined physical join operator '${se.logicalType}-${se.physicalName}'`,{entries:Y.entries.length,variables:await Promise.all(Y.entries.map(async de=>(await de.output.metadata()).variables.map(he=>he.variable.value))),costs:Object.fromEntries(ie.map((de,he)=>[`${X[he].actor.logicalType}-${X[he].actor.physicalName}`,de]).filter(de=>de[1]!==void 0)),coefficients:Object.fromEntries(ne.map((de,he)=>[`${X[he].actor.logicalType}-${X[he].actor.physicalName}`,de==null?void 0:de.value]).filter(de=>de[1]!==void 0))})),(0,W.passTestWithSideData)(se,ne[ue].sideData)}}G.MediatorJoinCoefficientsFixed=J},"../node_modules/@comunica/mediator-join-coefficients-fixed/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/mediator-join-coefficients-fixed/lib/MediatorJoinCoefficientsFixed.js"),G)},"../node_modules/@comunica/mediator-number/lib/MediatorNumber.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MediatorNumber=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Mediator{constructor(F){super(F),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return F=>F.reduce((Y,X,te)=>{const re=this.getOrDefault(X[this.field],Number.POSITIVE_INFINITY);return re!==null&&(Number.isNaN(Y[0])||Y[0]>re)?[re,te]:Y},[Number.NaN,-1])[1];case"max":return F=>F.reduce((Y,X,te)=>{const re=this.getOrDefault(X[this.field],Number.NEGATIVE_INFINITY);return re!==null&&(Number.isNaN(Y[0])||Y[0]<re)?[re,te]:Y},[Number.NaN,-1])[1];default:throw new Error(`No valid "type" value was given, must be either 'min' or 'max', but got: ${this.type}`)}}getOrDefault(F,Y){return F===void 0?Y:F}async mediateWith(F,Y){let X=await Promise.all(Y.map(({reply:oe})=>oe));const te=[];if(this.ignoreFailures){const oe={};oe[this.field]=null,X=X.map(ae=>ae.isFailed()?(te.push(ae.getFailMessage()),(0,q.passTestWithSideData)(oe,void 0)):ae)}const re=[],ne=X.map((oe,ae)=>{const ue=oe.getOrThrow();return re[ae]=oe.getSideData(),ue}),ie=this.indexPicker(ne);return ie<0?(0,q.failTest)(this.constructFailureMessage(F,te)):(0,q.passTestWithSideData)(Y[ie].actor,re[ie])}}G.MediatorNumber=W},"../node_modules/@comunica/mediator-number/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/mediator-number/lib/MediatorNumber.js"),G)},"../node_modules/@comunica/mediator-race/lib/MediatorRace.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MediatorRace=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js");class W extends q.Mediator{constructor(F){super(F)}mediateWith(F,Y){return new Promise((X,te)=>{const re=[];for(const ne of Y)ne.reply.then(ie=>{ie.isPassed()?X((0,q.passTestWithSideData)(ne.actor,ie.getSideData())):(re.push(ie.getFailMessage()),re.length===Y.length&&X((0,q.failTest)(this.constructFailureMessage(F,re))))}).catch(ie=>{te(ie)})})}}G.MediatorRace=W},"../node_modules/@comunica/mediator-race/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/mediator-race/lib/MediatorRace.js"),G)},"../node_modules/@comunica/query-sparql-rdfjs-lite/engine-default.js":(U,G,Q)=>{U.exports=function(q){const W=new(Q("../node_modules/@comunica/logger-void/lib/index.js")).LoggerVoid,J=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^4.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),F=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^4.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),Y=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^4.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),X=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^4.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),te=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^4.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),re=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^4.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),ne=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^4.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),ie=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^4.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),oe=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^4.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),ae=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^4.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),ue=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-bindings-aggregator-factory/^4.0.0/components/ActorBindingsAggregatorFactory.jsonld#ActorBindingsAggregatorFactory_default_bus"}),ce=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-expression-evaluator-factory/^4.0.0/components/ActorExpressionEvaluatorFactory.jsonld#ActorExpressionEvaluatorFactory_default_bus"}),se=new(Q("../node_modules/@comunica/bus-function-factory/lib/index.js")).BusFunctionFactory({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-function-factory/^4.0.0/components/ActorFunctionFactory.jsonld#ActorFunctionFactory_default_bus"}),le=new(Q("../node_modules/@comunica/bus-query-operation/lib/index.js")).BusQueryOperation({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^4.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),de=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^4.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),he=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^4.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),pe=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^4.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),ge=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-term-comparator-factory/^4.0.0/components/ActorTermComparatorFactory.jsonld#ActorTermComparatorFactory_default_bus"}),be=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^4.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),ve=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^4.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),Ee=new(Q("../node_modules/@comunica/core/lib/index.js")).Bus({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^4.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"});new(Q("../node_modules/@comunica/actor-context-preprocess-convert-shortcuts/lib/index.js")).ActorContextPreprocessConvertShortcuts({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",dataFactory:"@comunica/actor-init-query:dataFactory",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",fetch:"@comunica/bus-http:fetch",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelayFallback:"@comunica/bus-http:http-retry-delay-fallback",httpRetryDelayLimit:"@comunica/bus-http:http-retry-delay-limit",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",invalidateCache:"@comunica/actor-init-query:invalidateCache",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",queryTimestampHighResolution:"@comunica/actor-init-query:queryTimestampHighResolution",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:F,busFailMessage:"Context preprocessing failed"}),new(Q("../node_modules/@comunica/actor-context-preprocess-set-defaults/lib/index.js")).ActorContextPreprocessSetDefaults({logger:W,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:F,busFailMessage:"Context preprocessing failed"}),new(Q("../node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/index.js")).ActorContextPreprocessSourceToDestination({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:F,busFailMessage:"Context preprocessing failed"});const ke=new(Q("../node_modules/@comunica/actor-context-preprocess-query-source-skolemize/lib/index.js")).ActorContextPreprocessQuerySourceSkolemize({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:F,busFailMessage:"Context preprocessing failed"}),Pe=new(Q("../node_modules/@comunica/mediator-combine-pipeline/lib/index.js")).MediatorCombinePipeline({name:"urn:comunica:default:context-preprocess/mediators#main",bus:F});new(Q("../node_modules/@comunica/actor-hash-bindings-murmur/lib/index.js")).ActorHashBindingsMurmur({name:"urn:comunica:default:hash-bindings/actors#murmur",bus:Y,busFailMessage:"Failed to obtaining hash functions for bindings"});const Te=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:hash-bindings/mediators#main",bus:Y});new(Q("../node_modules/@comunica/actor-hash-quads-murmur/lib/index.js")).ActorHashQuadsMurmur({name:"urn:comunica:default:hash-quads/actors#murmur",bus:X,busFailMessage:"Failed to obtaining hash functions for quads"});const xe=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:hash-quads/mediators#main",bus:X});new(Q("../node_modules/@comunica/actor-optimize-query-operation-rewrite-copy/lib/index.js")).ActorOptimizeQueryOperationRewriteCopy({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(Q("../node_modules/@comunica/actor-optimize-query-operation-rewrite-move/lib/index.js")).ActorOptimizeQueryOperationRewriteMove({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),new(Q("../node_modules/@comunica/actor-optimize-query-operation-rewrite-add/lib/index.js")).ActorOptimizeQueryOperationRewriteAdd({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const Ne=new(Q("../node_modules/@comunica/actor-optimize-query-operation-group-sources/lib/index.js")).ActorOptimizeQueryOperationGroupSources({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});new(Q("../node_modules/@comunica/actor-optimize-query-operation-construct-distinct/lib/index.js")).ActorOptimizeQueryOperationConstructDistinct({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"});const Se=new(Q("../node_modules/@comunica/mediator-combine-pipeline/lib/index.js")).MediatorCombinePipeline({filterFailures:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:te});new(Q("../node_modules/@comunica/actor-query-parse-sparql/lib/index.js")).ActorQueryParseSparql({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:re,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'});const Ge=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:query-parse/mediators#main",bus:re});new(Q("../node_modules/@comunica/actor-rdf-join-entries-sort-cardinality/lib/index.js")).ActorRdfJoinEntriesSortCardinality({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:ne,busFailMessage:"Sorting join entries failed: none of the configured actors were able to sort"});const Ce=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:ne});new(Q("../node_modules/@comunica/actor-rdf-join-selectivity-variable-counting/lib/index.js")).ActorRdfJoinSelectivityVariableCounting({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:ie,busFailMessage:"Determining join selectivity failed: none of the configured actors were able to calculate selectivities"});const ze=new(Q("../node_modules/@comunica/mediator-number/lib/index.js")).MediatorNumber({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:ie});new(Q("../node_modules/@comunica/actor-rdf-metadata-accumulate-cardinality/lib/index.js")).ActorRdfMetadataAccumulateCardinality({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:oe,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(Q("../node_modules/@comunica/actor-rdf-metadata-accumulate-pagesize/lib/index.js")).ActorRdfMetadataAccumulatePageSize({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:oe,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),new(Q("../node_modules/@comunica/actor-rdf-metadata-accumulate-requesttime/lib/index.js")).ActorRdfMetadataAccumulateRequestTime({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:oe,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"});const Ve=new(Q("../node_modules/@comunica/mediator-combine-union/lib/index.js")).MediatorCombineUnion({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:oe});new(Q("../node_modules/@comunica/actor-rdf-update-quads-rdfjs-store/lib/index.js")).ActorRdfUpdateQuadsRdfJsStore({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:ae,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"});const Ke=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:ae}),Ze=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:bindings-aggregator-factory/mediators#main",bus:ue}),et=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:expression-evaluator-factory/mediators#main",bus:ce});new(Q("../node_modules/@comunica/actor-function-factory-expression-bnode/lib/index.js")).ActorFunctionFactoryExpressionBnode({name:"urn:comunica:default:function-factory/actors#expression-function-bnode",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-expression-bound/lib/index.js")).ActorFunctionFactoryExpressionBound({name:"urn:comunica:default:function-factory/actors#expression-function-bound",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-expression-concat/lib/index.js")).ActorFunctionFactoryExpressionConcat({name:"urn:comunica:default:function-factory/actors#expression-function-concat",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-expression-coalesce/lib/index.js")).ActorFunctionFactoryExpressionCoalesce({name:"urn:comunica:default:function-factory/actors#expression-function-coalesce",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-expression-extensions/lib/index.js")).ActorFunctionFactoryExpressionExtensions({name:"urn:comunica:default:function-factory/actors#expression-function-extensions",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-expression-if/lib/index.js")).ActorFunctionFactoryExpressionIf({name:"urn:comunica:default:function-factory/actors#expression-function-if",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-expression-logical-and/lib/index.js")).ActorFunctionFactoryExpressionLogicalAnd({name:"urn:comunica:default:function-factory/actors#expression-function-logical-and",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-expression-logical-or/lib/index.js")).ActorFunctionFactoryExpressionLogicalOr({name:"urn:comunica:default:function-factory/actors#expression-function-logical-or",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-expression-same-term/lib/index.js")).ActorFunctionFactoryExpressionSameTerm({name:"urn:comunica:default:function-factory/actors#expression-function-same-term",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-abs/lib/index.js")).ActorFunctionFactoryTermAbs({name:"urn:comunica:default:function-factory/actors#term-function-abs",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-ceil/lib/index.js")).ActorFunctionFactoryTermCeil({name:"urn:comunica:default:function-factory/actors#term-function-ceil",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-addition/lib/index.js")).ActorFunctionFactoryTermAddition({name:"urn:comunica:default:function-factory/actors#term-function-addition",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-contains/lib/index.js")).ActorFunctionFactoryTermContains({name:"urn:comunica:default:function-factory/actors#term-function-contains",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-datatype/lib/index.js")).ActorFunctionFactoryTermDatatype({name:"urn:comunica:default:function-factory/actors#term-function-datatype",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-day/lib/index.js")).ActorFunctionFactoryTermDay({name:"urn:comunica:default:function-factory/actors#term-function-day",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-division/lib/index.js")).ActorFunctionFactoryTermDivision({name:"urn:comunica:default:function-factory/actors#term-function-division",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-encode-for-uri/lib/index.js")).ActorFunctionFactoryTermEncodeForUri({name:"urn:comunica:default:function-factory/actors#term-function-encode-for-uri",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-equality/lib/index.js")).ActorFunctionFactoryTermEquality({name:"urn:comunica:default:function-factory/actors#term-function-equality",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-floor/lib/index.js")).ActorFunctionFactoryTermFloor({name:"urn:comunica:default:function-factory/actors#term-function-floor",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-hours/lib/index.js")).ActorFunctionFactoryTermHours({name:"urn:comunica:default:function-factory/actors#term-function-hours",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-iri/lib/index.js")).ActorFunctionFactoryTermIri({name:"urn:comunica:default:function-factory/actors#term-function-iri",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-is-blank/lib/index.js")).ActorFunctionFactoryTermIsBlank({name:"urn:comunica:default:function-factory/actors#term-function-is-blank",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-is-iri/lib/index.js")).ActorFunctionFactoryTermIsIri({name:"urn:comunica:default:function-factory/actors#term-function-is-iri",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-is-literal/lib/index.js")).ActorFunctionFactoryTermIsLiteral({name:"urn:comunica:default:function-factory/actors#term-function-is-literal",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-is-numeric/lib/index.js")).ActorFunctionFactoryTermIsNumeric({name:"urn:comunica:default:function-factory/actors#term-function-is-numeric",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-lang/lib/index.js")).ActorFunctionFactoryTermLang({name:"urn:comunica:default:function-factory/actors#term-function-lang",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-is-triple/lib/index.js")).ActorFunctionFactoryTermIsTriple({name:"urn:comunica:default:function-factory/actors#term-function-is-triple",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-langmatches/lib/index.js")).ActorFunctionFactoryTermLangmatches({name:"urn:comunica:default:function-factory/actors#term-function-langmatches",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-lcase/lib/index.js")).ActorFunctionFactoryTermLcase({name:"urn:comunica:default:function-factory/actors#term-function-lcase",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-md5/lib/index.js")).ActorFunctionFactoryTermMd5({name:"urn:comunica:default:function-factory/actors#term-function-md5",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-minutes/lib/index.js")).ActorFunctionFactoryTermMinutes({name:"urn:comunica:default:function-factory/actors#term-function-minutes",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-month/lib/index.js")).ActorFunctionFactoryTermMonth({name:"urn:comunica:default:function-factory/actors#term-function-month",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-multiplication/lib/index.js")).ActorFunctionFactoryTermMultiplication({name:"urn:comunica:default:function-factory/actors#term-function-multiplication",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-not/lib/index.js")).ActorFunctionFactoryTermNot({name:"urn:comunica:default:function-factory/actors#term-function-not",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-now/lib/index.js")).ActorFunctionFactoryTermNow({name:"urn:comunica:default:function-factory/actors#term-function-now",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-predicate/lib/index.js")).ActorFunctionFactoryTermPredicate({name:"urn:comunica:default:function-factory/actors#term-function-predicate",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-object/lib/index.js")).ActorFunctionFactoryTermObject({name:"urn:comunica:default:function-factory/actors#term-function-object",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-rand/lib/index.js")).ActorFunctionFactoryTermRand({name:"urn:comunica:default:function-factory/actors#term-function-rand",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-regex/lib/index.js")).ActorFunctionFactoryTermRegex({name:"urn:comunica:default:function-factory/actors#term-function-regex",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-replace/lib/index.js")).ActorFunctionFactoryTermReplace({name:"urn:comunica:default:function-factory/actors#term-function-replace",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-round/lib/index.js")).ActorFunctionFactoryTermRound({name:"urn:comunica:default:function-factory/actors#term-function-round",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-seconds/lib/index.js")).ActorFunctionFactoryTermSeconds({name:"urn:comunica:default:function-factory/actors#term-function-seconds",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-sha256/lib/index.js")).ActorFunctionFactoryTermSha256({name:"urn:comunica:default:function-factory/actors#term-function-sha256",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-sha1/lib/index.js")).ActorFunctionFactoryTermSha1({name:"urn:comunica:default:function-factory/actors#term-function-sha1",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-sha384/lib/index.js")).ActorFunctionFactoryTermSha384({name:"urn:comunica:default:function-factory/actors#term-function-sha384",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-sha512/lib/index.js")).ActorFunctionFactoryTermSha512({name:"urn:comunica:default:function-factory/actors#term-function-sha512",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-str-after/lib/index.js")).ActorFunctionFactoryTermStrAfter({name:"urn:comunica:default:function-factory/actors#term-function-str-after",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-str-before/lib/index.js")).ActorFunctionFactoryTermStrBefore({name:"urn:comunica:default:function-factory/actors#term-function-str-before",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-str-ends/lib/index.js")).ActorFunctionFactoryTermStrEnds({name:"urn:comunica:default:function-factory/actors#term-function-str-ends",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-str-len/lib/index.js")).ActorFunctionFactoryTermStrLen({name:"urn:comunica:default:function-factory/actors#term-function-str-len",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-str-uuid/lib/index.js")).ActorFunctionFactoryTermStrUuid({name:"urn:comunica:default:function-factory/actors#term-function-str-uuid",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-str-lang/lib/index.js")).ActorFunctionFactoryTermStrLang({name:"urn:comunica:default:function-factory/actors#term-function-str-lang",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-str-dt/lib/index.js")).ActorFunctionFactoryTermStrDt({name:"urn:comunica:default:function-factory/actors#term-function-str-dt",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-str-starts/lib/index.js")).ActorFunctionFactoryTermStrStarts({name:"urn:comunica:default:function-factory/actors#term-function-str-starts",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-str/lib/index.js")).ActorFunctionFactoryTermStr({name:"urn:comunica:default:function-factory/actors#term-function-str",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-sub-str/lib/index.js")).ActorFunctionFactoryTermSubStr({name:"urn:comunica:default:function-factory/actors#term-function-sub-str",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-subject/lib/index.js")).ActorFunctionFactoryTermSubject({name:"urn:comunica:default:function-factory/actors#term-function-subject",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-subtraction/lib/index.js")).ActorFunctionFactoryTermSubtraction({name:"urn:comunica:default:function-factory/actors#term-function-subtraction",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-timezone/lib/index.js")).ActorFunctionFactoryTermTimezone({name:"urn:comunica:default:function-factory/actors#term-function-timezone",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-ucase/lib/index.js")).ActorFunctionFactoryTermUcase({name:"urn:comunica:default:function-factory/actors#term-function-ucase",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-triple/lib/index.js")).ActorFunctionFactoryTermTriple({name:"urn:comunica:default:function-factory/actors#term-function-triple",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-tz/lib/index.js")).ActorFunctionFactoryTermTz({name:"urn:comunica:default:function-factory/actors#term-function-tz",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-unary-minus/lib/index.js")).ActorFunctionFactoryTermUnaryMinus({name:"urn:comunica:default:function-factory/actors#term-function-unary-minus",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-unary-plus/lib/index.js")).ActorFunctionFactoryTermUnaryPlus({name:"urn:comunica:default:function-factory/actors#term-function-unary-plus",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-uuid/lib/index.js")).ActorFunctionFactoryTermUuid({name:"urn:comunica:default:function-factory/actors#term-function-uuid",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-boolean/lib/index.js")).ActorFunctionFactoryTermXsdToBoolean({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-boolean",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-date/lib/index.js")).ActorFunctionFactoryTermXsdToDate({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-date",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-datetime/lib/index.js")).ActorFunctionFactoryTermXsdToDatetime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-datetime",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-day-time-duration/lib/index.js")).ActorFunctionFactoryTermXsdToDayTimeDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-day-time-duration",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-decimal/lib/index.js")).ActorFunctionFactoryTermXsdToDecimal({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-decimal",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-double/lib/index.js")).ActorFunctionFactoryTermXsdToDouble({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-double",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-duration/lib/index.js")).ActorFunctionFactoryTermXsdToDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-duration",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-float/lib/index.js")).ActorFunctionFactoryTermXsdToFloat({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-float",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-integer/lib/index.js")).ActorFunctionFactoryTermXsdToInteger({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-integer",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-string/lib/index.js")).ActorFunctionFactoryTermXsdToString({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-string",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-time/lib/index.js")).ActorFunctionFactoryTermXsdToTime({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-time",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-year/lib/index.js")).ActorFunctionFactoryTermYear({name:"urn:comunica:default:function-factory/actors#term-function-year",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-xsd-to-year-month-duration/lib/index.js")).ActorFunctionFactoryTermXsdToYearMonthDuration({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-year-month-duration",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"});const ot=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:function-factory/mediators#main",bus:se});new(Q("../node_modules/@comunica/actor-query-operation-source/lib/index.js")).ActorQueryOperationSource({name:"urn:comunica:default:query-operation/actors#source",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const nt=new(Q("../node_modules/@comunica/mediator-number/lib/index.js")).MediatorNumber({field:"httpRequests",type:"min",ignoreFailures:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:le}),dt=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:query-process/mediators#main",bus:de}),Fe=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:query-source-identify/mediators#main",bus:he}),Xe=new(Q("../node_modules/@comunica/mediator-join-coefficients-fixed/lib/index.js")).MediatorJoinCoefficientsFixed({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:pe}),pt=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:term-comparator-factory/mediators#main",bus:ge}),yt=new(Q("../node_modules/@comunica/bus-http-invalidate/lib/index.js")).ActorHttpInvalidateListenable({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^4.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:be,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),vt=new(Q("../node_modules/@comunica/mediator-all/lib/index.js")).MediatorAll({name:"urn:comunica:default:http-invalidate/mediators#main",bus:be}),mt=new(Q("../node_modules/@comunica/mediator-race/lib/index.js")).MediatorRace({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:ve}),Tt=new(Q("../node_modules/@comunica/mediator-combine-union/lib/index.js")).MediatorCombineUnion({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:ve}),we=new(Q("../node_modules/@comunica/mediator-combine-union/lib/index.js")).MediatorCombineUnion({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:ve}),Re=new(Q("../node_modules/@comunica/mediator-combine-union/lib/index.js")).MediatorCombineUnion({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:Ee});new(Q("../node_modules/@comunica/actor-rdf-join-inner-single/lib/index.js")).ActorRdfJoinSingle({mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Q("../node_modules/@comunica/actor-rdf-join-inner-multi-empty/lib/index.js")).ActorRdfJoinMultiEmpty({mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});const _e=new(Q("../node_modules/@comunica/actor-rdf-join-inner-hash/lib/index.js")).ActorRdfJoinHash({mediatorHashBindings:Te,canHandleUndefs:!1,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-hash-def",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Me=new(Q("../node_modules/@comunica/actor-rdf-join-inner-hash/lib/index.js")).ActorRdfJoinHash({mediatorHashBindings:Te,canHandleUndefs:!0,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-hash-undef",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Ie=new(Q("../node_modules/@comunica/actor-rdf-join-inner-symmetrichash/lib/index.js")).ActorRdfJoinSymmetricHash({mediatorHashBindings:Te,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),De=new(Q("../node_modules/@comunica/actor-rdf-join-inner-nestedloop/lib/index.js")).ActorRdfJoinNestedLoop({mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(Q("../node_modules/@comunica/actor-rdf-join-minus-hash/lib/index.js")).ActorRdfJoinMinusHash({canHandleUndefs:!1,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#minus-hash-def",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Q("../node_modules/@comunica/actor-rdf-join-minus-hash/lib/index.js")).ActorRdfJoinMinusHash({canHandleUndefs:!0,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Q("../node_modules/@comunica/actor-rdf-join-optional-hash/lib/index.js")).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Q("../node_modules/@comunica/actor-rdf-join-optional-hash/lib/index.js")).ActorRdfJoinOptionalHash({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Q("../node_modules/@comunica/actor-rdf-join-optional-hash/lib/index.js")).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Q("../node_modules/@comunica/actor-rdf-join-optional-hash/lib/index.js")).ActorRdfJoinOptionalHash({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Q("../node_modules/@comunica/actor-rdf-join-optional-nestedloop/lib/index.js")).ActorRdfJoinOptionalNestedLoop({mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-count/lib/index.js")).ActorBindingsAggregatorFactoryCount({mediatorExpressionEvaluatorFactory:et,name:"urn:comunica:default:bindings-aggregator-factory/actors#count",bus:ue,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-group-concat/lib/index.js")).ActorBindingsAggregatorFactoryGroupConcat({mediatorExpressionEvaluatorFactory:et,name:"urn:comunica:default:bindings-aggregator-factory/actors#group-concat",bus:ue,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-sample/lib/index.js")).ActorBindingsAggregatorFactorySample({mediatorExpressionEvaluatorFactory:et,name:"urn:comunica:default:bindings-aggregator-factory/actors#sample",bus:ue,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-wildcard-count/lib/index.js")).ActorBindingsAggregatorFactoryWildcardCount({mediatorExpressionEvaluatorFactory:et,name:"urn:comunica:default:bindings-aggregator-factory/actors#wildcard-count",bus:ue,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-average/lib/index.js")).ActorBindingsAggregatorFactoryAverage({mediatorFunctionFactory:ot,mediatorExpressionEvaluatorFactory:et,name:"urn:comunica:default:bindings-aggregator-factory/actors#average",bus:ue,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-sum/lib/index.js")).ActorBindingsAggregatorFactorySum({mediatorFunctionFactory:ot,mediatorExpressionEvaluatorFactory:et,name:"urn:comunica:default:bindings-aggregator-factory/actors#sum",bus:ue,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Q("../node_modules/@comunica/actor-function-factory-expression-in/lib/index.js")).ActorFunctionFactoryExpressionIn({mediatorFunctionFactory:ot,name:"urn:comunica:default:function-factory/actors#expression-function-in",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-expression-not-in/lib/index.js")).ActorFunctionFactoryExpressionNotIn({mediatorFunctionFactory:ot,name:"urn:comunica:default:function-factory/actors#expression-function-not-in",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-greater-than-equal/lib/index.js")).ActorFunctionFactoryTermGreaterThanEqual({mediatorFunctionFactory:ot,name:"urn:comunica:default:function-factory/actors#term-function-greater-than-equal",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-greater-than/lib/index.js")).ActorFunctionFactoryTermGreaterThan({mediatorFunctionFactory:ot,name:"urn:comunica:default:function-factory/actors#term-function-greater-than",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-inequality/lib/index.js")).ActorFunctionFactoryTermInequality({mediatorFunctionFactory:ot,name:"urn:comunica:default:function-factory/actors#term-function-inequality",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-lesser-than-equal/lib/index.js")).ActorFunctionFactoryTermLesserThanEqual({mediatorFunctionFactory:ot,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than-equal",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-function-factory-term-lesser-than/lib/index.js")).ActorFunctionFactoryTermLesserThan({mediatorFunctionFactory:ot,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than",bus:se,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),new(Q("../node_modules/@comunica/actor-query-operation-ask/lib/index.js")).ActorQueryOperationAsk({mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#ask",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-bgp-join/lib/index.js")).ActorQueryOperationBgpJoin({mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#bgp",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-construct/lib/index.js")).ActorQueryOperationConstruct({mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#construct",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-distinct-hash/lib/index.js")).ActorQueryOperationDistinctHash({mediatorHashBindings:Te,mediatorHashQuads:xe,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#distinct",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-extend/lib/index.js")).ActorQueryOperationExtend({mediatorExpressionEvaluatorFactory:et,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#extend",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-filter/lib/index.js")).ActorQueryOperationFilter({mediatorExpressionEvaluatorFactory:et,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#filter",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-from-quad/lib/index.js")).ActorQueryOperationFromQuad({mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#from",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-project/lib/index.js")).ActorQueryOperationProject({mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#project",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-reduced-hash/lib/index.js")).ActorQueryOperationReducedHash({mediatorHashBindings:Te,cacheSize:100,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#reduced",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-slice/lib/index.js")).ActorQueryOperationSlice({mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#slice",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-union/lib/index.js")).ActorQueryOperationUnion({mediatorRdfMetadataAccumulate:Ve,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#union",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-path-alt/lib/index.js")).ActorQueryOperationPathAlt({mediatorRdfMetadataAccumulate:Ve,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#path-alt",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-path-inv/lib/index.js")).ActorQueryOperationPathInv({mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#path-inv",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-path-link/lib/index.js")).ActorQueryOperationPathLink({mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#path-link",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-path-nps/lib/index.js")).ActorQueryOperationPathNps({mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#path-nps",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-update-clear/lib/index.js")).ActorQueryOperationClear({mediatorUpdateQuads:Ke,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#update-clear",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/index.js")).ActorQueryOperationUpdateCompositeUpdate({mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#update-composite",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-update-create/lib/index.js")).ActorQueryOperationCreate({mediatorUpdateQuads:Ke,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#update-create",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-update-drop/lib/index.js")).ActorQueryOperationDrop({mediatorUpdateQuads:Ke,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#update-drop",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-update-load/lib/index.js")).ActorQueryOperationLoad({mediatorUpdateQuads:Ke,mediatorQuerySourceIdentify:Fe,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#update-load",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-join/lib/index.js")).ActorQueryOperationJoin({mediatorJoin:Xe,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#join",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-leftjoin/lib/index.js")).ActorQueryOperationLeftJoin({mediatorJoin:Xe,mediatorExpressionEvaluatorFactory:et,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-minus/lib/index.js")).ActorQueryOperationMinus({mediatorJoin:Xe,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#minus",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-path-seq/lib/index.js")).ActorQueryOperationPathSeq({mediatorJoin:Xe,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#path-seq",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const qe=new(Q("../node_modules/@comunica/actor-rdf-join-inner-multi-smallest/lib/index.js")).ActorRdfJoinMultiSmallest({mediatorJoinEntriesSort:Ce,mediatorJoin:Xe,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"});new(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-max/lib/index.js")).ActorBindingsAggregatorFactoryMax({mediatorTermComparatorFactory:pt,mediatorExpressionEvaluatorFactory:et,name:"urn:comunica:default:bindings-aggregator-factory/actors#max",bus:ue,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Q("../node_modules/@comunica/actor-bindings-aggregator-factory-min/lib/index.js")).ActorBindingsAggregatorFactoryMin({mediatorTermComparatorFactory:pt,mediatorExpressionEvaluatorFactory:et,name:"urn:comunica:default:bindings-aggregator-factory/actors#min",bus:ue,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),new(Q("../node_modules/@comunica/actor-query-operation-orderby/lib/index.js")).ActorQueryOperationOrderBy({mediatorExpressionEvaluatorFactory:et,mediatorTermComparatorFactory:pt,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#orderby",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"});const Le=new(Q("../node_modules/@comunica/actor-optimize-query-operation-filter-pushdown/lib/index.js")).ActorOptimizeQueryOperationFilterPushdown({aggressivePushdown:!1,maxIterations:10,splitConjunctive:!0,mergeConjunctive:!0,pushIntoLeftJoins:!0,pushEqualityIntoPatterns:!0,name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ne]});new(Q("../node_modules/@comunica/actor-context-preprocess-query-source-identify/lib/index.js")).ActorContextPreprocessQuerySourceIdentify({cacheSize:100,httpInvalidator:yt,mediatorQuerySourceIdentify:Fe,mediatorContextPreprocess:Pe,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:F,busFailMessage:"Context preprocessing failed",beforeActors:[ke]});const Qe=new(Q("../node_modules/@comunica/actor-init-query/lib/index-browser.js")).ActorInitQuery({mediatorQueryProcess:dt,mediatorQueryResultSerialize:mt,mediatorQueryResultSerializeMediaTypeCombiner:Tt,mediatorQueryResultSerializeMediaTypeFormatCombiner:we,mediatorHttpInvalidate:vt,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:J,busFailMessage:"Initialization failed: none of the configured actors were to initialize"});new(Q("../node_modules/@comunica/actor-expression-evaluator-factory-default/lib/index.js")).ActorExpressionEvaluatorFactoryDefault({mediatorQueryOperation:nt,mediatorFunctionFactory:ot,mediatorMergeBindingsContext:Re,name:"urn:comunica:default:expression-evaluator-factory/actors#default",bus:ce,busFailMessage:"Creation of Expression Evaluator failed"}),new(Q("../node_modules/@comunica/actor-query-operation-group/lib/index.js")).ActorQueryOperationGroup({mediatorMergeBindingsContext:Re,mediatorBindingsAggregatorFactory:Ze,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#group",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-nop/lib/index.js")).ActorQueryOperationNop({mediatorMergeBindingsContext:Re,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#nop",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-service/lib/index.js")).ActorQueryOperationService({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:Re,mediatorQuerySourceIdentify:Fe,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#service",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-values/lib/index.js")).ActorQueryOperationValues({mediatorMergeBindingsContext:Re,name:"urn:comunica:default:query-operation/actors#values",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-path-one-or-more/lib/index.js")).ActorQueryOperationPathOneOrMore({mediatorMergeBindingsContext:Re,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-path-zero-or-more/lib/index.js")).ActorQueryOperationPathZeroOrMore({mediatorMergeBindingsContext:Re,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-path-zero-or-one/lib/index.js")).ActorQueryOperationPathZeroOrOne({mediatorMergeBindingsContext:Re,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-operation-update-deleteinsert/lib/index.js")).ActorQueryOperationUpdateDeleteInsert({mediatorUpdateQuads:Ke,mediatorMergeBindingsContext:Re,mediatorQueryOperation:nt,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:le,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),new(Q("../node_modules/@comunica/actor-query-process-sequential/lib/index.js")).ActorQueryProcessSequential({mediatorContextPreprocess:Pe,mediatorQueryParse:Ge,mediatorOptimizeQueryOperation:Se,mediatorQueryOperation:nt,mediatorMergeBindingsContext:Re,name:"urn:comunica:default:query-process/actors#sequential",bus:de,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),new(Q("../node_modules/@comunica/actor-query-source-identify-rdfjs/lib/index.js")).ActorQuerySourceIdentifyRdfJs({mediatorMergeBindingsContext:Re,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:he,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),new(Q("../node_modules/@comunica/actor-rdf-join-inner-none/lib/index.js")).ActorRdfJoinNone({mediatorMergeBindingsContext:Re,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Q("../node_modules/@comunica/actor-rdf-join-optional-bind/lib/index.js")).ActorRdfJoinOptionalBind({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:nt,mediatorMergeBindingsContext:Re,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),new(Q("../node_modules/@comunica/actor-term-comparator-factory-expression-evaluator/lib/index.js")).ActorTermComparatorFactoryExpressionEvaluator({mediatorQueryOperation:nt,mediatorFunctionFactory:ot,mediatorMergeBindingsContext:Re,name:"urn:comunica:default:term-comparator-factory/actors#expression-evaluator",bus:ge,busFailMessage:"Creation of term comparator failed"});const We=new(Q("../node_modules/@comunica/actor-rdf-join-inner-multi-bind/lib/index.js")).ActorRdfJoinMultiBind({bindOrder:"depth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:Ce,mediatorQueryOperation:nt,mediatorMergeBindingsContext:Re,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[qe,_e,Me,Ie,De]});new(Q("../node_modules/@comunica/actor-rdf-join-inner-multi-smallest-filter-bindings/lib/index.js")).ActorRdfJoinMultiSmallestFilterBindings({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:Ce,mediatorJoin:Xe,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[qe,_e,Me,Ie,De]});const $e=new(Q("../node_modules/@comunica/actor-optimize-query-operation-prune-empty-source-operations/lib/index.js")).ActorOptimizeQueryOperationPruneEmptySourceOperations({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Le]});new(Q("../node_modules/@comunica/actor-rdf-join-inner-multi-bind-source/lib/index.js")).ActorRdfJoinMultiBindSource({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:Ce,mediatorJoinSelectivity:ze,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:pe,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[qe,We,_e,Me,Ie,De]});const Ye=new(Q("../node_modules/@comunica/actor-optimize-query-operation-join-connected/lib/index.js")).ActorOptimizeQueryOperationJoinConnected({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[$e]}),rt=new(Q("../node_modules/@comunica/actor-optimize-query-operation-bgp-to-join/lib/index.js")).ActorOptimizeQueryOperationBgpToJoin({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Ye]}),at=new(Q("../node_modules/@comunica/actor-optimize-query-operation-join-bgp/lib/index.js")).ActorOptimizeQueryOperationJoinBgp({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[rt]}),me=new(Q("../node_modules/@comunica/actor-optimize-query-operation-assign-sources-exhaustive/lib/index.js")).ActorOptimizeQueryOperationAssignSourcesExhaustive({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[at]});return new(Q("../node_modules/@comunica/actor-optimize-query-operation-describe-to-constructs-subject/lib/index.js")).ActorOptimizeQueryOperationDescribeToConstructsSubject({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:te,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[me]}),Qe}},"../node_modules/@comunica/query-sparql-rdfjs-lite/lib/QueryEngine.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.QueryEngine=void 0;const q=Q("../node_modules/@comunica/actor-init-query/lib/index-browser.js"),W=Q("../node_modules/@comunica/query-sparql-rdfjs-lite/engine-default.js");class J extends q.QueryEngineBase{constructor(Y=W()){super(Y)}}G.QueryEngine=J},"../node_modules/@comunica/query-sparql-rdfjs-lite/lib/index-browser.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/query-sparql-rdfjs-lite/lib/QueryEngine.js"),G)},"../node_modules/@comunica/types/lib/Bindings.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/ComunicaDataFactory.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/ExpressionEvaluator.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ExpressionType=void 0;var Q;(function(q){q.Aggregate="aggregate",q.Existence="existence",q.Operator="operator",q.Term="term",q.Variable="variable"})(Q||(G.ExpressionType=Q={}))},"../node_modules/@comunica/types/lib/IActionContext.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IAggregatedStore.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/ICliArgsHandler.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IDataDestination.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IJoinEntry.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/ILink.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IMetadata.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IPhysicalQueryPlanLogger.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IProxyHandler.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IQueryContext.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IQueryEngine.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IQueryOperationResult.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/IQuerySource.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/Logger.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Logger=void 0;class Q{static getLevelOrdinal(W){return Q.LEVELS[W]}}G.Logger=Q,Q.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5}},"../node_modules/@comunica/types/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/types/lib/Bindings.js"),G),W(Q("../node_modules/@comunica/types/lib/ComunicaDataFactory.js"),G),W(Q("../node_modules/@comunica/types/lib/IActionContext.js"),G),W(Q("../node_modules/@comunica/types/lib/IAggregatedStore.js"),G),W(Q("../node_modules/@comunica/types/lib/ICliArgsHandler.js"),G),W(Q("../node_modules/@comunica/types/lib/IDataDestination.js"),G),W(Q("../node_modules/@comunica/types/lib/IJoinEntry.js"),G),W(Q("../node_modules/@comunica/types/lib/IMetadata.js"),G),W(Q("../node_modules/@comunica/types/lib/IPhysicalQueryPlanLogger.js"),G),W(Q("../node_modules/@comunica/types/lib/IProxyHandler.js"),G),W(Q("../node_modules/@comunica/types/lib/IQueryContext.js"),G),W(Q("../node_modules/@comunica/types/lib/IQueryEngine.js"),G),W(Q("../node_modules/@comunica/types/lib/IQueryOperationResult.js"),G),W(Q("../node_modules/@comunica/types/lib/IQuerySource.js"),G),W(Q("../node_modules/@comunica/types/lib/statistics/IStatisticBase.js"),G),W(Q("../node_modules/@comunica/types/lib/statistics/IDiscoverEventData.js"),G),W(Q("../node_modules/@comunica/types/lib/ILink.js"),G),W(Q("../node_modules/@comunica/types/lib/Logger.js"),G),W(Q("../node_modules/@comunica/types/lib/ExpressionEvaluator.js"),G)},"../node_modules/@comunica/types/lib/statistics/IDiscoverEventData.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/types/lib/statistics/IStatisticBase.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/utils-bindings-factory/lib/Bindings.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Bindings=void 0;const q=Q("../node_modules/@comunica/core/lib/index.js"),W=Q("../packages/immutable/dist/index.js"),J=Q("../node_modules/@comunica/utils-bindings-factory/lib/bindingsToString.js");class F{constructor(X,te,re){this.type="bindings",this.dataFactory=X,this.entries=te,this.contextHolder=re}has(X){return this.entries.has(typeof X=="string"?X:X.value)}get(X){return this.entries.get(typeof X=="string"?X:X.value)}set(X,te){return new F(this.dataFactory,this.entries.set(typeof X=="string"?X:X.value,te),this.contextHolder)}delete(X){return new F(this.dataFactory,this.entries.delete(typeof X=="string"?X:X.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),X=>this.dataFactory.variable(X))}values(){return this.iteratorToIterable(this.entries.values())}forEach(X){for(const[te,re]of this.entries.entries())X(re,this.dataFactory.variable(te))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),([X,te])=>[this.dataFactory.variable(X),te])[Symbol.iterator]()}equals(X){var te;if(!X)return!1;if(this===X)return!0;if(this.size!==X.size)return!1;for(const re of this.keys())if(!((te=this.get(re))!=null&&te.equals(X.get(re))))return!1;return!0}filter(X){return new F(this.dataFactory,(0,W.Map)(this.entries.filter((te,re)=>X(te,this.dataFactory.variable(re)))),this.contextHolder)}map(X){return new F(this.dataFactory,(0,W.Map)(this.entries.map((te,re)=>X(te,this.dataFactory.variable(re)))),this.contextHolder)}merge(X){if(this.size<X.size&&X instanceof F)return X.merge(this);let te=this.entries;if(X instanceof F)for(const[re,ne]of X.entries){const ie=this.entries.get(re);if(ie&&!ie.equals(ne))return;te=te.set(re,ne)}else for(const[re,ne]of X){const ie=this.entries.get(re.value);if(ie&&!ie.equals(ne))return;te=te.set(re.value,ne)}return this.createBindingsWithContexts(te,X)}mergeWith(X,te){if(this.size<te.size&&te instanceof F)return te.mergeWith(X,this);let re=this.entries;if(te instanceof F)for(const[ne,ie]of te.entries){const oe=this.entries.get(ne);let ae;oe&&!oe.equals(ie)?ae=X(oe,ie,this.dataFactory.variable(ne)):ae=ie,re=re.set(ne,ae)}else for(const[ne,ie]of te){const oe=this.entries.get(ne.value);let ae;oe&&!oe.equals(ie)?ae=X(oe,ie,ne):ae=ie,re=re.set(ne.value,ae)}return this.createBindingsWithContexts(re,te)}createBindingsWithContexts(X,te){if(this.contextHolder&&this.contextHolder.context){let re=this.contextHolder.context;return"contextHolder"in te&&te.contextHolder&&te.contextHolder.context&&(re=F.mergeContext(this.contextHolder.contextMergeHandlers,re,te.contextHolder.context)),new F(this.dataFactory,X,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:re})}return new F(this.dataFactory,X,te.contextHolder)}static mergeContext(X,te,re){const ne=[...te.keys(),...re.keys()],ie={},oe={},ae=new Set(re.keys().map(ce=>ce.name)),ue=te.keys().filter(ce=>ae.has(ce.name));for(const ce of ne){if(oe[ce.name]===1)continue;oe[ce.name]=1;const se=ue.some(le=>le.name===ce.name);if(X[ce.name]&&se){ie[ce.name]=X[ce.name].run(te.get(ce),re.get(ce));continue}if(!(!X[ce.name]&&se)){if(!te.get(ce)){ie[ce.name]=re.get(ce);continue}re.get(ce)||(ie[ce.name]=te.get(ce))}}return new q.ActionContext(ie)}setContextEntry(X,te){return this.setContextEntryRaw(X,te)}setContextEntryRaw(X,te){var re;return this.contextHolder&&this.contextHolder.context?new F(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(X,te)}):new F(this.dataFactory,this.entries,{contextMergeHandlers:((re=this.contextHolder)==null?void 0:re.contextMergeHandlers)??{},context:new q.ActionContext().set(X,te)})}deleteContextEntry(X){return this.deleteContextEntryRaw(X)}deleteContextEntryRaw(X){var te;return this.contextHolder?new F(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:(te=this.contextHolder.context)==null?void 0:te.delete(X)}):new F(this.dataFactory,this.entries)}getContext(){var X;return(X=this.contextHolder)==null?void 0:X.context}getContextEntry(X){var te;return(te=this.getContext())==null?void 0:te.get(X)}toString(){return(0,J.bindingsToString)(this)}*mapIterable(X,te){for(const re of X)yield te(re)}iteratorToIterable(X){return{[Symbol.iterator]:()=>X}}}G.Bindings=F},"../node_modules/@comunica/utils-bindings-factory/lib/BindingsFactory.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BindingsFactory=void 0;const q=Q("../packages/immutable/dist/index.js"),W=Q("../node_modules/@comunica/utils-bindings-factory/lib/Bindings.js");class J{constructor(Y,X){this.dataFactory=Y,this.contextMergeHandlers=X}static async create(Y,X,te){return new J(te,(await Y.mediate({context:X})).mergeHandlers)}bindings(Y=[]){return new W.Bindings(this.dataFactory,(0,q.Map)(Y.map(([X,te])=>[X.value,te])),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(Y){return this.bindings([...Y])}fromRecord(Y){return this.bindings(Object.entries(Y).map(([X,te])=>[this.dataFactory.variable(X),te]))}}G.BindingsFactory=J},"../node_modules/@comunica/utils-bindings-factory/lib/bindingsToString.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.bindingsToCompactString=G.bindingsToString=void 0;const q=Q("../node_modules/rdf-string/index.js");function W(F){const Y={};for(const X of F.keys())Y[X.value]=(0,q.termToString)(F.get(X));return JSON.stringify(Y,null,"  ")}G.bindingsToString=W;function J(F,Y){return Y.map(X=>{const te=F.get(X);return te?(0,q.termToString)(te):""}).join("")}G.bindingsToCompactString=J},"../node_modules/@comunica/utils-bindings-factory/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/utils-bindings-factory/lib/Bindings.js"),G),W(Q("../node_modules/@comunica/utils-bindings-factory/lib/BindingsFactory.js"),G),W(Q("../node_modules/@comunica/utils-bindings-factory/lib/bindingsToString.js"),G)},"../node_modules/@comunica/utils-bindings-index/lib/BindingsIndexDef.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BindingsIndexDef=void 0;class Q{constructor(W,J){this.keys=W.map(F=>F.variable),this.hashFn=J,this.index={}}put(W,J){return this.index[this.hashFn(W,this.keys)]=J}get(W){const J=this.getFirst(W);return J?[J]:[]}getFirst(W){return this.index[this.hashFn(W,this.keys)]}values(){return Object.values(this.index)}}G.BindingsIndexDef=Q},"../node_modules/@comunica/utils-bindings-index/lib/BindingsIndexUndef.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BindingsIndexUndef=void 0;class Q{constructor(W,J,F){this.data={},this.keys=W.map(Y=>Y.variable),this.hashFn=J,this.allowDisjointDomains=F&&this.keys.length>0}put(W,J){if(this.allowDisjointDomains||this.isBindingsValid(W)){let F=this.data;for(let Y=0;Y<this.keys.length;Y++){const X=this.keys[Y],te=this.hashFn(W.get(X));let re=F[te];re||(re=F[te]=Y===this.keys.length-1?J:{}),F=re}}return J}isBindingsValid(W){let J=!1;for(const F of this.keys)if(W.has(F)){J=!0;break}return J}get(W){return this.allowDisjointDomains||this.isBindingsValid(W)?this.getRecursive(W,this.keys,[this.data]):[]}getRecursive(W,J,F){if(J.length===0)return F;let Y;[Y,...J]=J;const X=[];for(const te of F){const re=this.hashFn(W==null?void 0:W.get(Y));if(re){const ne=[te[re],te[""]].filter(Boolean);if(ne.length===0)continue;X.push(this.getRecursive(W,J,ne))}else{const ne=Object.values(te);if(ne.length===0)continue;X.push(this.getRecursive(W,J,ne))}}return X.flat()}getFirst(W,J=!0){if(this.allowDisjointDomains||this.isBindingsValid(W))return this.getRecursiveFirst(W,this.keys,[this.data],J)}getRecursiveFirst(W,J,F,Y){if(J.length===0)return F[0];let X;[X,...J]=J;for(const te of F){const re=this.hashFn(W.get(X));if(re||!Y){const ne=[te[re],te[""]].filter(Boolean);if(ne.length===0)continue;const ie=this.getRecursiveFirst(W,J,ne,Y);if(ie)return ie}else{const ne=Object.values(te);if(ne.length===0)continue;const ie=this.getRecursiveFirst(W,J,ne,Y);if(ie)return ie}}}values(){return this.keys.length===0?[]:this.getRecursive(void 0,this.keys,[this.data])}}G.BindingsIndexUndef=Q},"../node_modules/@comunica/utils-bindings-index/lib/IBindingsIndex.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/@comunica/utils-bindings-index/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/utils-bindings-index/lib/BindingsIndexDef.js"),G),W(Q("../node_modules/@comunica/utils-bindings-index/lib/BindingsIndexUndef.js"),G),W(Q("../node_modules/@comunica/utils-bindings-index/lib/IBindingsIndex.js"),G)},"../node_modules/@comunica/utils-data-factory/lib/BlankNodeBindingsScoped.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BlankNodeBindingsScoped=void 0;class Q{constructor(W){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=W}equals(W){return!!W&&W.termType==="BlankNode"&&W.value===this.value}}G.BlankNodeBindingsScoped=Q},"../node_modules/@comunica/utils-data-factory/lib/BlankNodeScoped.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BlankNodeScoped=void 0;class Q{constructor(W,J){this.termType="BlankNode",this.value=W,this.skolemized=J}equals(W){return!!W&&W.termType==="BlankNode"&&W.value===this.value}}G.BlankNodeScoped=Q},"../node_modules/@comunica/utils-data-factory/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/utils-data-factory/lib/BlankNodeScoped.js"),G),W(Q("../node_modules/@comunica/utils-data-factory/lib/BlankNodeBindingsScoped.js"),G)},"../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Aggregate.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Aggregate=void 0;const q=Q("../node_modules/@comunica/types/lib/index.js");class W{constructor(F,Y){this.name=F,this.expression=Y,this.expressionType=q.ExpressionType.Aggregate}}G.Aggregate=W},"../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Existence.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Existence=void 0;const q=Q("../node_modules/@comunica/types/lib/index.js");class W{constructor(F){this.expression=F,this.expressionType=q.ExpressionType.Existence}}G.Existence=W},"../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Expressions.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.asTermType=void 0;function Q(q){if(q==="namedNode"||q==="literal"||q==="blankNode"||q==="quad")return q}G.asTermType=Q},"../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Operator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Operator=void 0;const q=Q("../node_modules/@comunica/types/lib/index.js");class W{constructor(F,Y,X){this.name=F,this.args=Y,this.apply=X,this.expressionType=q.ExpressionType.Operator}}G.Operator=W},"../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Term.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.isNonLexicalLiteral=G.NonLexicalLiteral=G.YearMonthDurationLiteral=G.DayTimeDurationLiteral=G.DurationLiteral=G.DateLiteral=G.TimeLiteral=G.DateTimeLiteral=G.StringLiteral=G.LangStringLiteral=G.BooleanLiteral=G.DoubleLiteral=G.FloatLiteral=G.DecimalLiteral=G.IntegerLiteral=G.NumericLiteral=G.Literal=G.isLiteralTermExpression=G.DefaultGraph=G.Quad=G.BlankNode=G.NamedNode=G.Term=void 0;const q=Q("../node_modules/@comunica/types/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Consts.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Consts.js"),F=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Errors.js"),Y=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Serialization.js"),X=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/TypeHandling.js");class te{constructor(){this.expressionType=q.ExpressionType.Term}str(){throw new F.InvalidArgumentTypes([this],W.SparqlOperator.STR)}coerceEBV(){throw new F.EBVCoercionError(this)}}G.Term=te;class re extends te{constructor(Ce){super(),this.value=Ce,this.termType="namedNode"}toRDF(Ce){return Ce.namedNode(this.value)}str(){return this.value}}G.NamedNode=re;class ne extends te{constructor(Ce){super(),this.termType="blankNode",this.value=Ce}toRDF(Ce){return typeof this.value=="string"?Ce.blankNode(this.value):this.value}}G.BlankNode=ne;class ie extends te{constructor(Ce,ze,Ve,Ke){super(),this.subject=Ce,this.predicate=ze,this.object=Ve,this.graph=Ke,this.termType="quad"}toRDF(Ce){return Ce.quad(this.subject.toRDF(Ce),this.predicate.toRDF(Ce),this.object.toRDF(Ce),this.graph.toRDF(Ce))}str(){return`Quad: [${this.subject.str()}, ${this.predicate.str()}, ${this.object.str()}, ${this.graph.str()}]`}}G.Quad=ie;class oe extends te{constructor(){super(),this.termType="defaultGraph"}toRDF(Ce){return Ce.defaultGraph()}str(){return"DefaultGraph"}}G.DefaultGraph=oe;function ae(Ge){if(Ge.termType==="literal")return Ge}G.isLiteralTermExpression=ae;class ue extends te{constructor(Ce,ze,Ve,Ke){super(),this.typedValue=Ce,this.dataType=ze,this.strValue=Ve,this.language=Ke,this.termType="literal"}toRDF(Ce){return Ce.literal(this.strValue??this.str(),this.language??Ce.namedNode(this.dataType))}str(){return this.strValue??this.typedValue.toString()}}G.Literal=ue;class ce extends ue{constructor(Ce,ze,Ve,Ke){super(Ce,ze,Ve,Ke),this.typedValue=Ce,this.strValue=Ve,this.language=Ke}coerceEBV(){return!!this.typedValue}toRDF(Ce){const ze=super.toRDF(Ce);return Number.isFinite(this.typedValue)||(ze.value=ze.value.replace("Infinity","INF")),ze}str(){return this.strValue??this.specificFormatter(this.typedValue)}}G.NumericLiteral=ce;class se extends ce{constructor(Ce,ze,Ve,Ke){super(Ce,ze??J.TypeURL.XSD_INTEGER,Ve,Ke),this.typedValue=Ce,this.strValue=Ve,this.language=Ke}specificFormatter(Ce){return Ce.toFixed(0)}}G.IntegerLiteral=se;class le extends ce{constructor(Ce,ze,Ve,Ke){super(Ce,ze??J.TypeURL.XSD_DECIMAL,Ve,Ke),this.typedValue=Ce,this.strValue=Ve,this.language=Ke}specificFormatter(Ce){return Ce.toString()}}G.DecimalLiteral=le;class de extends ce{constructor(Ce,ze,Ve,Ke){super(Ce,ze??J.TypeURL.XSD_FLOAT,Ve,Ke),this.typedValue=Ce,this.strValue=Ve,this.language=Ke}specificFormatter(Ce){return Ce.toString()}}G.FloatLiteral=de;class he extends ce{constructor(Ce,ze,Ve,Ke){super(Ce,ze??J.TypeURL.XSD_DOUBLE,Ve,Ke),this.typedValue=Ce,this.strValue=Ve,this.language=Ke}specificFormatter(Ce){if(!Number.isFinite(Ce))return Ce>0?"INF":Ce<0?"-INF":"NaN";const ze=Ce.toExponential(),[Ve,Ke]=ze.split("e"),Ze=Ke.replace(/\+/u,"");return`${Ve.includes(".")?Ve:`${Ve}.0`}E${Ze}`}}G.DoubleLiteral=he;class pe extends ue{constructor(Ce,ze,Ve){super(Ce,Ve??J.TypeURL.XSD_BOOLEAN,ze),this.typedValue=Ce,this.strValue=ze}coerceEBV(){return this.typedValue}}G.BooleanLiteral=pe;class ge extends ue{constructor(Ce,ze,Ve){super(Ce,Ve??J.TypeURL.RDF_LANG_STRING,Ce,ze),this.typedValue=Ce,this.language=ze}coerceEBV(){return this.str().length>0}}G.LangStringLiteral=ge;class be extends ue{constructor(Ce,ze){super(Ce,ze??J.TypeURL.XSD_STRING,Ce),this.typedValue=Ce}coerceEBV(){return this.str().length>0}}G.StringLiteral=be;class ve extends ue{constructor(Ce,ze,Ve){super(Ce,Ve??J.TypeURL.XSD_DATE_TIME,ze),this.typedValue=Ce,this.strValue=ze}str(){return(0,Y.serializeDateTime)(this.typedValue)}}G.DateTimeLiteral=ve;class Ee extends ue{constructor(Ce,ze,Ve){super(Ce,Ve??J.TypeURL.XSD_TIME,ze),this.typedValue=Ce,this.strValue=ze}str(){return(0,Y.serializeTime)(this.typedValue)}}G.TimeLiteral=Ee;class ke extends ue{constructor(Ce,ze,Ve){super(Ce,Ve??J.TypeURL.XSD_DATE,ze),this.typedValue=Ce,this.strValue=ze}str(){return(0,Y.serializeDate)(this.typedValue)}}G.DateLiteral=ke;class Pe extends ue{constructor(Ce,ze,Ve){super(Ce,Ve??J.TypeURL.XSD_DURATION,ze),this.typedValue=Ce,this.strValue=ze}str(){return(0,Y.serializeDuration)(this.typedValue)}}G.DurationLiteral=Pe;class Te extends Pe{constructor(Ce,ze,Ve){super(Ce,ze,Ve??J.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=Ce,this.strValue=ze}}G.DayTimeDurationLiteral=Te;class xe extends ue{constructor(Ce,ze,Ve){super(Ce,Ve??J.TypeURL.XSD_YEAR_MONTH_DURATION,ze),this.typedValue=Ce,this.strValue=ze}str(){return(0,Y.serializeDuration)(this.typedValue,"P0M")}}G.YearMonthDurationLiteral=xe;class Ne extends ue{constructor(Ce,ze,Ve,Ke,Ze){super({toString:()=>"undefined"},ze,Ke,Ze),this.openWorldType=Ve}coerceEBV(){if((0,X.isSubTypeOf)(this.dataType,J.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,X.isSubTypeOf)(this.dataType,J.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new F.EBVCoercionError(this)}toRDF(Ce){return Ce.literal(this.str(),this.language??Ce.namedNode(this.dataType))}str(){return this.strValue??""}}G.NonLexicalLiteral=Ne;function Se(Ge){if(Ge instanceof Ne)return Ge}G.isNonLexicalLiteral=Se},"../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Variable.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Variable=void 0;const q=Q("../node_modules/@comunica/types/lib/index.js");class W{constructor(F){this.expressionType=q.ExpressionType.Variable,this.name=F}}G.Variable=W},"../node_modules/@comunica/utils-expression-evaluator/lib/expressions/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Expressions.js"),G),W(Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Variable.js"),G),W(Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Term.js"),G),W(Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Operator.js"),G),W(Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Aggregate.js"),G),W(Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/Existence.js"),G)},"../node_modules/@comunica/utils-expression-evaluator/lib/functions/Helpers.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.expressionToVar=G.dateTime=G.langString=G.string=G.double=G.float=G.decimal=G.integer=G.bool=G.Builder=G.declare=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/index.js"),F=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Consts.js"),Y=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Consts.js"),X=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Errors.js"),te=Q("../node_modules/@comunica/utils-expression-evaluator/lib/functions/OverloadTree.js");function re(pe){return new ne(pe)}G.declare=re;class ne{constructor(ge){this.overloadTree=new te.OverloadTree(ge),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(ge){return be=>ve=>{for(const[Ee,ke]of ve.entries())if(ke instanceof J.NonLexicalLiteral)throw new X.InvalidLexicalForm(ve[Ee].toRDF(be.context.getSafe(q.KeysInitQuery.dataFactory)));return ge(be)(ve)}}set(ge,be,ve=!0){return this.overloadTree.addOverload(ge,ve?ne.wrapInvalidLexicalProtected(be):be),this}copy({from:ge,to:be}){const ve=this.overloadTree.getImplementationExact(ge);if(!ve)throw new X.UnexpectedError("Tried to copy implementation, but types not found",{from:ge,to:be});return this.set(be,ve)}onUnary(ge,be,ve=!0){return this.set([ge],Ee=>([ke])=>be(Ee)(ke),ve)}onUnaryTyped(ge,be,ve=!0){return this.set([ge],Ee=>([ke])=>be(Ee)(ke.typedValue),ve)}onBinary(ge,be,ve=!0){return this.set(ge,Ee=>([ke,Pe])=>be(Ee)(ke,Pe),ve)}onBinaryTyped(ge,be,ve=!0){return this.set(ge,Ee=>([ke,Pe])=>be(Ee)(ke.typedValue,Pe.typedValue),ve)}onTernaryTyped(ge,be,ve=!0){return this.set(ge,Ee=>([ke,Pe,Te])=>be(Ee)(ke.typedValue,Pe.typedValue,Te.typedValue),ve)}onTernary(ge,be,ve=!0){return this.set(ge,Ee=>([ke,Pe,Te])=>be(Ee)(ke,Pe,Te),ve)}onQuaternaryTyped(ge,be,ve=!0){return this.set(ge,Ee=>([ke,Pe,Te,xe])=>be(Ee)(ke.typedValue,Pe.typedValue,Te.typedValue,xe.typedValue),ve)}onTerm1(ge,be=!1){return this.set(["term"],ve=>([Ee])=>ge(ve)(Ee),be)}onTerm3(ge){return this.set(["term","term","term"],be=>([ve,Ee,ke])=>ge(be)(ve,Ee,ke))}onQuad1(ge){return this.set(["quad"],be=>([ve])=>ge(be)(ve))}onLiteral1(ge,be=!0){return this.set(["literal"],ve=>([Ee])=>ge(ve)(Ee),be)}onBoolean1(ge,be=!0){return this.set([F.TypeURL.XSD_BOOLEAN],ve=>([Ee])=>ge(ve)(Ee),be)}onBoolean1Typed(ge,be=!0){return this.set([F.TypeURL.XSD_BOOLEAN],ve=>([Ee])=>ge(ve)(Ee.typedValue),be)}onString1(ge,be=!0){return this.set([F.TypeURL.XSD_STRING],ve=>([Ee])=>ge(ve)(Ee),be)}onString1Typed(ge,be=!0){return this.set([F.TypeURL.XSD_STRING],ve=>([Ee])=>ge(ve)(Ee.typedValue),be)}onLangString1(ge,be=!0){return this.set([F.TypeURL.RDF_LANG_STRING],ve=>([Ee])=>ge(ve)(Ee),be)}onStringly1(ge,be=!0){return this.set([F.TypeAlias.SPARQL_STRINGLY],ve=>([Ee])=>ge(ve)(Ee),be)}onStringly1Typed(ge,be=!0){return this.set([F.TypeAlias.SPARQL_STRINGLY],ve=>([Ee])=>ge(ve)(Ee.typedValue),be)}onNumeric1(ge,be=!0){return this.set([F.TypeAlias.SPARQL_NUMERIC],ve=>([Ee])=>ge(ve)(Ee),be)}onDateTime1(ge,be=!0){return this.set([F.TypeURL.XSD_DATE_TIME],ve=>([Ee])=>ge(ve)(Ee),be)}numericConverter(ge,be=!0){const ve=Ee=>ke=>ge(Ee)(ke.typedValue);return this.onUnary(Y.TypeURL.XSD_INTEGER,Ee=>ke=>oe(ve(Ee)(ke)),be).onUnary(Y.TypeURL.XSD_DECIMAL,Ee=>ke=>ae(ve(Ee)(ke)),be).onUnary(Y.TypeURL.XSD_FLOAT,Ee=>ke=>ue(ve(Ee)(ke)),be).onUnary(Y.TypeURL.XSD_DOUBLE,Ee=>ke=>ce(ve(Ee)(ke)),be)}arithmetic(ge,be=!0){const ve=Ee=>(ke,Pe)=>ge(Ee)(ke.typedValue,Pe.typedValue);return this.onBinary([Y.TypeURL.XSD_INTEGER,Y.TypeURL.XSD_INTEGER],Ee=>(ke,Pe)=>oe(ve(Ee)(ke,Pe)),be).onBinary([Y.TypeURL.XSD_DECIMAL,Y.TypeURL.XSD_DECIMAL],Ee=>(ke,Pe)=>ae(ve(Ee)(ke,Pe)),be).onBinary([Y.TypeURL.XSD_FLOAT,Y.TypeURL.XSD_FLOAT],Ee=>(ke,Pe)=>ue(ve(Ee)(ke,Pe)),be).onBinary([Y.TypeURL.XSD_DOUBLE,Y.TypeURL.XSD_DOUBLE],Ee=>(ke,Pe)=>ce(ve(Ee)(ke,Pe)),be)}numberTest(ge){return this.numeric(be=>([ve,Ee])=>{const ke=ge(be)(ve.typedValue,Ee.typedValue);return ie(ke)})}stringTest(ge,be=!0){return this.set([F.TypeURL.XSD_STRING,F.TypeURL.XSD_STRING],ve=>([Ee,ke])=>{const Pe=ge(ve)(Ee.typedValue,ke.typedValue);return ie(Pe)},be)}booleanTest(ge,be=!0){return this.set([F.TypeURL.XSD_BOOLEAN,F.TypeURL.XSD_BOOLEAN],ve=>([Ee,ke])=>{const Pe=ge(ve)(Ee.typedValue,ke.typedValue);return ie(Pe)},be)}dateTimeTest(ge,be=!0){return this.set([F.TypeURL.XSD_DATE_TIME,F.TypeURL.XSD_DATE_TIME],ve=>([Ee,ke])=>{const Pe=ge(ve)(Ee.typedValue,ke.typedValue);return ie(Pe)},be)}numeric(ge){return this.set([F.TypeAlias.SPARQL_NUMERIC,F.TypeAlias.SPARQL_NUMERIC],ge)}}G.Builder=ne;function ie(pe){return new W.BooleanLiteral(pe)}G.bool=ie;function oe(pe){return new W.IntegerLiteral(pe)}G.integer=oe;function ae(pe){return new W.DecimalLiteral(pe)}G.decimal=ae;function ue(pe){return new W.FloatLiteral(pe)}G.float=ue;function ce(pe){return new W.DoubleLiteral(pe)}G.double=ce;function se(pe){return new W.StringLiteral(pe)}G.string=se;function le(pe,ge){return new W.LangStringLiteral(pe,ge)}G.langString=le;function de(pe,ge){return new W.DateTimeLiteral(pe,ge)}G.dateTime=de;function he(pe,ge){return pe.variable(ge.name.slice(1))}G.expressionToVar=he},"../node_modules/@comunica/utils-expression-evaluator/lib/functions/OverloadTree.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.OverloadTree=void 0;const q=Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/TypeHandling.js");class J{constructor(Y,X){this.identifier=Y,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=X??0,this.promotionCount=void 0}getSubtree(Y){const X=(0,W.asGeneralType)(Y);if(X)return this.generalOverloads[X];for(const[te,re]of this.literalOverLoads)if(Y===te)return re}getImplementationExact(Y){let X=this;for(const te of Y)if(X=X.getSubtree(te),!X)return;return X.implementation}search(Y,X,te){let re=te[this.identifier],ne=0;for(;ne<Y.length&&(re!=null&&re.cache);){const ae=Y[ne],ue=(0,q.isLiteralTermExpression)(ae);re=re.cache[ue?ue.dataType:ae.termType],ne++}if(ne===Y.length&&(re!=null&&re.func))return re.func;const ie=[],oe=0;if(Y.length===0)return this.implementation;for(ie.push(...this.getSubTreeWithArg(Y[oe],X).map(ae=>({node:ae,index:oe+1})));ie.length>0;){const{index:ae,node:ue}=ie.pop();if(ae===Y.length&&ue.implementation)return this.addToCache(te,Y,ue.implementation),ue.implementation;ie.push(...ue.getSubTreeWithArg(Y[ae],X).map(ce=>({node:ce,index:ae+1})))}}addToCache(Y,X,te){function re(ie,oe){return oe in ie||(ie[oe]={}),ie[oe]}let ne=re(Y,this.identifier);for(const ie of X){const oe=(0,q.isLiteralTermExpression)(ie),ae=oe?oe.dataType:ie.termType;ne.cache=ne.cache??{},ne=re(ne.cache,ae)}ne.func=te}addOverload(Y,X){this._addOverload([...Y],X,0)}_addOverload(Y,X,te){const[re,...ne]=Y;if(!re){(this.promotionCount===void 0||te<=this.promotionCount)&&(this.promotionCount=te,this.implementation=X);return}let ie=this.getSubtree(re);if(!ie){const oe=new J(this.identifier,this.depth+1),ae=(0,W.asGeneralType)(re);ae&&(this.generalOverloads[ae]=oe);const ue=(0,W.asOverrideType)(re);ue&&this.literalOverLoads.push([ue,oe]),ie=oe}if(ie._addOverload(ne,X,te),W.typePromotion[re])for(const oe of W.typePromotion[re])this.addPromotedOverload(oe.typeToPromote,X,oe.conversionFunction,ne,te)}addPromotedOverload(Y,X,te,re,ne){let ie=this.getSubtree(Y);if(!ie){const oe=new J(this.identifier,this.depth+1);this.literalOverLoads.push([Y,oe]),ie=oe}ie._addOverload(re,oe=>ae=>X(oe)([...ae.slice(0,this.depth),te(ae[this.depth]),...ae.slice(this.depth+1,ae.length)]),ne+1)}getSubTreeWithArg(Y,X){const te=[],re=(0,q.isLiteralTermExpression)(Y);if(this.generalOverloads.term&&te.push(this.generalOverloads.term),this.generalOverloads[Y.termType]&&te.push(this.generalOverloads[Y.termType]),re){const ne=(0,W.asKnownLiteralType)(re.dataType);let ie;ne?ie=W.superTypeDictTable[ne]:ie=(0,W.getSuperTypes)(re.dataType,X);const oe=this.literalOverLoads.filter(([ae,ue])=>ae in ie).map(([ae,ue])=>[ie[ae],ue]);oe.sort(([ae,ue],[ce,se])=>ae-ce),te.push(...oe.map(([ae,ue])=>ue))}return te}}G.OverloadTree=J},"../node_modules/@comunica/utils-expression-evaluator/lib/index.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.LangStringLiteral=G.TimeLiteral=G.DurationLiteral=G.DateLiteral=G.DayTimeDurationLiteral=G.DateTimeLiteral=G.yearMonthDurationsToMonths=G.toUTCDate=G.toDateTimeRepresentation=G.negateDuration=G.extractRawTimeZone=G.defaultedYearMonthDurationRepresentation=G.defaultedDurationRepresentation=G.defaultedDayTimeDurationRepresentation=G.defaultedDateTimeRepresentation=G.dayTimeDurationsToSeconds=G.isSubTypeOf=G.SparqlOperator=G.TypeAlias=G.TypeURL=G.typedLiteral=G.InvalidArity=G.InvalidLexicalForm=G.ExtensionFunctionError=G.CastError=G.UnboundVariableError=G.NoAggregator=G.InError=G.CoalesceError=G.InvalidArgumentTypes=G.InvalidTimezoneCall=G.IncompatibleLanguageOperation=G.RDFEqualTypeError=G.EmptyAggregateError=G.isExpressionError=G.ExpressionError=G.Builder=G.expressionToVar=G.float=G.decimal=G.langString=G.dateTime=G.integer=G.double=G.string=G.bool=G.declare=G.prepareEvaluatorActionContext=G.OverloadTree=G.TermTransformer=void 0,G.trimToDayTimeDuration=G.trimToYearMonthDuration=G.parseDate=G.parseXSDFloat=G.parseXSDDecimal=G.parseYearMonthDuration=G.parseTime=G.parseDuration=G.parseDayTimeDuration=G.parseDateTime=G.elapsedDuration=G.addDurationToDateTime=G.isNonLexicalLiteral=G.StringLiteral=G.NonLexicalLiteral=G.FloatLiteral=G.IntegerLiteral=G.Literal=G.Existence=G.Aggregate=G.DoubleLiteral=G.DefaultGraph=G.DecimalLiteral=G.BlankNode=G.BooleanLiteral=G.NumericLiteral=G.Variable=G.NamedNode=G.Operator=G.Quad=G.YearMonthDurationLiteral=G.Term=void 0;var q=Q("../node_modules/@comunica/utils-expression-evaluator/lib/transformers/TermTransformer.js");Object.defineProperty(G,"TermTransformer",{enumerable:!0,get:function(){return q.TermTransformer}});var W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/functions/OverloadTree.js");Object.defineProperty(G,"OverloadTree",{enumerable:!0,get:function(){return W.OverloadTree}});var J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Context.js");Object.defineProperty(G,"prepareEvaluatorActionContext",{enumerable:!0,get:function(){return J.prepareEvaluatorActionContext}});var F=Q("../node_modules/@comunica/utils-expression-evaluator/lib/functions/Helpers.js");Object.defineProperty(G,"declare",{enumerable:!0,get:function(){return F.declare}}),Object.defineProperty(G,"bool",{enumerable:!0,get:function(){return F.bool}}),Object.defineProperty(G,"string",{enumerable:!0,get:function(){return F.string}}),Object.defineProperty(G,"double",{enumerable:!0,get:function(){return F.double}}),Object.defineProperty(G,"integer",{enumerable:!0,get:function(){return F.integer}}),Object.defineProperty(G,"dateTime",{enumerable:!0,get:function(){return F.dateTime}}),Object.defineProperty(G,"langString",{enumerable:!0,get:function(){return F.langString}}),Object.defineProperty(G,"decimal",{enumerable:!0,get:function(){return F.decimal}}),Object.defineProperty(G,"float",{enumerable:!0,get:function(){return F.float}}),Object.defineProperty(G,"expressionToVar",{enumerable:!0,get:function(){return F.expressionToVar}}),Object.defineProperty(G,"Builder",{enumerable:!0,get:function(){return F.Builder}});var Y=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Errors.js");Object.defineProperty(G,"ExpressionError",{enumerable:!0,get:function(){return Y.ExpressionError}}),Object.defineProperty(G,"isExpressionError",{enumerable:!0,get:function(){return Y.isExpressionError}}),Object.defineProperty(G,"EmptyAggregateError",{enumerable:!0,get:function(){return Y.EmptyAggregateError}}),Object.defineProperty(G,"RDFEqualTypeError",{enumerable:!0,get:function(){return Y.RDFEqualTypeError}}),Object.defineProperty(G,"IncompatibleLanguageOperation",{enumerable:!0,get:function(){return Y.IncompatibleLanguageOperation}}),Object.defineProperty(G,"InvalidTimezoneCall",{enumerable:!0,get:function(){return Y.InvalidTimezoneCall}}),Object.defineProperty(G,"InvalidArgumentTypes",{enumerable:!0,get:function(){return Y.InvalidArgumentTypes}}),Object.defineProperty(G,"CoalesceError",{enumerable:!0,get:function(){return Y.CoalesceError}}),Object.defineProperty(G,"InError",{enumerable:!0,get:function(){return Y.InError}}),Object.defineProperty(G,"NoAggregator",{enumerable:!0,get:function(){return Y.NoAggregator}}),Object.defineProperty(G,"UnboundVariableError",{enumerable:!0,get:function(){return Y.UnboundVariableError}}),Object.defineProperty(G,"CastError",{enumerable:!0,get:function(){return Y.CastError}}),Object.defineProperty(G,"ExtensionFunctionError",{enumerable:!0,get:function(){return Y.ExtensionFunctionError}}),Object.defineProperty(G,"InvalidLexicalForm",{enumerable:!0,get:function(){return Y.InvalidLexicalForm}}),Object.defineProperty(G,"InvalidArity",{enumerable:!0,get:function(){return Y.InvalidArity}});var X=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Consts.js");Object.defineProperty(G,"typedLiteral",{enumerable:!0,get:function(){return X.typedLiteral}}),Object.defineProperty(G,"TypeURL",{enumerable:!0,get:function(){return X.TypeURL}}),Object.defineProperty(G,"TypeAlias",{enumerable:!0,get:function(){return X.TypeAlias}}),Object.defineProperty(G,"SparqlOperator",{enumerable:!0,get:function(){return X.SparqlOperator}});var te=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/TypeHandling.js");Object.defineProperty(G,"isSubTypeOf",{enumerable:!0,get:function(){return te.isSubTypeOf}});var re=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/DateTimeHelpers.js");Object.defineProperty(G,"dayTimeDurationsToSeconds",{enumerable:!0,get:function(){return re.dayTimeDurationsToSeconds}}),Object.defineProperty(G,"defaultedDateTimeRepresentation",{enumerable:!0,get:function(){return re.defaultedDateTimeRepresentation}}),Object.defineProperty(G,"defaultedDayTimeDurationRepresentation",{enumerable:!0,get:function(){return re.defaultedDayTimeDurationRepresentation}}),Object.defineProperty(G,"defaultedDurationRepresentation",{enumerable:!0,get:function(){return re.defaultedDurationRepresentation}}),Object.defineProperty(G,"defaultedYearMonthDurationRepresentation",{enumerable:!0,get:function(){return re.defaultedYearMonthDurationRepresentation}}),Object.defineProperty(G,"extractRawTimeZone",{enumerable:!0,get:function(){return re.extractRawTimeZone}}),Object.defineProperty(G,"negateDuration",{enumerable:!0,get:function(){return re.negateDuration}}),Object.defineProperty(G,"toDateTimeRepresentation",{enumerable:!0,get:function(){return re.toDateTimeRepresentation}}),Object.defineProperty(G,"toUTCDate",{enumerable:!0,get:function(){return re.toUTCDate}}),Object.defineProperty(G,"yearMonthDurationsToMonths",{enumerable:!0,get:function(){return re.yearMonthDurationsToMonths}});var ne=Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/index.js");Object.defineProperty(G,"DateTimeLiteral",{enumerable:!0,get:function(){return ne.DateTimeLiteral}}),Object.defineProperty(G,"DayTimeDurationLiteral",{enumerable:!0,get:function(){return ne.DayTimeDurationLiteral}}),Object.defineProperty(G,"DateLiteral",{enumerable:!0,get:function(){return ne.DateLiteral}}),Object.defineProperty(G,"DurationLiteral",{enumerable:!0,get:function(){return ne.DurationLiteral}}),Object.defineProperty(G,"TimeLiteral",{enumerable:!0,get:function(){return ne.TimeLiteral}}),Object.defineProperty(G,"LangStringLiteral",{enumerable:!0,get:function(){return ne.LangStringLiteral}}),Object.defineProperty(G,"Term",{enumerable:!0,get:function(){return ne.Term}}),Object.defineProperty(G,"YearMonthDurationLiteral",{enumerable:!0,get:function(){return ne.YearMonthDurationLiteral}}),Object.defineProperty(G,"Quad",{enumerable:!0,get:function(){return ne.Quad}}),Object.defineProperty(G,"Operator",{enumerable:!0,get:function(){return ne.Operator}}),Object.defineProperty(G,"NamedNode",{enumerable:!0,get:function(){return ne.NamedNode}}),Object.defineProperty(G,"Variable",{enumerable:!0,get:function(){return ne.Variable}}),Object.defineProperty(G,"NumericLiteral",{enumerable:!0,get:function(){return ne.NumericLiteral}}),Object.defineProperty(G,"BooleanLiteral",{enumerable:!0,get:function(){return ne.BooleanLiteral}}),Object.defineProperty(G,"BlankNode",{enumerable:!0,get:function(){return ne.BlankNode}}),Object.defineProperty(G,"DecimalLiteral",{enumerable:!0,get:function(){return ne.DecimalLiteral}}),Object.defineProperty(G,"DefaultGraph",{enumerable:!0,get:function(){return ne.DefaultGraph}}),Object.defineProperty(G,"DoubleLiteral",{enumerable:!0,get:function(){return ne.DoubleLiteral}}),Object.defineProperty(G,"Aggregate",{enumerable:!0,get:function(){return ne.Aggregate}}),Object.defineProperty(G,"Existence",{enumerable:!0,get:function(){return ne.Existence}}),Object.defineProperty(G,"Literal",{enumerable:!0,get:function(){return ne.Literal}}),Object.defineProperty(G,"IntegerLiteral",{enumerable:!0,get:function(){return ne.IntegerLiteral}}),Object.defineProperty(G,"FloatLiteral",{enumerable:!0,get:function(){return ne.FloatLiteral}}),Object.defineProperty(G,"NonLexicalLiteral",{enumerable:!0,get:function(){return ne.NonLexicalLiteral}}),Object.defineProperty(G,"StringLiteral",{enumerable:!0,get:function(){return ne.StringLiteral}}),Object.defineProperty(G,"isNonLexicalLiteral",{enumerable:!0,get:function(){return ne.isNonLexicalLiteral}});var ie=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/SpecAlgos.js");Object.defineProperty(G,"addDurationToDateTime",{enumerable:!0,get:function(){return ie.addDurationToDateTime}}),Object.defineProperty(G,"elapsedDuration",{enumerable:!0,get:function(){return ie.elapsedDuration}});var oe=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Parsing.js");Object.defineProperty(G,"parseDateTime",{enumerable:!0,get:function(){return oe.parseDateTime}}),Object.defineProperty(G,"parseDayTimeDuration",{enumerable:!0,get:function(){return oe.parseDayTimeDuration}}),Object.defineProperty(G,"parseDuration",{enumerable:!0,get:function(){return oe.parseDuration}}),Object.defineProperty(G,"parseTime",{enumerable:!0,get:function(){return oe.parseTime}}),Object.defineProperty(G,"parseYearMonthDuration",{enumerable:!0,get:function(){return oe.parseYearMonthDuration}}),Object.defineProperty(G,"parseXSDDecimal",{enumerable:!0,get:function(){return oe.parseXSDDecimal}}),Object.defineProperty(G,"parseXSDFloat",{enumerable:!0,get:function(){return oe.parseXSDFloat}}),Object.defineProperty(G,"parseDate",{enumerable:!0,get:function(){return oe.parseDate}});var ae=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/DateTimeHelpers.js");Object.defineProperty(G,"trimToYearMonthDuration",{enumerable:!0,get:function(){return ae.trimToYearMonthDuration}}),Object.defineProperty(G,"trimToDayTimeDuration",{enumerable:!0,get:function(){return ae.trimToDayTimeDuration}})},"../node_modules/@comunica/utils-expression-evaluator/lib/transformers/TermTransformer.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.TermTransformer=void 0;const q=Q("../node_modules/rdf-string/index.js"),W=Q("sparqlalgebrajs"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/index.js"),F=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Consts.js"),Y=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Errors.js"),X=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Errors.js"),te=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Parsing.js"),re=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Parsing.js"),ne=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/TypeHandling.js");class ie{constructor(ae){this.superTypeProvider=ae}transformRDFTermUnsafe(ae){return this.transformTerm({term:ae,type:W.Algebra.types.EXPRESSION,expressionType:W.Algebra.expressionTypes.TERM})}transformTerm(ae){if(!ae.term)throw new Y.InvalidExpression(ae);switch(ae.term.termType){case"Variable":return new J.Variable(q.termToString(ae.term));case"Literal":return this.transformLiteral(ae.term);case"NamedNode":return new J.NamedNode(ae.term.value);case"BlankNode":return new J.BlankNode(ae.term.value);case"Quad":return new J.Quad(this.transformRDFTermUnsafe(ae.term.subject),this.transformRDFTermUnsafe(ae.term.predicate),this.transformRDFTermUnsafe(ae.term.object),this.transformRDFTermUnsafe(ae.term.graph));case"DefaultGraph":return new J.DefaultGraph}}transformLiteral(ae){if(!ae.datatype||[null,void 0,""].includes(ae.datatype.value))return ae.language?new J.LangStringLiteral(ae.value,ae.language):new J.StringLiteral(ae.value);const ue=ae.datatype.value,ce=(0,ne.getSuperTypeDict)(ue,this.superTypeProvider);try{if(F.TypeURL.XSD_STRING in ce)return new J.StringLiteral(ae.value,ue);if(F.TypeURL.RDF_LANG_STRING in ce)return new J.LangStringLiteral(ae.value,ae.language);if(F.TypeURL.XSD_YEAR_MONTH_DURATION in ce)return new J.YearMonthDurationLiteral((0,te.parseYearMonthDuration)(ae.value),ae.value,ue);if(F.TypeURL.XSD_DAY_TIME_DURATION in ce)return new J.DayTimeDurationLiteral((0,te.parseDayTimeDuration)(ae.value),ae.value,ue);if(F.TypeURL.XSD_DURATION in ce)return new J.DurationLiteral((0,te.parseDuration)(ae.value),ae.value,ue);if(F.TypeURL.XSD_DATE_TIME in ce){const de=new Date(ae.value);return Number.isNaN(de.getTime())?new J.NonLexicalLiteral(void 0,ue,this.superTypeProvider,ae.value):new J.DateTimeLiteral((0,te.parseDateTime)(ae.value),ae.value,ue)}if(F.TypeURL.XSD_DATE in ce)return new J.DateLiteral((0,te.parseDate)(ae.value),ae.value,ue);if(F.TypeURL.XSD_TIME in ce)return new J.TimeLiteral((0,te.parseTime)(ae.value),ae.value,ue);if(F.TypeURL.XSD_BOOLEAN in ce)return ae.value!=="true"&&ae.value!=="false"&&ae.value!=="1"&&ae.value!=="0"?new J.NonLexicalLiteral(void 0,ue,this.superTypeProvider,ae.value):new J.BooleanLiteral(ae.value==="true"||ae.value==="1",ae.value);if(F.TypeURL.XSD_DECIMAL in ce){const de=re.parseXSDDecimal(ae.value);return de===void 0?new J.NonLexicalLiteral(void 0,ue,this.superTypeProvider,ae.value):F.TypeURL.XSD_INTEGER in ce?new J.IntegerLiteral(de,ue,ae.value):new J.DecimalLiteral(de,ue,ae.value)}const se=F.TypeURL.XSD_FLOAT in ce,le=F.TypeURL.XSD_DOUBLE in ce;if(se||le){const de=re.parseXSDFloat(ae.value);return de===void 0?new J.NonLexicalLiteral(void 0,ue,this.superTypeProvider,ae.value):se?new J.FloatLiteral(de,ue,ae.value):new J.DoubleLiteral(de,ue,ae.value)}return new J.Literal(ae.value,ue,ae.value)}catch(se){if((0,X.isExpressionError)(se))return new J.NonLexicalLiteral(void 0,ue,this.superTypeProvider,ae.value);throw se}}}G.TermTransformer=ie},"../node_modules/@comunica/utils-expression-evaluator/lib/util/Consts.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.SparqlOperator=G.TypeURL=G.typedLiteral=G.TypeAlias=void 0;const q=Q("../node_modules/rdf-data-factory/index.js");var W;(function(te){te.SPARQL_NUMERIC="SPARQL_NUMERIC",te.SPARQL_STRINGLY="SPARQL_STRINGLY"})(W||(G.TypeAlias=W={}));const J=new q.DataFactory;function F(te,re){return J.literal(te,J.namedNode(re))}G.typedLiteral=F;var Y;(function(te){te.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",te.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",te.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",te.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",te.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",te.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",te.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",te.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",te.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",te.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",te.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",te.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",te.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",te.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",te.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",te.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",te.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",te.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",te.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",te.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",te.XSD_INT="http://www.w3.org/2001/XMLSchema#int",te.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",te.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",te.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",te.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",te.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",te.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",te.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",te.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",te.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",te.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",te.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",te.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",te.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",te.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",te.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",te.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",te.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",te.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",te.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",te.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration"})(Y||(G.TypeURL=Y={}));var X;(function(te){te.NOT="!",te.UMINUS="uminus",te.UPLUS="uplus",te.LOGICAL_OR="||",te.LOGICAL_AND="&&",te.EQUAL="=",te.NOT_EQUAL="!=",te.LT="<",te.GT=">",te.LTE="<=",te.GTE=">=",te.SAME_TERM="sameterm",te.IN="in",te.NOT_IN="notin",te.MULTIPLICATION="*",te.DIVISION="/",te.ADDITION="+",te.SUBTRACTION="-",te.IS_IRI="isiri",te.IS_URI="isuri",te.IS_BLANK="isblank",te.IS_LITERAL="isliteral",te.IS_NUMERIC="isnumeric",te.STR="str",te.LANG="lang",te.DATATYPE="datatype",te.IRI="iri",te.URI="uri",te.BNODE="bnode",te.STRDT="strdt",te.STRLANG="strlang",te.UUID="uuid",te.STRUUID="struuid",te.STRLEN="strlen",te.SUBSTR="substr",te.UCASE="ucase",te.LCASE="lcase",te.STRSTARTS="strstarts",te.STRENDS="strends",te.CONTAINS="contains",te.STRBEFORE="strbefore",te.STRAFTER="strafter",te.ENCODE_FOR_URI="encode_for_uri",te.CONCAT="concat",te.LANG_MATCHES="langmatches",te.REGEX="regex",te.REPLACE="replace",te.ABS="abs",te.ROUND="round",te.CEIL="ceil",te.FLOOR="floor",te.RAND="rand",te.NOW="now",te.YEAR="year",te.MONTH="month",te.DAY="day",te.HOURS="hours",te.MINUTES="minutes",te.SECONDS="seconds",te.TIMEZONE="timezone",te.TZ="tz",te.MD5="md5",te.SHA1="sha1",te.SHA256="sha256",te.SHA384="sha384",te.SHA512="sha512",te.TRIPLE="triple",te.SUBJECT="subject",te.PREDICATE="predicate",te.OBJECT="object",te.IS_TRIPLE="istriple",te.BOUND="bound",te.IF="if",te.COALESCE="coalesce"})(X||(G.SparqlOperator=X={}))},"../node_modules/@comunica/utils-expression-evaluator/lib/util/Context.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.prepareEvaluatorActionContext=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/lru-cache/dist/commonjs/index.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/DateTimeHelpers.js");function F(Y){let X=Y;if(X.has(q.KeysInitQuery.extensionFunctionCreator)&&X.has(q.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");if(X.has(q.KeysInitQuery.extensionFunctionCreator))X=X.set(q.KeysExpressionEvaluator.extensionFunctionCreator,X.get(q.KeysInitQuery.extensionFunctionCreator));else if(X.has(q.KeysInitQuery.extensionFunctions)){const te=X.getSafe(q.KeysInitQuery.extensionFunctions);X=X.set(q.KeysExpressionEvaluator.extensionFunctionCreator,async re=>te[re.value])}else X=X.setDefault(q.KeysExpressionEvaluator.extensionFunctionCreator,async()=>{});return X=X.setDefault(q.KeysExpressionEvaluator.defaultTimeZone,(0,J.extractTimeZone)(X.getSafe(q.KeysInitQuery.queryTimestamp))),X=X.setDefault(q.KeysExpressionEvaluator.superTypeProvider,{cache:new W.LRUCache({max:1e3}),discoverer:()=>"term"}),X}G.prepareEvaluatorActionContext=F},"../node_modules/@comunica/utils-expression-evaluator/lib/util/DateTimeHelpers.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.extractTimeZone=G.extractRawTimeZone=G.dayTimeDurationsToSeconds=G.yearMonthDurationsToMonths=G.trimToDayTimeDuration=G.trimToYearMonthDuration=G.toUTCDate=G.toJSDate=G.negateDuration=G.toDateTimeRepresentation=G.defaultedDateTimeRepresentation=G.simplifyDurationRepresentation=G.defaultedDurationRepresentation=G.defaultedYearMonthDurationRepresentation=G.defaultedDayTimeDurationRepresentation=void 0;function Q(se){return{day:se.day??0,hours:se.hours??0,minutes:se.minutes??0,seconds:se.seconds??0}}G.defaultedDayTimeDurationRepresentation=Q;function q(se){return{year:se.year??0,month:se.month??0}}G.defaultedYearMonthDurationRepresentation=q;function W(se){return{...Q(se),...q(se)}}G.defaultedDurationRepresentation=W;function J(se){const le=W(se),de={},he=le.year+Math.trunc(le.month/12);he&&(de.year=he,le.month%=12),le.month&&(de.month=le.month);const pe=le.day+Math.trunc(le.hours/24)+Math.trunc(le.minutes/(24*60))+Math.trunc(le.seconds/(24*60*60));pe&&(de.day=pe,le.hours%=24,le.minutes%=24*60,le.seconds%=24*60*60);const ge=le.hours+Math.trunc(le.minutes/60)+Math.trunc(le.seconds/(60*60));ge&&(de.hours=ge,le.minutes%=60,le.seconds%=60*60);const be=le.minutes+Math.trunc(le.seconds/60);return be&&(de.minutes=be,le.seconds%=60),le.seconds&&(de.seconds=le.seconds),de}G.simplifyDurationRepresentation=J;function F(se){return{...se,day:se.day??1,hours:se.hours??0,month:se.month??1,year:se.year??0,seconds:se.seconds??0,minutes:se.minutes??0}}G.defaultedDateTimeRepresentation=F;function Y({date:se,timeZone:le}){return{year:se.getFullYear(),month:se.getMonth()+1,day:se.getDate(),hours:se.getHours(),minutes:se.getMinutes(),seconds:se.getSeconds(),zoneHours:le.zoneHours,zoneMinutes:le.zoneMinutes}}G.toDateTimeRepresentation=Y;function X(se){return{year:se.year===void 0?void 0:-1*se.year,month:se.month===void 0?void 0:-1*se.month,day:se.day===void 0?void 0:-1*se.day,hours:se.hours===void 0?void 0:-1*se.hours,minutes:se.minutes===void 0?void 0:-1*se.minutes,seconds:se.seconds===void 0?void 0:-1*se.seconds}}G.negateDuration=X;function te(se){const le=new Date(se.year,se.month-1,se.day,se.hours,se.minutes,Math.trunc(se.seconds),se.seconds%1*1e3);return se.year>=0&&se.year<100&&le.setFullYear(le.getFullYear()-1900),le}G.toJSDate=te;function re(se,le){const de=te(F(se)),he=de.getTimezoneOffset(),pe=se.zoneHours??le.zoneHours,ge=se.zoneMinutes??le.zoneMinutes;return new Date(de.getTime()-(he+pe*60+ge)*60*1e3)}G.toUTCDate=re;function ne(se){return{year:se.year,month:se.month}}G.trimToYearMonthDuration=ne;function ie(se){return{day:se.day,hours:se.hours,minutes:se.minutes,seconds:se.seconds}}G.trimToDayTimeDuration=ie;function oe(se){return se.year*12+se.month}G.yearMonthDurationsToMonths=oe;function ae(se){return((se.day*24+se.hours)*60+se.minutes)*60+se.seconds}G.dayTimeDurationsToSeconds=ae;function ue(se){return/(Z|([+-]\d\d:\d\d))?$/u.exec(se)[0]}G.extractRawTimeZone=ue;function ce(se){return{zoneHours:se.getTimezoneOffset()/60,zoneMinutes:se.getTimezoneOffset()%60}}G.extractTimeZone=ce},"../node_modules/@comunica/utils-expression-evaluator/lib/util/Errors.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.NoAggregator=G.ExtensionFunctionError=G.InvalidExpression=G.InvalidArity=G.UnexpectedError=G.ParseError=G.EmptyAggregateError=G.IncompatibleLanguageOperation=G.InvalidTimezoneCall=G.CastError=G.InvalidArgumentTypes=G.InError=G.CoalesceError=G.RDFEqualTypeError=G.EBVCoercionError=G.UnboundVariableError=G.InvalidLexicalForm=G.isExpressionError=G.ExpressionError=void 0;class Q extends Error{}G.ExpressionError=Q;function q(ge){return ge instanceof Q}G.isExpressionError=q;class W extends Q{constructor(be){super(`Invalid lexical form '${pe(be)}'`),this.arg=be}}G.InvalidLexicalForm=W;class J extends Q{constructor(be,ve){super(`Unbound variable '${pe(be)}'`),this.variable=be,this.bindings=ve}}G.UnboundVariableError=J;class F extends Q{constructor(be){super(`Cannot coerce term to EBV '${pe(be)}'`),this.arg=be}}G.EBVCoercionError=F;class Y extends Q{constructor(be){super("Equality test for literals with unsupported datatypes"),this.args=be}}G.RDFEqualTypeError=Y;class X extends Q{constructor(be){super("All COALESCE arguments threw errors"),this.errors=be}}G.CoalesceError=X;class te extends Q{constructor(be){super(`Some argument to IN errorred and none where equal. ${be.map(ve=>`(${ve.toString()}) `).join("and ")}`),this.errors=be}}G.InError=te;class re extends Q{constructor(be,ve){super(`Argument types not valid for operator: '${pe(ve)}' with '${pe(be)}`),this.args=be,this.op=ve}}G.InvalidArgumentTypes=re;class ne extends Q{constructor(be,ve){super(`Invalid cast: '${pe(be)}' to '${pe(ve)}'`),this.arg=be}}G.CastError=ne;class ie extends Q{constructor(be){super(`TIMEZONE call on ${be} which has no timezone`),this.dateString=be}}G.InvalidTimezoneCall=ie;class oe extends Q{constructor(be,ve){super(`Operation on incompatible language literals '${pe(be)}' and '${pe(ve)}'`),this.arg1=be,this.arg2=ve}}G.IncompatibleLanguageOperation=oe;class ae extends Q{constructor(){super("Empty aggregate expression")}}G.EmptyAggregateError=ae;class ue extends Q{constructor(be,ve){super(`Failed to parse "${be}" as ${ve}.`)}}G.ParseError=ue;class ce extends Error{constructor(be,ve){super(`Programmer Error '${be}'`),this.payload=ve}}G.UnexpectedError=ce;class se extends Error{constructor(be,ve){super(`The number of args does not match the arity of the operator '${pe(ve)}'.`),this.args=be,this.op=ve}}G.InvalidArity=se;class le extends Error{constructor(be){super(`Invalid SPARQL Expression '${pe(be)}'`)}}G.InvalidExpression=le;class de extends Error{constructor(be,ve){ve instanceof Error?super(`Error thrown in ${be}: ${ve.message}${ve.stack?`
${ve.stack}`:""}`):super(`Error thrown in ${be}`)}}G.ExtensionFunctionError=de;class he extends Error{constructor(be){super(`Aggregate expression ${pe(be)} found, but no aggregate hook provided.`)}}G.NoAggregator=he;function pe(ge){return JSON.stringify(ge)}},"../node_modules/@comunica/utils-expression-evaluator/lib/util/Parsing.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.parseDayTimeDuration=G.parseYearMonthDuration=G.parseDuration=G.parseTime=G.parseDate=G.parseDateTime=G.parseXSDDecimal=G.parseXSDFloat=void 0;const q=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/DateTimeHelpers.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Errors.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/SpecAlgos.js");function F(ce){const se=Number(ce);return Number.isNaN(se)?ce==="NaN"?Number.NaN:ce==="INF"||ce==="+INF"?Number.POSITIVE_INFINITY:ce==="-INF"?Number.NEGATIVE_INFINITY:void 0:se}G.parseXSDFloat=F;function Y(ce){const se=Number(ce);return Number.isNaN(se)?void 0:se}G.parseXSDDecimal=Y;function X(ce){const[se,le]=ce.split("T");if(le===void 0)throw new W.ParseError(ce,"dateTime");return{...re(se),...ne(le)}}G.parseDateTime=X;function te(ce){if(ce==="")return{zoneHours:void 0,zoneMinutes:void 0};if(ce==="Z")return{zoneHours:0,zoneMinutes:0};const se=ce.replaceAll(/^([+|-])(\d\d):(\d\d)$/gu,"$11!$2!$3").split("!").map(Number);return{zoneHours:se[0]*se[1],zoneMinutes:se[0]*se[2]}}function re(ce){const se=ce.replaceAll(/^(-)?([123456789]*\d{4})-(\d\d)-(\d\d)(Z|([+-]\d\d:\d\d))?$/gu,"$11!$2!$3!$4!$5");if(se===ce)throw new W.ParseError(ce,"date");const le=se.split("!"),de=le.slice(0,-1).map(Number),he={year:de[0]*de[1],month:de[2],day:de[3],...te(le[4])};if(!(he.month>=1&&he.month<=12)||!(he.day>=1&&he.day<=(0,J.maximumDayInMonthFor)(he.year,he.month)))throw new W.ParseError(ce,"date");return he}G.parseDate=re;function ne(ce){const se=ce.replaceAll(/^(\d\d):(\d\d):(\d\d(\.\d+)?)(Z|([+-]\d\d:\d\d))?$/gu,"$1!$2!$3!$5");if(se===ce)throw new W.ParseError(ce,"time");const le=se.split("!"),de=le.slice(0,-1).map(Number),he={hours:de[0],minutes:de[1],seconds:de[2],...te(le[3])};if(he.seconds>=60||he.minutes>=60||he.hours>24||he.hours===24&&(he.minutes!==0||he.seconds!==0))throw new W.ParseError(ce,"time");return he}function ie(ce){const se=ne(ce);return se.hours%=24,se}G.parseTime=ie;function oe(ce){const[se,le]=ce.split("T"),de=se.replaceAll(/^(-)?P(\d+Y)?(\d+M)?(\d+D)?$/gu,"$11S!$2!$3!$4");if(de===se)throw new W.ParseError(ce,"duration");const he=de.split("!");if(le!==void 0){const be=le.replaceAll(/^(\d+H)?(\d+M)?(\d+(\.\d+)?S)?$/gu,"$1!$2!$3");if(le===""||le===be)throw new W.ParseError(ce,"duration");he.push(...be.split("!"))}const pe=he.map(be=>be.slice(0,-1));if(!pe.slice(1).some(Boolean))throw new W.ParseError(ce,"duration");const ge=Number(pe[0]);return(0,q.simplifyDurationRepresentation)({year:pe[1]?ge*Number(pe[1]):void 0,month:pe[2]?ge*Number(pe[2]):void 0,day:pe[3]?ge*Number(pe[3]):void 0,hours:pe[4]?ge*Number(pe[4]):void 0,minutes:pe[5]?ge*Number(pe[5]):void 0,seconds:pe[6]?ge*Number(pe[6]):void 0})}G.parseDuration=oe;function ae(ce){const se=oe(ce);if(["hours","minutes","seconds","day"].some(le=>!!se[le]))throw new W.ParseError(ce,"yearMonthDuration");return se}G.parseYearMonthDuration=ae;function ue(ce){const se=oe(ce);if(["year","month"].some(le=>!!se[le]))throw new W.ParseError(ce,"dayTimeDuration");return se}G.parseDayTimeDuration=ue},"../node_modules/@comunica/utils-expression-evaluator/lib/util/Serialization.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.serializeDuration=G.serializeTime=G.serializeDate=G.serializeDateTime=void 0;function Q(X,te=2){return X.toLocaleString(void 0,{minimumIntegerDigits:te,useGrouping:!1})}function q(X){return`${J({year:X.year,month:X.month,day:X.day})}T${F(X)}`}G.serializeDateTime=q;function W(X){return X.zoneHours===void 0||X.zoneMinutes===void 0?"":X.zoneHours===0&&X.zoneMinutes===0?"Z":`${X.zoneHours>=0?`+${Q(X.zoneHours)}`:Q(X.zoneHours)}:${Q(Math.abs(X.zoneMinutes))}`}function J(X){return`${Q(X.year,4)}-${Q(X.month)}-${Q(X.day)}${W(X)}`}G.serializeDate=J;function F(X){return`${Q(X.hours)}:${Q(X.minutes)}:${Q(X.seconds)}${W(X)}`}G.serializeTime=F;function Y(X,te="PT0S"){if(!Object.values(X).some(le=>(le||0)!==0))return te;const re=Object.values(X).some(le=>(le||0)<0)?"-":"",ne=X.year?`${Math.abs(X.year)}Y`:"",ie=X.month?`${Math.abs(X.month)}M`:"",oe=X.day?`${Math.abs(X.day)}D`:"",ae=`${re}P${ne}${ie}${oe}`;if(!(X.hours||X.minutes||X.seconds))return ae;const ue=X.hours?`${Math.abs(X.hours)}H`:"",ce=X.minutes?`${Math.abs(X.minutes)}M`:"",se=X.seconds?`${Math.abs(X.seconds)}S`:"";return`${ae}T${ue}${ce}${se}`}G.serializeDuration=Y},"../node_modules/@comunica/utils-expression-evaluator/lib/util/SpecAlgos.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.elapsedDuration=G.addDurationToDateTime=G.maximumDayInMonthFor=void 0;const q=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/DateTimeHelpers.js");function W(X,te,re=0){const ne=X-re,ie=te-re,oe=Math.floor(ne/ie);return{intDiv:oe,remainder:X-oe*ie}}function J(X,te){const{intDiv:re,remainder:ne}=W(te,13,1),ie=X+re;return[1,3,5,7,8,10,12].includes(ne)?31:[4,6,9,11].includes(ne)?30:ne===2&&(W(ie,400).remainder===0||W(ie,100).remainder!==0&&W(ie,4).remainder===0)?29:28}G.maximumDayInMonthFor=J;function F(X,te){const re={...X};let ne=W(X.month+te.month,13,1);for(re.month=ne.remainder,re.year=X.year+te.year+ne.intDiv,ne=W(X.seconds+te.seconds,60),re.seconds=ne.remainder,ne=W(X.minutes+te.minutes+ne.intDiv,60),re.minutes=ne.remainder,ne=W(X.hours+te.hours+ne.intDiv,24),re.hours=ne.remainder,re.day=X.day+te.day+ne.intDiv;;){let ie;if(re.day<1)re.day+=J(re.year,re.month-1),ie=-1;else if(re.day>J(re.year,re.month))re.day-=J(re.year,re.month),ie=1;else break;ne=W(re.month+ie,13,1),re.month=ne.remainder,re.year+=ne.intDiv}return re}G.addDurationToDateTime=F;function Y(X,te,re){const ne=(0,q.toUTCDate)(X,re),ie=(0,q.toUTCDate)(te,re),oe=ne.getTime()-ie.getTime();return{day:Math.floor(oe/(1e3*60*60*24)),hours:Math.floor(oe%(1e3*60*60*24)/(1e3*60*60)),minutes:Math.floor(oe%(1e3*60*60)/(1e3*60)),seconds:oe%(1e3*60)}}G.elapsedDuration=Y},"../node_modules/@comunica/utils-expression-evaluator/lib/util/TypeHandling.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.typePromotion=G.isSubTypeOf=G.getSuperTypeDict=G.isInternalSubType=G.asGeneralType=G.asOverrideType=G.asKnownLiteralType=G.asTypeAlias=G.typeAliasCheck=G.extensionTableInit=G.getSuperTypes=G.superTypeDictTable=G.extensionTableInput=void 0;const q=Q("../node_modules/@comunica/utils-expression-evaluator/lib/expressions/index.js"),W=Q("../node_modules/@comunica/utils-expression-evaluator/lib/functions/Helpers.js"),J=Q("../node_modules/@comunica/utils-expression-evaluator/lib/util/Consts.js");G.extensionTableInput={[J.TypeURL.XSD_DATE_TIME_STAMP]:J.TypeURL.XSD_DATE_TIME,[J.TypeURL.XSD_DAY_TIME_DURATION]:J.TypeURL.XSD_DURATION,[J.TypeURL.XSD_YEAR_MONTH_DURATION]:J.TypeURL.XSD_DURATION,[J.TypeURL.RDF_LANG_STRING]:J.TypeAlias.SPARQL_STRINGLY,[J.TypeURL.XSD_STRING]:J.TypeAlias.SPARQL_STRINGLY,[J.TypeURL.XSD_NORMALIZED_STRING]:J.TypeURL.XSD_STRING,[J.TypeURL.XSD_TOKEN]:J.TypeURL.XSD_NORMALIZED_STRING,[J.TypeURL.XSD_LANGUAGE]:J.TypeURL.XSD_TOKEN,[J.TypeURL.XSD_NM_TOKEN]:J.TypeURL.XSD_TOKEN,[J.TypeURL.XSD_NAME]:J.TypeURL.XSD_TOKEN,[J.TypeURL.XSD_NC_NAME]:J.TypeURL.XSD_NAME,[J.TypeURL.XSD_ENTITY]:J.TypeURL.XSD_NC_NAME,[J.TypeURL.XSD_ID]:J.TypeURL.XSD_NC_NAME,[J.TypeURL.XSD_ID_REF]:J.TypeURL.XSD_NC_NAME,[J.TypeURL.XSD_DOUBLE]:J.TypeAlias.SPARQL_NUMERIC,[J.TypeURL.XSD_FLOAT]:J.TypeAlias.SPARQL_NUMERIC,[J.TypeURL.XSD_DECIMAL]:J.TypeAlias.SPARQL_NUMERIC,[J.TypeURL.XSD_INTEGER]:J.TypeURL.XSD_DECIMAL,[J.TypeURL.XSD_NON_POSITIVE_INTEGER]:J.TypeURL.XSD_INTEGER,[J.TypeURL.XSD_NEGATIVE_INTEGER]:J.TypeURL.XSD_NON_POSITIVE_INTEGER,[J.TypeURL.XSD_LONG]:J.TypeURL.XSD_INTEGER,[J.TypeURL.XSD_INT]:J.TypeURL.XSD_LONG,[J.TypeURL.XSD_SHORT]:J.TypeURL.XSD_INT,[J.TypeURL.XSD_BYTE]:J.TypeURL.XSD_SHORT,[J.TypeURL.XSD_NON_NEGATIVE_INTEGER]:J.TypeURL.XSD_INTEGER,[J.TypeURL.XSD_POSITIVE_INTEGER]:J.TypeURL.XSD_NON_NEGATIVE_INTEGER,[J.TypeURL.XSD_UNSIGNED_LONG]:J.TypeURL.XSD_NON_NEGATIVE_INTEGER,[J.TypeURL.XSD_UNSIGNED_INT]:J.TypeURL.XSD_UNSIGNED_LONG,[J.TypeURL.XSD_UNSIGNED_SHORT]:J.TypeURL.XSD_UNSIGNED_INT,[J.TypeURL.XSD_UNSIGNED_BYTE]:J.TypeURL.XSD_UNSIGNED_SHORT,[J.TypeURL.XSD_DATE_TIME]:"term",[J.TypeURL.XSD_BOOLEAN]:"term",[J.TypeURL.XSD_DATE]:"term",[J.TypeURL.XSD_G_MONTH]:"term",[J.TypeURL.XSD_G_MONTHDAY]:"term",[J.TypeURL.XSD_G_YEAR]:"term",[J.TypeURL.XSD_G_YEAR_MONTH]:"term",[J.TypeURL.XSD_TIME]:"term",[J.TypeURL.XSD_G_DAY]:"term",[J.TypeURL.XSD_DURATION]:"term",[J.TypeAlias.SPARQL_NUMERIC]:"term",[J.TypeAlias.SPARQL_STRINGLY]:"term",[J.TypeURL.XSD_ANY_URI]:"term"},G.superTypeDictTable=Object.create(null);function F(se,le){const de=le.cache.get(se);if(de)return de;const he=le.discoverer(se);if(he==="term"){const be=Object.create(null);return be.__depth=0,be[se]=0,le.cache.set(se,be),be}let pe;const ge=ne(he);return ge?pe={...G.superTypeDictTable[ge]}:pe={...F(he,le)},pe.__depth++,pe[se]=pe.__depth,le.cache.set(se,pe),pe}G.getSuperTypes=F;function Y(){for(const[se,le]of Object.entries(G.extensionTableInput)){const de=se;G.superTypeDictTable[de]||X(de,le,G.superTypeDictTable)}}G.extensionTableInit=Y,Y();function X(se,le,de){if(le==="term"||le===void 0){const he=Object.create(null);he.__depth=0,he[se]=0,de[se]=he;return}de[le]||X(le,G.extensionTableInput[le],de),de[se]={...de[le],[se]:de[le].__depth+1,__depth:de[le].__depth+1}}G.typeAliasCheck=Object.create(null);function te(){for(const se of Object.values(J.TypeAlias))G.typeAliasCheck[se]=!0}te();function re(se){if(se in G.typeAliasCheck)return se}G.asTypeAlias=re;function ne(se){if(se in G.superTypeDictTable)return se}G.asKnownLiteralType=ne;function ie(se){if(ne(se)??se==="term")return se}G.asOverrideType=ie;function oe(se){if(se==="term"||(0,q.asTermType)(se))return se}G.asGeneralType=oe;function ae(se,le){return se!=="term"&&G.superTypeDictTable[se]&&G.superTypeDictTable[se][le]!==void 0}G.isInternalSubType=ae;function ue(se,le){const de=ne(se);return de?G.superTypeDictTable[de]:F(se,le)}G.getSuperTypeDict=ue;function ce(se,le,de){return se==="term"?!1:ue(se,de)[le]!==void 0}G.isSubTypeOf=ce,G.typePromotion={[J.TypeURL.XSD_STRING]:[{typeToPromote:J.TypeURL.XSD_ANY_URI,conversionFunction:se=>(0,W.string)(se.str())}],[J.TypeURL.XSD_DOUBLE]:[{typeToPromote:J.TypeURL.XSD_FLOAT,conversionFunction:se=>(0,W.double)(se.typedValue)},{typeToPromote:J.TypeURL.XSD_DECIMAL,conversionFunction:se=>(0,W.double)(se.typedValue)}],[J.TypeURL.XSD_FLOAT]:[{typeToPromote:J.TypeURL.XSD_DECIMAL,conversionFunction:se=>(0,W.float)(se.typedValue)}]}},"../node_modules/@comunica/utils-iterator/lib/ChunkedIterator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ChunkedIterator=void 0;const q=Q("asynciterator");class W extends q.TransformIterator{constructor(F,Y,X){super(F,X),this.chunk=[],this.blockSize=Y}consumeChunkAsIterator(){const F=new q.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],F}_transform(F,Y,X){this.chunk.push(F),this.chunk.length>=this.blockSize&&X(this.consumeChunkAsIterator()),Y()}_flush(F){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(F)}}G.ChunkedIterator=W},"../node_modules/@comunica/utils-iterator/lib/ClosableIterator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ClosableIterator=void 0;const q=Q("asynciterator");class W extends q.AsyncIterator{constructor(te,re){super(),this.onClose=re.onClose,this._source=te,this._source[q.DESTINATION]=this,this._source.on("end",Y),this._source.on("error",F),this._source.on("readable",J),this.readable=this._source.readable}read(){const te=this._source.read();return te||(this.readable=!1,this._source.done&&this.close()),te}_end(te){this.onClose(),this._source.removeListener("end",Y),this._source.removeListener("error",F),this._source.removeListener("readable",J),delete this._source[q.DESTINATION],this._source.destroy(),super._end(te)}}G.ClosableIterator=W;function J(){this[q.DESTINATION].readable=!0}function F(X){this[q.DESTINATION].emit("error",X)}function Y(){this[q.DESTINATION].close()}},"../node_modules/@comunica/utils-iterator/lib/ClosableTransformIterator.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.ClosableTransformIterator=void 0;const q=Q("asynciterator");class W extends q.TransformIterator{constructor(F,Y){super(F,Y),this.onClose=Y.onClose}_end(F){this.onClose(),super._end(F)}}G.ClosableTransformIterator=W},"../node_modules/@comunica/utils-iterator/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/utils-iterator/lib/ChunkedIterator.js"),G),W(Q("../node_modules/@comunica/utils-iterator/lib/ClosableIterator.js"),G),W(Q("../node_modules/@comunica/utils-iterator/lib/ClosableTransformIterator.js"),G),W(Q("../node_modules/@comunica/utils-iterator/lib/instrumentIterator.js"),G)},"../node_modules/@comunica/utils-iterator/lib/instrumentIterator.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.instrumentIterator=void 0;function Q(W){const J={count:0,timeSelf:0,timeLife:0};return q(W,J,!0),new Promise(F=>{W.on("end",()=>{F(J)})})}G.instrumentIterator=Q;function q(W,J,F){if(!("_profileInstrumented"in W)){if(W._profileInstrumented=!0,"_read"in W){const Y=W._read;W._read=(X,te)=>{const re=performance.now();Y.call(W,X,()=>{J.timeSelf+=performance.now()-re,te()})}}if("read"in W){const Y=W.read;W.read=()=>{const X=performance.now(),te=Y.call(W);return F&&te&&J.count++,J.timeSelf+=performance.now()-X,te}}if(F){const Y=performance.now();W.on("end",()=>{J.timeLife=performance.now()-Y})}"_source"in W&&q(W._source,J,!1)}}},"../node_modules/@comunica/utils-metadata/lib/MetadataValidationState.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MetadataValidationState=void 0;class Q{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(W){this.invalidateListeners.push(W)}invalidate(){if(this.valid){this.valid=!1;for(const W of this.invalidateListeners)W()}}}G.MetadataValidationState=Q},"../node_modules/@comunica/utils-metadata/lib/Utils.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.cachifyMetadata=G.validateMetadataBindings=G.validateMetadataQuads=G.getMetadataBindings=G.getMetadataQuads=void 0;function Q(Y){return F(()=>new Promise((X,te)=>{Y.getProperty("metadata",re=>X(re)),Y.on("error",te)}).then(X=>W(X)))}G.getMetadataQuads=Q;function q(Y){return F(()=>new Promise((X,te)=>{Y.getProperty("metadata",re=>X(re)),Y.on("error",te)}).then(X=>J(X)))}G.getMetadataBindings=q;function W(Y){for(const X of["cardinality"])if(!(X in Y))throw new Error(`Invalid metadata: missing ${X} in ${JSON.stringify(Y)}`);return Y}G.validateMetadataQuads=W;function J(Y){for(const X of["cardinality","variables"])if(!(X in Y))throw new Error(`Invalid metadata: missing ${X} in ${JSON.stringify(Y)}`);return Y}G.validateMetadataBindings=J;function F(Y){let X;return()=>(X||(X=Y(),X.then(te=>te.state.addInvalidateListener(()=>{X=void 0})).catch(()=>{})),X)}G.cachifyMetadata=F},"../node_modules/@comunica/utils-metadata/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/utils-metadata/lib/MetadataValidationState.js"),G),W(Q("../node_modules/@comunica/utils-metadata/lib/Utils.js"),G)},"../node_modules/@comunica/utils-query-operation/lib/FragmentSelectorShapes.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.doesShapeAcceptOperation=void 0;function Q(J,F,Y){return q(J,J,F,Y)}G.doesShapeAcceptOperation=Q;function q(J,F,Y,X){if(F.type==="conjunction")return F.children.every(re=>q(J,re,Y,X));if(F.type==="disjunction")return F.children.some(re=>q(J,re,Y,X));if(F.type==="arity")return q(J,F.child,Y,X);if(((X==null?void 0:X.joinBindings)&&!F.joinBindings)??((X==null?void 0:X.filterBindings)&&!F.filterBindings))return!1;const te=F.operation;switch(te.operationType){case"type":return W(J,F,Y,X)?te.type===Y.type:!1;case"pattern":return W(J,F,Y,X)?te.pattern.type===Y.type:!1;case"wildcard":return!0}}function W(J,F,Y,X){return!(Y.input&&!(Array.isArray(Y.input)?Y.input:[Y.input]).every(te=>q(J,J,te,X))||Y.patterns&&!Y.patterns.every(te=>q(J,J,te,X)))}},"../node_modules/@comunica/utils-query-operation/lib/MaterializeBindings.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.materializeOperation=G.materializeTerm=void 0;const q=Q("../node_modules/rdf-string/index.js"),W=Q("../node_modules/rdf-terms/index.js"),J=Q("sparqlalgebrajs");function F(te,re){if(te.termType==="Variable"){const ne=re.get(te);if(ne)return ne}return te.termType==="Quad"&&(0,W.someTermsNested)(te,ne=>ne.termType==="Variable")?(0,W.mapTermsNested)(te,ne=>F(ne,re)):te}G.materializeTerm=F;function Y(te,re,ne,ie,oe={}){return oe={strictTargetVariables:"strictTargetVariables"in oe?oe.strictTargetVariables:!1,bindFilter:"bindFilter"in oe?oe.bindFilter:!0,originalBindings:"originalBindings"in oe?oe.originalBindings:re},J.Util.mapOperation(te,{path(ae,ue){return{recurse:!1,result:Object.assign(ue.createPath(F(ae.subject,re),ae.predicate,F(ae.object,re),F(ae.graph,re)),{metadata:ae.metadata})}},pattern(ae,ue){return{recurse:!1,result:Object.assign(ue.createPattern(F(ae.subject,re),F(ae.predicate,re),F(ae.object,re),F(ae.graph,re)),{metadata:ae.metadata})}},extend(ae){if(re.has(ae.variable)){if(oe.strictTargetVariables)throw new Error(`Tried to bind variable ${(0,q.termToString)(ae.variable)} in a BIND operator.`);return{recurse:!0,result:Y(ae.input,re,ne,ie,oe)}}return{recurse:!0,result:ae}},group(ae,ue){if(oe.strictTargetVariables){for(const se of ae.variables)if(re.has(se))throw new Error(`Tried to bind variable ${(0,q.termToString)(se)} in a GROUP BY operator.`);return{recurse:!0,result:ae}}const ce=ae.variables.filter(se=>!re.has(se));return{recurse:!0,result:ue.createGroup(ae.input,ce,ae.aggregates)}},filter(ae,ue){const ce=oe.originalBindings;if(ae.expression.expressionType!=="operator"||ce.size===0)return{recurse:!1,result:ae};const se=X(ue,ce),le=Y(ae.expression,re,ne,ie,oe);let de=Y(ae.input,re,ne,ie,oe);return se.length>0&&(de=ue.createJoin([...se,de])),{recurse:!1,result:ue.createFilter(de,le)}},project(ae,ue){if(oe.strictTargetVariables){for(const le of ae.variables)if(re.has(le))throw new Error(`Tried to bind variable ${(0,q.termToString)(le)} in a SELECT operator.`);return{recurse:!0,result:ae}}for(const le of re.keys())for(const de of ae.variables)if(de.equals(le)){re=re.delete(le);break}const ce=X(ue,oe.originalBindings,ae.variables);let se=Y(ae.input,re,ne,ie,oe);return ce.length>0&&(se=ue.createJoin([...ce,se])),{recurse:!1,result:ue.createProject(se,ae.variables)}},values(ae,ue){if(oe.strictTargetVariables){for(const ce of ae.variables)if(re.has(ce))throw new Error(`Tried to bind variable ${(0,q.termToString)(ce)} in a VALUES operator.`)}else{const ce=ae.variables.filter(le=>!re.has(le)),se=ae.bindings.map(le=>{const de={...le};let he=!0;return re.forEach((pe,ge)=>{const be=(0,q.termToString)(ge);be in de&&(pe.equals(de[be])||(he=!1),delete de[be])}),he?de:void 0}).filter(Boolean);return{recurse:!0,result:ue.createValues(ce,se)}}return{recurse:!1,result:ae}},expression(ae,ue){if(!oe.bindFilter)return{recurse:!1,result:ae};if(ae.expressionType==="term")return{recurse:!1,result:ue.createTermExpression(F(ae.term,re))};if(ae.expressionType==="operator")return ae.operator==="bound"&&ae.args.length===1&&ae.args[0].expressionType==="term"&&[...re.keys()].some(ce=>ae.args[0].term.equals(ce))?{recurse:!1,result:ue.createTermExpression(ue.dataFactory.literal("true",ue.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")))}:{recurse:!0,result:ae};if(ae.expressionType==="aggregate"&&"variable"in ae&&re.has(ae.variable)){if(oe.strictTargetVariables)throw new Error(`Tried to bind ${(0,q.termToString)(ae.variable)} in a ${ae.aggregator} aggregate.`);return{recurse:!0,result:ae}}return{recurse:!0,result:ae}}},ne)}G.materializeOperation=Y;function X(te,re,ne){const ie=[];for(const[oe,ae]of re)if(!ne||ne.some(ue=>ue.equals(oe))){const ue={[(0,q.termToString)(oe)]:ae};ie.push(te.createValues([oe],[ue]))}return ie}},"../node_modules/@comunica/utils-query-operation/lib/Utils.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.removeOperationSource=G.assignOperationSource=G.getOperationSource=G.testReadOnly=G.validateQueryOutput=G.getSafeVoid=G.getSafeBoolean=G.getSafeQuads=G.getSafeBindings=void 0;const q=Q("../node_modules/@comunica/context-entries/lib/index.js"),W=Q("../node_modules/@comunica/core/lib/index.js");function J(ae){return te(ae,"bindings"),ae}G.getSafeBindings=J;function F(ae){return te(ae,"quads"),ae}G.getSafeQuads=F;function Y(ae){return te(ae,"boolean"),ae}G.getSafeBoolean=Y;function X(ae){return te(ae,"void"),ae}G.getSafeVoid=X;function te(ae,ue){if(ae.type!==ue)throw new Error(`Invalid query output type: Expected '${ue}' but got '${ae.type}'`)}G.validateQueryOutput=te;function re(ae){return ae.get(q.KeysQueryOperation.readOnly)?(0,W.failTest)("Attempted a write operation in read-only mode"):(0,W.passTestVoid)()}G.testReadOnly=re;function ne(ae){var ue;return(ue=ae.metadata)==null?void 0:ue.scopedSource}G.getOperationSource=ne;function ie(ae,ue){return ae={...ae},ae.metadata=ae.metadata?{...ae.metadata}:{},ae.metadata.scopedSource=ue,ae}G.assignOperationSource=ie;function oe(ae){var ue;(ue=ae.metadata)==null||delete ue.scopedSource,ae.metadata&&Object.keys(ae.metadata).length===0&&delete ae.metadata}G.removeOperationSource=oe},"../node_modules/@comunica/utils-query-operation/lib/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/@comunica/utils-query-operation/lib/FragmentSelectorShapes.js"),G),W(Q("../node_modules/@comunica/utils-query-operation/lib/Utils.js"),G),W(Q("../node_modules/@comunica/utils-query-operation/lib/MaterializeBindings.js"),G)},"../node_modules/asyncjoin/index.js":(U,G,Q)=>{const q=Q("../node_modules/asyncjoin/join/DynamicNestedLoopJoin.js"),W=Q("../node_modules/asyncjoin/join/HashJoin.js"),J=Q("../node_modules/asyncjoin/join/NestedLoopJoin.js"),F=Q("../node_modules/asyncjoin/join/SymmetricHashJoin.js"),Y=Q("../node_modules/asyncjoin/util/MergeIterator.js");U.exports={DynamicNestedLoopJoin:q,HashJoin:W,NestedLoopJoin:J,SymmetricHashJoin:F,MergeStream:Y}},"../node_modules/asyncjoin/join/DynamicNestedLoopJoin.js":(U,G,Q)=>{let q=Q("asynciterator"),W=q.MultiTransformIterator,J=q.SimpleTransformIterator;class F extends W{constructor(X,te,re,ne){super(X,ne),this.funRight=te,this.funJoin=re}_createTransformer(X){return new J(this.funRight(X),{transform:(te,re,ne)=>{let ie=this.funJoin(X,te);ie!==null&&ne(ie),re()}})}}U.exports=F},"../node_modules/asyncjoin/join/HashJoin.js":(U,G,Q)=>{let q=Q("asynciterator").AsyncIterator;class W extends q{constructor(F,Y,X,te){super(),this.addedDataListener=!1,this.left=F,this.right=Y,this.funHash=X,this.funJoin=te,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",ne=>this.destroy(ne)),this.right.on("error",ne=>this.destroy(ne)),this.readable=!1,this.left.on("end",re.bind(this));function re(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}this.on("newListener",ne=>{ne==="data"&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let Y=this.matches[this.matchIdx++],X=this.funJoin(Y,this.match);if(X!==null)return X}if(this.hasResults()||this._end(),this.match=this.right.read(),this.match===null)return this.readable=!1,null;let F=this.funHash(this.match);this.matches=this.leftMap.get(F)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",F.bind(this));function F(Y){let X=this.funHash(Y),te=this.leftMap.get(X);te||(te=[],this.leftMap.set(X,te)),te.push(Y)}}}U.exports=W},"../node_modules/asyncjoin/join/NestedLoopJoin.js":(U,G,Q)=>{const{MultiTransformIterator:q,SimpleTransformIterator:W,scheduleTask:J}=Q("asynciterator");class F extends q{constructor(X,te,re,ne){super(X,ne),this.right=te,this.funJoin=re,this.on("end",()=>this.right.close())}_end(){super._end(),J(()=>this.right.destroy())}_createTransformer(X){return new W(this.right.clone(),{transform:(te,re,ne)=>{let ie=this.funJoin(X,te);ie!==null&&ne(ie),re()}})}}U.exports=F},"../node_modules/asyncjoin/join/SymmetricHashJoin.js":(U,G,Q)=>{let q=Q("asynciterator").AsyncIterator;class W extends q{constructor(F,Y,X,te){super(),this.left=F,this.right=Y,this.funHash=X,this.funJoin=te,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",re=>this.destroy(re)),this.right.on("error",re=>this.destroy(re)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let X=this.matches[this.matchIdx++],te=this.usedLeft?this.funJoin(this.match,X):this.funJoin(X,this.match);if(te!==null)return te}this.hasResults()||this._end();let F=null;for(let X=0;X<2&&(F=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,F===null);++X);if(this.done||F===null)return this.readable=!1,null;let Y=this.funHash(F);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let X=this.usedLeft?this.leftMap:this.rightMap;X.has(Y)||X.set(Y,[]);let te=X.get(Y);te||(te=[],X.set(Y,te)),te.push(F)}this.match=F,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(Y)||[],this.matchIdx=0}}}U.exports=W},"../node_modules/asyncjoin/util/MergeIterator.js":(U,G,Q)=>{let q=Q("asynciterator").AsyncIterator;class W extends q{constructor(F){super(),Array.isArray(F)||(F=Array.prototype.slice.call(arguments)),this.streams=F;for(let Y of F)Y.on("readable",()=>this.emit("readable")),Y.on("end",()=>this._removeStream(Y));this.streams.length===0&&this.close(),this.idx=this.streams.length-1}_removeStream(F){let Y=this.streams.indexOf(F);Y<0||(this.streams.splice(Y,1),this.idx>=this.streams.length&&--this.idx,this.streams.length===0&&this._end())}close(){super.close();for(let F of this.streams)F.close()}read(){for(let F=0;F<this.streams.length;++F){this.idx=(this.idx+1)%this.streams.length;let Y=this.streams[this.idx].read();if(Y!==null)return Y}return null}}U.exports=W},"../node_modules/bignumber.js/bignumber.js":function(U,G,Q){var q;(function(W){var J,F=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Y=Math.ceil,X=Math.floor,te="[BigNumber Error] ",re=te+"Number primitive has more than 15 significant digits: ",ne=1e14,ie=14,oe=9007199254740991,ae=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ue=1e7,ce=1e9;function se(Ee){var ke,Pe,Te,xe=Xe.prototype={constructor:Xe,toString:null,valueOf:null},Ne=new Xe(1),Se=20,Ge=4,Ce=-7,ze=21,Ve=-1e7,Ke=1e7,Ze=!1,et=1,ot=0,nt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},dt="0123456789abcdefghijklmnopqrstuvwxyz",Fe=!0;function Xe(we,Re){var _e,Me,Ie,De,qe,Le,Qe,We,$e=this;if(!($e instanceof Xe))return new Xe(we,Re);if(Re==null){if(we&&we._isBigNumber===!0){$e.s=we.s,!we.c||we.e>Ke?$e.c=$e.e=null:we.e<Ve?$e.c=[$e.e=0]:($e.e=we.e,$e.c=we.c.slice());return}if((Le=typeof we=="number")&&we*0==0){if($e.s=1/we<0?(we=-we,-1):1,we===~~we){for(De=0,qe=we;qe>=10;qe/=10,De++);De>Ke?$e.c=$e.e=null:($e.e=De,$e.c=[we]);return}We=String(we)}else{if(!F.test(We=String(we)))return Te($e,We,Le);$e.s=We.charCodeAt(0)==45?(We=We.slice(1),-1):1}(De=We.indexOf("."))>-1&&(We=We.replace(".","")),(qe=We.search(/e/i))>0?(De<0&&(De=qe),De+=+We.slice(qe+1),We=We.substring(0,qe)):De<0&&(De=We.length)}else{if(pe(Re,2,dt.length,"Base"),Re==10&&Fe)return $e=new Xe(we),mt($e,Se+$e.e+1,Ge);if(We=String(we),Le=typeof we=="number"){if(we*0!=0)return Te($e,We,Le,Re);if($e.s=1/we<0?(We=We.slice(1),-1):1,Xe.DEBUG&&We.replace(/^0\.0*|\./,"").length>15)throw Error(re+we)}else $e.s=We.charCodeAt(0)===45?(We=We.slice(1),-1):1;for(_e=dt.slice(0,Re),De=qe=0,Qe=We.length;qe<Qe;qe++)if(_e.indexOf(Me=We.charAt(qe))<0){if(Me=="."){if(qe>De){De=Qe;continue}}else if(!Ie&&(We==We.toUpperCase()&&(We=We.toLowerCase())||We==We.toLowerCase()&&(We=We.toUpperCase()))){Ie=!0,qe=-1,De=0;continue}return Te($e,String(we),Le,Re)}Le=!1,We=Pe(We,Re,10,$e.s),(De=We.indexOf("."))>-1?We=We.replace(".",""):De=We.length}for(qe=0;We.charCodeAt(qe)===48;qe++);for(Qe=We.length;We.charCodeAt(--Qe)===48;);if(We=We.slice(qe,++Qe)){if(Qe-=qe,Le&&Xe.DEBUG&&Qe>15&&(we>oe||we!==X(we)))throw Error(re+$e.s*we);if((De=De-qe-1)>Ke)$e.c=$e.e=null;else if(De<Ve)$e.c=[$e.e=0];else{if($e.e=De,$e.c=[],qe=(De+1)%ie,De<0&&(qe+=ie),qe<Qe){for(qe&&$e.c.push(+We.slice(0,qe)),Qe-=ie;qe<Qe;)$e.c.push(+We.slice(qe,qe+=ie));qe=ie-(We=We.slice(qe)).length}else qe-=Qe;for(;qe--;We+="0");$e.c.push(+We)}}else $e.c=[$e.e=0]}Xe.clone=se,Xe.ROUND_UP=0,Xe.ROUND_DOWN=1,Xe.ROUND_CEIL=2,Xe.ROUND_FLOOR=3,Xe.ROUND_HALF_UP=4,Xe.ROUND_HALF_DOWN=5,Xe.ROUND_HALF_EVEN=6,Xe.ROUND_HALF_CEIL=7,Xe.ROUND_HALF_FLOOR=8,Xe.EUCLID=9,Xe.config=Xe.set=function(we){var Re,_e;if(we!=null)if(typeof we=="object"){if(we.hasOwnProperty(Re="DECIMAL_PLACES")&&(_e=we[Re],pe(_e,0,ce,Re),Se=_e),we.hasOwnProperty(Re="ROUNDING_MODE")&&(_e=we[Re],pe(_e,0,8,Re),Ge=_e),we.hasOwnProperty(Re="EXPONENTIAL_AT")&&(_e=we[Re],_e&&_e.pop?(pe(_e[0],-ce,0,Re),pe(_e[1],0,ce,Re),Ce=_e[0],ze=_e[1]):(pe(_e,-ce,ce,Re),Ce=-(ze=_e<0?-_e:_e))),we.hasOwnProperty(Re="RANGE"))if(_e=we[Re],_e&&_e.pop)pe(_e[0],-ce,-1,Re),pe(_e[1],1,ce,Re),Ve=_e[0],Ke=_e[1];else if(pe(_e,-ce,ce,Re),_e)Ve=-(Ke=_e<0?-_e:_e);else throw Error(te+Re+" cannot be zero: "+_e);if(we.hasOwnProperty(Re="CRYPTO"))if(_e=we[Re],_e===!!_e)if(_e)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))Ze=_e;else throw Ze=!_e,Error(te+"crypto unavailable");else Ze=_e;else throw Error(te+Re+" not true or false: "+_e);if(we.hasOwnProperty(Re="MODULO_MODE")&&(_e=we[Re],pe(_e,0,9,Re),et=_e),we.hasOwnProperty(Re="POW_PRECISION")&&(_e=we[Re],pe(_e,0,ce,Re),ot=_e),we.hasOwnProperty(Re="FORMAT"))if(_e=we[Re],typeof _e=="object")nt=_e;else throw Error(te+Re+" not an object: "+_e);if(we.hasOwnProperty(Re="ALPHABET"))if(_e=we[Re],typeof _e=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(_e))Fe=_e.slice(0,10)=="0123456789",dt=_e;else throw Error(te+Re+" invalid: "+_e)}else throw Error(te+"Object expected: "+we);return{DECIMAL_PLACES:Se,ROUNDING_MODE:Ge,EXPONENTIAL_AT:[Ce,ze],RANGE:[Ve,Ke],CRYPTO:Ze,MODULO_MODE:et,POW_PRECISION:ot,FORMAT:nt,ALPHABET:dt}},Xe.isBigNumber=function(we){if(!we||we._isBigNumber!==!0)return!1;if(!Xe.DEBUG)return!0;var Re,_e,Me=we.c,Ie=we.e,De=we.s;e:if({}.toString.call(Me)=="[object Array]"){if((De===1||De===-1)&&Ie>=-ce&&Ie<=ce&&Ie===X(Ie)){if(Me[0]===0){if(Ie===0&&Me.length===1)return!0;break e}if(Re=(Ie+1)%ie,Re<1&&(Re+=ie),String(Me[0]).length==Re){for(Re=0;Re<Me.length;Re++)if(_e=Me[Re],_e<0||_e>=ne||_e!==X(_e))break e;if(_e!==0)return!0}}}else if(Me===null&&Ie===null&&(De===null||De===1||De===-1))return!0;throw Error(te+"Invalid BigNumber: "+we)},Xe.maximum=Xe.max=function(){return yt(arguments,-1)},Xe.minimum=Xe.min=function(){return yt(arguments,1)},Xe.random=function(){var we=9007199254740992,Re=Math.random()*we&2097151?function(){return X(Math.random()*we)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(_e){var Me,Ie,De,qe,Le,Qe=0,We=[],$e=new Xe(Ne);if(_e==null?_e=Se:pe(_e,0,ce),qe=Y(_e/ie),Ze)if(crypto.getRandomValues){for(Me=crypto.getRandomValues(new Uint32Array(qe*=2));Qe<qe;)Le=Me[Qe]*131072+(Me[Qe+1]>>>11),Le>=9e15?(Ie=crypto.getRandomValues(new Uint32Array(2)),Me[Qe]=Ie[0],Me[Qe+1]=Ie[1]):(We.push(Le%1e14),Qe+=2);Qe=qe/2}else if(crypto.randomBytes){for(Me=crypto.randomBytes(qe*=7);Qe<qe;)Le=(Me[Qe]&31)*281474976710656+Me[Qe+1]*1099511627776+Me[Qe+2]*4294967296+Me[Qe+3]*16777216+(Me[Qe+4]<<16)+(Me[Qe+5]<<8)+Me[Qe+6],Le>=9e15?crypto.randomBytes(7).copy(Me,Qe):(We.push(Le%1e14),Qe+=7);Qe=qe/7}else throw Ze=!1,Error(te+"crypto unavailable");if(!Ze)for(;Qe<qe;)Le=Re(),Le<9e15&&(We[Qe++]=Le%1e14);for(qe=We[--Qe],_e%=ie,qe&&_e&&(Le=ae[ie-_e],We[Qe]=X(qe/Le)*Le);We[Qe]===0;We.pop(),Qe--);if(Qe<0)We=[De=0];else{for(De=-1;We[0]===0;We.splice(0,1),De-=ie);for(Qe=1,Le=We[0];Le>=10;Le/=10,Qe++);Qe<ie&&(De-=ie-Qe)}return $e.e=De,$e.c=We,$e}}(),Xe.sum=function(){for(var we=1,Re=arguments,_e=new Xe(Re[0]);we<Re.length;)_e=_e.plus(Re[we++]);return _e},Pe=function(){var we="0123456789";function Re(_e,Me,Ie,De){for(var qe,Le=[0],Qe,We=0,$e=_e.length;We<$e;){for(Qe=Le.length;Qe--;Le[Qe]*=Me);for(Le[0]+=De.indexOf(_e.charAt(We++)),qe=0;qe<Le.length;qe++)Le[qe]>Ie-1&&(Le[qe+1]==null&&(Le[qe+1]=0),Le[qe+1]+=Le[qe]/Ie|0,Le[qe]%=Ie)}return Le.reverse()}return function(_e,Me,Ie,De,qe){var Le,Qe,We,$e,Ye,rt,at,me,fe=_e.indexOf("."),ye=Se,Ae=Ge;for(fe>=0&&($e=ot,ot=0,_e=_e.replace(".",""),me=new Xe(Me),rt=me.pow(_e.length-fe),ot=$e,me.c=Re(ve(de(rt.c),rt.e,"0"),10,Ie,we),me.e=me.c.length),at=Re(_e,Me,Ie,qe?(Le=dt,we):(Le=we,dt)),We=$e=at.length;at[--$e]==0;at.pop());if(!at[0])return Le.charAt(0);if(fe<0?--We:(rt.c=at,rt.e=We,rt.s=De,rt=ke(rt,me,ye,Ae,Ie),at=rt.c,Ye=rt.r,We=rt.e),Qe=We+ye+1,fe=at[Qe],$e=Ie/2,Ye=Ye||Qe<0||at[Qe+1]!=null,Ye=Ae<4?(fe!=null||Ye)&&(Ae==0||Ae==(rt.s<0?3:2)):fe>$e||fe==$e&&(Ae==4||Ye||Ae==6&&at[Qe-1]&1||Ae==(rt.s<0?8:7)),Qe<1||!at[0])_e=Ye?ve(Le.charAt(1),-ye,Le.charAt(0)):Le.charAt(0);else{if(at.length=Qe,Ye)for(--Ie;++at[--Qe]>Ie;)at[Qe]=0,Qe||(++We,at=[1].concat(at));for($e=at.length;!at[--$e];);for(fe=0,_e="";fe<=$e;_e+=Le.charAt(at[fe++]));_e=ve(_e,We,Le.charAt(0))}return _e}}(),ke=function(){function we(Me,Ie,De){var qe,Le,Qe,We,$e=0,Ye=Me.length,rt=Ie%ue,at=Ie/ue|0;for(Me=Me.slice();Ye--;)Qe=Me[Ye]%ue,We=Me[Ye]/ue|0,qe=at*Qe+We*rt,Le=rt*Qe+qe%ue*ue+$e,$e=(Le/De|0)+(qe/ue|0)+at*We,Me[Ye]=Le%De;return $e&&(Me=[$e].concat(Me)),Me}function Re(Me,Ie,De,qe){var Le,Qe;if(De!=qe)Qe=De>qe?1:-1;else for(Le=Qe=0;Le<De;Le++)if(Me[Le]!=Ie[Le]){Qe=Me[Le]>Ie[Le]?1:-1;break}return Qe}function _e(Me,Ie,De,qe){for(var Le=0;De--;)Me[De]-=Le,Le=Me[De]<Ie[De]?1:0,Me[De]=Le*qe+Me[De]-Ie[De];for(;!Me[0]&&Me.length>1;Me.splice(0,1));}return function(Me,Ie,De,qe,Le){var Qe,We,$e,Ye,rt,at,me,fe,ye,Ae,Be,He,Je,st,ut,ft,At,bt=Me.s==Ie.s?1:-1,It=Me.c,Et=Ie.c;if(!It||!It[0]||!Et||!Et[0])return new Xe(!Me.s||!Ie.s||(It?Et&&It[0]==Et[0]:!Et)?NaN:It&&It[0]==0||!Et?bt*0:bt/0);for(fe=new Xe(bt),ye=fe.c=[],We=Me.e-Ie.e,bt=De+We+1,Le||(Le=ne,We=le(Me.e/ie)-le(Ie.e/ie),bt=bt/ie|0),$e=0;Et[$e]==(It[$e]||0);$e++);if(Et[$e]>(It[$e]||0)&&We--,bt<0)ye.push(1),Ye=!0;else{for(st=It.length,ft=Et.length,$e=0,bt+=2,rt=X(Le/(Et[0]+1)),rt>1&&(Et=we(Et,rt,Le),It=we(It,rt,Le),ft=Et.length,st=It.length),Je=ft,Ae=It.slice(0,ft),Be=Ae.length;Be<ft;Ae[Be++]=0);At=Et.slice(),At=[0].concat(At),ut=Et[0],Et[1]>=Le/2&&ut++;do{if(rt=0,Qe=Re(Et,Ae,ft,Be),Qe<0){if(He=Ae[0],ft!=Be&&(He=He*Le+(Ae[1]||0)),rt=X(He/ut),rt>1)for(rt>=Le&&(rt=Le-1),at=we(Et,rt,Le),me=at.length,Be=Ae.length;Re(at,Ae,me,Be)==1;)rt--,_e(at,ft<me?At:Et,me,Le),me=at.length,Qe=1;else rt==0&&(Qe=rt=1),at=Et.slice(),me=at.length;if(me<Be&&(at=[0].concat(at)),_e(Ae,at,Be,Le),Be=Ae.length,Qe==-1)for(;Re(Et,Ae,ft,Be)<1;)rt++,_e(Ae,ft<Be?At:Et,Be,Le),Be=Ae.length}else Qe===0&&(rt++,Ae=[0]);ye[$e++]=rt,Ae[0]?Ae[Be++]=It[Je]||0:(Ae=[It[Je]],Be=1)}while((Je++<st||Ae[0]!=null)&&bt--);Ye=Ae[0]!=null,ye[0]||ye.splice(0,1)}if(Le==ne){for($e=1,bt=ye[0];bt>=10;bt/=10,$e++);mt(fe,De+(fe.e=$e+We*ie-1)+1,qe,Ye)}else fe.e=We,fe.r=+Ye;return fe}}();function pt(we,Re,_e,Me){var Ie,De,qe,Le,Qe;if(_e==null?_e=Ge:pe(_e,0,8),!we.c)return we.toString();if(Ie=we.c[0],qe=we.e,Re==null)Qe=de(we.c),Qe=Me==1||Me==2&&(qe<=Ce||qe>=ze)?be(Qe,qe):ve(Qe,qe,"0");else if(we=mt(new Xe(we),Re,_e),De=we.e,Qe=de(we.c),Le=Qe.length,Me==1||Me==2&&(Re<=De||De<=Ce)){for(;Le<Re;Qe+="0",Le++);Qe=be(Qe,De)}else if(Re-=qe,Qe=ve(Qe,De,"0"),De+1>Le){if(--Re>0)for(Qe+=".";Re--;Qe+="0");}else if(Re+=De-Le,Re>0)for(De+1==Le&&(Qe+=".");Re--;Qe+="0");return we.s<0&&Ie?"-"+Qe:Qe}function yt(we,Re){for(var _e,Me,Ie=1,De=new Xe(we[0]);Ie<we.length;Ie++)Me=new Xe(we[Ie]),(!Me.s||(_e=he(De,Me))===Re||_e===0&&De.s===Re)&&(De=Me);return De}function vt(we,Re,_e){for(var Me=1,Ie=Re.length;!Re[--Ie];Re.pop());for(Ie=Re[0];Ie>=10;Ie/=10,Me++);return(_e=Me+_e*ie-1)>Ke?we.c=we.e=null:_e<Ve?we.c=[we.e=0]:(we.e=_e,we.c=Re),we}Te=function(){var we=/^(-?)0([xbo])(?=\w[\w.]*$)/i,Re=/^([^.]+)\.$/,_e=/^\.([^.]+)$/,Me=/^-?(Infinity|NaN)$/,Ie=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(De,qe,Le,Qe){var We,$e=Le?qe:qe.replace(Ie,"");if(Me.test($e))De.s=isNaN($e)?null:$e<0?-1:1;else{if(!Le&&($e=$e.replace(we,function(Ye,rt,at){return We=(at=at.toLowerCase())=="x"?16:at=="b"?2:8,!Qe||Qe==We?rt:Ye}),Qe&&(We=Qe,$e=$e.replace(Re,"$1").replace(_e,"0.$1")),qe!=$e))return new Xe($e,We);if(Xe.DEBUG)throw Error(te+"Not a"+(Qe?" base "+Qe:"")+" number: "+qe);De.s=null}De.c=De.e=null}}();function mt(we,Re,_e,Me){var Ie,De,qe,Le,Qe,We,$e,Ye=we.c,rt=ae;if(Ye){e:{for(Ie=1,Le=Ye[0];Le>=10;Le/=10,Ie++);if(De=Re-Ie,De<0)De+=ie,qe=Re,Qe=Ye[We=0],$e=X(Qe/rt[Ie-qe-1]%10);else if(We=Y((De+1)/ie),We>=Ye.length)if(Me){for(;Ye.length<=We;Ye.push(0));Qe=$e=0,Ie=1,De%=ie,qe=De-ie+1}else break e;else{for(Qe=Le=Ye[We],Ie=1;Le>=10;Le/=10,Ie++);De%=ie,qe=De-ie+Ie,$e=qe<0?0:X(Qe/rt[Ie-qe-1]%10)}if(Me=Me||Re<0||Ye[We+1]!=null||(qe<0?Qe:Qe%rt[Ie-qe-1]),Me=_e<4?($e||Me)&&(_e==0||_e==(we.s<0?3:2)):$e>5||$e==5&&(_e==4||Me||_e==6&&(De>0?qe>0?Qe/rt[Ie-qe]:0:Ye[We-1])%10&1||_e==(we.s<0?8:7)),Re<1||!Ye[0])return Ye.length=0,Me?(Re-=we.e+1,Ye[0]=rt[(ie-Re%ie)%ie],we.e=-Re||0):Ye[0]=we.e=0,we;if(De==0?(Ye.length=We,Le=1,We--):(Ye.length=We+1,Le=rt[ie-De],Ye[We]=qe>0?X(Qe/rt[Ie-qe]%rt[qe])*Le:0),Me)for(;;)if(We==0){for(De=1,qe=Ye[0];qe>=10;qe/=10,De++);for(qe=Ye[0]+=Le,Le=1;qe>=10;qe/=10,Le++);De!=Le&&(we.e++,Ye[0]==ne&&(Ye[0]=1));break}else{if(Ye[We]+=Le,Ye[We]!=ne)break;Ye[We--]=0,Le=1}for(De=Ye.length;Ye[--De]===0;Ye.pop());}we.e>Ke?we.c=we.e=null:we.e<Ve&&(we.c=[we.e=0])}return we}function Tt(we){var Re,_e=we.e;return _e===null?we.toString():(Re=de(we.c),Re=_e<=Ce||_e>=ze?be(Re,_e):ve(Re,_e,"0"),we.s<0?"-"+Re:Re)}return xe.absoluteValue=xe.abs=function(){var we=new Xe(this);return we.s<0&&(we.s=1),we},xe.comparedTo=function(we,Re){return he(this,new Xe(we,Re))},xe.decimalPlaces=xe.dp=function(we,Re){var _e,Me,Ie,De=this;if(we!=null)return pe(we,0,ce),Re==null?Re=Ge:pe(Re,0,8),mt(new Xe(De),we+De.e+1,Re);if(!(_e=De.c))return null;if(Me=((Ie=_e.length-1)-le(this.e/ie))*ie,Ie=_e[Ie])for(;Ie%10==0;Ie/=10,Me--);return Me<0&&(Me=0),Me},xe.dividedBy=xe.div=function(we,Re){return ke(this,new Xe(we,Re),Se,Ge)},xe.dividedToIntegerBy=xe.idiv=function(we,Re){return ke(this,new Xe(we,Re),0,1)},xe.exponentiatedBy=xe.pow=function(we,Re){var _e,Me,Ie,De,qe,Le,Qe,We,$e,Ye=this;if(we=new Xe(we),we.c&&!we.isInteger())throw Error(te+"Exponent not an integer: "+Tt(we));if(Re!=null&&(Re=new Xe(Re)),Le=we.e>14,!Ye.c||!Ye.c[0]||Ye.c[0]==1&&!Ye.e&&Ye.c.length==1||!we.c||!we.c[0])return $e=new Xe(Math.pow(+Tt(Ye),Le?we.s*(2-ge(we)):+Tt(we))),Re?$e.mod(Re):$e;if(Qe=we.s<0,Re){if(Re.c?!Re.c[0]:!Re.s)return new Xe(NaN);Me=!Qe&&Ye.isInteger()&&Re.isInteger(),Me&&(Ye=Ye.mod(Re))}else{if(we.e>9&&(Ye.e>0||Ye.e<-1||(Ye.e==0?Ye.c[0]>1||Le&&Ye.c[1]>=24e7:Ye.c[0]<8e13||Le&&Ye.c[0]<=9999975e7)))return De=Ye.s<0&&ge(we)?-0:0,Ye.e>-1&&(De=1/De),new Xe(Qe?1/De:De);ot&&(De=Y(ot/ie+2))}for(Le?(_e=new Xe(.5),Qe&&(we.s=1),We=ge(we)):(Ie=Math.abs(+Tt(we)),We=Ie%2),$e=new Xe(Ne);;){if(We){if($e=$e.times(Ye),!$e.c)break;De?$e.c.length>De&&($e.c.length=De):Me&&($e=$e.mod(Re))}if(Ie){if(Ie=X(Ie/2),Ie===0)break;We=Ie%2}else if(we=we.times(_e),mt(we,we.e+1,1),we.e>14)We=ge(we);else{if(Ie=+Tt(we),Ie===0)break;We=Ie%2}Ye=Ye.times(Ye),De?Ye.c&&Ye.c.length>De&&(Ye.c.length=De):Me&&(Ye=Ye.mod(Re))}return Me?$e:(Qe&&($e=Ne.div($e)),Re?$e.mod(Re):De?mt($e,ot,Ge,qe):$e)},xe.integerValue=function(we){var Re=new Xe(this);return we==null?we=Ge:pe(we,0,8),mt(Re,Re.e+1,we)},xe.isEqualTo=xe.eq=function(we,Re){return he(this,new Xe(we,Re))===0},xe.isFinite=function(){return!!this.c},xe.isGreaterThan=xe.gt=function(we,Re){return he(this,new Xe(we,Re))>0},xe.isGreaterThanOrEqualTo=xe.gte=function(we,Re){return(Re=he(this,new Xe(we,Re)))===1||Re===0},xe.isInteger=function(){return!!this.c&&le(this.e/ie)>this.c.length-2},xe.isLessThan=xe.lt=function(we,Re){return he(this,new Xe(we,Re))<0},xe.isLessThanOrEqualTo=xe.lte=function(we,Re){return(Re=he(this,new Xe(we,Re)))===-1||Re===0},xe.isNaN=function(){return!this.s},xe.isNegative=function(){return this.s<0},xe.isPositive=function(){return this.s>0},xe.isZero=function(){return!!this.c&&this.c[0]==0},xe.minus=function(we,Re){var _e,Me,Ie,De,qe=this,Le=qe.s;if(we=new Xe(we,Re),Re=we.s,!Le||!Re)return new Xe(NaN);if(Le!=Re)return we.s=-Re,qe.plus(we);var Qe=qe.e/ie,We=we.e/ie,$e=qe.c,Ye=we.c;if(!Qe||!We){if(!$e||!Ye)return $e?(we.s=-Re,we):new Xe(Ye?qe:NaN);if(!$e[0]||!Ye[0])return Ye[0]?(we.s=-Re,we):new Xe($e[0]?qe:Ge==3?-0:0)}if(Qe=le(Qe),We=le(We),$e=$e.slice(),Le=Qe-We){for((De=Le<0)?(Le=-Le,Ie=$e):(We=Qe,Ie=Ye),Ie.reverse(),Re=Le;Re--;Ie.push(0));Ie.reverse()}else for(Me=(De=(Le=$e.length)<(Re=Ye.length))?Le:Re,Le=Re=0;Re<Me;Re++)if($e[Re]!=Ye[Re]){De=$e[Re]<Ye[Re];break}if(De&&(Ie=$e,$e=Ye,Ye=Ie,we.s=-we.s),Re=(Me=Ye.length)-(_e=$e.length),Re>0)for(;Re--;$e[_e++]=0);for(Re=ne-1;Me>Le;){if($e[--Me]<Ye[Me]){for(_e=Me;_e&&!$e[--_e];$e[_e]=Re);--$e[_e],$e[Me]+=ne}$e[Me]-=Ye[Me]}for(;$e[0]==0;$e.splice(0,1),--We);return $e[0]?vt(we,$e,We):(we.s=Ge==3?-1:1,we.c=[we.e=0],we)},xe.modulo=xe.mod=function(we,Re){var _e,Me,Ie=this;return we=new Xe(we,Re),!Ie.c||!we.s||we.c&&!we.c[0]?new Xe(NaN):!we.c||Ie.c&&!Ie.c[0]?new Xe(Ie):(et==9?(Me=we.s,we.s=1,_e=ke(Ie,we,0,3),we.s=Me,_e.s*=Me):_e=ke(Ie,we,0,et),we=Ie.minus(_e.times(we)),!we.c[0]&&et==1&&(we.s=Ie.s),we)},xe.multipliedBy=xe.times=function(we,Re){var _e,Me,Ie,De,qe,Le,Qe,We,$e,Ye,rt,at,me,fe,ye,Ae=this,Be=Ae.c,He=(we=new Xe(we,Re)).c;if(!Be||!He||!Be[0]||!He[0])return!Ae.s||!we.s||Be&&!Be[0]&&!He||He&&!He[0]&&!Be?we.c=we.e=we.s=null:(we.s*=Ae.s,!Be||!He?we.c=we.e=null:(we.c=[0],we.e=0)),we;for(Me=le(Ae.e/ie)+le(we.e/ie),we.s*=Ae.s,Qe=Be.length,Ye=He.length,Qe<Ye&&(me=Be,Be=He,He=me,Ie=Qe,Qe=Ye,Ye=Ie),Ie=Qe+Ye,me=[];Ie--;me.push(0));for(fe=ne,ye=ue,Ie=Ye;--Ie>=0;){for(_e=0,rt=He[Ie]%ye,at=He[Ie]/ye|0,qe=Qe,De=Ie+qe;De>Ie;)We=Be[--qe]%ye,$e=Be[qe]/ye|0,Le=at*We+$e*rt,We=rt*We+Le%ye*ye+me[De]+_e,_e=(We/fe|0)+(Le/ye|0)+at*$e,me[De--]=We%fe;me[De]=_e}return _e?++Me:me.splice(0,1),vt(we,me,Me)},xe.negated=function(){var we=new Xe(this);return we.s=-we.s||null,we},xe.plus=function(we,Re){var _e,Me=this,Ie=Me.s;if(we=new Xe(we,Re),Re=we.s,!Ie||!Re)return new Xe(NaN);if(Ie!=Re)return we.s=-Re,Me.minus(we);var De=Me.e/ie,qe=we.e/ie,Le=Me.c,Qe=we.c;if(!De||!qe){if(!Le||!Qe)return new Xe(Ie/0);if(!Le[0]||!Qe[0])return Qe[0]?we:new Xe(Le[0]?Me:Ie*0)}if(De=le(De),qe=le(qe),Le=Le.slice(),Ie=De-qe){for(Ie>0?(qe=De,_e=Qe):(Ie=-Ie,_e=Le),_e.reverse();Ie--;_e.push(0));_e.reverse()}for(Ie=Le.length,Re=Qe.length,Ie-Re<0&&(_e=Qe,Qe=Le,Le=_e,Re=Ie),Ie=0;Re;)Ie=(Le[--Re]=Le[Re]+Qe[Re]+Ie)/ne|0,Le[Re]=ne===Le[Re]?0:Le[Re]%ne;return Ie&&(Le=[Ie].concat(Le),++qe),vt(we,Le,qe)},xe.precision=xe.sd=function(we,Re){var _e,Me,Ie,De=this;if(we!=null&&we!==!!we)return pe(we,1,ce),Re==null?Re=Ge:pe(Re,0,8),mt(new Xe(De),we,Re);if(!(_e=De.c))return null;if(Ie=_e.length-1,Me=Ie*ie+1,Ie=_e[Ie]){for(;Ie%10==0;Ie/=10,Me--);for(Ie=_e[0];Ie>=10;Ie/=10,Me++);}return we&&De.e+1>Me&&(Me=De.e+1),Me},xe.shiftedBy=function(we){return pe(we,-oe,oe),this.times("1e"+we)},xe.squareRoot=xe.sqrt=function(){var we,Re,_e,Me,Ie,De=this,qe=De.c,Le=De.s,Qe=De.e,We=Se+4,$e=new Xe("0.5");if(Le!==1||!qe||!qe[0])return new Xe(!Le||Le<0&&(!qe||qe[0])?NaN:qe?De:1/0);if(Le=Math.sqrt(+Tt(De)),Le==0||Le==1/0?(Re=de(qe),(Re.length+Qe)%2==0&&(Re+="0"),Le=Math.sqrt(+Re),Qe=le((Qe+1)/2)-(Qe<0||Qe%2),Le==1/0?Re="5e"+Qe:(Re=Le.toExponential(),Re=Re.slice(0,Re.indexOf("e")+1)+Qe),_e=new Xe(Re)):_e=new Xe(Le+""),_e.c[0]){for(Qe=_e.e,Le=Qe+We,Le<3&&(Le=0);;)if(Ie=_e,_e=$e.times(Ie.plus(ke(De,Ie,We,1))),de(Ie.c).slice(0,Le)===(Re=de(_e.c)).slice(0,Le))if(_e.e<Qe&&--Le,Re=Re.slice(Le-3,Le+1),Re=="9999"||!Me&&Re=="4999"){if(!Me&&(mt(Ie,Ie.e+Se+2,0),Ie.times(Ie).eq(De))){_e=Ie;break}We+=4,Le+=4,Me=1}else{(!+Re||!+Re.slice(1)&&Re.charAt(0)=="5")&&(mt(_e,_e.e+Se+2,1),we=!_e.times(_e).eq(De));break}}return mt(_e,_e.e+Se+1,Ge,we)},xe.toExponential=function(we,Re){return we!=null&&(pe(we,0,ce),we++),pt(this,we,Re,1)},xe.toFixed=function(we,Re){return we!=null&&(pe(we,0,ce),we=we+this.e+1),pt(this,we,Re)},xe.toFormat=function(we,Re,_e){var Me,Ie=this;if(_e==null)we!=null&&Re&&typeof Re=="object"?(_e=Re,Re=null):we&&typeof we=="object"?(_e=we,we=Re=null):_e=nt;else if(typeof _e!="object")throw Error(te+"Argument not an object: "+_e);if(Me=Ie.toFixed(we,Re),Ie.c){var De,qe=Me.split("."),Le=+_e.groupSize,Qe=+_e.secondaryGroupSize,We=_e.groupSeparator||"",$e=qe[0],Ye=qe[1],rt=Ie.s<0,at=rt?$e.slice(1):$e,me=at.length;if(Qe&&(De=Le,Le=Qe,Qe=De,me-=De),Le>0&&me>0){for(De=me%Le||Le,$e=at.substr(0,De);De<me;De+=Le)$e+=We+at.substr(De,Le);Qe>0&&($e+=We+at.slice(De)),rt&&($e="-"+$e)}Me=Ye?$e+(_e.decimalSeparator||"")+((Qe=+_e.fractionGroupSize)?Ye.replace(new RegExp("\\d{"+Qe+"}\\B","g"),"$&"+(_e.fractionGroupSeparator||"")):Ye):$e}return(_e.prefix||"")+Me+(_e.suffix||"")},xe.toFraction=function(we){var Re,_e,Me,Ie,De,qe,Le,Qe,We,$e,Ye,rt,at=this,me=at.c;if(we!=null&&(Le=new Xe(we),!Le.isInteger()&&(Le.c||Le.s!==1)||Le.lt(Ne)))throw Error(te+"Argument "+(Le.isInteger()?"out of range: ":"not an integer: ")+Tt(Le));if(!me)return new Xe(at);for(Re=new Xe(Ne),We=_e=new Xe(Ne),Me=Qe=new Xe(Ne),rt=de(me),De=Re.e=rt.length-at.e-1,Re.c[0]=ae[(qe=De%ie)<0?ie+qe:qe],we=!we||Le.comparedTo(Re)>0?De>0?Re:We:Le,qe=Ke,Ke=1/0,Le=new Xe(rt),Qe.c[0]=0;$e=ke(Le,Re,0,1),Ie=_e.plus($e.times(Me)),Ie.comparedTo(we)!=1;)_e=Me,Me=Ie,We=Qe.plus($e.times(Ie=We)),Qe=Ie,Re=Le.minus($e.times(Ie=Re)),Le=Ie;return Ie=ke(we.minus(_e),Me,0,1),Qe=Qe.plus(Ie.times(We)),_e=_e.plus(Ie.times(Me)),Qe.s=We.s=at.s,De=De*2,Ye=ke(We,Me,De,Ge).minus(at).abs().comparedTo(ke(Qe,_e,De,Ge).minus(at).abs())<1?[We,Me]:[Qe,_e],Ke=qe,Ye},xe.toNumber=function(){return+Tt(this)},xe.toPrecision=function(we,Re){return we!=null&&pe(we,1,ce),pt(this,we,Re,2)},xe.toString=function(we){var Re,_e=this,Me=_e.s,Ie=_e.e;return Ie===null?Me?(Re="Infinity",Me<0&&(Re="-"+Re)):Re="NaN":(we==null?Re=Ie<=Ce||Ie>=ze?be(de(_e.c),Ie):ve(de(_e.c),Ie,"0"):we===10&&Fe?(_e=mt(new Xe(_e),Se+Ie+1,Ge),Re=ve(de(_e.c),_e.e,"0")):(pe(we,2,dt.length,"Base"),Re=Pe(ve(de(_e.c),Ie,"0"),10,we,Me,!0)),Me<0&&_e.c[0]&&(Re="-"+Re)),Re},xe.valueOf=xe.toJSON=function(){return Tt(this)},xe._isBigNumber=!0,Ee!=null&&Xe.set(Ee),Xe}function le(Ee){var ke=Ee|0;return Ee>0||Ee===ke?ke:ke-1}function de(Ee){for(var ke,Pe,Te=1,xe=Ee.length,Ne=Ee[0]+"";Te<xe;){for(ke=Ee[Te++]+"",Pe=ie-ke.length;Pe--;ke="0"+ke);Ne+=ke}for(xe=Ne.length;Ne.charCodeAt(--xe)===48;);return Ne.slice(0,xe+1||1)}function he(Ee,ke){var Pe,Te,xe=Ee.c,Ne=ke.c,Se=Ee.s,Ge=ke.s,Ce=Ee.e,ze=ke.e;if(!Se||!Ge)return null;if(Pe=xe&&!xe[0],Te=Ne&&!Ne[0],Pe||Te)return Pe?Te?0:-Ge:Se;if(Se!=Ge)return Se;if(Pe=Se<0,Te=Ce==ze,!xe||!Ne)return Te?0:!xe^Pe?1:-1;if(!Te)return Ce>ze^Pe?1:-1;for(Ge=(Ce=xe.length)<(ze=Ne.length)?Ce:ze,Se=0;Se<Ge;Se++)if(xe[Se]!=Ne[Se])return xe[Se]>Ne[Se]^Pe?1:-1;return Ce==ze?0:Ce>ze^Pe?1:-1}function pe(Ee,ke,Pe,Te){if(Ee<ke||Ee>Pe||Ee!==X(Ee))throw Error(te+(Te||"Argument")+(typeof Ee=="number"?Ee<ke||Ee>Pe?" out of range: ":" not an integer: ":" not a primitive number: ")+String(Ee))}function ge(Ee){var ke=Ee.c.length-1;return le(Ee.e/ie)==ke&&Ee.c[ke]%2!=0}function be(Ee,ke){return(Ee.length>1?Ee.charAt(0)+"."+Ee.slice(1):Ee)+(ke<0?"e":"e+")+ke}function ve(Ee,ke,Pe){var Te,xe;if(ke<0){for(xe=Pe+".";++ke;xe+=Pe);Ee=xe+Ee}else if(Te=Ee.length,++ke>Te){for(xe=Pe,ke-=Te;--ke;xe+=Pe);Ee+=xe}else ke<Te&&(Ee=Ee.slice(0,ke)+"."+Ee.slice(ke));return Ee}J=se(),J.default=J.BigNumber=J,q=(function(){return J}).call(G,Q,G,U),q!==void 0&&(U.exports=q)})()},"../node_modules/event-emitter-promisify/dist/index.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.promisifyEventEmitter=void 0;function Q(q,W){return new Promise((J,F)=>{q.on("end",()=>J(W)),q.on("error",F)})}G.promisifyEventEmitter=Q},"../node_modules/hash.js/lib/hash.js":(U,G,Q)=>{var q=G;q.utils=Q("../node_modules/hash.js/lib/hash/utils.js"),q.common=Q("../node_modules/hash.js/lib/hash/common.js"),q.sha=Q("../node_modules/hash.js/lib/hash/sha.js"),q.ripemd=Q("../node_modules/hash.js/lib/hash/ripemd.js"),q.hmac=Q("../node_modules/hash.js/lib/hash/hmac.js"),q.sha1=q.sha.sha1,q.sha256=q.sha.sha256,q.sha224=q.sha.sha224,q.sha384=q.sha.sha384,q.sha512=q.sha.sha512,q.ripemd160=q.ripemd.ripemd160},"../node_modules/hash.js/lib/hash/common.js":(U,G,Q)=>{var q=Q("../node_modules/hash.js/lib/hash/utils.js"),W=Q("../node_modules/minimalistic-assert/index.js");function J(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}G.BlockHash=J,J.prototype.update=function(F,Y){if(F=q.toArray(F,Y),this.pending?this.pending=this.pending.concat(F):this.pending=F,this.pendingTotal+=F.length,this.pending.length>=this._delta8){F=this.pending;var X=F.length%this._delta8;this.pending=F.slice(F.length-X,F.length),this.pending.length===0&&(this.pending=null),F=q.join32(F,0,F.length-X,this.endian);for(var te=0;te<F.length;te+=this._delta32)this._update(F,te,te+this._delta32)}return this},J.prototype.digest=function(F){return this.update(this._pad()),W(this.pending===null),this._digest(F)},J.prototype._pad=function(){var F=this.pendingTotal,Y=this._delta8,X=Y-(F+this.padLength)%Y,te=new Array(X+this.padLength);te[0]=128;for(var re=1;re<X;re++)te[re]=0;if(F<<=3,this.endian==="big"){for(var ne=8;ne<this.padLength;ne++)te[re++]=0;te[re++]=0,te[re++]=0,te[re++]=0,te[re++]=0,te[re++]=F>>>24&255,te[re++]=F>>>16&255,te[re++]=F>>>8&255,te[re++]=F&255}else for(te[re++]=F&255,te[re++]=F>>>8&255,te[re++]=F>>>16&255,te[re++]=F>>>24&255,te[re++]=0,te[re++]=0,te[re++]=0,te[re++]=0,ne=8;ne<this.padLength;ne++)te[re++]=0;return te}},"../node_modules/hash.js/lib/hash/hmac.js":(U,G,Q)=>{var q=Q("../node_modules/hash.js/lib/hash/utils.js"),W=Q("../node_modules/minimalistic-assert/index.js");function J(F,Y,X){if(!(this instanceof J))return new J(F,Y,X);this.Hash=F,this.blockSize=F.blockSize/8,this.outSize=F.outSize/8,this.inner=null,this.outer=null,this._init(q.toArray(Y,X))}U.exports=J,J.prototype._init=function(F){F.length>this.blockSize&&(F=new this.Hash().update(F).digest()),W(F.length<=this.blockSize);for(var Y=F.length;Y<this.blockSize;Y++)F.push(0);for(Y=0;Y<F.length;Y++)F[Y]^=54;for(this.inner=new this.Hash().update(F),Y=0;Y<F.length;Y++)F[Y]^=106;this.outer=new this.Hash().update(F)},J.prototype.update=function(F,Y){return this.inner.update(F,Y),this},J.prototype.digest=function(F){return this.outer.update(this.inner.digest()),this.outer.digest(F)}},"../node_modules/hash.js/lib/hash/ripemd.js":(U,G,Q)=>{var q=Q("../node_modules/hash.js/lib/hash/utils.js"),W=Q("../node_modules/hash.js/lib/hash/common.js"),J=q.rotl32,F=q.sum32,Y=q.sum32_3,X=q.sum32_4,te=W.BlockHash;function re(){if(!(this instanceof re))return new re;te.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}q.inherits(re,te),G.ripemd160=re,re.blockSize=512,re.outSize=160,re.hmacStrength=192,re.padLength=64,re.prototype._update=function(le,de){for(var he=this.h[0],pe=this.h[1],ge=this.h[2],be=this.h[3],ve=this.h[4],Ee=he,ke=pe,Pe=ge,Te=be,xe=ve,Ne=0;Ne<80;Ne++){var Se=F(J(X(he,ne(Ne,pe,ge,be),le[ae[Ne]+de],ie(Ne)),ce[Ne]),ve);he=ve,ve=be,be=J(ge,10),ge=pe,pe=Se,Se=F(J(X(Ee,ne(79-Ne,ke,Pe,Te),le[ue[Ne]+de],oe(Ne)),se[Ne]),xe),Ee=xe,xe=Te,Te=J(Pe,10),Pe=ke,ke=Se}Se=Y(this.h[1],ge,Te),this.h[1]=Y(this.h[2],be,xe),this.h[2]=Y(this.h[3],ve,Ee),this.h[3]=Y(this.h[4],he,ke),this.h[4]=Y(this.h[0],pe,Pe),this.h[0]=Se},re.prototype._digest=function(le){return le==="hex"?q.toHex32(this.h,"little"):q.split32(this.h,"little")};function ne(le,de,he,pe){return le<=15?de^he^pe:le<=31?de&he|~de&pe:le<=47?(de|~he)^pe:le<=63?de&pe|he&~pe:de^(he|~pe)}function ie(le){return le<=15?0:le<=31?1518500249:le<=47?1859775393:le<=63?2400959708:2840853838}function oe(le){return le<=15?1352829926:le<=31?1548603684:le<=47?1836072691:le<=63?2053994217:0}var ae=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ue=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],ce=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],se=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},"../node_modules/hash.js/lib/hash/sha.js":(U,G,Q)=>{G.sha1=Q("../node_modules/hash.js/lib/hash/sha/1.js"),G.sha224=Q("../node_modules/hash.js/lib/hash/sha/224.js"),G.sha256=Q("../node_modules/hash.js/lib/hash/sha/256.js"),G.sha384=Q("../node_modules/hash.js/lib/hash/sha/384.js"),G.sha512=Q("../node_modules/hash.js/lib/hash/sha/512.js")},"../node_modules/hash.js/lib/hash/sha/1.js":(U,G,Q)=>{var q=Q("../node_modules/hash.js/lib/hash/utils.js"),W=Q("../node_modules/hash.js/lib/hash/common.js"),J=Q("../node_modules/hash.js/lib/hash/sha/common.js"),F=q.rotl32,Y=q.sum32,X=q.sum32_5,te=J.ft_1,re=W.BlockHash,ne=[1518500249,1859775393,2400959708,3395469782];function ie(){if(!(this instanceof ie))return new ie;re.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}q.inherits(ie,re),U.exports=ie,ie.blockSize=512,ie.outSize=160,ie.hmacStrength=80,ie.padLength=64,ie.prototype._update=function(oe,ae){for(var ue=this.W,ce=0;ce<16;ce++)ue[ce]=oe[ae+ce];for(;ce<ue.length;ce++)ue[ce]=F(ue[ce-3]^ue[ce-8]^ue[ce-14]^ue[ce-16],1);var se=this.h[0],le=this.h[1],de=this.h[2],he=this.h[3],pe=this.h[4];for(ce=0;ce<ue.length;ce++){var ge=~~(ce/20),be=X(F(se,5),te(ge,le,de,he),pe,ue[ce],ne[ge]);pe=he,he=de,de=F(le,30),le=se,se=be}this.h[0]=Y(this.h[0],se),this.h[1]=Y(this.h[1],le),this.h[2]=Y(this.h[2],de),this.h[3]=Y(this.h[3],he),this.h[4]=Y(this.h[4],pe)},ie.prototype._digest=function(oe){return oe==="hex"?q.toHex32(this.h,"big"):q.split32(this.h,"big")}},"../node_modules/hash.js/lib/hash/sha/224.js":(U,G,Q)=>{var q=Q("../node_modules/hash.js/lib/hash/utils.js"),W=Q("../node_modules/hash.js/lib/hash/sha/256.js");function J(){if(!(this instanceof J))return new J;W.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}q.inherits(J,W),U.exports=J,J.blockSize=512,J.outSize=224,J.hmacStrength=192,J.padLength=64,J.prototype._digest=function(F){return F==="hex"?q.toHex32(this.h.slice(0,7),"big"):q.split32(this.h.slice(0,7),"big")}},"../node_modules/hash.js/lib/hash/sha/256.js":(U,G,Q)=>{var q=Q("../node_modules/hash.js/lib/hash/utils.js"),W=Q("../node_modules/hash.js/lib/hash/common.js"),J=Q("../node_modules/hash.js/lib/hash/sha/common.js"),F=Q("../node_modules/minimalistic-assert/index.js"),Y=q.sum32,X=q.sum32_4,te=q.sum32_5,re=J.ch32,ne=J.maj32,ie=J.s0_256,oe=J.s1_256,ae=J.g0_256,ue=J.g1_256,ce=W.BlockHash,se=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function le(){if(!(this instanceof le))return new le;ce.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=se,this.W=new Array(64)}q.inherits(le,ce),U.exports=le,le.blockSize=512,le.outSize=256,le.hmacStrength=192,le.padLength=64,le.prototype._update=function(de,he){for(var pe=this.W,ge=0;ge<16;ge++)pe[ge]=de[he+ge];for(;ge<pe.length;ge++)pe[ge]=X(ue(pe[ge-2]),pe[ge-7],ae(pe[ge-15]),pe[ge-16]);var be=this.h[0],ve=this.h[1],Ee=this.h[2],ke=this.h[3],Pe=this.h[4],Te=this.h[5],xe=this.h[6],Ne=this.h[7];for(F(this.k.length===pe.length),ge=0;ge<pe.length;ge++){var Se=te(Ne,oe(Pe),re(Pe,Te,xe),this.k[ge],pe[ge]),Ge=Y(ie(be),ne(be,ve,Ee));Ne=xe,xe=Te,Te=Pe,Pe=Y(ke,Se),ke=Ee,Ee=ve,ve=be,be=Y(Se,Ge)}this.h[0]=Y(this.h[0],be),this.h[1]=Y(this.h[1],ve),this.h[2]=Y(this.h[2],Ee),this.h[3]=Y(this.h[3],ke),this.h[4]=Y(this.h[4],Pe),this.h[5]=Y(this.h[5],Te),this.h[6]=Y(this.h[6],xe),this.h[7]=Y(this.h[7],Ne)},le.prototype._digest=function(de){return de==="hex"?q.toHex32(this.h,"big"):q.split32(this.h,"big")}},"../node_modules/hash.js/lib/hash/sha/384.js":(U,G,Q)=>{var q=Q("../node_modules/hash.js/lib/hash/utils.js"),W=Q("../node_modules/hash.js/lib/hash/sha/512.js");function J(){if(!(this instanceof J))return new J;W.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}q.inherits(J,W),U.exports=J,J.blockSize=1024,J.outSize=384,J.hmacStrength=192,J.padLength=128,J.prototype._digest=function(F){return F==="hex"?q.toHex32(this.h.slice(0,12),"big"):q.split32(this.h.slice(0,12),"big")}},"../node_modules/hash.js/lib/hash/sha/512.js":(U,G,Q)=>{var q=Q("../node_modules/hash.js/lib/hash/utils.js"),W=Q("../node_modules/hash.js/lib/hash/common.js"),J=Q("../node_modules/minimalistic-assert/index.js"),F=q.rotr64_hi,Y=q.rotr64_lo,X=q.shr64_hi,te=q.shr64_lo,re=q.sum64,ne=q.sum64_hi,ie=q.sum64_lo,oe=q.sum64_4_hi,ae=q.sum64_4_lo,ue=q.sum64_5_hi,ce=q.sum64_5_lo,se=W.BlockHash,le=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function de(){if(!(this instanceof de))return new de;se.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=le,this.W=new Array(160)}q.inherits(de,se),U.exports=de,de.blockSize=1024,de.outSize=512,de.hmacStrength=192,de.padLength=128,de.prototype._prepareBlock=function(Ge,Ce){for(var ze=this.W,Ve=0;Ve<32;Ve++)ze[Ve]=Ge[Ce+Ve];for(;Ve<ze.length;Ve+=2){var Ke=Ne(ze[Ve-4],ze[Ve-3]),Ze=Se(ze[Ve-4],ze[Ve-3]),et=ze[Ve-14],ot=ze[Ve-13],nt=Te(ze[Ve-30],ze[Ve-29]),dt=xe(ze[Ve-30],ze[Ve-29]),Fe=ze[Ve-32],Xe=ze[Ve-31];ze[Ve]=oe(Ke,Ze,et,ot,nt,dt,Fe,Xe),ze[Ve+1]=ae(Ke,Ze,et,ot,nt,dt,Fe,Xe)}},de.prototype._update=function(Ge,Ce){this._prepareBlock(Ge,Ce);var ze=this.W,Ve=this.h[0],Ke=this.h[1],Ze=this.h[2],et=this.h[3],ot=this.h[4],nt=this.h[5],dt=this.h[6],Fe=this.h[7],Xe=this.h[8],pt=this.h[9],yt=this.h[10],vt=this.h[11],mt=this.h[12],Tt=this.h[13],we=this.h[14],Re=this.h[15];J(this.k.length===ze.length);for(var _e=0;_e<ze.length;_e+=2){var Me=we,Ie=Re,De=ke(Xe,pt),qe=Pe(Xe,pt),Le=he(Xe,pt,yt,vt,mt),Qe=pe(Xe,pt,yt,vt,mt,Tt),We=this.k[_e],$e=this.k[_e+1],Ye=ze[_e],rt=ze[_e+1],at=ue(Me,Ie,De,qe,Le,Qe,We,$e,Ye,rt),me=ce(Me,Ie,De,qe,Le,Qe,We,$e,Ye,rt);Me=ve(Ve,Ke),Ie=Ee(Ve,Ke),De=ge(Ve,Ke,Ze,et,ot),qe=be(Ve,Ke,Ze,et,ot,nt);var fe=ne(Me,Ie,De,qe),ye=ie(Me,Ie,De,qe);we=mt,Re=Tt,mt=yt,Tt=vt,yt=Xe,vt=pt,Xe=ne(dt,Fe,at,me),pt=ie(Fe,Fe,at,me),dt=ot,Fe=nt,ot=Ze,nt=et,Ze=Ve,et=Ke,Ve=ne(at,me,fe,ye),Ke=ie(at,me,fe,ye)}re(this.h,0,Ve,Ke),re(this.h,2,Ze,et),re(this.h,4,ot,nt),re(this.h,6,dt,Fe),re(this.h,8,Xe,pt),re(this.h,10,yt,vt),re(this.h,12,mt,Tt),re(this.h,14,we,Re)},de.prototype._digest=function(Ge){return Ge==="hex"?q.toHex32(this.h,"big"):q.split32(this.h,"big")};function he(Ge,Ce,ze,Ve,Ke){var Ze=Ge&ze^~Ge&Ke;return Ze<0&&(Ze+=4294967296),Ze}function pe(Ge,Ce,ze,Ve,Ke,Ze){var et=Ce&Ve^~Ce&Ze;return et<0&&(et+=4294967296),et}function ge(Ge,Ce,ze,Ve,Ke){var Ze=Ge&ze^Ge&Ke^ze&Ke;return Ze<0&&(Ze+=4294967296),Ze}function be(Ge,Ce,ze,Ve,Ke,Ze){var et=Ce&Ve^Ce&Ze^Ve&Ze;return et<0&&(et+=4294967296),et}function ve(Ge,Ce){var ze=F(Ge,Ce,28),Ve=F(Ce,Ge,2),Ke=F(Ce,Ge,7),Ze=ze^Ve^Ke;return Ze<0&&(Ze+=4294967296),Ze}function Ee(Ge,Ce){var ze=Y(Ge,Ce,28),Ve=Y(Ce,Ge,2),Ke=Y(Ce,Ge,7),Ze=ze^Ve^Ke;return Ze<0&&(Ze+=4294967296),Ze}function ke(Ge,Ce){var ze=F(Ge,Ce,14),Ve=F(Ge,Ce,18),Ke=F(Ce,Ge,9),Ze=ze^Ve^Ke;return Ze<0&&(Ze+=4294967296),Ze}function Pe(Ge,Ce){var ze=Y(Ge,Ce,14),Ve=Y(Ge,Ce,18),Ke=Y(Ce,Ge,9),Ze=ze^Ve^Ke;return Ze<0&&(Ze+=4294967296),Ze}function Te(Ge,Ce){var ze=F(Ge,Ce,1),Ve=F(Ge,Ce,8),Ke=X(Ge,Ce,7),Ze=ze^Ve^Ke;return Ze<0&&(Ze+=4294967296),Ze}function xe(Ge,Ce){var ze=Y(Ge,Ce,1),Ve=Y(Ge,Ce,8),Ke=te(Ge,Ce,7),Ze=ze^Ve^Ke;return Ze<0&&(Ze+=4294967296),Ze}function Ne(Ge,Ce){var ze=F(Ge,Ce,19),Ve=F(Ce,Ge,29),Ke=X(Ge,Ce,6),Ze=ze^Ve^Ke;return Ze<0&&(Ze+=4294967296),Ze}function Se(Ge,Ce){var ze=Y(Ge,Ce,19),Ve=Y(Ce,Ge,29),Ke=te(Ge,Ce,6),Ze=ze^Ve^Ke;return Ze<0&&(Ze+=4294967296),Ze}},"../node_modules/hash.js/lib/hash/sha/common.js":(U,G,Q)=>{var q=Q("../node_modules/hash.js/lib/hash/utils.js"),W=q.rotr32;function J(oe,ae,ue,ce){if(oe===0)return F(ae,ue,ce);if(oe===1||oe===3)return X(ae,ue,ce);if(oe===2)return Y(ae,ue,ce)}G.ft_1=J;function F(oe,ae,ue){return oe&ae^~oe&ue}G.ch32=F;function Y(oe,ae,ue){return oe&ae^oe&ue^ae&ue}G.maj32=Y;function X(oe,ae,ue){return oe^ae^ue}G.p32=X;function te(oe){return W(oe,2)^W(oe,13)^W(oe,22)}G.s0_256=te;function re(oe){return W(oe,6)^W(oe,11)^W(oe,25)}G.s1_256=re;function ne(oe){return W(oe,7)^W(oe,18)^oe>>>3}G.g0_256=ne;function ie(oe){return W(oe,17)^W(oe,19)^oe>>>10}G.g1_256=ie},"../node_modules/hash.js/lib/hash/utils.js":(U,G,Q)=>{var q=Q("../node_modules/minimalistic-assert/index.js"),W=Q("../node_modules/inherits/inherits_browser.js");G.inherits=W;function J(Se,Ge){return(Se.charCodeAt(Ge)&64512)!==55296||Ge<0||Ge+1>=Se.length?!1:(Se.charCodeAt(Ge+1)&64512)===56320}function F(Se,Ge){if(Array.isArray(Se))return Se.slice();if(!Se)return[];var Ce=[];if(typeof Se=="string")if(Ge){if(Ge==="hex")for(Se=Se.replace(/[^a-z0-9]+/ig,""),Se.length%2!==0&&(Se="0"+Se),Ve=0;Ve<Se.length;Ve+=2)Ce.push(parseInt(Se[Ve]+Se[Ve+1],16))}else for(var ze=0,Ve=0;Ve<Se.length;Ve++){var Ke=Se.charCodeAt(Ve);Ke<128?Ce[ze++]=Ke:Ke<2048?(Ce[ze++]=Ke>>6|192,Ce[ze++]=Ke&63|128):J(Se,Ve)?(Ke=65536+((Ke&1023)<<10)+(Se.charCodeAt(++Ve)&1023),Ce[ze++]=Ke>>18|240,Ce[ze++]=Ke>>12&63|128,Ce[ze++]=Ke>>6&63|128,Ce[ze++]=Ke&63|128):(Ce[ze++]=Ke>>12|224,Ce[ze++]=Ke>>6&63|128,Ce[ze++]=Ke&63|128)}else for(Ve=0;Ve<Se.length;Ve++)Ce[Ve]=Se[Ve]|0;return Ce}G.toArray=F;function Y(Se){for(var Ge="",Ce=0;Ce<Se.length;Ce++)Ge+=re(Se[Ce].toString(16));return Ge}G.toHex=Y;function X(Se){var Ge=Se>>>24|Se>>>8&65280|Se<<8&16711680|(Se&255)<<24;return Ge>>>0}G.htonl=X;function te(Se,Ge){for(var Ce="",ze=0;ze<Se.length;ze++){var Ve=Se[ze];Ge==="little"&&(Ve=X(Ve)),Ce+=ne(Ve.toString(16))}return Ce}G.toHex32=te;function re(Se){return Se.length===1?"0"+Se:Se}G.zero2=re;function ne(Se){return Se.length===7?"0"+Se:Se.length===6?"00"+Se:Se.length===5?"000"+Se:Se.length===4?"0000"+Se:Se.length===3?"00000"+Se:Se.length===2?"000000"+Se:Se.length===1?"0000000"+Se:Se}G.zero8=ne;function ie(Se,Ge,Ce,ze){var Ve=Ce-Ge;q(Ve%4===0);for(var Ke=new Array(Ve/4),Ze=0,et=Ge;Ze<Ke.length;Ze++,et+=4){var ot;ze==="big"?ot=Se[et]<<24|Se[et+1]<<16|Se[et+2]<<8|Se[et+3]:ot=Se[et+3]<<24|Se[et+2]<<16|Se[et+1]<<8|Se[et],Ke[Ze]=ot>>>0}return Ke}G.join32=ie;function oe(Se,Ge){for(var Ce=new Array(Se.length*4),ze=0,Ve=0;ze<Se.length;ze++,Ve+=4){var Ke=Se[ze];Ge==="big"?(Ce[Ve]=Ke>>>24,Ce[Ve+1]=Ke>>>16&255,Ce[Ve+2]=Ke>>>8&255,Ce[Ve+3]=Ke&255):(Ce[Ve+3]=Ke>>>24,Ce[Ve+2]=Ke>>>16&255,Ce[Ve+1]=Ke>>>8&255,Ce[Ve]=Ke&255)}return Ce}G.split32=oe;function ae(Se,Ge){return Se>>>Ge|Se<<32-Ge}G.rotr32=ae;function ue(Se,Ge){return Se<<Ge|Se>>>32-Ge}G.rotl32=ue;function ce(Se,Ge){return Se+Ge>>>0}G.sum32=ce;function se(Se,Ge,Ce){return Se+Ge+Ce>>>0}G.sum32_3=se;function le(Se,Ge,Ce,ze){return Se+Ge+Ce+ze>>>0}G.sum32_4=le;function de(Se,Ge,Ce,ze,Ve){return Se+Ge+Ce+ze+Ve>>>0}G.sum32_5=de;function he(Se,Ge,Ce,ze){var Ve=Se[Ge],Ke=Se[Ge+1],Ze=ze+Ke>>>0,et=(Ze<ze?1:0)+Ce+Ve;Se[Ge]=et>>>0,Se[Ge+1]=Ze}G.sum64=he;function pe(Se,Ge,Ce,ze){var Ve=Ge+ze>>>0,Ke=(Ve<Ge?1:0)+Se+Ce;return Ke>>>0}G.sum64_hi=pe;function ge(Se,Ge,Ce,ze){var Ve=Ge+ze;return Ve>>>0}G.sum64_lo=ge;function be(Se,Ge,Ce,ze,Ve,Ke,Ze,et){var ot=0,nt=Ge;nt=nt+ze>>>0,ot+=nt<Ge?1:0,nt=nt+Ke>>>0,ot+=nt<Ke?1:0,nt=nt+et>>>0,ot+=nt<et?1:0;var dt=Se+Ce+Ve+Ze+ot;return dt>>>0}G.sum64_4_hi=be;function ve(Se,Ge,Ce,ze,Ve,Ke,Ze,et){var ot=Ge+ze+Ke+et;return ot>>>0}G.sum64_4_lo=ve;function Ee(Se,Ge,Ce,ze,Ve,Ke,Ze,et,ot,nt){var dt=0,Fe=Ge;Fe=Fe+ze>>>0,dt+=Fe<Ge?1:0,Fe=Fe+Ke>>>0,dt+=Fe<Ke?1:0,Fe=Fe+et>>>0,dt+=Fe<et?1:0,Fe=Fe+nt>>>0,dt+=Fe<nt?1:0;var Xe=Se+Ce+Ve+Ze+ot+dt;return Xe>>>0}G.sum64_5_hi=Ee;function ke(Se,Ge,Ce,ze,Ve,Ke,Ze,et,ot,nt){var dt=Ge+ze+Ke+et+nt;return dt>>>0}G.sum64_5_lo=ke;function Pe(Se,Ge,Ce){var ze=Ge<<32-Ce|Se>>>Ce;return ze>>>0}G.rotr64_hi=Pe;function Te(Se,Ge,Ce){var ze=Se<<32-Ce|Ge>>>Ce;return ze>>>0}G.rotr64_lo=Te;function xe(Se,Ge,Ce){return Se>>>Ce}G.shr64_hi=xe;function Ne(Se,Ge,Ce){var ze=Se<<32-Ce|Ge>>>Ce;return ze>>>0}G.shr64_lo=Ne},"../node_modules/imurmurhash/imurmurhash.js":U=>{(function(){var G;function Q(q,W){var J=this instanceof Q?this:G;if(J.reset(W),typeof q=="string"&&q.length>0&&J.hash(q),J!==this)return J}Q.prototype.hash=function(q){var W,J,F,Y,X;switch(X=q.length,this.len+=X,J=this.k1,F=0,this.rem){case 0:J^=X>F?q.charCodeAt(F++)&65535:0;case 1:J^=X>F?(q.charCodeAt(F++)&65535)<<8:0;case 2:J^=X>F?(q.charCodeAt(F++)&65535)<<16:0;case 3:J^=X>F?(q.charCodeAt(F)&255)<<24:0,J^=X>F?(q.charCodeAt(F++)&65280)>>8:0}if(this.rem=X+this.rem&3,X-=this.rem,X>0){for(W=this.h1;J=J*11601+(J&65535)*3432906752&4294967295,J=J<<15|J>>>17,J=J*13715+(J&65535)*461832192&4294967295,W^=J,W=W<<13|W>>>19,W=W*5+3864292196&4294967295,!(F>=X);)J=q.charCodeAt(F++)&65535^(q.charCodeAt(F++)&65535)<<8^(q.charCodeAt(F++)&65535)<<16,Y=q.charCodeAt(F++),J^=(Y&255)<<24^(Y&65280)>>8;switch(J=0,this.rem){case 3:J^=(q.charCodeAt(F+2)&65535)<<16;case 2:J^=(q.charCodeAt(F+1)&65535)<<8;case 1:J^=q.charCodeAt(F)&65535}this.h1=W}return this.k1=J,this},Q.prototype.result=function(){var q,W;return q=this.k1,W=this.h1,q>0&&(q=q*11601+(q&65535)*3432906752&4294967295,q=q<<15|q>>>17,q=q*13715+(q&65535)*461832192&4294967295,W^=q),W^=this.len,W^=W>>>16,W=W*51819+(W&65535)*2246770688&4294967295,W^=W>>>13,W=W*44597+(W&65535)*3266445312&4294967295,W^=W>>>16,W>>>0},Q.prototype.reset=function(q){return this.h1=typeof q=="number"?q:0,this.rem=this.k1=this.len=0,this},G=new Q,U.exports=Q})()},"../node_modules/inherits/inherits_browser.js":U=>{typeof Object.create=="function"?U.exports=function(G,Q){Q&&(G.super_=Q,G.prototype=Object.create(Q.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}))}:U.exports=function(G,Q){if(Q){G.super_=Q;var q=function(){};q.prototype=Q.prototype,G.prototype=new q,G.prototype.constructor=G}}},"../node_modules/minimalistic-assert/index.js":U=>{U.exports=G;function G(Q,q){if(!Q)throw new Error(q||"Assertion failed")}G.equal=function(Q,q,W){if(Q!=q)throw new Error(W||"Assertion failed: "+Q+" != "+q)}},"../node_modules/process/browser.js":U=>{var G=U.exports={},Q,q;function W(){throw new Error("setTimeout has not been defined")}function J(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Q=setTimeout:Q=W}catch{Q=W}try{typeof clearTimeout=="function"?q=clearTimeout:q=J}catch{q=J}})();function F(ce){if(Q===setTimeout)return setTimeout(ce,0);if((Q===W||!Q)&&setTimeout)return Q=setTimeout,setTimeout(ce,0);try{return Q(ce,0)}catch{try{return Q.call(null,ce,0)}catch{return Q.call(this,ce,0)}}}function Y(ce){if(q===clearTimeout)return clearTimeout(ce);if((q===J||!q)&&clearTimeout)return q=clearTimeout,clearTimeout(ce);try{return q(ce)}catch{try{return q.call(null,ce)}catch{return q.call(this,ce)}}}var X=[],te=!1,re,ne=-1;function ie(){!te||!re||(te=!1,re.length?X=re.concat(X):ne=-1,X.length&&oe())}function oe(){if(!te){var ce=F(ie);te=!0;for(var se=X.length;se;){for(re=X,X=[];++ne<se;)re&&re[ne].run();ne=-1,se=X.length}re=null,te=!1,Y(ce)}}G.nextTick=function(ce){var se=new Array(arguments.length-1);if(arguments.length>1)for(var le=1;le<arguments.length;le++)se[le-1]=arguments[le];X.push(new ae(ce,se)),X.length===1&&!te&&F(oe)};function ae(ce,se){this.fun=ce,this.array=se}ae.prototype.run=function(){this.fun.apply(null,this.array)},G.title="browser",G.browser=!0,G.env={},G.argv=[],G.version="",G.versions={};function ue(){}G.on=ue,G.addListener=ue,G.once=ue,G.off=ue,G.removeListener=ue,G.removeAllListeners=ue,G.emit=ue,G.prependListener=ue,G.prependOnceListener=ue,G.listeners=function(ce){return[]},G.binding=function(ce){throw new Error("process.binding is not supported")},G.cwd=function(){return"/"},G.chdir=function(ce){throw new Error("process.chdir is not supported")},G.umask=function(){return 0}},"../node_modules/rdf-data-factory/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y),Object.defineProperty(J,X,{enumerable:!0,get:function(){return F[Y]}})}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/rdf-data-factory/lib/BlankNode.js"),G),W(Q("../node_modules/rdf-data-factory/lib/DataFactory.js"),G),W(Q("../node_modules/rdf-data-factory/lib/DefaultGraph.js"),G),W(Q("../node_modules/rdf-data-factory/lib/Literal.js"),G),W(Q("../node_modules/rdf-data-factory/lib/NamedNode.js"),G),W(Q("../node_modules/rdf-data-factory/lib/Quad.js"),G),W(Q("../node_modules/rdf-data-factory/lib/Variable.js"),G)},"../node_modules/rdf-data-factory/lib/BlankNode.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.BlankNode=void 0;class Q{constructor(W){this.termType="BlankNode",this.value=W}equals(W){return!!W&&W.termType==="BlankNode"&&W.value===this.value}}G.BlankNode=Q},"../node_modules/rdf-data-factory/lib/DataFactory.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.DataFactory=void 0;const q=Q("../node_modules/rdf-data-factory/lib/BlankNode.js"),W=Q("../node_modules/rdf-data-factory/lib/DefaultGraph.js"),J=Q("../node_modules/rdf-data-factory/lib/Literal.js"),F=Q("../node_modules/rdf-data-factory/lib/NamedNode.js"),Y=Q("../node_modules/rdf-data-factory/lib/Quad.js"),X=Q("../node_modules/rdf-data-factory/lib/Variable.js");let te=0;class re{constructor(ie){this.blankNodeCounter=0,ie=ie||{},this.blankNodePrefix=ie.blankNodePrefix||`df_${te++}_`}namedNode(ie){return new F.NamedNode(ie)}blankNode(ie){return new q.BlankNode(ie||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(ie,oe){return new J.Literal(ie,oe)}variable(ie){return new X.Variable(ie)}defaultGraph(){return W.DefaultGraph.INSTANCE}quad(ie,oe,ae,ue){return new Y.Quad(ie,oe,ae,ue||this.defaultGraph())}fromTerm(ie){switch(ie.termType){case"NamedNode":return this.namedNode(ie.value);case"BlankNode":return this.blankNode(ie.value);case"Literal":return ie.language?this.literal(ie.value,ie.language):ie.datatype.equals(J.Literal.XSD_STRING)?this.literal(ie.value):this.literal(ie.value,this.fromTerm(ie.datatype));case"Variable":return this.variable(ie.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(ie.subject),this.fromTerm(ie.predicate),this.fromTerm(ie.object),this.fromTerm(ie.graph))}}fromQuad(ie){return this.fromTerm(ie)}resetBlankNodeCounter(){this.blankNodeCounter=0}}G.DataFactory=re},"../node_modules/rdf-data-factory/lib/DefaultGraph.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.DefaultGraph=void 0;class Q{constructor(){this.termType="DefaultGraph",this.value=""}equals(W){return!!W&&W.termType==="DefaultGraph"}}G.DefaultGraph=Q,Q.INSTANCE=new Q},"../node_modules/rdf-data-factory/lib/Literal.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Literal=void 0;const q=Q("../node_modules/rdf-data-factory/lib/NamedNode.js");class W{constructor(F,Y){this.termType="Literal",this.value=F,typeof Y=="string"?(this.language=Y,this.datatype=W.RDF_LANGUAGE_STRING):Y?(this.language="",this.datatype=Y):(this.language="",this.datatype=W.XSD_STRING)}equals(F){return!!F&&F.termType==="Literal"&&F.value===this.value&&F.language===this.language&&this.datatype.equals(F.datatype)}}G.Literal=W,W.RDF_LANGUAGE_STRING=new q.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),W.XSD_STRING=new q.NamedNode("http://www.w3.org/2001/XMLSchema#string")},"../node_modules/rdf-data-factory/lib/NamedNode.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.NamedNode=void 0;class Q{constructor(W){this.termType="NamedNode",this.value=W}equals(W){return!!W&&W.termType==="NamedNode"&&W.value===this.value}}G.NamedNode=Q},"../node_modules/rdf-data-factory/lib/Quad.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Quad=void 0;class Q{constructor(W,J,F,Y){this.termType="Quad",this.value="",this.subject=W,this.predicate=J,this.object=F,this.graph=Y}equals(W){return!!W&&(W.termType==="Quad"||!W.termType)&&this.subject.equals(W.subject)&&this.predicate.equals(W.predicate)&&this.object.equals(W.object)&&this.graph.equals(W.graph)}}G.Quad=Q},"../node_modules/rdf-data-factory/lib/Variable.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Variable=void 0;class Q{constructor(W){this.termType="Variable",this.value=W}equals(W){return!!W&&W.termType==="Variable"&&W.value===this.value}}G.Variable=Q},"../node_modules/rdf-string/index.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.termToString=G.stringToTerm=G.stringQuadToQuad=G.quadToStringQuad=G.getLiteralValue=G.getLiteralType=G.getLiteralLanguage=void 0;const q=Q("../node_modules/rdf-string/lib/TermUtil.js");Object.defineProperty(G,"getLiteralLanguage",{enumerable:!0,get:function(){return q.getLiteralLanguage}}),Object.defineProperty(G,"getLiteralType",{enumerable:!0,get:function(){return q.getLiteralType}}),Object.defineProperty(G,"getLiteralValue",{enumerable:!0,get:function(){return q.getLiteralValue}}),Object.defineProperty(G,"quadToStringQuad",{enumerable:!0,get:function(){return q.quadToStringQuad}}),Object.defineProperty(G,"stringQuadToQuad",{enumerable:!0,get:function(){return q.stringQuadToQuad}}),Object.defineProperty(G,"stringToTerm",{enumerable:!0,get:function(){return q.stringToTerm}}),Object.defineProperty(G,"termToString",{enumerable:!0,get:function(){return q.termToString}})},"../node_modules/rdf-string/lib/TermUtil.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.stringQuadToQuad=G.quadToStringQuad=G.stringToTerm=G.getLiteralLanguage=G.getLiteralType=G.getLiteralValue=G.termToString=void 0;const q=Q("../node_modules/rdf-data-factory/index.js"),W=new q.DataFactory;function J(ie){if(ie)switch(ie.termType){case"NamedNode":return ie.value;case"BlankNode":return"_:"+ie.value;case"Literal":const oe=ie;return'"'+oe.value+'"'+(oe.datatype&&oe.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&oe.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+oe.datatype.value:"")+(oe.language?"@"+oe.language:"");case"Quad":return`<<${J(ie.subject)} ${J(ie.predicate)} ${J(ie.object)}${ie.graph.termType==="DefaultGraph"?"":" "+J(ie.graph)}>>`;case"Variable":return"?"+ie.value;case"DefaultGraph":return ie.value}}G.termToString=J;function F(ie){const oe=/^"([^]*)"/.exec(ie);if(!oe)throw new Error(ie+" is not a literal");return oe[1]}G.getLiteralValue=F;function Y(ie){const oe=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(ie);if(!oe)throw new Error(ie+" is not a literal");return oe[1]||(oe[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}G.getLiteralType=Y;function X(ie){const oe=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(ie);if(!oe)throw new Error(ie+" is not a literal");return oe[1]?oe[1].toLowerCase():""}G.getLiteralLanguage=X;function te(ie,oe){if(oe=oe||W,!ie||!ie.length)return oe.defaultGraph();switch(ie[0]){case"_":return oe.blankNode(ie.substr(2));case"?":if(!oe.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return oe.variable(ie.substr(1));case'"':const ae=X(ie),ue=oe.namedNode(Y(ie));return oe.literal(F(ie),ae||ue);case"<":default:if(ie[0]==="<"&&ie.length>4&&ie[1]==="<"&&ie[ie.length-1]===">"&&ie[ie.length-2]===">"){const ce=ie.slice(2,-2).trim();let se=[],le=0,de=0,he=!1;for(let pe=0;pe<ce.length;pe++){const ge=ce[pe];if(ge==="<"&&le++,ge===">"){if(le===0)throw new Error("Found closing tag without opening tag in "+ie);le--}if(ge==='"'){let be=!1,ve=pe;for(;ve-- >0&&ce[ve]==="\\";)be=!be;be||(he=!he)}if(ge===" "&&!he&&le===0){for(se.push(ce.slice(de,pe));ce[pe+1]===" ";)pe+=1;de=pe+1}}if(le!==0)throw new Error("Found opening tag without closing tag in "+ie);if(se.push(ce.slice(de,ce.length)),se.length!==3&&se.length!==4)throw new Error("Nested quad syntax error "+ie);return se=se.map(pe=>pe.startsWith("<")&&!pe.includes(" ")?pe.slice(1,-1):pe),oe.quad(te(se[0]),te(se[1]),te(se[2]),se[3]?te(se[3]):void 0)}return oe.namedNode(ie)}}G.stringToTerm=te;function re(ie){return{subject:J(ie.subject),predicate:J(ie.predicate),object:J(ie.object),graph:J(ie.graph)}}G.quadToStringQuad=re;function ne(ie,oe){return oe=oe||W,oe.quad(te(ie.subject,oe),te(ie.predicate,oe),te(ie.object,oe),te(ie.graph,oe))}G.stringQuadToQuad=ne},"../node_modules/rdf-terms/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/rdf-terms/lib/QuadTermUtil.js"),G),W(Q("../node_modules/rdf-terms/lib/TermUtil.js"),G)},"../node_modules/rdf-terms/lib/QuadTermUtil.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.matchPatternMappings=G.matchPatternComplete=G.matchPattern=G.matchTerm=G.getValueNestedPath=G.someTermsNested=G.someTerms=G.everyTermsNested=G.everyTerms=G.reduceTermsNested=G.reduceTerms=G.mapTermsNested=G.mapTerms=G.filterQuadTermNamesNested=G.filterQuadTermNames=G.filterTermsNested=G.filterTerms=G.forEachTermsNested=G.forEachTerms=G.collectNamedTerms=G.getNamedTerms=G.getTermsNested=G.getTerms=G.TRIPLE_TERM_NAMES=G.QUAD_TERM_NAMES=void 0;const q=Q("../node_modules/rdf-data-factory/index.js"),W=new q.DataFactory;G.QUAD_TERM_NAMES=["subject","predicate","object","graph"],G.TRIPLE_TERM_NAMES=["subject","predicate","object"];function J(Te,xe){return xe&&Te.graph.termType==="DefaultGraph"?[Te.subject,Te.predicate,Te.object]:[Te.subject,Te.predicate,Te.object,Te.graph]}G.getTerms=J;function F(Te,xe){const Ne=[];for(const Se of J(Te,xe))Se.termType==="Quad"?F(Se,xe).forEach(Ge=>Ne.push(Ge)):Ne.push(Se);return Ne}G.getTermsNested=F;function Y(Te){return[{key:"subject",value:Te.subject},{key:"predicate",value:Te.predicate},{key:"object",value:Te.object},{key:"graph",value:Te.graph}]}G.getNamedTerms=Y;function X(Te,xe,Ne){const Se={};return Te.forEach(Ge=>Se[Ge.key]=Ge.value),xe&&(Se.subject=Se.subject||xe("subject"),Se.predicate=Se.predicate||xe("predicate"),Se.object=Se.object||xe("object"),Se.graph=Se.graph||xe("graph")),(Ne||W).quad(Se.subject,Se.predicate,Se.object,Se.graph)}G.collectNamedTerms=X;function te(Te,xe){xe(Te.subject,"subject"),xe(Te.predicate,"predicate"),xe(Te.object,"object"),xe(Te.graph,"graph")}G.forEachTerms=te;function re(Te,xe,Ne=[]){Te.subject.termType==="Quad"?re(Te.subject,xe,[...Ne,"subject"]):xe(Te.subject,[...Ne,"subject"]),Te.predicate.termType==="Quad"?re(Te.predicate,xe,[...Ne,"predicate"]):xe(Te.predicate,[...Ne,"predicate"]),Te.object.termType==="Quad"?re(Te.object,xe,[...Ne,"object"]):xe(Te.object,[...Ne,"object"]),Te.graph.termType==="Quad"?re(Te.graph,xe,[...Ne,"graph"]):xe(Te.graph,[...Ne,"graph"])}G.forEachTermsNested=re;function ne(Te,xe){const Ne=[];return xe(Te.subject,"subject")&&Ne.push(Te.subject),xe(Te.predicate,"predicate")&&Ne.push(Te.predicate),xe(Te.object,"object")&&Ne.push(Te.object),xe(Te.graph,"graph")&&Ne.push(Te.graph),Ne}G.filterTerms=ne;function ie(Te,xe,Ne=[]){let Se=[];return Te.subject.termType==="Quad"?Se=[...Se,...ie(Te.subject,xe,[...Ne,"subject"])]:xe(Te.subject,[...Ne,"subject"])&&Se.push(Te.subject),Te.predicate.termType==="Quad"?Se=[...Se,...ie(Te.predicate,xe,[...Ne,"predicate"])]:xe(Te.predicate,[...Ne,"predicate"])&&Se.push(Te.predicate),Te.object.termType==="Quad"?Se=[...Se,...ie(Te.object,xe,[...Ne,"object"])]:xe(Te.object,[...Ne,"object"])&&Se.push(Te.object),Te.graph.termType==="Quad"?Se=[...Se,...ie(Te.graph,xe,[...Ne,"graph"])]:xe(Te.graph,[...Ne,"graph"])&&Se.push(Te.graph),Se}G.filterTermsNested=ie;function oe(Te,xe){const Ne=[];return xe(Te.subject,"subject")&&Ne.push("subject"),xe(Te.predicate,"predicate")&&Ne.push("predicate"),xe(Te.object,"object")&&Ne.push("object"),xe(Te.graph,"graph")&&Ne.push("graph"),Ne}G.filterQuadTermNames=oe;function ae(Te,xe,Ne=[]){let Se=[];const Ge=[...Ne,"subject"];Te.subject.termType==="Quad"?Se=[...Se,...ae(Te.subject,xe,Ge)]:xe(Te.subject,Ge)&&Se.push(Ge);const Ce=[...Ne,"predicate"];Te.predicate.termType==="Quad"?Se=[...Se,...ae(Te.predicate,xe,Ce)]:xe(Te.predicate,Ce)&&Se.push(Ce);const ze=[...Ne,"object"];Te.object.termType==="Quad"?Se=[...Se,...ae(Te.object,xe,ze)]:xe(Te.object,ze)&&Se.push(ze);const Ve=[...Ne,"graph"];return Te.graph.termType==="Quad"?Se=[...Se,...ae(Te.graph,xe,Ve)]:xe(Te.graph,Ve)&&Se.push(Ve),Se}G.filterQuadTermNamesNested=ae;function ue(Te,xe,Ne){return(Ne||W).quad(xe(Te.subject,"subject"),xe(Te.predicate,"predicate"),xe(Te.object,"object"),xe(Te.graph,"graph"))}G.mapTerms=ue;function ce(Te,xe,Ne,Se=[]){return(Ne||W).quad(Te.subject.termType==="Quad"?ce(Te.subject,xe,Ne,[...Se,"subject"]):xe(Te.subject,[...Se,"subject"]),Te.predicate.termType==="Quad"?ce(Te.predicate,xe,Ne,[...Se,"predicate"]):xe(Te.predicate,[...Se,"predicate"]),Te.object.termType==="Quad"?ce(Te.object,xe,Ne,[...Se,"object"]):xe(Te.object,[...Se,"object"]),Te.graph.termType==="Quad"?ce(Te.graph,xe,Ne,[...Se,"graph"]):xe(Te.graph,[...Se,"graph"]))}G.mapTermsNested=ce;function se(Te,xe,Ne){let Se=Ne;return Se=xe(Se,Te.subject,"subject"),Se=xe(Se,Te.predicate,"predicate"),Se=xe(Se,Te.object,"object"),xe(Se,Te.graph,"graph")}G.reduceTerms=se;function le(Te,xe,Ne,Se=[]){let Ge=Ne;return Te.subject.termType==="Quad"?Ge=le(Te.subject,xe,Ge,[...Se,"subject"]):Ge=xe(Ge,Te.subject,[...Se,"subject"]),Te.predicate.termType==="Quad"?Ge=le(Te.predicate,xe,Ge,[...Se,"predicate"]):Ge=xe(Ge,Te.predicate,[...Se,"predicate"]),Te.object.termType==="Quad"?Ge=le(Te.object,xe,Ge,[...Se,"object"]):Ge=xe(Ge,Te.object,[...Se,"object"]),Te.graph.termType==="Quad"?Ge=le(Te.graph,xe,Ge,[...Se,"graph"]):Ge=xe(Ge,Te.graph,[...Se,"graph"]),Ge}G.reduceTermsNested=le;function de(Te,xe){return xe(Te.subject,"subject")&&xe(Te.predicate,"predicate")&&xe(Te.object,"object")&&xe(Te.graph,"graph")}G.everyTerms=de;function he(Te,xe,Ne=[]){return(Te.subject.termType==="Quad"?he(Te.subject,xe,[...Ne,"subject"]):xe(Te.subject,[...Ne,"subject"]))&&(Te.predicate.termType==="Quad"?he(Te.predicate,xe,[...Ne,"predicate"]):xe(Te.predicate,[...Ne,"predicate"]))&&(Te.object.termType==="Quad"?he(Te.object,xe,[...Ne,"object"]):xe(Te.object,[...Ne,"object"]))&&(Te.graph.termType==="Quad"?he(Te.graph,xe,[...Ne,"graph"]):xe(Te.graph,[...Ne,"graph"]))}G.everyTermsNested=he;function pe(Te,xe){return xe(Te.subject,"subject")||xe(Te.predicate,"predicate")||xe(Te.object,"object")||xe(Te.graph,"graph")}G.someTerms=pe;function ge(Te,xe,Ne=[]){return(Te.subject.termType==="Quad"?ge(Te.subject,xe,[...Ne,"subject"]):xe(Te.subject,[...Ne,"subject"]))||(Te.predicate.termType==="Quad"?ge(Te.predicate,xe,[...Ne,"predicate"]):xe(Te.predicate,[...Ne,"predicate"]))||(Te.object.termType==="Quad"?ge(Te.object,xe,[...Ne,"object"]):xe(Te.object,[...Ne,"object"]))||(Te.graph.termType==="Quad"?ge(Te.graph,xe,[...Ne,"graph"]):xe(Te.graph,[...Ne,"graph"]))}G.someTermsNested=ge;function be(Te,xe){if(xe.length===0)return Te;if(Te.termType==="Quad")return be(Te[xe[0]],xe.slice(1));throw new Error(`Tried to get ${xe[0]} from term of type ${Te.termType}`)}G.getValueNestedPath=be;function ve(Te,xe){return!xe||xe.termType==="Variable"||xe.termType==="Quad"&&Te.termType==="Quad"&&ke(Te,xe)||xe.equals(Te)}G.matchTerm=ve;function Ee(Te,xe,Ne,Se,Ge){return ve(Te.subject,xe)&&ve(Te.predicate,Ne)&&ve(Te.object,Se)&&ve(Te.graph,Ge)}G.matchPattern=Ee;function ke(Te,xe){return Ee(Te,xe.subject,xe.predicate,xe.object,xe.graph)}G.matchPatternComplete=ke;function Pe(Te,xe,Ne={}){const Se={};function Ge(Ce,ze){return de(Ce,(Ve,Ke)=>{var Ze,et;const ot=ze[Ke];switch(Ve.termType){case"Variable":return Ne.skipVarMapping&&ot.termType==="Variable"||((et=(Ze=Se[Ve.value])===null||Ze===void 0?void 0:Ze.equals(ot))!==null&&et!==void 0?et:(Se[Ve.value]=ot,!0));case"Quad":return ot.termType==="Quad"&&Ge(Ve,ot);default:return Ve.equals(ot)}})}return Ge(xe,Te)&&(Ne.returnMappings?Se:!0)}G.matchPatternMappings=Pe},"../node_modules/rdf-terms/lib/TermUtil.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.getQuads=G.getDefaultGraphs=G.getVariables=G.getLiterals=G.getBlankNodes=G.getNamedNodes=G.getTermsOfType=G.uniqTerms=G.TERM_TYPES=void 0;const q=Q("../node_modules/rdf-string/index.js");G.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"];function W(ie){const oe={};return ie.filter(ae=>{const ue=(0,q.termToString)(ae);return!(ue in oe)&&(oe[ue]=!0)})}G.uniqTerms=W;function J(ie,oe){return ie.filter(ae=>ae.termType===oe)}G.getTermsOfType=J;function F(ie){return J(ie,"NamedNode")}G.getNamedNodes=F;function Y(ie){return J(ie,"BlankNode")}G.getBlankNodes=Y;function X(ie){return J(ie,"Literal")}G.getLiterals=X;function te(ie){return J(ie,"Variable")}G.getVariables=te;function re(ie){return J(ie,"DefaultGraph")}G.getDefaultGraphs=re;function ne(ie){return J(ie,"Quad")}G.getQuads=ne},"../node_modules/relative-to-absolute-iri/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y),Object.defineProperty(J,X,{enumerable:!0,get:function(){return F[Y]}})}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/relative-to-absolute-iri/lib/Resolve.js"),G)},"../node_modules/relative-to-absolute-iri/lib/Resolve.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.removeDotSegmentsOfPath=G.removeDotSegments=G.resolve=void 0;function Q(F,Y){Y=Y||"";const X=Y.indexOf("#");if(X>0&&(Y=Y.substr(0,X)),!F.length){if(Y.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${Y}' for value '${F}'`);return Y}if(F.startsWith("?")){const ue=Y.indexOf("?");return ue>0&&(Y=Y.substr(0,ue)),Y+F}if(F.startsWith("#"))return Y+F;if(!Y.length){const ue=F.indexOf(":");if(ue<0)throw new Error(`Found invalid relative IRI '${F}' for a missing baseIRI`);return W(F,ue)}const te=F.indexOf(":");if(te>=0)return W(F,te);const re=Y.indexOf(":");if(re<0)throw new Error(`Found invalid baseIRI '${Y}' for value '${F}'`);const ne=Y.substr(0,re+1);if(F.indexOf("//")===0)return ne+W(F,te);let ie;if(Y.indexOf("//",re)===re+1){if(ie=Y.indexOf("/",re+3),ie<0)return Y.length>re+3?Y+"/"+W(F,te):ne+W(F,te)}else if(ie=Y.indexOf("/",re+1),ie<0)return ne+W(F,te);if(F.indexOf("/")===0)return Y.substr(0,ie)+q(F);let oe=Y.substr(ie);const ae=oe.lastIndexOf("/");return ae>=0&&ae<oe.length-1&&(oe=oe.substr(0,ae+1),F[0]==="."&&F[1]!=="."&&F[1]!=="/"&&F[2]&&(F=F.substr(1))),F=oe+F,F=q(F),Y.substr(0,ie)+F}G.resolve=Q;function q(F){const Y=[];let X=0;for(;X<F.length;)switch(F[X]){case"/":if(F[X+1]===".")if(F[X+2]==="."){if(!J(F[X+3])){Y.push([]),X++;break}Y.pop(),F[X+3]||Y.push([]),X+=3}else{if(!J(F[X+2])){Y.push([]),X++;break}F[X+2]||Y.push([]),X+=2}else Y.push([]),X++;break;case"#":case"?":Y.length||Y.push([]),Y[Y.length-1].push(F.substr(X)),X=F.length;break;default:Y.length||Y.push([]),Y[Y.length-1].push(F[X]),X++;break}return"/"+Y.map(te=>te.join("")).join("/")}G.removeDotSegments=q;function W(F,Y){let X=Y+1;Y>=0?F[Y+1]==="/"&&F[Y+2]==="/"&&(X=Y+3):F[0]==="/"&&F[1]==="/"&&(X=2);const te=F.indexOf("/",X);if(te<0)return F;const re=F.substr(0,te),ne=F.substr(te);return re+q(ne)}G.removeDotSegmentsOfPath=W;function J(F){return!F||F==="#"||F==="?"||F==="/"}},"../node_modules/spark-md5/spark-md5.js":U=>{(function(G){U.exports=G()})(function(G){var Q=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function q(ce,se){var le=ce[0],de=ce[1],he=ce[2],pe=ce[3];le+=(de&he|~de&pe)+se[0]-680876936|0,le=(le<<7|le>>>25)+de|0,pe+=(le&de|~le&he)+se[1]-389564586|0,pe=(pe<<12|pe>>>20)+le|0,he+=(pe&le|~pe&de)+se[2]+606105819|0,he=(he<<17|he>>>15)+pe|0,de+=(he&pe|~he&le)+se[3]-1044525330|0,de=(de<<22|de>>>10)+he|0,le+=(de&he|~de&pe)+se[4]-176418897|0,le=(le<<7|le>>>25)+de|0,pe+=(le&de|~le&he)+se[5]+1200080426|0,pe=(pe<<12|pe>>>20)+le|0,he+=(pe&le|~pe&de)+se[6]-1473231341|0,he=(he<<17|he>>>15)+pe|0,de+=(he&pe|~he&le)+se[7]-45705983|0,de=(de<<22|de>>>10)+he|0,le+=(de&he|~de&pe)+se[8]+1770035416|0,le=(le<<7|le>>>25)+de|0,pe+=(le&de|~le&he)+se[9]-1958414417|0,pe=(pe<<12|pe>>>20)+le|0,he+=(pe&le|~pe&de)+se[10]-42063|0,he=(he<<17|he>>>15)+pe|0,de+=(he&pe|~he&le)+se[11]-1990404162|0,de=(de<<22|de>>>10)+he|0,le+=(de&he|~de&pe)+se[12]+1804603682|0,le=(le<<7|le>>>25)+de|0,pe+=(le&de|~le&he)+se[13]-40341101|0,pe=(pe<<12|pe>>>20)+le|0,he+=(pe&le|~pe&de)+se[14]-1502002290|0,he=(he<<17|he>>>15)+pe|0,de+=(he&pe|~he&le)+se[15]+1236535329|0,de=(de<<22|de>>>10)+he|0,le+=(de&pe|he&~pe)+se[1]-165796510|0,le=(le<<5|le>>>27)+de|0,pe+=(le&he|de&~he)+se[6]-1069501632|0,pe=(pe<<9|pe>>>23)+le|0,he+=(pe&de|le&~de)+se[11]+643717713|0,he=(he<<14|he>>>18)+pe|0,de+=(he&le|pe&~le)+se[0]-373897302|0,de=(de<<20|de>>>12)+he|0,le+=(de&pe|he&~pe)+se[5]-701558691|0,le=(le<<5|le>>>27)+de|0,pe+=(le&he|de&~he)+se[10]+38016083|0,pe=(pe<<9|pe>>>23)+le|0,he+=(pe&de|le&~de)+se[15]-660478335|0,he=(he<<14|he>>>18)+pe|0,de+=(he&le|pe&~le)+se[4]-405537848|0,de=(de<<20|de>>>12)+he|0,le+=(de&pe|he&~pe)+se[9]+568446438|0,le=(le<<5|le>>>27)+de|0,pe+=(le&he|de&~he)+se[14]-1019803690|0,pe=(pe<<9|pe>>>23)+le|0,he+=(pe&de|le&~de)+se[3]-187363961|0,he=(he<<14|he>>>18)+pe|0,de+=(he&le|pe&~le)+se[8]+1163531501|0,de=(de<<20|de>>>12)+he|0,le+=(de&pe|he&~pe)+se[13]-1444681467|0,le=(le<<5|le>>>27)+de|0,pe+=(le&he|de&~he)+se[2]-51403784|0,pe=(pe<<9|pe>>>23)+le|0,he+=(pe&de|le&~de)+se[7]+1735328473|0,he=(he<<14|he>>>18)+pe|0,de+=(he&le|pe&~le)+se[12]-1926607734|0,de=(de<<20|de>>>12)+he|0,le+=(de^he^pe)+se[5]-378558|0,le=(le<<4|le>>>28)+de|0,pe+=(le^de^he)+se[8]-2022574463|0,pe=(pe<<11|pe>>>21)+le|0,he+=(pe^le^de)+se[11]+1839030562|0,he=(he<<16|he>>>16)+pe|0,de+=(he^pe^le)+se[14]-35309556|0,de=(de<<23|de>>>9)+he|0,le+=(de^he^pe)+se[1]-1530992060|0,le=(le<<4|le>>>28)+de|0,pe+=(le^de^he)+se[4]+1272893353|0,pe=(pe<<11|pe>>>21)+le|0,he+=(pe^le^de)+se[7]-155497632|0,he=(he<<16|he>>>16)+pe|0,de+=(he^pe^le)+se[10]-1094730640|0,de=(de<<23|de>>>9)+he|0,le+=(de^he^pe)+se[13]+681279174|0,le=(le<<4|le>>>28)+de|0,pe+=(le^de^he)+se[0]-358537222|0,pe=(pe<<11|pe>>>21)+le|0,he+=(pe^le^de)+se[3]-722521979|0,he=(he<<16|he>>>16)+pe|0,de+=(he^pe^le)+se[6]+76029189|0,de=(de<<23|de>>>9)+he|0,le+=(de^he^pe)+se[9]-640364487|0,le=(le<<4|le>>>28)+de|0,pe+=(le^de^he)+se[12]-421815835|0,pe=(pe<<11|pe>>>21)+le|0,he+=(pe^le^de)+se[15]+530742520|0,he=(he<<16|he>>>16)+pe|0,de+=(he^pe^le)+se[2]-995338651|0,de=(de<<23|de>>>9)+he|0,le+=(he^(de|~pe))+se[0]-198630844|0,le=(le<<6|le>>>26)+de|0,pe+=(de^(le|~he))+se[7]+1126891415|0,pe=(pe<<10|pe>>>22)+le|0,he+=(le^(pe|~de))+se[14]-1416354905|0,he=(he<<15|he>>>17)+pe|0,de+=(pe^(he|~le))+se[5]-57434055|0,de=(de<<21|de>>>11)+he|0,le+=(he^(de|~pe))+se[12]+1700485571|0,le=(le<<6|le>>>26)+de|0,pe+=(de^(le|~he))+se[3]-1894986606|0,pe=(pe<<10|pe>>>22)+le|0,he+=(le^(pe|~de))+se[10]-1051523|0,he=(he<<15|he>>>17)+pe|0,de+=(pe^(he|~le))+se[1]-2054922799|0,de=(de<<21|de>>>11)+he|0,le+=(he^(de|~pe))+se[8]+1873313359|0,le=(le<<6|le>>>26)+de|0,pe+=(de^(le|~he))+se[15]-30611744|0,pe=(pe<<10|pe>>>22)+le|0,he+=(le^(pe|~de))+se[6]-1560198380|0,he=(he<<15|he>>>17)+pe|0,de+=(pe^(he|~le))+se[13]+1309151649|0,de=(de<<21|de>>>11)+he|0,le+=(he^(de|~pe))+se[4]-145523070|0,le=(le<<6|le>>>26)+de|0,pe+=(de^(le|~he))+se[11]-1120210379|0,pe=(pe<<10|pe>>>22)+le|0,he+=(le^(pe|~de))+se[2]+718787259|0,he=(he<<15|he>>>17)+pe|0,de+=(pe^(he|~le))+se[9]-343485551|0,de=(de<<21|de>>>11)+he|0,ce[0]=le+ce[0]|0,ce[1]=de+ce[1]|0,ce[2]=he+ce[2]|0,ce[3]=pe+ce[3]|0}function W(ce){var se=[],le;for(le=0;le<64;le+=4)se[le>>2]=ce.charCodeAt(le)+(ce.charCodeAt(le+1)<<8)+(ce.charCodeAt(le+2)<<16)+(ce.charCodeAt(le+3)<<24);return se}function J(ce){var se=[],le;for(le=0;le<64;le+=4)se[le>>2]=ce[le]+(ce[le+1]<<8)+(ce[le+2]<<16)+(ce[le+3]<<24);return se}function F(ce){var se=ce.length,le=[1732584193,-271733879,-1732584194,271733878],de,he,pe,ge,be,ve;for(de=64;de<=se;de+=64)q(le,W(ce.substring(de-64,de)));for(ce=ce.substring(de-64),he=ce.length,pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],de=0;de<he;de+=1)pe[de>>2]|=ce.charCodeAt(de)<<(de%4<<3);if(pe[de>>2]|=128<<(de%4<<3),de>55)for(q(le,pe),de=0;de<16;de+=1)pe[de]=0;return ge=se*8,ge=ge.toString(16).match(/(.*?)(.{0,8})$/),be=parseInt(ge[2],16),ve=parseInt(ge[1],16)||0,pe[14]=be,pe[15]=ve,q(le,pe),le}function Y(ce){var se=ce.length,le=[1732584193,-271733879,-1732584194,271733878],de,he,pe,ge,be,ve;for(de=64;de<=se;de+=64)q(le,J(ce.subarray(de-64,de)));for(ce=de-64<se?ce.subarray(de-64):new Uint8Array(0),he=ce.length,pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],de=0;de<he;de+=1)pe[de>>2]|=ce[de]<<(de%4<<3);if(pe[de>>2]|=128<<(de%4<<3),de>55)for(q(le,pe),de=0;de<16;de+=1)pe[de]=0;return ge=se*8,ge=ge.toString(16).match(/(.*?)(.{0,8})$/),be=parseInt(ge[2],16),ve=parseInt(ge[1],16)||0,pe[14]=be,pe[15]=ve,q(le,pe),le}function X(ce){var se="",le;for(le=0;le<4;le+=1)se+=Q[ce>>le*8+4&15]+Q[ce>>le*8&15];return se}function te(ce){var se;for(se=0;se<ce.length;se+=1)ce[se]=X(ce[se]);return ce.join("")}te(F("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function ce(se,le){return se=se|0||0,se<0?Math.max(se+le,0):Math.min(se,le)}ArrayBuffer.prototype.slice=function(se,le){var de=this.byteLength,he=ce(se,de),pe=de,ge,be,ve,Ee;return le!==G&&(pe=ce(le,de)),he>pe?new ArrayBuffer(0):(ge=pe-he,be=new ArrayBuffer(ge),ve=new Uint8Array(be),Ee=new Uint8Array(this,he,ge),ve.set(Ee),be)}}();function re(ce){return/[\u0080-\uFFFF]/.test(ce)&&(ce=unescape(encodeURIComponent(ce))),ce}function ne(ce,se){var le=ce.length,de=new ArrayBuffer(le),he=new Uint8Array(de),pe;for(pe=0;pe<le;pe+=1)he[pe]=ce.charCodeAt(pe);return se?he:de}function ie(ce){return String.fromCharCode.apply(null,new Uint8Array(ce))}function oe(ce,se,le){var de=new Uint8Array(ce.byteLength+se.byteLength);return de.set(new Uint8Array(ce)),de.set(new Uint8Array(se),ce.byteLength),de}function ae(ce){var se=[],le=ce.length,de;for(de=0;de<le-1;de+=2)se.push(parseInt(ce.substr(de,2),16));return String.fromCharCode.apply(String,se)}function ue(){this.reset()}return ue.prototype.append=function(ce){return this.appendBinary(re(ce)),this},ue.prototype.appendBinary=function(ce){this._buff+=ce,this._length+=ce.length;var se=this._buff.length,le;for(le=64;le<=se;le+=64)q(this._hash,W(this._buff.substring(le-64,le)));return this._buff=this._buff.substring(le-64),this},ue.prototype.end=function(ce){var se=this._buff,le=se.length,de,he=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pe;for(de=0;de<le;de+=1)he[de>>2]|=se.charCodeAt(de)<<(de%4<<3);return this._finish(he,le),pe=te(this._hash),ce&&(pe=ae(pe)),this.reset(),pe},ue.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},ue.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},ue.prototype.setState=function(ce){return this._buff=ce.buff,this._length=ce.length,this._hash=ce.hash,this},ue.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},ue.prototype._finish=function(ce,se){var le=se,de,he,pe;if(ce[le>>2]|=128<<(le%4<<3),le>55)for(q(this._hash,ce),le=0;le<16;le+=1)ce[le]=0;de=this._length*8,de=de.toString(16).match(/(.*?)(.{0,8})$/),he=parseInt(de[2],16),pe=parseInt(de[1],16)||0,ce[14]=he,ce[15]=pe,q(this._hash,ce)},ue.hash=function(ce,se){return ue.hashBinary(re(ce),se)},ue.hashBinary=function(ce,se){var le=F(ce),de=te(le);return se?ae(de):de},ue.ArrayBuffer=function(){this.reset()},ue.ArrayBuffer.prototype.append=function(ce){var se=oe(this._buff.buffer,ce),le=se.length,de;for(this._length+=ce.byteLength,de=64;de<=le;de+=64)q(this._hash,J(se.subarray(de-64,de)));return this._buff=de-64<le?new Uint8Array(se.buffer.slice(de-64)):new Uint8Array(0),this},ue.ArrayBuffer.prototype.end=function(ce){var se=this._buff,le=se.length,de=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],he,pe;for(he=0;he<le;he+=1)de[he>>2]|=se[he]<<(he%4<<3);return this._finish(de,le),pe=te(this._hash),ce&&(pe=ae(pe)),this.reset(),pe},ue.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},ue.ArrayBuffer.prototype.getState=function(){var ce=ue.prototype.getState.call(this);return ce.buff=ie(ce.buff),ce},ue.ArrayBuffer.prototype.setState=function(ce){return ce.buff=ne(ce.buff,!0),ue.prototype.setState.call(this,ce)},ue.ArrayBuffer.prototype.destroy=ue.prototype.destroy,ue.ArrayBuffer.prototype._finish=ue.prototype._finish,ue.ArrayBuffer.hash=function(ce,se){var le=Y(new Uint8Array(ce)),de=te(le);return se?ae(de):de},ue})},"../node_modules/typed-immutable-map/dist/HashMap/empty.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.empty=void 0;const q={node:Q("../node_modules/typed-immutable-map/dist/nodes/index.js").EMPTY,size:0};function W(){return q}G.empty=W},"../node_modules/typed-immutable-map/dist/HashMap/entries.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.entries=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function W(F){return(0,q.iterator)((0,q.getNode)(F),J)}G.entries=W;function J(F){return[F.key,F.value]}},"../node_modules/typed-immutable-map/dist/HashMap/filter.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.filter=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),W=Q("../node_modules/typed-immutable-map/dist/HashMap/reduce.js"),J=Q("../node_modules/typed-immutable-map/dist/HashMap/set.js"),F=function(Y,X){return(0,W.reduce)(function(te,re,ne){return Y(re,ne)?(0,J.set)(ne,re,te):te},(0,q.empty)(),X)};G.filter=F},"../node_modules/typed-immutable-map/dist/HashMap/forEach.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.forEach=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/reduce.js"),W=function(J,F){return(0,q.reduce)((Y,X,te)=>J(X,te),null,F),F};G.forEach=W},"../node_modules/typed-immutable-map/dist/HashMap/from.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.fromObject=G.fromIterable=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),W=Q("../node_modules/typed-immutable-map/dist/HashMap/set.js");function J(Y){let X=(0,q.empty)();for(const[te,re]of Y)X=(0,W.set)(te,re,X);return X}G.fromIterable=J;function F(Y){let X=(0,q.empty)();for(let te in Y)Y.hasOwnProperty(te)&&(X=(0,W.set)(te,Y[te],X));return X}G.fromObject=F},"../node_modules/typed-immutable-map/dist/HashMap/get.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.get=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function W(J,F,Y){const X=(0,q.findHash)(J);return(0,q.getHash)(void 0,X,J,F,Y)}G.get=W},"../node_modules/typed-immutable-map/dist/HashMap/has.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.has=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js"),W=Q("../node_modules/typed-immutable-map/dist/nodes/index.js");function J(F,Y,X){const te=(0,q.findHash)(F);return(0,q.getHash)(W.NOTHING,te,F,Y,X)!==W.NOTHING}G.has=J},"../node_modules/typed-immutable-map/dist/HashMap/keys.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.keys=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function W(F){return(0,q.iterator)((0,q.getNode)(F),J)}G.keys=W;function J(F){return F.key}},"../node_modules/typed-immutable-map/dist/HashMap/map.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.map=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),W=Q("../node_modules/typed-immutable-map/dist/HashMap/reduce.js"),J=Q("../node_modules/typed-immutable-map/dist/HashMap/set.js"),F=function(Y,X){return(0,W.reduce)(function(te,re,ne){return(0,J.set)(ne,Y(re,ne),te)},(0,q.empty)(),X)};G.map=F},"../node_modules/typed-immutable-map/dist/HashMap/primitives/findHash.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.findHash=void 0;const q=Q("../node_modules/typed-immutable-map/dist/common/index.js");function W(J){return typeof J=="number"?J:typeof J=="string"?(0,q.stringHash)(J):Math.abs((0,q.stringHash)(JSON.stringify(J)))}G.findHash=W},"../node_modules/typed-immutable-map/dist/HashMap/primitives/fold.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.fold=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js");function W(J,F,Y){const X=(0,q.getNode)(Y);if(X.type===0)return F;if(X.type===1)return J(F,X.value,X.key);const te=[X.children];let re;for(;re=te.shift();)for(let ne=0;ne<re.length;++ne){const ie=re[ne];ie&&ie.type!==0&&(ie.type===1?F=J(F,ie.value,ie.key):te.push(ie.children))}return F}G.fold=W},"../node_modules/typed-immutable-map/dist/HashMap/primitives/getHash.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.getHash=void 0;const q=Q("../node_modules/typed-immutable-map/dist/common/index.js"),W=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js"),J=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/keyEquals.js");function F(Y,X,te,re,ne=J.defaultKeyEquals){let ie=(0,W.getNode)(re),oe=0;for(;;)switch(ie.type){case 1:return ne(te,ie.key)?ie.value:Y;case 2:if(X===ie.hash){const ae=ie.children;for(let ue=0;ue<ae.length;++ue){const ce=ae[ue];if(ne(te,ce.key))return ce.value}return Y}case 3:{const ae=(0,q.hashFragment)(oe,X),ue=(0,q.toBitmap)(ae);if(ie.mask&ue){const ce=(0,q.bitmapToIndex)(ie.mask,ue);ie=ie.children[ce],oe+=q.SIZE;break}return Y}case 4:{if(ie=ie.children[(0,q.hashFragment)(oe,X)],ie){oe+=q.SIZE;break}return Y}default:return Y}}G.getHash=F},"../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.getNode=void 0;function Q(q){return q.node}G.getNode=Q},"../node_modules/typed-immutable-map/dist/HashMap/primitives/getSize.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.getSize=void 0;function Q(q){return q.size}G.getSize=Q},"../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/getHash.js"),G),W(Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js"),G),W(Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/setTree.js"),G),W(Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/setKeyValue.js"),G),W(Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/findHash.js"),G),W(Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/iterateMap.js"),G),W(Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/fold.js"),G),W(Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/keyEquals.js"),G)},"../node_modules/typed-immutable-map/dist/HashMap/primitives/iterateMap.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.iterator=void 0;function Q(X,te){return new q(J(X,te,[]))}G.iterator=Q;class q{constructor(te){jt(this,"_iterate");this._iterate=te}next(){if(!this._iterate)return{done:!0,value:null};const{value:te,rest:re}=this._iterate;return this._iterate=W(re),{done:!1,value:te}}[Symbol.iterator](){return this}}const W=X=>X&&F(X[0],X[1],X[2],X[3],X[4]);function J(X,te,re){switch(X.type){case 1:return{value:te(X),rest:re};case 2:case 4:case 3:const ne=X.children;return F(ne.length,ne,0,te,re);default:return W(re)}}function F(X,te,re,ne,ie){for(;re<X;){const oe=te[re++];if(oe&&Y(oe))return J(oe,ne,[X,te,re,ne,ie])}return W(ie)}function Y(X){return X&&X.type!==0}},"../node_modules/typed-immutable-map/dist/HashMap/primitives/keyEquals.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.defaultKeyEquals=void 0;const Q=(q,W)=>q===W;G.defaultKeyEquals=Q},"../node_modules/typed-immutable-map/dist/HashMap/primitives/setKeyValue.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.setKeyValue=void 0;const q=Q("../node_modules/typed-immutable-map/dist/nodes/index.js"),W=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/findHash.js"),J=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js"),F=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/getSize.js"),Y=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/setTree.js"),X=re=>()=>re;function te(re,ne,ie){const oe=(0,W.findHash)(re),ae={value:(0,F.getSize)(ie)},ue=(0,q.modify)((0,J.getNode)(ie),0,X(ne),oe,re,ae);return(0,Y.setTree)(ue,ae.value,ie)}G.setKeyValue=te},"../node_modules/typed-immutable-map/dist/HashMap/primitives/setTree.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.setTree=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/getNode.js");function W(J,F,Y){return J===(0,q.getNode)(Y)?Y:{node:J,size:F}}G.setTree=W},"../node_modules/typed-immutable-map/dist/HashMap/reduce.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.reduce=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");G.reduce=q.fold},"../node_modules/typed-immutable-map/dist/HashMap/remove.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.remove=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js"),W=Q("../node_modules/typed-immutable-map/dist/nodes/constants.js");function J(F,Y){return(0,q.setKeyValue)(F,W.NOTHING,Y)}G.remove=J},"../node_modules/typed-immutable-map/dist/HashMap/set.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.set=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");G.set=q.setKeyValue},"../node_modules/typed-immutable-map/dist/HashMap/size.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.size=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/getSize.js");function W(J){return(0,q.getSize)(J)}G.size=W},"../node_modules/typed-immutable-map/dist/HashMap/values.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.values=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/primitives/index.js");function W(F){return(0,q.iterator)((0,q.getNode)(F),J)}G.values=W;function J(F){return F.value}},"../node_modules/typed-immutable-map/dist/common/array-operations.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.insert=G.remove=G.replace=void 0;function Q(J,F,Y){const X=Y.length,te=Array(X);for(let re=0;re<X;++re)te[re]=Y[re];return te[J]=F,te}G.replace=Q;function q(J,F){const Y=F.length;if(Y===0||J>=Y)return F;if(Y===1)return[];const X=Array(Y-1);let te=0;for(;te<J;++te)X[te]=F[te];for(te=te+1;te<Y;++te)X[te-1]=F[te];return X}G.remove=q;function W(J,F,Y){const X=Y.length,te=Array(X+1);let re=0;for(;re<J;++re)te[re]=Y[re];for(te[re++]=F;re<X+1;++re)te[re]=Y[re-1];return te}G.insert=W},"../node_modules/typed-immutable-map/dist/common/bitwise-operations.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.bitmapToIndex=G.toBitmap=G.hashFragment=G.hammingWeight=void 0;const q=Q("../node_modules/typed-immutable-map/dist/common/constants.js");function W(X){return X=X-(X>>1&1431655765),X=(X&858993459)+(X>>2&858993459),(X+(X>>4)&252645135)*16843009>>24}G.hammingWeight=W;function J(X,te){return te>>>X&q.MASK}G.hashFragment=J;function F(X){return 1<<X}G.toBitmap=F;function Y(X,te){return W(X&te-1)}G.bitmapToIndex=Y},"../node_modules/typed-immutable-map/dist/common/constants.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.MIN_ARRAY_NODE=G.MAX_INDEX_NODE=G.MASK=G.BUCKET_SIZE=G.SIZE=void 0,G.SIZE=5,G.BUCKET_SIZE=Math.pow(2,G.SIZE),G.MASK=G.BUCKET_SIZE-1,G.MAX_INDEX_NODE=G.BUCKET_SIZE/2,G.MIN_ARRAY_NODE=G.BUCKET_SIZE/4},"../node_modules/typed-immutable-map/dist/common/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/typed-immutable-map/dist/common/array-operations.js"),G),W(Q("../node_modules/typed-immutable-map/dist/common/bitwise-operations.js"),G),W(Q("../node_modules/typed-immutable-map/dist/common/constants.js"),G),W(Q("../node_modules/typed-immutable-map/dist/common/stringHash.js"),G)},"../node_modules/typed-immutable-map/dist/common/stringHash.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.stringHash=void 0;function Q(q){let W=0;for(let J=0;J<q.length;++J)W=(W<<5)-W+q.charCodeAt(J)|0;return W}G.stringHash=Q},"../node_modules/typed-immutable-map/dist/nodes/ArrayNode/ArrayNode.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.modifyListNode=void 0;const q=Q("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),W=Q("../node_modules/typed-immutable-map/dist/nodes/modify.js"),J=Q("../node_modules/typed-immutable-map/dist/common/index.js"),F=Q("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/toIndexNode.js");function Y(te,re,ne,ie,oe,ae){const{size:ue,children:ce}=te,se=(0,J.hashFragment)(re,ie),le=ce[se],de=(0,W.modify)(le||(0,q.empty)(),re+J.SIZE,ne,ie,oe,ae);return le===de?te:X(le)&&!X(de)?{type:4,size:ue+1,children:(0,J.replace)(se,de,ce)}:!X(le)&&X(de)?ue-1<=J.MIN_ARRAY_NODE?(0,F.toIndexNode)(ue,se,ce):{type:4,size:ue-1,children:(0,J.replace)(se,(0,q.empty)(),ce)}:{type:4,size:ue,children:(0,J.replace)(se,de,ce)}}G.modifyListNode=Y;function X(te){return te&&te.type===0}},"../node_modules/typed-immutable-map/dist/nodes/ArrayNode/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/ArrayNode.js"),G)},"../node_modules/typed-immutable-map/dist/nodes/ArrayNode/toIndexNode.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.toIndexNode=void 0;function Q(q,W,J){const F=new Array(q-1);let Y=0,X=0;for(let te=0;te<J.length;++te)if(te!==W){const re=J[te];re&&re.type>0&&(F[Y++]=re,X|=1<<te)}return{type:3,mask:X,children:F}}G.toIndexNode=Q},"../node_modules/typed-immutable-map/dist/nodes/CollisionNode/CollisionNode.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.modifyCollisionNode=void 0;const q=Q("../node_modules/typed-immutable-map/dist/nodes/constants.js"),W=Q("../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js"),J=Q("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/newCollisionList.js");function F(Y,X,te,re,ne,ie){if(re===Y.hash){const ae=(0,J.newCollisionList)(Y.hash,Y.children,te,ne,ie);return ae===Y.children?Y:ae.length>1?{type:2,hash:Y.hash,children:ae}:ae[0]}const oe=te();return oe===q.NOTHING?Y:(++ie.value,(0,W.combineLeafNodes)(X,Y.hash,Y,re,{type:1,hash:re,key:ne,value:oe}))}G.modifyCollisionNode=F},"../node_modules/typed-immutable-map/dist/nodes/CollisionNode/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/CollisionNode.js"),G)},"../node_modules/typed-immutable-map/dist/nodes/CollisionNode/newCollisionList.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.newCollisionList=void 0;const q=Q("../node_modules/typed-immutable-map/dist/nodes/constants.js"),W=Q("../node_modules/typed-immutable-map/dist/common/index.js");function J(F,Y,X,te,re){const ne=Y.length;for(let oe=0;oe<ne;++oe){const ae=Y[oe];if(ae.key===te){const ue=ae.value,ce=X(ue);return ce===ue?Y:ce===q.NOTHING?(--re.value,(0,W.remove)(oe,Y)):(0,W.insert)(oe,{type:1,hash:F,key:te,value:ce},Y)}}const ie=X();return ie===q.NOTHING?Y:(++re.value,(0,W.insert)(ne,{type:1,hash:F,key:te,value:ie},Y))}G.newCollisionList=J},"../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.empty=G.EMPTY=G.modifyEmpty=void 0;const q=Q("../node_modules/typed-immutable-map/dist/nodes/constants.js");function W(F,Y,X,te,re,ne){const ie=X(void 0);return ie===q.NOTHING?F:(++ne.value,{type:1,hash:te,key:re,value:ie})}G.modifyEmpty=W,G.EMPTY={type:0};function J(){return G.EMPTY}G.empty=J},"../node_modules/typed-immutable-map/dist/nodes/IndexedNode/IndexedNode.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.modifyIndexedNode=void 0;const q=Q("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),W=Q("../node_modules/typed-immutable-map/dist/common/index.js"),J=Q("../node_modules/typed-immutable-map/dist/nodes/modify.js"),F=Q("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/toArrayNode.js");function Y(te,re,ne,ie,oe,ae){const{mask:ue,children:ce}=te,se=(0,W.hashFragment)(re,ie),le=(0,W.toBitmap)(se),de=(0,W.bitmapToIndex)(ue,le),he=!!(ue&le),pe=he?ce[de]:(0,q.empty)(),ge=(0,J.modify)(pe,re+W.SIZE,ne,ie,oe,ae);if(pe===ge)return te;if(he&&ge.type===0){const be=ue&~le;return be?ce.length<=2&&X(ce[de^1])?ce[de^1]:{type:3,mask:be,children:(0,W.remove)(de,ce)}:(0,q.empty)()}return!he&&ge.type!==0?ce.length>=W.MAX_INDEX_NODE?(0,F.toArrayNode)(se,ge,ue,ce):{type:3,mask:ue|le,children:(0,W.insert)(de,ge,ce)}:{type:3,mask:ue,children:(0,W.replace)(de,ge,ce)}}G.modifyIndexedNode=Y;function X(te){const re=te.type;return re===0||re===1||re===2}},"../node_modules/typed-immutable-map/dist/nodes/IndexedNode/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/IndexedNode.js"),G)},"../node_modules/typed-immutable-map/dist/nodes/IndexedNode/toArrayNode.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.toArrayNode=void 0;function Q(q,W,J,F){const Y=[];let X=J,te=0;for(let re=0;X;++re)X&1&&(Y[re]=F[te++]),X>>>=1;return Y[q]=W,{type:4,size:te+1,children:Y}}G.toArrayNode=Q},"../node_modules/typed-immutable-map/dist/nodes/LeafNode/LeafNode.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.modifyLeaf=void 0;const q=Q("../node_modules/typed-immutable-map/dist/nodes/constants.js"),W=Q("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),J=Q("../node_modules/typed-immutable-map/dist/nodes/LeafNode/combineLeafNodes.js");function F(Y,X,te,re,ne,ie){if(ne===Y.key){const ae=te(Y.value);return ae===Y.value?Y:ae===q.NOTHING?(--ie.value,(0,W.empty)()):{type:1,hash:re,key:ne,value:ae}}const oe=te();return oe===q.NOTHING?Y:(++ie.value,(0,J.combineLeafNodes)(X,Y.hash,Y,re,{type:1,hash:re,key:ne,value:oe}))}G.modifyLeaf=F},"../node_modules/typed-immutable-map/dist/nodes/LeafNode/combineLeafNodes.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.combineLeafNodes=void 0;const q=Q("../node_modules/typed-immutable-map/dist/common/index.js");function W(J,F,Y,X,te){if(F===X)return{type:2,hash:F,children:[te,Y]};const re=(0,q.hashFragment)(J,F),ne=(0,q.hashFragment)(J,X);return{type:3,mask:(0,q.toBitmap)(re)|(0,q.toBitmap)(ne),children:re===ne?[W(J+q.SIZE,F,Y,X,te)]:re<ne?[Y,te]:[te,Y]}}G.combineLeafNodes=W},"../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/typed-immutable-map/dist/nodes/LeafNode/LeafNode.js"),G),W(Q("../node_modules/typed-immutable-map/dist/nodes/LeafNode/combineLeafNodes.js"),G)},"../node_modules/typed-immutable-map/dist/nodes/constants.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.NOTHING=void 0,G.NOTHING=Object.create(null)},"../node_modules/typed-immutable-map/dist/nodes/index.js":function(U,G,Q){var q=this&&this.__createBinding||(Object.create?function(J,F,Y,X){X===void 0&&(X=Y);var te=Object.getOwnPropertyDescriptor(F,Y);(!te||("get"in te?!F.__esModule:te.writable||te.configurable))&&(te={enumerable:!0,get:function(){return F[Y]}}),Object.defineProperty(J,X,te)}:function(J,F,Y,X){X===void 0&&(X=Y),J[X]=F[Y]}),W=this&&this.__exportStar||function(J,F){for(var Y in J)Y!=="default"&&!Object.prototype.hasOwnProperty.call(F,Y)&&q(F,J,Y)};Object.defineProperty(G,"__esModule",{value:!0}),W(Q("../node_modules/typed-immutable-map/dist/nodes/types.js"),G),W(Q("../node_modules/typed-immutable-map/dist/nodes/constants.js"),G),W(Q("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),G),W(Q("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/index.js"),G),W(Q("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/index.js"),G),W(Q("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/index.js"),G),W(Q("../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js"),G),W(Q("../node_modules/typed-immutable-map/dist/nodes/modify.js"),G)},"../node_modules/typed-immutable-map/dist/nodes/modify.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.modify=void 0;const q=Q("../node_modules/typed-immutable-map/dist/nodes/LeafNode/index.js"),W=Q("../node_modules/typed-immutable-map/dist/nodes/EmptyNode.js"),J=Q("../node_modules/typed-immutable-map/dist/nodes/ArrayNode/index.js"),F=Q("../node_modules/typed-immutable-map/dist/nodes/IndexedNode/index.js"),Y=Q("../node_modules/typed-immutable-map/dist/nodes/CollisionNode/index.js");function X(te,re,ne,ie,oe,ae){switch(te.type){case 1:return(0,q.modifyLeaf)(te,re,ne,ie,oe,ae);case 0:return(0,W.modifyEmpty)(te,re,ne,ie,oe,ae);case 4:return(0,J.modifyListNode)(te,re,ne,ie,oe,ae);case 3:return(0,F.modifyIndexedNode)(te,re,ne,ie,oe,ae);case 2:return(0,Y.modifyCollisionNode)(te,re,ne,ie,oe,ae);default:throw new Error("never")}}G.modify=X},"../node_modules/typed-immutable-map/dist/nodes/types.js":(U,G)=>{Object.defineProperty(G,"__esModule",{value:!0})},"../node_modules/uuid-random/index.js":(U,G,Q)=>{(function(){var q,W=0,J=[],F;for(F=0;F<256;F++)J[F]=(F+256).toString(16).substr(1);re.BUFFER_SIZE=4096,re.bin=te,re.clearBuffer=function(){q=null,W=0},re.test=function(ne){return typeof ne=="string"?/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(ne):!1};var Y;typeof crypto<"u"?Y=crypto:typeof window<"u"&&typeof window.msCrypto<"u"&&(Y=window.msCrypto),Y=Y||Q("?699d"),U.exports=re,re.randomBytes=function(){if(Y){if(Y.randomBytes)return Y.randomBytes;if(Y.getRandomValues)return typeof Uint8Array.prototype.slice!="function"?function(ne){var ie=new Uint8Array(ne);return Y.getRandomValues(ie),Array.from(ie)}:function(ne){var ie=new Uint8Array(ne);return Y.getRandomValues(ie),ie}}return function(ne){var ie,oe=[];for(ie=0;ie<ne;ie++)oe.push(Math.floor(Math.random()*256));return oe}}();function X(ne){return(!q||W+ne>re.BUFFER_SIZE)&&(W=0,q=re.randomBytes(re.BUFFER_SIZE)),q.slice(W,W+=ne)}function te(){var ne=X(16);return ne[6]=ne[6]&15|64,ne[8]=ne[8]&63|128,ne}function re(){var ne=te();return J[ne[0]]+J[ne[1]]+J[ne[2]]+J[ne[3]]+"-"+J[ne[4]]+J[ne[5]]+"-"+J[ne[6]]+J[ne[7]]+"-"+J[ne[8]]+J[ne[9]]+"-"+J[ne[10]]+J[ne[11]]+J[ne[12]]+J[ne[13]]+J[ne[14]]+J[ne[15]]}})()},"../packages/immutable/dist/Map.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Map=void 0;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/has.js"),W=Q("../node_modules/typed-immutable-map/dist/HashMap/get.js"),J=Q("../node_modules/typed-immutable-map/dist/HashMap/set.js"),F=Q("../node_modules/typed-immutable-map/dist/HashMap/forEach.js"),Y=Q("../node_modules/typed-immutable-map/dist/HashMap/map.js"),X=Q("../node_modules/typed-immutable-map/dist/HashMap/filter.js"),te=Q("../node_modules/typed-immutable-map/dist/HashMap/remove.js"),re=Q("../node_modules/typed-immutable-map/dist/HashMap/entries.js"),ne=Q("../node_modules/typed-immutable-map/dist/HashMap/values.js"),ie=Q("../node_modules/typed-immutable-map/dist/HashMap/keys.js"),oe=Q("../node_modules/typed-immutable-map/dist/HashMap/size.js");class ae{constructor(ce){jt(this,"hashmap");this.hashmap=ce}get size(){return(0,oe.size)(this.hashmap)}set(ce,se){return new ae((0,J.set)(ce,se,this.hashmap))}delete(ce){return new ae((0,te.remove)(ce,this.hashmap))}get(ce){return(0,W.get)(ce,this.hashmap)}has(ce){return(0,q.has)(ce,this.hashmap)}forEach(ce){(0,F.forEach)(ce,this.hashmap)}map(ce){return new ae((0,Y.map)(ce,this.hashmap))}filter(ce){return new ae((0,X.filter)(ce,this.hashmap))}toJS(){return Object.fromEntries(this)}toJSON(){return this.toJS()}keys(){return(0,ie.keys)(this.hashmap)}values(){return(0,ne.values)(this.hashmap)}entries(){return(0,re.entries)(this.hashmap)}[Symbol.iterator](){return this.entries()}}G.Map=ae},"../packages/immutable/dist/index.js":(U,G,Q)=>{Object.defineProperty(G,"__esModule",{value:!0}),G.Map=Y;const q=Q("../node_modules/typed-immutable-map/dist/HashMap/empty.js"),W=Q("../node_modules/typed-immutable-map/dist/HashMap/from.js"),J=Q("../packages/immutable/dist/Map.js"),F=X=>Symbol.iterator in X;function Y(X){return X?F(X)?new J.Map((0,W.fromIterable)(X)):new J.Map((0,W.fromObject)(X)):new J.Map((0,q.empty)())}},"../packages/uuid/dist/index.js":function(U,G,Q){var q=this&&this.__importDefault||function(J){return J&&J.__esModule?J:{default:J}};Object.defineProperty(G,"__esModule",{value:!0}),G.v4=void 0;const W=q(Q("../node_modules/uuid-random/index.js"));G.v4=W.default},asynciterator:U=>{U.exports=__QUADSTORE_COMUNICA_EXTERNAL_MODULE_asynciterator__},sparqlalgebrajs:U=>{U.exports=__QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqlalgebrajs__},sparqljs:U=>{U.exports=__QUADSTORE_COMUNICA_EXTERNAL_MODULE_sparqljs__},"?699d":()=>{},"./src/crypto-polyfill.js":(__unused_webpack_module,__unused_webpack_exports,__quadstore_comunica_require__)=>{const isNode=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,polyfillCrypto=({randomFillSync:U})=>{__quadstore_comunica_require__.g.crypto={},__quadstore_comunica_require__.g.crypto.getRandomValues=G=>(U(G),G)};isNode&&typeof crypto>"u"&&(eval("typeof require === 'function'")?polyfillCrypto(eval("require('crypto');")):eval("import('crypto');").then(polyfillCrypto).catch(U=>{console.error(U),process.exit(1)}))},"./src/index.js":(U,G,Q)=>{Q("./src/crypto-polyfill.js");const{QueryEngine:q}=Q("../node_modules/@comunica/query-sparql-rdfjs-lite/lib/index-browser.js"),W=new q,J=Object.create(null);class F{constructor(X){this._context={sources:[X],destination:X}}getContext(X){return{...X,...this._context}}query(X,te=J){return W.query(X,this.getContext(te))}queryVoid(X,te=J){return W.queryVoid(X,this.getContext(te))}queryBindings(X,te=J){return W.queryBindings(X,this.getContext(te))}queryQuads(X,te=J){return W.queryQuads(X,this.getContext(te))}queryBoolean(X,te=J){return W.queryBoolean(X,this.getContext(te))}}U.exports.N=F,U.exports.e=W},"../node_modules/lru-cache/dist/commonjs/index.js":(U,G)=>{var ae,ue,se,le,de,he,pe,ge,be,ve,Ee,ke,Pe,Te,xe,Ne,Se,Ge,Ce,ze,Ve,Ke,Ze,et,ot,nt,dt,Fe,Jn,pt,yt,vt,mt,zi,we,Re,_e,vr,xr,Zn,wn,On,Lt,Yn,Xr,_r,Xn;Object.defineProperty(G,"__esModule",{value:!0}),G.LRUCache=void 0;const Q=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,q=new Set,W=typeof process=="object"&&process?process:{},J=(me,fe,ye,Ae)=>{typeof W.emitWarning=="function"?W.emitWarning(me,fe,ye,Ae):console.error(`[${ye}] ${fe}: ${me}`)};let F=globalThis.AbortController,Y=globalThis.AbortSignal;if(typeof F>"u"){Y=class{constructor(){jt(this,"onabort");jt(this,"_onabort",[]);jt(this,"reason");jt(this,"aborted",!1)}addEventListener(ye,Ae){this._onabort.push(Ae)}},F=class{constructor(){jt(this,"signal",new Y);fe()}abort(ye){var Ae,Be;if(!this.signal.aborted){this.signal.reason=ye,this.signal.aborted=!0;for(const He of this.signal._onabort)He(ye);(Be=(Ae=this.signal).onabort)==null||Be.call(Ae,ye)}}};let me=((ae=W.env)==null?void 0:ae.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const fe=()=>{me&&(me=!1,J("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",fe))}}const X=me=>!q.has(me),te=me=>me&&me===Math.floor(me)&&me>0&&isFinite(me),re=me=>te(me)?me<=Math.pow(2,8)?Uint8Array:me<=Math.pow(2,16)?Uint16Array:me<=Math.pow(2,32)?Uint32Array:me<=Number.MAX_SAFE_INTEGER?ne:null:null;class ne extends Array{constructor(fe){super(fe),this.fill(0)}}const ce=class ce{constructor(fe,ye){jt(this,"heap");jt(this,"length");if(!Ue(ce,ue))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new ye(fe),this.length=0}static create(fe){const ye=re(fe);if(!ye)return[];wt(ce,ue,!0);const Ae=new ce(fe,ye);return wt(ce,ue,!1),Ae}push(fe){this.heap[this.length++]=fe}pop(){return this.heap[--this.length]}};ue=new WeakMap,Pt(ce,ue,!1);let ie=ce;const at=class at{constructor(fe){Pt(this,Fe);Pt(this,de);Pt(this,he);Pt(this,pe);Pt(this,ge);Pt(this,be);Pt(this,ve);jt(this,"ttl");jt(this,"ttlResolution");jt(this,"ttlAutopurge");jt(this,"updateAgeOnGet");jt(this,"updateAgeOnHas");jt(this,"allowStale");jt(this,"noDisposeOnSet");jt(this,"noUpdateTTL");jt(this,"maxEntrySize");jt(this,"sizeCalculation");jt(this,"noDeleteOnFetchRejection");jt(this,"noDeleteOnStaleGet");jt(this,"allowStaleOnFetchAbort");jt(this,"allowStaleOnFetchRejection");jt(this,"ignoreFetchAbort");Pt(this,Ee);Pt(this,ke);Pt(this,Pe);Pt(this,Te);Pt(this,xe);Pt(this,Ne);Pt(this,Se);Pt(this,Ge);Pt(this,Ce);Pt(this,ze);Pt(this,Ve);Pt(this,Ke);Pt(this,Ze);Pt(this,et);Pt(this,ot);Pt(this,nt);Pt(this,dt);Pt(this,pt,()=>{});Pt(this,yt,()=>{});Pt(this,vt,()=>{});Pt(this,mt,()=>!1);Pt(this,we,fe=>{});Pt(this,Re,(fe,ye,Ae)=>{});Pt(this,_e,(fe,ye,Ae,Be)=>{if(Ae||Be)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});jt(this,se,"LRUCache");const{max:ye=0,ttl:Ae,ttlResolution:Be=1,ttlAutopurge:He,updateAgeOnGet:Je,updateAgeOnHas:st,allowStale:ut,dispose:ft,disposeAfter:At,noDisposeOnSet:bt,noUpdateTTL:It,maxSize:Et=0,maxEntrySize:Vt=0,sizeCalculation:Bt,fetchMethod:Gt,memoMethod:St,noDeleteOnFetchRejection:Rt,noDeleteOnStaleGet:qt,allowStaleOnFetchRejection:Dt,allowStaleOnFetchAbort:kt,ignoreFetchAbort:$t}=fe;if(ye!==0&&!te(ye))throw new TypeError("max option must be a nonnegative integer");const tr=ye?re(ye):Array;if(!tr)throw new Error("invalid max value: "+ye);if(wt(this,de,ye),wt(this,he,Et),this.maxEntrySize=Vt||Ue(this,he),this.sizeCalculation=Bt,this.sizeCalculation){if(!Ue(this,he)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(St!==void 0&&typeof St!="function")throw new TypeError("memoMethod must be a function if defined");if(wt(this,ve,St),Gt!==void 0&&typeof Gt!="function")throw new TypeError("fetchMethod must be a function if specified");if(wt(this,be,Gt),wt(this,nt,!!Gt),wt(this,Pe,new Map),wt(this,Te,new Array(ye).fill(void 0)),wt(this,xe,new Array(ye).fill(void 0)),wt(this,Ne,new tr(ye)),wt(this,Se,new tr(ye)),wt(this,Ge,0),wt(this,Ce,0),wt(this,ze,ie.create(ye)),wt(this,Ee,0),wt(this,ke,0),typeof ft=="function"&&wt(this,pe,ft),typeof At=="function"?(wt(this,ge,At),wt(this,Ve,[])):(wt(this,ge,void 0),wt(this,Ve,void 0)),wt(this,ot,!!Ue(this,pe)),wt(this,dt,!!Ue(this,ge)),this.noDisposeOnSet=!!bt,this.noUpdateTTL=!!It,this.noDeleteOnFetchRejection=!!Rt,this.allowStaleOnFetchRejection=!!Dt,this.allowStaleOnFetchAbort=!!kt,this.ignoreFetchAbort=!!$t,this.maxEntrySize!==0){if(Ue(this,he)!==0&&!te(Ue(this,he)))throw new TypeError("maxSize must be a positive integer if specified");if(!te(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");_t(this,Fe,zi).call(this)}if(this.allowStale=!!ut,this.noDeleteOnStaleGet=!!qt,this.updateAgeOnGet=!!Je,this.updateAgeOnHas=!!st,this.ttlResolution=te(Be)||Be===0?Be:1,this.ttlAutopurge=!!He,this.ttl=Ae||0,this.ttl){if(!te(this.ttl))throw new TypeError("ttl must be a positive integer if specified");_t(this,Fe,Jn).call(this)}if(Ue(this,de)===0&&this.ttl===0&&Ue(this,he)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!Ue(this,de)&&!Ue(this,he)){const sr="LRU_CACHE_UNBOUNDED";X(sr)&&(q.add(sr),J("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",sr,at))}}static unsafeExposeInternals(fe){return{starts:Ue(fe,Ze),ttls:Ue(fe,et),sizes:Ue(fe,Ke),keyMap:Ue(fe,Pe),keyList:Ue(fe,Te),valList:Ue(fe,xe),next:Ue(fe,Ne),prev:Ue(fe,Se),get head(){return Ue(fe,Ge)},get tail(){return Ue(fe,Ce)},free:Ue(fe,ze),isBackgroundFetch:ye=>{var Ae;return _t(Ae=fe,Fe,Lt).call(Ae,ye)},backgroundFetch:(ye,Ae,Be,He)=>{var Je;return _t(Je=fe,Fe,On).call(Je,ye,Ae,Be,He)},moveToTail:ye=>{var Ae;return _t(Ae=fe,Fe,Xr).call(Ae,ye)},indexes:ye=>{var Ae;return _t(Ae=fe,Fe,vr).call(Ae,ye)},rindexes:ye=>{var Ae;return _t(Ae=fe,Fe,xr).call(Ae,ye)},isStale:ye=>{var Ae;return Ue(Ae=fe,mt).call(Ae,ye)}}}get max(){return Ue(this,de)}get maxSize(){return Ue(this,he)}get calculatedSize(){return Ue(this,ke)}get size(){return Ue(this,Ee)}get fetchMethod(){return Ue(this,be)}get memoMethod(){return Ue(this,ve)}get dispose(){return Ue(this,pe)}get disposeAfter(){return Ue(this,ge)}getRemainingTTL(fe){return Ue(this,Pe).has(fe)?1/0:0}*entries(){for(const fe of _t(this,Fe,vr).call(this))Ue(this,xe)[fe]!==void 0&&Ue(this,Te)[fe]!==void 0&&!_t(this,Fe,Lt).call(this,Ue(this,xe)[fe])&&(yield[Ue(this,Te)[fe],Ue(this,xe)[fe]])}*rentries(){for(const fe of _t(this,Fe,xr).call(this))Ue(this,xe)[fe]!==void 0&&Ue(this,Te)[fe]!==void 0&&!_t(this,Fe,Lt).call(this,Ue(this,xe)[fe])&&(yield[Ue(this,Te)[fe],Ue(this,xe)[fe]])}*keys(){for(const fe of _t(this,Fe,vr).call(this)){const ye=Ue(this,Te)[fe];ye!==void 0&&!_t(this,Fe,Lt).call(this,Ue(this,xe)[fe])&&(yield ye)}}*rkeys(){for(const fe of _t(this,Fe,xr).call(this)){const ye=Ue(this,Te)[fe];ye!==void 0&&!_t(this,Fe,Lt).call(this,Ue(this,xe)[fe])&&(yield ye)}}*values(){for(const fe of _t(this,Fe,vr).call(this))Ue(this,xe)[fe]!==void 0&&!_t(this,Fe,Lt).call(this,Ue(this,xe)[fe])&&(yield Ue(this,xe)[fe])}*rvalues(){for(const fe of _t(this,Fe,xr).call(this))Ue(this,xe)[fe]!==void 0&&!_t(this,Fe,Lt).call(this,Ue(this,xe)[fe])&&(yield Ue(this,xe)[fe])}[(le=Symbol.iterator,se=Symbol.toStringTag,le)](){return this.entries()}find(fe,ye={}){for(const Ae of _t(this,Fe,vr).call(this)){const Be=Ue(this,xe)[Ae],He=_t(this,Fe,Lt).call(this,Be)?Be.__staleWhileFetching:Be;if(He!==void 0&&fe(He,Ue(this,Te)[Ae],this))return this.get(Ue(this,Te)[Ae],ye)}}forEach(fe,ye=this){for(const Ae of _t(this,Fe,vr).call(this)){const Be=Ue(this,xe)[Ae],He=_t(this,Fe,Lt).call(this,Be)?Be.__staleWhileFetching:Be;He!==void 0&&fe.call(ye,He,Ue(this,Te)[Ae],this)}}rforEach(fe,ye=this){for(const Ae of _t(this,Fe,xr).call(this)){const Be=Ue(this,xe)[Ae],He=_t(this,Fe,Lt).call(this,Be)?Be.__staleWhileFetching:Be;He!==void 0&&fe.call(ye,He,Ue(this,Te)[Ae],this)}}purgeStale(){let fe=!1;for(const ye of _t(this,Fe,xr).call(this,{allowStale:!0}))Ue(this,mt).call(this,ye)&&(_t(this,Fe,_r).call(this,Ue(this,Te)[ye],"expire"),fe=!0);return fe}info(fe){const ye=Ue(this,Pe).get(fe);if(ye===void 0)return;const Ae=Ue(this,xe)[ye],Be=_t(this,Fe,Lt).call(this,Ae)?Ae.__staleWhileFetching:Ae;if(Be===void 0)return;const He={value:Be};if(Ue(this,et)&&Ue(this,Ze)){const Je=Ue(this,et)[ye],st=Ue(this,Ze)[ye];if(Je&&st){const ut=Je-(Q.now()-st);He.ttl=ut,He.start=Date.now()}}return Ue(this,Ke)&&(He.size=Ue(this,Ke)[ye]),He}dump(){const fe=[];for(const ye of _t(this,Fe,vr).call(this,{allowStale:!0})){const Ae=Ue(this,Te)[ye],Be=Ue(this,xe)[ye],He=_t(this,Fe,Lt).call(this,Be)?Be.__staleWhileFetching:Be;if(He===void 0||Ae===void 0)continue;const Je={value:He};if(Ue(this,et)&&Ue(this,Ze)){Je.ttl=Ue(this,et)[ye];const st=Q.now()-Ue(this,Ze)[ye];Je.start=Math.floor(Date.now()-st)}Ue(this,Ke)&&(Je.size=Ue(this,Ke)[ye]),fe.unshift([Ae,Je])}return fe}load(fe){this.clear();for(const[ye,Ae]of fe){if(Ae.start){const Be=Date.now()-Ae.start;Ae.start=Q.now()-Be}this.set(ye,Ae.value,Ae)}}set(fe,ye,Ae={}){var It,Et,Vt,Bt,Gt;if(ye===void 0)return this.delete(fe),this;const{ttl:Be=this.ttl,start:He,noDisposeOnSet:Je=this.noDisposeOnSet,sizeCalculation:st=this.sizeCalculation,status:ut}=Ae;let{noUpdateTTL:ft=this.noUpdateTTL}=Ae;const At=Ue(this,_e).call(this,fe,ye,Ae.size||0,st);if(this.maxEntrySize&&At>this.maxEntrySize)return ut&&(ut.set="miss",ut.maxEntrySizeExceeded=!0),_t(this,Fe,_r).call(this,fe,"set"),this;let bt=Ue(this,Ee)===0?void 0:Ue(this,Pe).get(fe);if(bt===void 0)bt=Ue(this,Ee)===0?Ue(this,Ce):Ue(this,ze).length!==0?Ue(this,ze).pop():Ue(this,Ee)===Ue(this,de)?_t(this,Fe,wn).call(this,!1):Ue(this,Ee),Ue(this,Te)[bt]=fe,Ue(this,xe)[bt]=ye,Ue(this,Pe).set(fe,bt),Ue(this,Ne)[Ue(this,Ce)]=bt,Ue(this,Se)[bt]=Ue(this,Ce),wt(this,Ce,bt),Sn(this,Ee)._++,Ue(this,Re).call(this,bt,At,ut),ut&&(ut.set="add"),ft=!1;else{_t(this,Fe,Xr).call(this,bt);const St=Ue(this,xe)[bt];if(ye!==St){if(Ue(this,nt)&&_t(this,Fe,Lt).call(this,St)){St.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:Rt}=St;Rt!==void 0&&!Je&&(Ue(this,ot)&&((It=Ue(this,pe))==null||It.call(this,Rt,fe,"set")),Ue(this,dt)&&((Et=Ue(this,Ve))==null||Et.push([Rt,fe,"set"])))}else Je||(Ue(this,ot)&&((Vt=Ue(this,pe))==null||Vt.call(this,St,fe,"set")),Ue(this,dt)&&((Bt=Ue(this,Ve))==null||Bt.push([St,fe,"set"])));if(Ue(this,we).call(this,bt),Ue(this,Re).call(this,bt,At,ut),Ue(this,xe)[bt]=ye,ut){ut.set="replace";const Rt=St&&_t(this,Fe,Lt).call(this,St)?St.__staleWhileFetching:St;Rt!==void 0&&(ut.oldValue=Rt)}}else ut&&(ut.set="update")}if(Be!==0&&!Ue(this,et)&&_t(this,Fe,Jn).call(this),Ue(this,et)&&(ft||Ue(this,vt).call(this,bt,Be,He),ut&&Ue(this,yt).call(this,ut,bt)),!Je&&Ue(this,dt)&&Ue(this,Ve)){const St=Ue(this,Ve);let Rt;for(;Rt=St==null?void 0:St.shift();)(Gt=Ue(this,ge))==null||Gt.call(this,...Rt)}return this}pop(){var fe;try{for(;Ue(this,Ee);){const ye=Ue(this,xe)[Ue(this,Ge)];if(_t(this,Fe,wn).call(this,!0),_t(this,Fe,Lt).call(this,ye)){if(ye.__staleWhileFetching)return ye.__staleWhileFetching}else if(ye!==void 0)return ye}}finally{if(Ue(this,dt)&&Ue(this,Ve)){const ye=Ue(this,Ve);let Ae;for(;Ae=ye==null?void 0:ye.shift();)(fe=Ue(this,ge))==null||fe.call(this,...Ae)}}}has(fe,ye={}){const{updateAgeOnHas:Ae=this.updateAgeOnHas,status:Be}=ye,He=Ue(this,Pe).get(fe);if(He!==void 0){const Je=Ue(this,xe)[He];if(_t(this,Fe,Lt).call(this,Je)&&Je.__staleWhileFetching===void 0)return!1;if(Ue(this,mt).call(this,He))Be&&(Be.has="stale",Ue(this,yt).call(this,Be,He));else return Ae&&Ue(this,pt).call(this,He),Be&&(Be.has="hit",Ue(this,yt).call(this,Be,He)),!0}else Be&&(Be.has="miss");return!1}peek(fe,ye={}){const{allowStale:Ae=this.allowStale}=ye,Be=Ue(this,Pe).get(fe);if(Be===void 0||!Ae&&Ue(this,mt).call(this,Be))return;const He=Ue(this,xe)[Be];return _t(this,Fe,Lt).call(this,He)?He.__staleWhileFetching:He}async fetch(fe,ye={}){const{allowStale:Ae=this.allowStale,updateAgeOnGet:Be=this.updateAgeOnGet,noDeleteOnStaleGet:He=this.noDeleteOnStaleGet,ttl:Je=this.ttl,noDisposeOnSet:st=this.noDisposeOnSet,size:ut=0,sizeCalculation:ft=this.sizeCalculation,noUpdateTTL:At=this.noUpdateTTL,noDeleteOnFetchRejection:bt=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:It=this.allowStaleOnFetchRejection,ignoreFetchAbort:Et=this.ignoreFetchAbort,allowStaleOnFetchAbort:Vt=this.allowStaleOnFetchAbort,context:Bt,forceRefresh:Gt=!1,status:St,signal:Rt}=ye;if(!Ue(this,nt))return St&&(St.fetch="get"),this.get(fe,{allowStale:Ae,updateAgeOnGet:Be,noDeleteOnStaleGet:He,status:St});const qt={allowStale:Ae,updateAgeOnGet:Be,noDeleteOnStaleGet:He,ttl:Je,noDisposeOnSet:st,size:ut,sizeCalculation:ft,noUpdateTTL:At,noDeleteOnFetchRejection:bt,allowStaleOnFetchRejection:It,allowStaleOnFetchAbort:Vt,ignoreFetchAbort:Et,status:St,signal:Rt};let Dt=Ue(this,Pe).get(fe);if(Dt===void 0){St&&(St.fetch="miss");const kt=_t(this,Fe,On).call(this,fe,Dt,qt,Bt);return kt.__returned=kt}else{const kt=Ue(this,xe)[Dt];if(_t(this,Fe,Lt).call(this,kt)){const Ur=Ae&&kt.__staleWhileFetching!==void 0;return St&&(St.fetch="inflight",Ur&&(St.returnedStale=!0)),Ur?kt.__staleWhileFetching:kt.__returned=kt}const $t=Ue(this,mt).call(this,Dt);if(!Gt&&!$t)return St&&(St.fetch="hit"),_t(this,Fe,Xr).call(this,Dt),Be&&Ue(this,pt).call(this,Dt),St&&Ue(this,yt).call(this,St,Dt),kt;const tr=_t(this,Fe,On).call(this,fe,Dt,qt,Bt),sr=tr.__staleWhileFetching!==void 0&&Ae;return St&&(St.fetch=$t?"stale":"refresh",sr&&$t&&(St.returnedStale=!0)),sr?tr.__staleWhileFetching:tr.__returned=tr}}async forceFetch(fe,ye={}){const Ae=await this.fetch(fe,ye);if(Ae===void 0)throw new Error("fetch() returned undefined");return Ae}memo(fe,ye={}){const Ae=Ue(this,ve);if(!Ae)throw new Error("no memoMethod provided to constructor");const{context:Be,forceRefresh:He,...Je}=ye,st=this.get(fe,Je);if(!He&&st!==void 0)return st;const ut=Ae(fe,st,{options:Je,context:Be});return this.set(fe,ut,Je),ut}get(fe,ye={}){const{allowStale:Ae=this.allowStale,updateAgeOnGet:Be=this.updateAgeOnGet,noDeleteOnStaleGet:He=this.noDeleteOnStaleGet,status:Je}=ye,st=Ue(this,Pe).get(fe);if(st!==void 0){const ut=Ue(this,xe)[st],ft=_t(this,Fe,Lt).call(this,ut);return Je&&Ue(this,yt).call(this,Je,st),Ue(this,mt).call(this,st)?(Je&&(Je.get="stale"),ft?(Je&&Ae&&ut.__staleWhileFetching!==void 0&&(Je.returnedStale=!0),Ae?ut.__staleWhileFetching:void 0):(He||_t(this,Fe,_r).call(this,fe,"expire"),Je&&Ae&&(Je.returnedStale=!0),Ae?ut:void 0)):(Je&&(Je.get="hit"),ft?ut.__staleWhileFetching:(_t(this,Fe,Xr).call(this,st),Be&&Ue(this,pt).call(this,st),ut))}else Je&&(Je.get="miss")}delete(fe){return _t(this,Fe,_r).call(this,fe,"delete")}clear(){return _t(this,Fe,Xn).call(this,"delete")}};de=new WeakMap,he=new WeakMap,pe=new WeakMap,ge=new WeakMap,be=new WeakMap,ve=new WeakMap,Ee=new WeakMap,ke=new WeakMap,Pe=new WeakMap,Te=new WeakMap,xe=new WeakMap,Ne=new WeakMap,Se=new WeakMap,Ge=new WeakMap,Ce=new WeakMap,ze=new WeakMap,Ve=new WeakMap,Ke=new WeakMap,Ze=new WeakMap,et=new WeakMap,ot=new WeakMap,nt=new WeakMap,dt=new WeakMap,Fe=new WeakSet,Jn=function(){const fe=new ne(Ue(this,de)),ye=new ne(Ue(this,de));wt(this,et,fe),wt(this,Ze,ye),wt(this,vt,(He,Je,st=Q.now())=>{if(ye[He]=Je!==0?st:0,fe[He]=Je,Je!==0&&this.ttlAutopurge){const ut=setTimeout(()=>{Ue(this,mt).call(this,He)&&_t(this,Fe,_r).call(this,Ue(this,Te)[He],"expire")},Je+1);ut.unref&&ut.unref()}}),wt(this,pt,He=>{ye[He]=fe[He]!==0?Q.now():0}),wt(this,yt,(He,Je)=>{if(fe[Je]){const st=fe[Je],ut=ye[Je];if(!st||!ut)return;He.ttl=st,He.start=ut,He.now=Ae||Be();const ft=He.now-ut;He.remainingTTL=st-ft}});let Ae=0;const Be=()=>{const He=Q.now();if(this.ttlResolution>0){Ae=He;const Je=setTimeout(()=>Ae=0,this.ttlResolution);Je.unref&&Je.unref()}return He};this.getRemainingTTL=He=>{const Je=Ue(this,Pe).get(He);if(Je===void 0)return 0;const st=fe[Je],ut=ye[Je];if(!st||!ut)return 1/0;const ft=(Ae||Be())-ut;return st-ft},wt(this,mt,He=>{const Je=ye[He],st=fe[He];return!!st&&!!Je&&(Ae||Be())-Je>st})},pt=new WeakMap,yt=new WeakMap,vt=new WeakMap,mt=new WeakMap,zi=function(){const fe=new ne(Ue(this,de));wt(this,ke,0),wt(this,Ke,fe),wt(this,we,ye=>{wt(this,ke,Ue(this,ke)-fe[ye]),fe[ye]=0}),wt(this,_e,(ye,Ae,Be,He)=>{if(_t(this,Fe,Lt).call(this,Ae))return 0;if(!te(Be))if(He){if(typeof He!="function")throw new TypeError("sizeCalculation must be a function");if(Be=He(Ae,ye),!te(Be))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return Be}),wt(this,Re,(ye,Ae,Be)=>{if(fe[ye]=Ae,Ue(this,he)){const He=Ue(this,he)-fe[ye];for(;Ue(this,ke)>He;)_t(this,Fe,wn).call(this,!0)}wt(this,ke,Ue(this,ke)+fe[ye]),Be&&(Be.entrySize=Ae,Be.totalCalculatedSize=Ue(this,ke))})},we=new WeakMap,Re=new WeakMap,_e=new WeakMap,vr=function*({allowStale:fe=this.allowStale}={}){if(Ue(this,Ee))for(let ye=Ue(this,Ce);!(!_t(this,Fe,Zn).call(this,ye)||((fe||!Ue(this,mt).call(this,ye))&&(yield ye),ye===Ue(this,Ge)));)ye=Ue(this,Se)[ye]},xr=function*({allowStale:fe=this.allowStale}={}){if(Ue(this,Ee))for(let ye=Ue(this,Ge);!(!_t(this,Fe,Zn).call(this,ye)||((fe||!Ue(this,mt).call(this,ye))&&(yield ye),ye===Ue(this,Ce)));)ye=Ue(this,Ne)[ye]},Zn=function(fe){return fe!==void 0&&Ue(this,Pe).get(Ue(this,Te)[fe])===fe},wn=function(fe){var He,Je;const ye=Ue(this,Ge),Ae=Ue(this,Te)[ye],Be=Ue(this,xe)[ye];return Ue(this,nt)&&_t(this,Fe,Lt).call(this,Be)?Be.__abortController.abort(new Error("evicted")):(Ue(this,ot)||Ue(this,dt))&&(Ue(this,ot)&&((He=Ue(this,pe))==null||He.call(this,Be,Ae,"evict")),Ue(this,dt)&&((Je=Ue(this,Ve))==null||Je.push([Be,Ae,"evict"]))),Ue(this,we).call(this,ye),fe&&(Ue(this,Te)[ye]=void 0,Ue(this,xe)[ye]=void 0,Ue(this,ze).push(ye)),Ue(this,Ee)===1?(wt(this,Ge,wt(this,Ce,0)),Ue(this,ze).length=0):wt(this,Ge,Ue(this,Ne)[ye]),Ue(this,Pe).delete(Ae),Sn(this,Ee)._--,ye},On=function(fe,ye,Ae,Be){const He=ye===void 0?void 0:Ue(this,xe)[ye];if(_t(this,Fe,Lt).call(this,He))return He;const Je=new F,{signal:st}=Ae;st==null||st.addEventListener("abort",()=>Je.abort(st.reason),{signal:Je.signal});const ut={signal:Je.signal,options:Ae,context:Be},ft=(Bt,Gt=!1)=>{const{aborted:St}=Je.signal,Rt=Ae.ignoreFetchAbort&&Bt!==void 0;if(Ae.status&&(St&&!Gt?(Ae.status.fetchAborted=!0,Ae.status.fetchError=Je.signal.reason,Rt&&(Ae.status.fetchAbortIgnored=!0)):Ae.status.fetchResolved=!0),St&&!Rt&&!Gt)return bt(Je.signal.reason);const qt=Et;return Ue(this,xe)[ye]===Et&&(Bt===void 0?qt.__staleWhileFetching?Ue(this,xe)[ye]=qt.__staleWhileFetching:_t(this,Fe,_r).call(this,fe,"fetch"):(Ae.status&&(Ae.status.fetchUpdated=!0),this.set(fe,Bt,ut.options))),Bt},At=Bt=>(Ae.status&&(Ae.status.fetchRejected=!0,Ae.status.fetchError=Bt),bt(Bt)),bt=Bt=>{const{aborted:Gt}=Je.signal,St=Gt&&Ae.allowStaleOnFetchAbort,Rt=St||Ae.allowStaleOnFetchRejection,qt=Rt||Ae.noDeleteOnFetchRejection,Dt=Et;if(Ue(this,xe)[ye]===Et&&(!qt||Dt.__staleWhileFetching===void 0?_t(this,Fe,_r).call(this,fe,"fetch"):St||(Ue(this,xe)[ye]=Dt.__staleWhileFetching)),Rt)return Ae.status&&Dt.__staleWhileFetching!==void 0&&(Ae.status.returnedStale=!0),Dt.__staleWhileFetching;if(Dt.__returned===Dt)throw Bt},It=(Bt,Gt)=>{var Rt;const St=(Rt=Ue(this,be))==null?void 0:Rt.call(this,fe,He,ut);St&&St instanceof Promise&&St.then(qt=>Bt(qt===void 0?void 0:qt),Gt),Je.signal.addEventListener("abort",()=>{(!Ae.ignoreFetchAbort||Ae.allowStaleOnFetchAbort)&&(Bt(void 0),Ae.allowStaleOnFetchAbort&&(Bt=qt=>ft(qt,!0)))})};Ae.status&&(Ae.status.fetchDispatched=!0);const Et=new Promise(It).then(ft,At),Vt=Object.assign(Et,{__abortController:Je,__staleWhileFetching:He,__returned:void 0});return ye===void 0?(this.set(fe,Vt,{...ut.options,status:void 0}),ye=Ue(this,Pe).get(fe)):Ue(this,xe)[ye]=Vt,Vt},Lt=function(fe){if(!Ue(this,nt))return!1;const ye=fe;return!!ye&&ye instanceof Promise&&ye.hasOwnProperty("__staleWhileFetching")&&ye.__abortController instanceof F},Yn=function(fe,ye){Ue(this,Se)[ye]=fe,Ue(this,Ne)[fe]=ye},Xr=function(fe){fe!==Ue(this,Ce)&&(fe===Ue(this,Ge)?wt(this,Ge,Ue(this,Ne)[fe]):_t(this,Fe,Yn).call(this,Ue(this,Se)[fe],Ue(this,Ne)[fe]),_t(this,Fe,Yn).call(this,Ue(this,Ce),fe),wt(this,Ce,fe))},_r=function(fe,ye){var Be,He,Je,st;let Ae=!1;if(Ue(this,Ee)!==0){const ut=Ue(this,Pe).get(fe);if(ut!==void 0)if(Ae=!0,Ue(this,Ee)===1)_t(this,Fe,Xn).call(this,ye);else{Ue(this,we).call(this,ut);const ft=Ue(this,xe)[ut];if(_t(this,Fe,Lt).call(this,ft)?ft.__abortController.abort(new Error("deleted")):(Ue(this,ot)||Ue(this,dt))&&(Ue(this,ot)&&((Be=Ue(this,pe))==null||Be.call(this,ft,fe,ye)),Ue(this,dt)&&((He=Ue(this,Ve))==null||He.push([ft,fe,ye]))),Ue(this,Pe).delete(fe),Ue(this,Te)[ut]=void 0,Ue(this,xe)[ut]=void 0,ut===Ue(this,Ce))wt(this,Ce,Ue(this,Se)[ut]);else if(ut===Ue(this,Ge))wt(this,Ge,Ue(this,Ne)[ut]);else{const At=Ue(this,Se)[ut];Ue(this,Ne)[At]=Ue(this,Ne)[ut];const bt=Ue(this,Ne)[ut];Ue(this,Se)[bt]=Ue(this,Se)[ut]}Sn(this,Ee)._--,Ue(this,ze).push(ut)}}if(Ue(this,dt)&&((Je=Ue(this,Ve))!=null&&Je.length)){const ut=Ue(this,Ve);let ft;for(;ft=ut==null?void 0:ut.shift();)(st=Ue(this,ge))==null||st.call(this,...ft)}return Ae},Xn=function(fe){var ye,Ae,Be;for(const He of _t(this,Fe,xr).call(this,{allowStale:!0})){const Je=Ue(this,xe)[He];if(_t(this,Fe,Lt).call(this,Je))Je.__abortController.abort(new Error("deleted"));else{const st=Ue(this,Te)[He];Ue(this,ot)&&((ye=Ue(this,pe))==null||ye.call(this,Je,st,fe)),Ue(this,dt)&&((Ae=Ue(this,Ve))==null||Ae.push([Je,st,fe]))}}if(Ue(this,Pe).clear(),Ue(this,xe).fill(void 0),Ue(this,Te).fill(void 0),Ue(this,et)&&Ue(this,Ze)&&(Ue(this,et).fill(0),Ue(this,Ze).fill(0)),Ue(this,Ke)&&Ue(this,Ke).fill(0),wt(this,Ge,0),wt(this,Ce,0),Ue(this,ze).length=0,wt(this,ke,0),wt(this,Ee,0),Ue(this,dt)&&Ue(this,Ve)){const He=Ue(this,Ve);let Je;for(;Je=He==null?void 0:He.shift();)(Be=Ue(this,ge))==null||Be.call(this,...Je)}};let oe=at;G.LRUCache=oe}},__quadstore_comunica_module_cache__={};function __quadstore_comunica_require__(U){var G=__quadstore_comunica_module_cache__[U];if(G!==void 0)return G.exports;var Q=__quadstore_comunica_module_cache__[U]={exports:{}};return __quadstore_comunica_modules__[U].call(Q.exports,Q,Q.exports,__quadstore_comunica_require__),Q.exports}__quadstore_comunica_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var __quadstore_comunica_exports__=__quadstore_comunica_require__("./src/index.js"),__quadstore_comunica_exports__Engine=__quadstore_comunica_exports__.N;__quadstore_comunica_exports__.e;const DOWNSTREAM_FROM="http://webscape.wanderer#downstream-from",directDownstreamQuery=U=>`
  PREFIX sources: <${DOWNSTREAM_FROM}>
  SELECT DISTINCT ?downstream WHERE {
    ?downstream sources: <${U}> .
  }`,directUpstreamQuery=U=>`
  PREFIX sources: <${DOWNSTREAM_FROM}>
  SELECT DISTINCT ?upstream WHERE {
    <${U}> sources: ?upstream .
  }`;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal$1||freeSelf||Function("return this")();const root$2=root$1;var Symbol$1=root$2.Symbol;const Symbol$2=Symbol$1;var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty,nativeObjectToString$1=objectProto$4.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(U){var G=hasOwnProperty$4.call(U,symToStringTag$1),Q=U[symToStringTag$1];try{U[symToStringTag$1]=void 0;var q=!0}catch{}var W=nativeObjectToString$1.call(U);return q&&(G?U[symToStringTag$1]=Q:delete U[symToStringTag$1]),W}var objectProto$3=Object.prototype,nativeObjectToString=objectProto$3.toString;function objectToString(U){return nativeObjectToString.call(U)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(U){return U==null?U===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(U)?getRawTag(U):objectToString(U)}function isObjectLike(U){return U!=null&&typeof U=="object"}var symbolTag="[object Symbol]";function isSymbol$1(U){return typeof U=="symbol"||isObjectLike(U)&&baseGetTag(U)==symbolTag}var isArray$1=Array.isArray;const isArray$2=isArray$1;var reWhitespace=/\s/;function trimmedEndIndex(U){for(var G=U.length;G--&&reWhitespace.test(U.charAt(G)););return G}var reTrimStart=/^\s+/;function baseTrim(U){return U&&U.slice(0,trimmedEndIndex(U)+1).replace(reTrimStart,"")}function isObject$1(U){var G=typeof U;return U!=null&&(G=="object"||G=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(U){if(typeof U=="number")return U;if(isSymbol$1(U))return NAN;if(isObject$1(U)){var G=typeof U.valueOf=="function"?U.valueOf():U;U=isObject$1(G)?G+"":G}if(typeof U!="string")return U===0?U:+U;U=baseTrim(U);var Q=reIsBinary.test(U);return Q||reIsOctal.test(U)?freeParseInt(U.slice(2),Q?2:8):reIsBadHex.test(U)?NAN:+U}var INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(U){if(!U)return U===0?U:0;if(U=toNumber(U),U===INFINITY||U===-INFINITY){var G=U<0?-1:1;return G*MAX_INTEGER}return U===U?U:0}function toInteger$2(U){var G=toFinite(U),Q=G%1;return G===G?Q?G-Q:G:0}function identity$2(U){return U}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$1(U){if(!isObject$1(U))return!1;var G=baseGetTag(U);return G==funcTag||G==genTag||G==asyncTag||G==proxyTag}var coreJsData=root$2["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var U=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return U?"Symbol(src)_1."+U:""}();function isMasked(U){return!!maskSrcKey&&maskSrcKey in U}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(U){if(U!=null){try{return funcToString$1.call(U)}catch{}try{return U+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$2=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$2.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$3).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(U){if(!isObject$1(U)||isMasked(U))return!1;var G=isFunction$1(U)?reIsNative:reIsHostCtor;return G.test(toSource(U))}function getValue(U,G){return U==null?void 0:U[G]}function getNative(U,G){var Q=getValue(U,G);return baseIsNative(Q)?Q:void 0}var WeakMap$1=getNative(root$2,"WeakMap");const WeakMap$2=WeakMap$1;var metaMap=WeakMap$2&&new WeakMap$2;const metaMap$1=metaMap;var baseSetData=metaMap$1?function(U,G){return metaMap$1.set(U,G),U}:identity$2;const baseSetData$1=baseSetData;var objectCreate=Object.create,baseCreate=function(){function U(){}return function(G){if(!isObject$1(G))return{};if(objectCreate)return objectCreate(G);U.prototype=G;var Q=new U;return U.prototype=void 0,Q}}();const baseCreate$1=baseCreate;function createCtor(U){return function(){var G=arguments;switch(G.length){case 0:return new U;case 1:return new U(G[0]);case 2:return new U(G[0],G[1]);case 3:return new U(G[0],G[1],G[2]);case 4:return new U(G[0],G[1],G[2],G[3]);case 5:return new U(G[0],G[1],G[2],G[3],G[4]);case 6:return new U(G[0],G[1],G[2],G[3],G[4],G[5]);case 7:return new U(G[0],G[1],G[2],G[3],G[4],G[5],G[6])}var Q=baseCreate$1(U.prototype),q=U.apply(Q,G);return isObject$1(q)?q:Q}}var WRAP_BIND_FLAG$6=1;function createBind(U,G,Q){var q=G&WRAP_BIND_FLAG$6,W=createCtor(U);function J(){var F=this&&this!==root$2&&this instanceof J?W:U;return F.apply(q?Q:this,arguments)}return J}function apply$1(U,G,Q){switch(Q.length){case 0:return U.call(G);case 1:return U.call(G,Q[0]);case 2:return U.call(G,Q[0],Q[1]);case 3:return U.call(G,Q[0],Q[1],Q[2])}return U.apply(G,Q)}var nativeMax$3=Math.max;function composeArgs(U,G,Q,q){for(var W=-1,J=U.length,F=Q.length,Y=-1,X=G.length,te=nativeMax$3(J-F,0),re=Array(X+te),ne=!q;++Y<X;)re[Y]=G[Y];for(;++W<F;)(ne||W<J)&&(re[Q[W]]=U[W]);for(;te--;)re[Y++]=U[W++];return re}var nativeMax$2=Math.max;function composeArgsRight(U,G,Q,q){for(var W=-1,J=U.length,F=-1,Y=Q.length,X=-1,te=G.length,re=nativeMax$2(J-Y,0),ne=Array(re+te),ie=!q;++W<re;)ne[W]=U[W];for(var oe=W;++X<te;)ne[oe+X]=G[X];for(;++F<Y;)(ie||W<J)&&(ne[oe+Q[F]]=U[W++]);return ne}function countHolders(U,G){for(var Q=U.length,q=0;Q--;)U[Q]===G&&++q;return q}function baseLodash(){}var MAX_ARRAY_LENGTH=4294967295;function LazyWrapper(U){this.__wrapped__=U,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=MAX_ARRAY_LENGTH,this.__views__=[]}LazyWrapper.prototype=baseCreate$1(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper;function noop$1(){}var getData=metaMap$1?function(U){return metaMap$1.get(U)}:noop$1;const getData$1=getData;var realNames={};const realNames$1=realNames;var objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function getFuncName(U){for(var G=U.name+"",Q=realNames$1[G],q=hasOwnProperty$2.call(realNames$1,G)?Q.length:0;q--;){var W=Q[q],J=W.func;if(J==null||J==U)return W.name}return G}function LodashWrapper(U,G){this.__wrapped__=U,this.__actions__=[],this.__chain__=!!G,this.__index__=0,this.__values__=void 0}LodashWrapper.prototype=baseCreate$1(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper;function copyArray(U,G){var Q=-1,q=U.length;for(G||(G=Array(q));++Q<q;)G[Q]=U[Q];return G}function wrapperClone(U){if(U instanceof LazyWrapper)return U.clone();var G=new LodashWrapper(U.__wrapped__,U.__chain__);return G.__actions__=copyArray(U.__actions__),G.__index__=U.__index__,G.__values__=U.__values__,G}var objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function lodash(U){if(isObjectLike(U)&&!isArray$2(U)&&!(U instanceof LazyWrapper)){if(U instanceof LodashWrapper)return U;if(hasOwnProperty$1.call(U,"__wrapped__"))return wrapperClone(U)}return new LodashWrapper(U)}lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash;function isLaziable(U){var G=getFuncName(U),Q=lodash[G];if(typeof Q!="function"||!(G in LazyWrapper.prototype))return!1;if(U===Q)return!0;var q=getData$1(Q);return!!q&&U===q[0]}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(U){var G=0,Q=0;return function(){var q=nativeNow(),W=HOT_SPAN-(q-Q);if(Q=q,W>0){if(++G>=HOT_COUNT)return arguments[0]}else G=0;return U.apply(void 0,arguments)}}var setData=shortOut(baseSetData$1);const setData$1=setData;var reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /;function getWrapDetails(U){var G=U.match(reWrapDetails);return G?G[1].split(reSplitDetails):[]}var reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function insertWrapDetails(U,G){var Q=G.length;if(!Q)return U;var q=Q-1;return G[q]=(Q>1?"& ":"")+G[q],G=G.join(Q>2?", ":" "),U.replace(reWrapComment,`{
/* [wrapped with `+G+`] */
`)}function constant$1(U){return function(){return U}}var defineProperty$1=function(){try{var U=getNative(Object,"defineProperty");return U({},"",{}),U}catch{}}();const defineProperty$2=defineProperty$1;var baseSetToString=defineProperty$2?function(U,G){return defineProperty$2(U,"toString",{configurable:!0,enumerable:!1,value:constant$1(G),writable:!0})}:identity$2;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach(U,G){for(var Q=-1,q=U==null?0:U.length;++Q<q&&G(U[Q],Q,U)!==!1;);return U}function baseFindIndex(U,G,Q,q){for(var W=U.length,J=Q+-1;++J<W;)if(G(U[J],J,U))return J;return-1}function baseIsNaN(U){return U!==U}function strictIndexOf(U,G,Q){for(var q=Q-1,W=U.length;++q<W;)if(U[q]===G)return q;return-1}function baseIndexOf(U,G,Q){return G===G?strictIndexOf(U,G,Q):baseFindIndex(U,baseIsNaN,Q)}function arrayIncludes(U,G){var Q=U==null?0:U.length;return!!Q&&baseIndexOf(U,G,0)>-1}var WRAP_BIND_FLAG$5=1,WRAP_BIND_KEY_FLAG$4=2,WRAP_CURRY_FLAG$5=8,WRAP_CURRY_RIGHT_FLAG$2=16,WRAP_PARTIAL_FLAG$2=32,WRAP_PARTIAL_RIGHT_FLAG$2=64,WRAP_ARY_FLAG$2=128,WRAP_REARG_FLAG$1=256,WRAP_FLIP_FLAG$1=512,wrapFlags=[["ary",WRAP_ARY_FLAG$2],["bind",WRAP_BIND_FLAG$5],["bindKey",WRAP_BIND_KEY_FLAG$4],["curry",WRAP_CURRY_FLAG$5],["curryRight",WRAP_CURRY_RIGHT_FLAG$2],["flip",WRAP_FLIP_FLAG$1],["partial",WRAP_PARTIAL_FLAG$2],["partialRight",WRAP_PARTIAL_RIGHT_FLAG$2],["rearg",WRAP_REARG_FLAG$1]];function updateWrapDetails(U,G){return arrayEach(wrapFlags,function(Q){var q="_."+Q[0];G&Q[1]&&!arrayIncludes(U,q)&&U.push(q)}),U.sort()}function setWrapToString(U,G,Q){var q=G+"";return setToString$1(U,insertWrapDetails(q,updateWrapDetails(getWrapDetails(q),Q)))}var WRAP_BIND_FLAG$4=1,WRAP_BIND_KEY_FLAG$3=2,WRAP_CURRY_BOUND_FLAG$1=4,WRAP_CURRY_FLAG$4=8,WRAP_PARTIAL_FLAG$1=32,WRAP_PARTIAL_RIGHT_FLAG$1=64;function createRecurry(U,G,Q,q,W,J,F,Y,X,te){var re=G&WRAP_CURRY_FLAG$4,ne=re?F:void 0,ie=re?void 0:F,oe=re?J:void 0,ae=re?void 0:J;G|=re?WRAP_PARTIAL_FLAG$1:WRAP_PARTIAL_RIGHT_FLAG$1,G&=~(re?WRAP_PARTIAL_RIGHT_FLAG$1:WRAP_PARTIAL_FLAG$1),G&WRAP_CURRY_BOUND_FLAG$1||(G&=~(WRAP_BIND_FLAG$4|WRAP_BIND_KEY_FLAG$3));var ue=[U,G,W,oe,ne,ae,ie,Y,X,te],ce=Q.apply(void 0,ue);return isLaziable(U)&&setData$1(ce,ue),ce.placeholder=q,setWrapToString(ce,U,G)}function getHolder(U){var G=U;return G.placeholder}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(U,G){var Q=typeof U;return G=G??MAX_SAFE_INTEGER,!!G&&(Q=="number"||Q!="symbol"&&reIsUint.test(U))&&U>-1&&U%1==0&&U<G}var nativeMin$2=Math.min;function reorder(U,G){for(var Q=U.length,q=nativeMin$2(G.length,Q),W=copyArray(U);q--;){var J=G[q];U[q]=isIndex(J,Q)?W[J]:void 0}return U}var PLACEHOLDER$1="__lodash_placeholder__";function replaceHolders(U,G){for(var Q=-1,q=U.length,W=0,J=[];++Q<q;){var F=U[Q];(F===G||F===PLACEHOLDER$1)&&(U[Q]=PLACEHOLDER$1,J[W++]=Q)}return J}var WRAP_BIND_FLAG$3=1,WRAP_BIND_KEY_FLAG$2=2,WRAP_CURRY_FLAG$3=8,WRAP_CURRY_RIGHT_FLAG$1=16,WRAP_ARY_FLAG$1=128,WRAP_FLIP_FLAG=512;function createHybrid(U,G,Q,q,W,J,F,Y,X,te){var re=G&WRAP_ARY_FLAG$1,ne=G&WRAP_BIND_FLAG$3,ie=G&WRAP_BIND_KEY_FLAG$2,oe=G&(WRAP_CURRY_FLAG$3|WRAP_CURRY_RIGHT_FLAG$1),ae=G&WRAP_FLIP_FLAG,ue=ie?void 0:createCtor(U);function ce(){for(var se=arguments.length,le=Array(se),de=se;de--;)le[de]=arguments[de];if(oe)var he=getHolder(ce),pe=countHolders(le,he);if(q&&(le=composeArgs(le,q,W,oe)),J&&(le=composeArgsRight(le,J,F,oe)),se-=pe,oe&&se<te){var ge=replaceHolders(le,he);return createRecurry(U,G,createHybrid,ce.placeholder,Q,le,ge,Y,X,te-se)}var be=ne?Q:this,ve=ie?be[U]:U;return se=le.length,Y?le=reorder(le,Y):ae&&se>1&&le.reverse(),re&&X<se&&(le.length=X),this&&this!==root$2&&this instanceof ce&&(ve=ue||createCtor(ve)),ve.apply(be,le)}return ce}function createCurry(U,G,Q){var q=createCtor(U);function W(){for(var J=arguments.length,F=Array(J),Y=J,X=getHolder(W);Y--;)F[Y]=arguments[Y];var te=J<3&&F[0]!==X&&F[J-1]!==X?[]:replaceHolders(F,X);if(J-=te.length,J<Q)return createRecurry(U,G,createHybrid,W.placeholder,void 0,F,te,void 0,void 0,Q-J);var re=this&&this!==root$2&&this instanceof W?q:U;return apply$1(re,this,F)}return W}var WRAP_BIND_FLAG$2=1;function createPartial(U,G,Q,q){var W=G&WRAP_BIND_FLAG$2,J=createCtor(U);function F(){for(var Y=-1,X=arguments.length,te=-1,re=q.length,ne=Array(re+X),ie=this&&this!==root$2&&this instanceof F?J:U;++te<re;)ne[te]=q[te];for(;X--;)ne[te++]=arguments[++Y];return apply$1(ie,W?Q:this,ne)}return F}var PLACEHOLDER="__lodash_placeholder__",WRAP_BIND_FLAG$1=1,WRAP_BIND_KEY_FLAG$1=2,WRAP_CURRY_BOUND_FLAG=4,WRAP_CURRY_FLAG$2=8,WRAP_ARY_FLAG=128,WRAP_REARG_FLAG=256,nativeMin$1=Math.min;function mergeData(U,G){var Q=U[1],q=G[1],W=Q|q,J=W<(WRAP_BIND_FLAG$1|WRAP_BIND_KEY_FLAG$1|WRAP_ARY_FLAG),F=q==WRAP_ARY_FLAG&&Q==WRAP_CURRY_FLAG$2||q==WRAP_ARY_FLAG&&Q==WRAP_REARG_FLAG&&U[7].length<=G[8]||q==(WRAP_ARY_FLAG|WRAP_REARG_FLAG)&&G[7].length<=G[8]&&Q==WRAP_CURRY_FLAG$2;if(!(J||F))return U;q&WRAP_BIND_FLAG$1&&(U[2]=G[2],W|=Q&WRAP_BIND_FLAG$1?0:WRAP_CURRY_BOUND_FLAG);var Y=G[3];if(Y){var X=U[3];U[3]=X?composeArgs(X,Y,G[4]):Y,U[4]=X?replaceHolders(U[3],PLACEHOLDER):G[4]}return Y=G[5],Y&&(X=U[5],U[5]=X?composeArgsRight(X,Y,G[6]):Y,U[6]=X?replaceHolders(U[5],PLACEHOLDER):G[6]),Y=G[7],Y&&(U[7]=Y),q&WRAP_ARY_FLAG&&(U[8]=U[8]==null?G[8]:nativeMin$1(U[8],G[8])),U[9]==null&&(U[9]=G[9]),U[0]=G[0],U[1]=W,U}var FUNC_ERROR_TEXT$2="Expected a function",WRAP_BIND_FLAG=1,WRAP_BIND_KEY_FLAG=2,WRAP_CURRY_FLAG$1=8,WRAP_CURRY_RIGHT_FLAG=16,WRAP_PARTIAL_FLAG=32,WRAP_PARTIAL_RIGHT_FLAG=64,nativeMax$1=Math.max;function createWrap(U,G,Q,q,W,J,F,Y){var X=G&WRAP_BIND_KEY_FLAG;if(!X&&typeof U!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var te=q?q.length:0;if(te||(G&=~(WRAP_PARTIAL_FLAG|WRAP_PARTIAL_RIGHT_FLAG),q=W=void 0),F=F===void 0?F:nativeMax$1(toInteger$2(F),0),Y=Y===void 0?Y:toInteger$2(Y),te-=W?W.length:0,G&WRAP_PARTIAL_RIGHT_FLAG){var re=q,ne=W;q=W=void 0}var ie=X?void 0:getData$1(U),oe=[U,G,Q,q,W,re,ne,J,F,Y];if(ie&&mergeData(oe,ie),U=oe[0],G=oe[1],Q=oe[2],q=oe[3],W=oe[4],Y=oe[9]=oe[9]===void 0?X?0:U.length:nativeMax$1(oe[9]-te,0),!Y&&G&(WRAP_CURRY_FLAG$1|WRAP_CURRY_RIGHT_FLAG)&&(G&=~(WRAP_CURRY_FLAG$1|WRAP_CURRY_RIGHT_FLAG)),!G||G==WRAP_BIND_FLAG)var ae=createBind(U,G,Q);else G==WRAP_CURRY_FLAG$1||G==WRAP_CURRY_RIGHT_FLAG?ae=createCurry(U,G,Y):(G==WRAP_PARTIAL_FLAG||G==(WRAP_BIND_FLAG|WRAP_PARTIAL_FLAG))&&!W.length?ae=createPartial(U,G,Q,q):ae=createHybrid.apply(void 0,oe);var ue=ie?baseSetData$1:setData$1;return setWrapToString(ue(ae,oe),U,G)}var WRAP_CURRY_FLAG=8;function curry(U,G,Q){G=Q?void 0:G;var q=createWrap(U,WRAP_CURRY_FLAG,void 0,void 0,void 0,void 0,void 0,G);return q.placeholder=curry.placeholder,q}curry.placeholder={};var now$2=function(){return root$2.Date.now()};const now$3=now$2;var FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(U,G,Q){var q,W,J,F,Y,X,te=0,re=!1,ne=!1,ie=!0;if(typeof U!="function")throw new TypeError(FUNC_ERROR_TEXT$1);G=toNumber(G)||0,isObject$1(Q)&&(re=!!Q.leading,ne="maxWait"in Q,J=ne?nativeMax(toNumber(Q.maxWait)||0,G):J,ie="trailing"in Q?!!Q.trailing:ie);function oe(ge){var be=q,ve=W;return q=W=void 0,te=ge,F=U.apply(ve,be),F}function ae(ge){return te=ge,Y=setTimeout(se,G),re?oe(ge):F}function ue(ge){var be=ge-X,ve=ge-te,Ee=G-be;return ne?nativeMin(Ee,J-ve):Ee}function ce(ge){var be=ge-X,ve=ge-te;return X===void 0||be>=G||be<0||ne&&ve>=J}function se(){var ge=now$3();if(ce(ge))return le(ge);Y=setTimeout(se,ue(ge))}function le(ge){return Y=void 0,ie&&q?oe(ge):(q=W=void 0,F)}function de(){Y!==void 0&&clearTimeout(Y),te=0,q=X=W=Y=void 0}function he(){return Y===void 0?F:le(now$3())}function pe(){var ge=now$3(),be=ce(ge);if(q=arguments,W=this,X=ge,be){if(Y===void 0)return ae(X);if(ne)return clearTimeout(Y),Y=setTimeout(se,G),oe(X)}return Y===void 0&&(Y=setTimeout(se,G)),F}return pe.cancel=de,pe.flush=he,pe}function fromPairs(U){for(var G=-1,Q=U==null?0:U.length,q={};++G<Q;){var W=U[G];q[W[0]]=W[1]}return q}var FUNC_ERROR_TEXT="Expected a function";function throttle(U,G,Q){var q=!0,W=!0;if(typeof U!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$1(Q)&&(q="leading"in Q?!!Q.leading:q,W="trailing"in Q?!!Q.trailing:W),debounce(U,G,{leading:q,maxWait:G,trailing:W})}const backend=new MemoryLevel_1,df=new rdfDataFactory.DataFactory,store=new Quadstore({backend,dataFactory:df}),engine$1=new __quadstore_comunica_exports__Engine(store);async function buildGraph(U){console.debug("BUILDING GRAPH",U);const{nodes:G,links:Q}=U,q=[...Q.map(({source:W,target:J})=>df.quad(df.namedNode(J.id),df.namedNode(DOWNSTREAM_FROM),df.namedNode(W.id),df.defaultGraph()))];console.debug("putting entries",q),await store.open(),await store.clear(),await store.multiPut(q),console.debug("inserted",q.length,"entries")}const getProps=U=>(async G=>fromPairs([G].flat().map(Q=>[Q,U.get(Q)]))).bind(U),doQuery=async(U,G,Q,q)=>{await engine$1.queryBindings(U).then(W=>{G&&W.on("data",J=>G(J,proxy(getProps(J)))),Q&&W.on("end",J=>Q(J,J&&proxy(J.get.bind(J)))),q&&W.on("error",J=>q(J,J&&proxy(J.get.bind(J))))})},db=Object.freeze(Object.defineProperty({__proto__:null,buildGraph,doQuery},Symbol.toStringTag,{value:"Module"}));function forceCenter(U,G,Q){var q,W=1;U==null&&(U=0),G==null&&(G=0),Q==null&&(Q=0);function J(){var F,Y=q.length,X,te=0,re=0,ne=0;for(F=0;F<Y;++F)X=q[F],te+=X.x||0,re+=X.y||0,ne+=X.z||0;for(te=(te/Y-U)*W,re=(re/Y-G)*W,ne=(ne/Y-Q)*W,F=0;F<Y;++F)X=q[F],te&&(X.x-=te),re&&(X.y-=re),ne&&(X.z-=ne)}return J.initialize=function(F){q=F},J.x=function(F){return arguments.length?(U=+F,J):U},J.y=function(F){return arguments.length?(G=+F,J):G},J.z=function(F){return arguments.length?(Q=+F,J):Q},J.strength=function(F){return arguments.length?(W=+F,J):W},J}function tree_add$2(U){const G=+this._x.call(null,U);return add$3(this.cover(G),G,U)}function add$3(U,G,Q){if(isNaN(G))return U;var q,W=U._root,J={data:Q},F=U._x0,Y=U._x1,X,te,re,ne,ie;if(!W)return U._root=J,U;for(;W.length;)if((re=G>=(X=(F+Y)/2))?F=X:Y=X,q=W,!(W=W[ne=+re]))return q[ne]=J,U;if(te=+U._x.call(null,W.data),G===te)return J.next=W,q?q[ne]=J:U._root=J,U;do q=q?q[ne]=new Array(2):U._root=new Array(2),(re=G>=(X=(F+Y)/2))?F=X:Y=X;while((ne=+re)==(ie=+(te>=X)));return q[ie]=W,q[ne]=J,U}function addAll$2(U){Array.isArray(U)||(U=Array.from(U));const G=U.length,Q=new Float64Array(G);let q=1/0,W=-1/0;for(let J=0,F;J<G;++J)isNaN(F=+this._x.call(null,U[J]))||(Q[J]=F,F<q&&(q=F),F>W&&(W=F));if(q>W)return this;this.cover(q).cover(W);for(let J=0;J<G;++J)add$3(this,Q[J],U[J]);return this}function tree_cover$2(U){if(isNaN(U=+U))return this;var G=this._x0,Q=this._x1;if(isNaN(G))Q=(G=Math.floor(U))+1;else{for(var q=Q-G||1,W=this._root,J,F;G>U||U>=Q;)switch(F=+(U<G),J=new Array(2),J[F]=W,W=J,q*=2,F){case 0:Q=G+q;break;case 1:G=Q-q;break}this._root&&this._root.length&&(this._root=W)}return this._x0=G,this._x1=Q,this}function tree_data$2(){var U=[];return this.visit(function(G){if(!G.length)do U.push(G.data);while(G=G.next)}),U}function tree_extent$2(U){return arguments.length?this.cover(+U[0][0]).cover(+U[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Half(U,G,Q){this.node=U,this.x0=G,this.x1=Q}function tree_find$2(U,G){var Q,q=this._x0,W,J,F=this._x1,Y=[],X=this._root,te,re;for(X&&Y.push(new Half(X,q,F)),G==null?G=1/0:(q=U-G,F=U+G);te=Y.pop();)if(!(!(X=te.node)||(W=te.x0)>F||(J=te.x1)<q))if(X.length){var ne=(W+J)/2;Y.push(new Half(X[1],ne,J),new Half(X[0],W,ne)),(re=+(U>=ne))&&(te=Y[Y.length-1],Y[Y.length-1]=Y[Y.length-1-re],Y[Y.length-1-re]=te)}else{var ie=Math.abs(U-+this._x.call(null,X.data));ie<G&&(G=ie,q=U-ie,F=U+ie,Q=X.data)}return Q}function tree_remove$2(U){if(isNaN(X=+this._x.call(null,U)))return this;var G,Q=this._root,q,W,J,F=this._x0,Y=this._x1,X,te,re,ne,ie;if(!Q)return this;if(Q.length)for(;;){if((re=X>=(te=(F+Y)/2))?F=te:Y=te,G=Q,!(Q=Q[ne=+re]))return this;if(!Q.length)break;G[ne+1&1]&&(q=G,ie=ne)}for(;Q.data!==U;)if(W=Q,!(Q=Q.next))return this;return(J=Q.next)&&delete Q.next,W?(J?W.next=J:delete W.next,this):G?(J?G[ne]=J:delete G[ne],(Q=G[0]||G[1])&&Q===(G[1]||G[0])&&!Q.length&&(q?q[ie]=Q:this._root=Q),this):(this._root=J,this)}function removeAll$2(U){for(var G=0,Q=U.length;G<Q;++G)this.remove(U[G]);return this}function tree_root$2(){return this._root}function tree_size$2(){var U=0;return this.visit(function(G){if(!G.length)do++U;while(G=G.next)}),U}function tree_visit$2(U){var G=[],Q,q=this._root,W,J,F;for(q&&G.push(new Half(q,this._x0,this._x1));Q=G.pop();)if(!U(q=Q.node,J=Q.x0,F=Q.x1)&&q.length){var Y=(J+F)/2;(W=q[1])&&G.push(new Half(W,Y,F)),(W=q[0])&&G.push(new Half(W,J,Y))}return this}function tree_visitAfter$2(U){var G=[],Q=[],q;for(this._root&&G.push(new Half(this._root,this._x0,this._x1));q=G.pop();){var W=q.node;if(W.length){var J,F=q.x0,Y=q.x1,X=(F+Y)/2;(J=W[0])&&G.push(new Half(J,F,X)),(J=W[1])&&G.push(new Half(J,X,Y))}Q.push(q)}for(;q=Q.pop();)U(q.node,q.x0,q.x1);return this}function defaultX$2(U){return U[0]}function tree_x$2(U){return arguments.length?(this._x=U,this):this._x}function binarytree(U,G){var Q=new Binarytree(G??defaultX$2,NaN,NaN);return U==null?Q:Q.addAll(U)}function Binarytree(U,G,Q){this._x=U,this._x0=G,this._x1=Q,this._root=void 0}function leaf_copy$2(U){for(var G={data:U.data},Q=G;U=U.next;)Q=Q.next={data:U.data};return G}var treeProto$2=binarytree.prototype=Binarytree.prototype;treeProto$2.copy=function(){var U=new Binarytree(this._x,this._x0,this._x1),G=this._root,Q,q;if(!G)return U;if(!G.length)return U._root=leaf_copy$2(G),U;for(Q=[{source:G,target:U._root=new Array(2)}];G=Q.pop();)for(var W=0;W<2;++W)(q=G.source[W])&&(q.length?Q.push({source:q,target:G.target[W]=new Array(2)}):G.target[W]=leaf_copy$2(q));return U},treeProto$2.add=tree_add$2,treeProto$2.addAll=addAll$2,treeProto$2.cover=tree_cover$2,treeProto$2.data=tree_data$2,treeProto$2.extent=tree_extent$2,treeProto$2.find=tree_find$2,treeProto$2.remove=tree_remove$2,treeProto$2.removeAll=removeAll$2,treeProto$2.root=tree_root$2,treeProto$2.size=tree_size$2,treeProto$2.visit=tree_visit$2,treeProto$2.visitAfter=tree_visitAfter$2,treeProto$2.x=tree_x$2;function tree_add$1(U){const G=+this._x.call(null,U),Q=+this._y.call(null,U);return add$2(this.cover(G,Q),G,Q,U)}function add$2(U,G,Q,q){if(isNaN(G)||isNaN(Q))return U;var W,J=U._root,F={data:q},Y=U._x0,X=U._y0,te=U._x1,re=U._y1,ne,ie,oe,ae,ue,ce,se,le;if(!J)return U._root=F,U;for(;J.length;)if((ue=G>=(ne=(Y+te)/2))?Y=ne:te=ne,(ce=Q>=(ie=(X+re)/2))?X=ie:re=ie,W=J,!(J=J[se=ce<<1|ue]))return W[se]=F,U;if(oe=+U._x.call(null,J.data),ae=+U._y.call(null,J.data),G===oe&&Q===ae)return F.next=J,W?W[se]=F:U._root=F,U;do W=W?W[se]=new Array(4):U._root=new Array(4),(ue=G>=(ne=(Y+te)/2))?Y=ne:te=ne,(ce=Q>=(ie=(X+re)/2))?X=ie:re=ie;while((se=ce<<1|ue)===(le=(ae>=ie)<<1|oe>=ne));return W[le]=J,W[se]=F,U}function addAll$1(U){var G,Q,q=U.length,W,J,F=new Array(q),Y=new Array(q),X=1/0,te=1/0,re=-1/0,ne=-1/0;for(Q=0;Q<q;++Q)isNaN(W=+this._x.call(null,G=U[Q]))||isNaN(J=+this._y.call(null,G))||(F[Q]=W,Y[Q]=J,W<X&&(X=W),W>re&&(re=W),J<te&&(te=J),J>ne&&(ne=J));if(X>re||te>ne)return this;for(this.cover(X,te).cover(re,ne),Q=0;Q<q;++Q)add$2(this,F[Q],Y[Q],U[Q]);return this}function tree_cover$1(U,G){if(isNaN(U=+U)||isNaN(G=+G))return this;var Q=this._x0,q=this._y0,W=this._x1,J=this._y1;if(isNaN(Q))W=(Q=Math.floor(U))+1,J=(q=Math.floor(G))+1;else{for(var F=W-Q||1,Y=this._root,X,te;Q>U||U>=W||q>G||G>=J;)switch(te=(G<q)<<1|U<Q,X=new Array(4),X[te]=Y,Y=X,F*=2,te){case 0:W=Q+F,J=q+F;break;case 1:Q=W-F,J=q+F;break;case 2:W=Q+F,q=J-F;break;case 3:Q=W-F,q=J-F;break}this._root&&this._root.length&&(this._root=Y)}return this._x0=Q,this._y0=q,this._x1=W,this._y1=J,this}function tree_data$1(){var U=[];return this.visit(function(G){if(!G.length)do U.push(G.data);while(G=G.next)}),U}function tree_extent$1(U){return arguments.length?this.cover(+U[0][0],+U[0][1]).cover(+U[1][0],+U[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(U,G,Q,q,W){this.node=U,this.x0=G,this.y0=Q,this.x1=q,this.y1=W}function tree_find$1(U,G,Q){var q,W=this._x0,J=this._y0,F,Y,X,te,re=this._x1,ne=this._y1,ie=[],oe=this._root,ae,ue;for(oe&&ie.push(new Quad(oe,W,J,re,ne)),Q==null?Q=1/0:(W=U-Q,J=G-Q,re=U+Q,ne=G+Q,Q*=Q);ae=ie.pop();)if(!(!(oe=ae.node)||(F=ae.x0)>re||(Y=ae.y0)>ne||(X=ae.x1)<W||(te=ae.y1)<J))if(oe.length){var ce=(F+X)/2,se=(Y+te)/2;ie.push(new Quad(oe[3],ce,se,X,te),new Quad(oe[2],F,se,ce,te),new Quad(oe[1],ce,Y,X,se),new Quad(oe[0],F,Y,ce,se)),(ue=(G>=se)<<1|U>=ce)&&(ae=ie[ie.length-1],ie[ie.length-1]=ie[ie.length-1-ue],ie[ie.length-1-ue]=ae)}else{var le=U-+this._x.call(null,oe.data),de=G-+this._y.call(null,oe.data),he=le*le+de*de;if(he<Q){var pe=Math.sqrt(Q=he);W=U-pe,J=G-pe,re=U+pe,ne=G+pe,q=oe.data}}return q}function tree_remove$1(U){if(isNaN(re=+this._x.call(null,U))||isNaN(ne=+this._y.call(null,U)))return this;var G,Q=this._root,q,W,J,F=this._x0,Y=this._y0,X=this._x1,te=this._y1,re,ne,ie,oe,ae,ue,ce,se;if(!Q)return this;if(Q.length)for(;;){if((ae=re>=(ie=(F+X)/2))?F=ie:X=ie,(ue=ne>=(oe=(Y+te)/2))?Y=oe:te=oe,G=Q,!(Q=Q[ce=ue<<1|ae]))return this;if(!Q.length)break;(G[ce+1&3]||G[ce+2&3]||G[ce+3&3])&&(q=G,se=ce)}for(;Q.data!==U;)if(W=Q,!(Q=Q.next))return this;return(J=Q.next)&&delete Q.next,W?(J?W.next=J:delete W.next,this):G?(J?G[ce]=J:delete G[ce],(Q=G[0]||G[1]||G[2]||G[3])&&Q===(G[3]||G[2]||G[1]||G[0])&&!Q.length&&(q?q[se]=Q:this._root=Q),this):(this._root=J,this)}function removeAll$1(U){for(var G=0,Q=U.length;G<Q;++G)this.remove(U[G]);return this}function tree_root$1(){return this._root}function tree_size$1(){var U=0;return this.visit(function(G){if(!G.length)do++U;while(G=G.next)}),U}function tree_visit$1(U){var G=[],Q,q=this._root,W,J,F,Y,X;for(q&&G.push(new Quad(q,this._x0,this._y0,this._x1,this._y1));Q=G.pop();)if(!U(q=Q.node,J=Q.x0,F=Q.y0,Y=Q.x1,X=Q.y1)&&q.length){var te=(J+Y)/2,re=(F+X)/2;(W=q[3])&&G.push(new Quad(W,te,re,Y,X)),(W=q[2])&&G.push(new Quad(W,J,re,te,X)),(W=q[1])&&G.push(new Quad(W,te,F,Y,re)),(W=q[0])&&G.push(new Quad(W,J,F,te,re))}return this}function tree_visitAfter$1(U){var G=[],Q=[],q;for(this._root&&G.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));q=G.pop();){var W=q.node;if(W.length){var J,F=q.x0,Y=q.y0,X=q.x1,te=q.y1,re=(F+X)/2,ne=(Y+te)/2;(J=W[0])&&G.push(new Quad(J,F,Y,re,ne)),(J=W[1])&&G.push(new Quad(J,re,Y,X,ne)),(J=W[2])&&G.push(new Quad(J,F,ne,re,te)),(J=W[3])&&G.push(new Quad(J,re,ne,X,te))}Q.push(q)}for(;q=Q.pop();)U(q.node,q.x0,q.y0,q.x1,q.y1);return this}function defaultX$1(U){return U[0]}function tree_x$1(U){return arguments.length?(this._x=U,this):this._x}function defaultY$1(U){return U[1]}function tree_y$1(U){return arguments.length?(this._y=U,this):this._y}function quadtree(U,G,Q){var q=new Quadtree(G??defaultX$1,Q??defaultY$1,NaN,NaN,NaN,NaN);return U==null?q:q.addAll(U)}function Quadtree(U,G,Q,q,W,J){this._x=U,this._y=G,this._x0=Q,this._y0=q,this._x1=W,this._y1=J,this._root=void 0}function leaf_copy$1(U){for(var G={data:U.data},Q=G;U=U.next;)Q=Q.next={data:U.data};return G}var treeProto$1=quadtree.prototype=Quadtree.prototype;treeProto$1.copy=function(){var U=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),G=this._root,Q,q;if(!G)return U;if(!G.length)return U._root=leaf_copy$1(G),U;for(Q=[{source:G,target:U._root=new Array(4)}];G=Q.pop();)for(var W=0;W<4;++W)(q=G.source[W])&&(q.length?Q.push({source:q,target:G.target[W]=new Array(4)}):G.target[W]=leaf_copy$1(q));return U},treeProto$1.add=tree_add$1,treeProto$1.addAll=addAll$1,treeProto$1.cover=tree_cover$1,treeProto$1.data=tree_data$1,treeProto$1.extent=tree_extent$1,treeProto$1.find=tree_find$1,treeProto$1.remove=tree_remove$1,treeProto$1.removeAll=removeAll$1,treeProto$1.root=tree_root$1,treeProto$1.size=tree_size$1,treeProto$1.visit=tree_visit$1,treeProto$1.visitAfter=tree_visitAfter$1,treeProto$1.x=tree_x$1,treeProto$1.y=tree_y$1;function tree_add(U){const G=+this._x.call(null,U),Q=+this._y.call(null,U),q=+this._z.call(null,U);return add$1(this.cover(G,Q,q),G,Q,q,U)}function add$1(U,G,Q,q,W){if(isNaN(G)||isNaN(Q)||isNaN(q))return U;var J,F=U._root,Y={data:W},X=U._x0,te=U._y0,re=U._z0,ne=U._x1,ie=U._y1,oe=U._z1,ae,ue,ce,se,le,de,he,pe,ge,be,ve;if(!F)return U._root=Y,U;for(;F.length;)if((he=G>=(ae=(X+ne)/2))?X=ae:ne=ae,(pe=Q>=(ue=(te+ie)/2))?te=ue:ie=ue,(ge=q>=(ce=(re+oe)/2))?re=ce:oe=ce,J=F,!(F=F[be=ge<<2|pe<<1|he]))return J[be]=Y,U;if(se=+U._x.call(null,F.data),le=+U._y.call(null,F.data),de=+U._z.call(null,F.data),G===se&&Q===le&&q===de)return Y.next=F,J?J[be]=Y:U._root=Y,U;do J=J?J[be]=new Array(8):U._root=new Array(8),(he=G>=(ae=(X+ne)/2))?X=ae:ne=ae,(pe=Q>=(ue=(te+ie)/2))?te=ue:ie=ue,(ge=q>=(ce=(re+oe)/2))?re=ce:oe=ce;while((be=ge<<2|pe<<1|he)===(ve=(de>=ce)<<2|(le>=ue)<<1|se>=ae));return J[ve]=F,J[be]=Y,U}function addAll(U){Array.isArray(U)||(U=Array.from(U));const G=U.length,Q=new Float64Array(G),q=new Float64Array(G),W=new Float64Array(G);let J=1/0,F=1/0,Y=1/0,X=-1/0,te=-1/0,re=-1/0;for(let ne=0,ie,oe,ae,ue;ne<G;++ne)isNaN(oe=+this._x.call(null,ie=U[ne]))||isNaN(ae=+this._y.call(null,ie))||isNaN(ue=+this._z.call(null,ie))||(Q[ne]=oe,q[ne]=ae,W[ne]=ue,oe<J&&(J=oe),oe>X&&(X=oe),ae<F&&(F=ae),ae>te&&(te=ae),ue<Y&&(Y=ue),ue>re&&(re=ue));if(J>X||F>te||Y>re)return this;this.cover(J,F,Y).cover(X,te,re);for(let ne=0;ne<G;++ne)add$1(this,Q[ne],q[ne],W[ne],U[ne]);return this}function tree_cover(U,G,Q){if(isNaN(U=+U)||isNaN(G=+G)||isNaN(Q=+Q))return this;var q=this._x0,W=this._y0,J=this._z0,F=this._x1,Y=this._y1,X=this._z1;if(isNaN(q))F=(q=Math.floor(U))+1,Y=(W=Math.floor(G))+1,X=(J=Math.floor(Q))+1;else{for(var te=F-q||1,re=this._root,ne,ie;q>U||U>=F||W>G||G>=Y||J>Q||Q>=X;)switch(ie=(Q<J)<<2|(G<W)<<1|U<q,ne=new Array(8),ne[ie]=re,re=ne,te*=2,ie){case 0:F=q+te,Y=W+te,X=J+te;break;case 1:q=F-te,Y=W+te,X=J+te;break;case 2:F=q+te,W=Y-te,X=J+te;break;case 3:q=F-te,W=Y-te,X=J+te;break;case 4:F=q+te,Y=W+te,J=X-te;break;case 5:q=F-te,Y=W+te,J=X-te;break;case 6:F=q+te,W=Y-te,J=X-te;break;case 7:q=F-te,W=Y-te,J=X-te;break}this._root&&this._root.length&&(this._root=re)}return this._x0=q,this._y0=W,this._z0=J,this._x1=F,this._y1=Y,this._z1=X,this}function tree_data(){var U=[];return this.visit(function(G){if(!G.length)do U.push(G.data);while(G=G.next)}),U}function tree_extent(U){return arguments.length?this.cover(+U[0][0],+U[0][1],+U[0][2]).cover(+U[1][0],+U[1][1],+U[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Octant(U,G,Q,q,W,J,F){this.node=U,this.x0=G,this.y0=Q,this.z0=q,this.x1=W,this.y1=J,this.z1=F}function tree_find(U,G,Q,q){var W,J=this._x0,F=this._y0,Y=this._z0,X,te,re,ne,ie,oe,ae=this._x1,ue=this._y1,ce=this._z1,se=[],le=this._root,de,he;for(le&&se.push(new Octant(le,J,F,Y,ae,ue,ce)),q==null?q=1/0:(J=U-q,F=G-q,Y=Q-q,ae=U+q,ue=G+q,ce=Q+q,q*=q);de=se.pop();)if(!(!(le=de.node)||(X=de.x0)>ae||(te=de.y0)>ue||(re=de.z0)>ce||(ne=de.x1)<J||(ie=de.y1)<F||(oe=de.z1)<Y))if(le.length){var pe=(X+ne)/2,ge=(te+ie)/2,be=(re+oe)/2;se.push(new Octant(le[7],pe,ge,be,ne,ie,oe),new Octant(le[6],X,ge,be,pe,ie,oe),new Octant(le[5],pe,te,be,ne,ge,oe),new Octant(le[4],X,te,be,pe,ge,oe),new Octant(le[3],pe,ge,re,ne,ie,be),new Octant(le[2],X,ge,re,pe,ie,be),new Octant(le[1],pe,te,re,ne,ge,be),new Octant(le[0],X,te,re,pe,ge,be)),(he=(Q>=be)<<2|(G>=ge)<<1|U>=pe)&&(de=se[se.length-1],se[se.length-1]=se[se.length-1-he],se[se.length-1-he]=de)}else{var ve=U-+this._x.call(null,le.data),Ee=G-+this._y.call(null,le.data),ke=Q-+this._z.call(null,le.data),Pe=ve*ve+Ee*Ee+ke*ke;if(Pe<q){var Te=Math.sqrt(q=Pe);J=U-Te,F=G-Te,Y=Q-Te,ae=U+Te,ue=G+Te,ce=Q+Te,W=le.data}}return W}function tree_remove(U){if(isNaN(ie=+this._x.call(null,U))||isNaN(oe=+this._y.call(null,U))||isNaN(ae=+this._z.call(null,U)))return this;var G,Q=this._root,q,W,J,F=this._x0,Y=this._y0,X=this._z0,te=this._x1,re=this._y1,ne=this._z1,ie,oe,ae,ue,ce,se,le,de,he,pe,ge;if(!Q)return this;if(Q.length)for(;;){if((le=ie>=(ue=(F+te)/2))?F=ue:te=ue,(de=oe>=(ce=(Y+re)/2))?Y=ce:re=ce,(he=ae>=(se=(X+ne)/2))?X=se:ne=se,G=Q,!(Q=Q[pe=he<<2|de<<1|le]))return this;if(!Q.length)break;(G[pe+1&7]||G[pe+2&7]||G[pe+3&7]||G[pe+4&7]||G[pe+5&7]||G[pe+6&7]||G[pe+7&7])&&(q=G,ge=pe)}for(;Q.data!==U;)if(W=Q,!(Q=Q.next))return this;return(J=Q.next)&&delete Q.next,W?(J?W.next=J:delete W.next,this):G?(J?G[pe]=J:delete G[pe],(Q=G[0]||G[1]||G[2]||G[3]||G[4]||G[5]||G[6]||G[7])&&Q===(G[7]||G[6]||G[5]||G[4]||G[3]||G[2]||G[1]||G[0])&&!Q.length&&(q?q[ge]=Q:this._root=Q),this):(this._root=J,this)}function removeAll(U){for(var G=0,Q=U.length;G<Q;++G)this.remove(U[G]);return this}function tree_root(){return this._root}function tree_size(){var U=0;return this.visit(function(G){if(!G.length)do++U;while(G=G.next)}),U}function tree_visit(U){var G=[],Q,q=this._root,W,J,F,Y,X,te,re;for(q&&G.push(new Octant(q,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));Q=G.pop();)if(!U(q=Q.node,J=Q.x0,F=Q.y0,Y=Q.z0,X=Q.x1,te=Q.y1,re=Q.z1)&&q.length){var ne=(J+X)/2,ie=(F+te)/2,oe=(Y+re)/2;(W=q[7])&&G.push(new Octant(W,ne,ie,oe,X,te,re)),(W=q[6])&&G.push(new Octant(W,J,ie,oe,ne,te,re)),(W=q[5])&&G.push(new Octant(W,ne,F,oe,X,ie,re)),(W=q[4])&&G.push(new Octant(W,J,F,oe,ne,ie,re)),(W=q[3])&&G.push(new Octant(W,ne,ie,Y,X,te,oe)),(W=q[2])&&G.push(new Octant(W,J,ie,Y,ne,te,oe)),(W=q[1])&&G.push(new Octant(W,ne,F,Y,X,ie,oe)),(W=q[0])&&G.push(new Octant(W,J,F,Y,ne,ie,oe))}return this}function tree_visitAfter(U){var G=[],Q=[],q;for(this._root&&G.push(new Octant(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));q=G.pop();){var W=q.node;if(W.length){var J,F=q.x0,Y=q.y0,X=q.z0,te=q.x1,re=q.y1,ne=q.z1,ie=(F+te)/2,oe=(Y+re)/2,ae=(X+ne)/2;(J=W[0])&&G.push(new Octant(J,F,Y,X,ie,oe,ae)),(J=W[1])&&G.push(new Octant(J,ie,Y,X,te,oe,ae)),(J=W[2])&&G.push(new Octant(J,F,oe,X,ie,re,ae)),(J=W[3])&&G.push(new Octant(J,ie,oe,X,te,re,ae)),(J=W[4])&&G.push(new Octant(J,F,Y,ae,ie,oe,ne)),(J=W[5])&&G.push(new Octant(J,ie,Y,ae,te,oe,ne)),(J=W[6])&&G.push(new Octant(J,F,oe,ae,ie,re,ne)),(J=W[7])&&G.push(new Octant(J,ie,oe,ae,te,re,ne))}Q.push(q)}for(;q=Q.pop();)U(q.node,q.x0,q.y0,q.z0,q.x1,q.y1,q.z1);return this}function defaultX(U){return U[0]}function tree_x(U){return arguments.length?(this._x=U,this):this._x}function defaultY(U){return U[1]}function tree_y(U){return arguments.length?(this._y=U,this):this._y}function defaultZ(U){return U[2]}function tree_z(U){return arguments.length?(this._z=U,this):this._z}function octree(U,G,Q,q){var W=new Octree(G??defaultX,Q??defaultY,q??defaultZ,NaN,NaN,NaN,NaN,NaN,NaN);return U==null?W:W.addAll(U)}function Octree(U,G,Q,q,W,J,F,Y,X){this._x=U,this._y=G,this._z=Q,this._x0=q,this._y0=W,this._z0=J,this._x1=F,this._y1=Y,this._z1=X,this._root=void 0}function leaf_copy(U){for(var G={data:U.data},Q=G;U=U.next;)Q=Q.next={data:U.data};return G}var treeProto=octree.prototype=Octree.prototype;treeProto.copy=function(){var U=new Octree(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),G=this._root,Q,q;if(!G)return U;if(!G.length)return U._root=leaf_copy(G),U;for(Q=[{source:G,target:U._root=new Array(8)}];G=Q.pop();)for(var W=0;W<8;++W)(q=G.source[W])&&(q.length?Q.push({source:q,target:G.target[W]=new Array(8)}):G.target[W]=leaf_copy(q));return U},treeProto.add=tree_add,treeProto.addAll=addAll,treeProto.cover=tree_cover,treeProto.data=tree_data,treeProto.extent=tree_extent,treeProto.find=tree_find,treeProto.remove=tree_remove,treeProto.removeAll=removeAll,treeProto.root=tree_root,treeProto.size=tree_size,treeProto.visit=tree_visit,treeProto.visitAfter=tree_visitAfter,treeProto.x=tree_x,treeProto.y=tree_y,treeProto.z=tree_z;function constant(U){return function(){return U}}function jiggle(U){return(U()-.5)*1e-6}function index(U){return U.index}function find(U,G){var Q=U.get(G);if(!Q)throw new Error("node not found: "+G);return Q}function forceLink(U){var G=index,Q=ie,q,W=constant(30),J,F,Y,X,te,re,ne=1;U==null&&(U=[]);function ie(se){return 1/Math.min(X[se.source.index],X[se.target.index])}function oe(se){for(var le=0,de=U.length;le<ne;++le)for(var he=0,pe,ge,be,ve=0,Ee=0,ke=0,Pe,Te;he<de;++he)pe=U[he],ge=pe.source,be=pe.target,ve=be.x+be.vx-ge.x-ge.vx||jiggle(re),Y>1&&(Ee=be.y+be.vy-ge.y-ge.vy||jiggle(re)),Y>2&&(ke=be.z+be.vz-ge.z-ge.vz||jiggle(re)),Pe=Math.sqrt(ve*ve+Ee*Ee+ke*ke),Pe=(Pe-J[he])/Pe*se*q[he],ve*=Pe,Ee*=Pe,ke*=Pe,be.vx-=ve*(Te=te[he]),Y>1&&(be.vy-=Ee*Te),Y>2&&(be.vz-=ke*Te),ge.vx+=ve*(Te=1-Te),Y>1&&(ge.vy+=Ee*Te),Y>2&&(ge.vz+=ke*Te)}function ae(){if(F){var se,le=F.length,de=U.length,he=new Map(F.map((ge,be)=>[G(ge,be,F),ge])),pe;for(se=0,X=new Array(le);se<de;++se)pe=U[se],pe.index=se,typeof pe.source!="object"&&(pe.source=find(he,pe.source)),typeof pe.target!="object"&&(pe.target=find(he,pe.target)),X[pe.source.index]=(X[pe.source.index]||0)+1,X[pe.target.index]=(X[pe.target.index]||0)+1;for(se=0,te=new Array(de);se<de;++se)pe=U[se],te[se]=X[pe.source.index]/(X[pe.source.index]+X[pe.target.index]);q=new Array(de),ue(),J=new Array(de),ce()}}function ue(){if(F)for(var se=0,le=U.length;se<le;++se)q[se]=+Q(U[se],se,U)}function ce(){if(F)for(var se=0,le=U.length;se<le;++se)J[se]=+W(U[se],se,U)}return oe.initialize=function(se,...le){F=se,re=le.find(de=>typeof de=="function")||Math.random,Y=le.find(de=>[1,2,3].includes(de))||2,ae()},oe.links=function(se){return arguments.length?(U=se,ae(),oe):U},oe.id=function(se){return arguments.length?(G=se,oe):G},oe.iterations=function(se){return arguments.length?(ne=+se,oe):ne},oe.strength=function(se){return arguments.length?(Q=typeof se=="function"?se:constant(+se),ue(),oe):Q},oe.distance=function(se){return arguments.length?(W=typeof se=="function"?se:constant(+se),ce(),oe):W},oe}var noop={value:()=>{}};function dispatch(){for(var U=0,G=arguments.length,Q={},q;U<G;++U){if(!(q=arguments[U]+"")||q in Q||/[\s.]/.test(q))throw new Error("illegal type: "+q);Q[q]=[]}return new Dispatch(Q)}function Dispatch(U){this._=U}function parseTypenames(U,G){return U.trim().split(/^|\s+/).map(function(Q){var q="",W=Q.indexOf(".");if(W>=0&&(q=Q.slice(W+1),Q=Q.slice(0,W)),Q&&!G.hasOwnProperty(Q))throw new Error("unknown type: "+Q);return{type:Q,name:q}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(U,G){var Q=this._,q=parseTypenames(U+"",Q),W,J=-1,F=q.length;if(arguments.length<2){for(;++J<F;)if((W=(U=q[J]).type)&&(W=get$1(Q[W],U.name)))return W;return}if(G!=null&&typeof G!="function")throw new Error("invalid callback: "+G);for(;++J<F;)if(W=(U=q[J]).type)Q[W]=set(Q[W],U.name,G);else if(G==null)for(W in Q)Q[W]=set(Q[W],U.name,null);return this},copy:function(){var U={},G=this._;for(var Q in G)U[Q]=G[Q].slice();return new Dispatch(U)},call:function(U,G){if((W=arguments.length-2)>0)for(var Q=new Array(W),q=0,W,J;q<W;++q)Q[q]=arguments[q+2];if(!this._.hasOwnProperty(U))throw new Error("unknown type: "+U);for(J=this._[U],q=0,W=J.length;q<W;++q)J[q].value.apply(G,Q)},apply:function(U,G,Q){if(!this._.hasOwnProperty(U))throw new Error("unknown type: "+U);for(var q=this._[U],W=0,J=q.length;W<J;++W)q[W].value.apply(G,Q)}};function get$1(U,G){for(var Q=0,q=U.length,W;Q<q;++Q)if((W=U[Q]).name===G)return W.value}function set(U,G,Q){for(var q=0,W=U.length;q<W;++q)if(U[q].name===G){U[q]=noop,U=U.slice(0,q).concat(U.slice(q+1));break}return Q!=null&&U.push({name:G,value:Q}),U}var frame=0,timeout=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(U){setTimeout(U,17)};function now$1(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(U,G,Q){if(typeof U!="function")throw new TypeError("callback is not a function");Q=(Q==null?now$1():+Q)+(G==null?0:+G),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=U,this._time=Q,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(U,G,Q){var q=new Timer;return q.restart(U,G,Q),q}function timerFlush(){now$1(),++frame;for(var U=taskHead,G;U;)(G=clockNow-U._time)>=0&&U._call.call(void 0,G),U=U._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var U=clock.now(),G=U-clockLast;G>pokeDelay&&(clockSkew-=G,clockLast=U)}function nap(){for(var U,G=taskHead,Q,q=1/0;G;)G._call?(q>G._time&&(q=G._time),U=G,G=G._next):(Q=G._next,G._next=null,G=U?U._next=Q:taskHead=Q);taskTail=U,sleep(q)}function sleep(U){if(!frame){timeout&&(timeout=clearTimeout(timeout));var G=U-clockNow;G>24?(U<1/0&&(timeout=setTimeout(wake,U-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}const a$3=1664525,c$3=1013904223,m$3=4294967296;function lcg(){let U=1;return()=>(U=(a$3*U+c$3)%m$3)/m$3}var MAX_DIMENSIONS=3;function x$3(U){return U.x}function y$3(U){return U.y}function z$1(U){return U.z}var initialRadius=10,initialAngleRoll=Math.PI*(3-Math.sqrt(5)),initialAngleYaw=Math.PI*20/(9+Math.sqrt(221));function forceSimulation(U,G){G=G||2;var Q=Math.min(MAX_DIMENSIONS,Math.max(1,Math.round(G))),q,W=1,J=.001,F=1-Math.pow(J,1/300),Y=0,X=.6,te=new Map,re=timer(oe),ne=dispatch("tick","end"),ie=lcg();U==null&&(U=[]);function oe(){ae(),ne.call("tick",q),W<J&&(re.stop(),ne.call("end",q))}function ae(se){var le,de=U.length,he;se===void 0&&(se=1);for(var pe=0;pe<se;++pe)for(W+=(Y-W)*F,te.forEach(function(ge){ge(W)}),le=0;le<de;++le)he=U[le],he.fx==null?he.x+=he.vx*=X:(he.x=he.fx,he.vx=0),Q>1&&(he.fy==null?he.y+=he.vy*=X:(he.y=he.fy,he.vy=0)),Q>2&&(he.fz==null?he.z+=he.vz*=X:(he.z=he.fz,he.vz=0));return q}function ue(){for(var se=0,le=U.length,de;se<le;++se){if(de=U[se],de.index=se,de.fx!=null&&(de.x=de.fx),de.fy!=null&&(de.y=de.fy),de.fz!=null&&(de.z=de.fz),isNaN(de.x)||Q>1&&isNaN(de.y)||Q>2&&isNaN(de.z)){var he=initialRadius*(Q>2?Math.cbrt(.5+se):Q>1?Math.sqrt(.5+se):se),pe=se*initialAngleRoll,ge=se*initialAngleYaw;Q===1?de.x=he:Q===2?(de.x=he*Math.cos(pe),de.y=he*Math.sin(pe)):(de.x=he*Math.sin(pe)*Math.cos(ge),de.y=he*Math.cos(pe),de.z=he*Math.sin(pe)*Math.sin(ge))}(isNaN(de.vx)||Q>1&&isNaN(de.vy)||Q>2&&isNaN(de.vz))&&(de.vx=0,Q>1&&(de.vy=0),Q>2&&(de.vz=0))}}function ce(se){return se.initialize&&se.initialize(U,ie,Q),se}return ue(),q={tick:ae,restart:function(){return re.restart(oe),q},stop:function(){return re.stop(),q},numDimensions:function(se){return arguments.length?(Q=Math.min(MAX_DIMENSIONS,Math.max(1,Math.round(se))),te.forEach(ce),q):Q},nodes:function(se){return arguments.length?(U=se,ue(),te.forEach(ce),q):U},alpha:function(se){return arguments.length?(W=+se,q):W},alphaMin:function(se){return arguments.length?(J=+se,q):J},alphaDecay:function(se){return arguments.length?(F=+se,q):+F},alphaTarget:function(se){return arguments.length?(Y=+se,q):Y},velocityDecay:function(se){return arguments.length?(X=1-se,q):1-X},randomSource:function(se){return arguments.length?(ie=se,te.forEach(ce),q):ie},force:function(se,le){return arguments.length>1?(le==null?te.delete(se):te.set(se,ce(le)),q):te.get(se)},find:function(){var se=Array.prototype.slice.call(arguments),le=se.shift()||0,de=(Q>1?se.shift():null)||0,he=(Q>2?se.shift():null)||0,pe=se.shift()||1/0,ge=0,be=U.length,ve,Ee,ke,Pe,Te,xe;for(pe*=pe,ge=0;ge<be;++ge)Te=U[ge],ve=le-Te.x,Ee=de-(Te.y||0),ke=he-(Te.z||0),Pe=ve*ve+Ee*Ee+ke*ke,Pe<pe&&(xe=Te,pe=Pe);return xe},on:function(se,le){return arguments.length>1?(ne.on(se,le),q):ne.on(se)}}}function forceManyBody(){var U,G,Q,q,W,J=constant(-30),F,Y=1,X=1/0,te=.81;function re(ae){var ue,ce=U.length,se=(G===1?binarytree(U,x$3):G===2?quadtree(U,x$3,y$3):G===3?octree(U,x$3,y$3,z$1):null).visitAfter(ie);for(W=ae,ue=0;ue<ce;++ue)Q=U[ue],se.visit(oe)}function ne(){if(U){var ae,ue=U.length,ce;for(F=new Array(ue),ae=0;ae<ue;++ae)ce=U[ae],F[ce.index]=+J(ce,ae,U)}}function ie(ae){var ue=0,ce,se,le=0,de,he,pe,ge,be=ae.length;if(be){for(de=he=pe=ge=0;ge<be;++ge)(ce=ae[ge])&&(se=Math.abs(ce.value))&&(ue+=ce.value,le+=se,de+=se*(ce.x||0),he+=se*(ce.y||0),pe+=se*(ce.z||0));ue*=Math.sqrt(4/be),ae.x=de/le,G>1&&(ae.y=he/le),G>2&&(ae.z=pe/le)}else{ce=ae,ce.x=ce.data.x,G>1&&(ce.y=ce.data.y),G>2&&(ce.z=ce.data.z);do ue+=F[ce.data.index];while(ce=ce.next)}ae.value=ue}function oe(ae,ue,ce,se,le){if(!ae.value)return!0;var de=[ce,se,le][G-1],he=ae.x-Q.x,pe=G>1?ae.y-Q.y:0,ge=G>2?ae.z-Q.z:0,be=de-ue,ve=he*he+pe*pe+ge*ge;if(be*be/te<ve)return ve<X&&(he===0&&(he=jiggle(q),ve+=he*he),G>1&&pe===0&&(pe=jiggle(q),ve+=pe*pe),G>2&&ge===0&&(ge=jiggle(q),ve+=ge*ge),ve<Y&&(ve=Math.sqrt(Y*ve)),Q.vx+=he*ae.value*W/ve,G>1&&(Q.vy+=pe*ae.value*W/ve),G>2&&(Q.vz+=ge*ae.value*W/ve)),!0;if(!(ae.length||ve>=X)){(ae.data!==Q||ae.next)&&(he===0&&(he=jiggle(q),ve+=he*he),G>1&&pe===0&&(pe=jiggle(q),ve+=pe*pe),G>2&&ge===0&&(ge=jiggle(q),ve+=ge*ge),ve<Y&&(ve=Math.sqrt(Y*ve)));do ae.data!==Q&&(be=F[ae.data.index]*W/ve,Q.vx+=he*be,G>1&&(Q.vy+=pe*be),G>2&&(Q.vz+=ge*be));while(ae=ae.next)}}return re.initialize=function(ae,...ue){U=ae,q=ue.find(ce=>typeof ce=="function")||Math.random,G=ue.find(ce=>[1,2,3].includes(ce))||2,ne()},re.strength=function(ae){return arguments.length?(J=typeof ae=="function"?ae:constant(+ae),ne(),re):J},re.distanceMin=function(ae){return arguments.length?(Y=ae*ae,re):Math.sqrt(Y)},re.distanceMax=function(ae){return arguments.length?(X=ae*ae,re):Math.sqrt(X)},re.theta=function(ae){return arguments.length?(te=ae*ae,re):Math.sqrt(te)},re}class GraphLayoutSim{constructor(G){this.positions=new Float32Array(0),this.graphData=G}get positionsBuffer(){return new Float32Array(this.positions)}start(){throw new Error("not implemented")}pause(){throw new Error("not implemented")}getPositions(G){const Q=this.positionsBuffer;G(Q)}setData(G){this.graphData=G}}class D3ForceLayout extends GraphLayoutSim{constructor(G){super(G),this.initializeLayoutEngine(),this.debouncedUpdate=debounce(this.updatePositions.bind(this),20,{maxWait:150})}initializeLayoutEngine(){this.layoutEngine=forceSimulation(this.graphData.nodes,3).force("charge",forceManyBody()).force("link",forceLink(this.graphData.links).id(G=>G.id)).force("center",forceCenter()),this.layoutEngine.on("tick",()=>{this.layoutEngine.alpha()>.01?this.debouncedUpdate():this.updatePositions()})}updatePositions(){const G=this.graphData.nodes.flatMap(({x:Q,y:q,z:W})=>[Q,q,W].map(J=>isNaN(J)||!isFinite(J)?0:J));this.positions=new Float32Array(G)}start(){this.layoutEngine.restart()}pause(){this.layoutEngine.stop()}setData(G){super.setData(G),this.layoutEngine.nodes(this.graphData.nodes),this.layoutEngine.force("link").links(this.graphData.links),this.layoutEngine.alpha(.5).restart()}}const layout=Object.freeze(Object.defineProperty({__proto__:null,D3ForceLayout,GraphLayoutSim},Symbol.toStringTag,{value:"Module"})),transfer=(U,G)=>transfer$1(U,G);var transformMat4_1=transformMat4$2;function transformMat4$2(U,G,Q){var q=G[0],W=G[1],J=G[2],F=Q[3]*q+Q[7]*W+Q[11]*J+Q[15];return F=F||1,U[0]=(Q[0]*q+Q[4]*W+Q[8]*J+Q[12])/F,U[1]=(Q[1]*q+Q[5]*W+Q[9]*J+Q[13])/F,U[2]=(Q[2]*q+Q[6]*W+Q[10]*J+Q[14])/F,U}var rotateY_1=rotateY;function rotateY(U,G,Q,q){var W=Q[0],J=Q[2],F=G[0]-W,Y=G[2]-J,X=Math.sin(q),te=Math.cos(q);return U[0]=W+Y*X+F*te,U[1]=G[1],U[2]=J+Y*te-F*X,U}var rotateX_1=rotateX;function rotateX(U,G,Q,q){var W=Q[1],J=Q[2],F=G[1]-W,Y=G[2]-J,X=Math.sin(q),te=Math.cos(q);return U[0]=G[0],U[1]=W+F*te-Y*X,U[2]=J+F*X+Y*te,U}var epsilon=1e-6,equals_1=equals,EPSILON=epsilon;function equals(U,G){var Q=U[0],q=U[1],W=U[2],J=G[0],F=G[1],Y=G[2];return Math.abs(Q-J)<=EPSILON*Math.max(1,Math.abs(Q),Math.abs(J))&&Math.abs(q-F)<=EPSILON*Math.max(1,Math.abs(q),Math.abs(F))&&Math.abs(W-Y)<=EPSILON*Math.max(1,Math.abs(W),Math.abs(Y))}var add_1=add;function add(U,G,Q){return U[0]=G[0]+Q[0],U[1]=G[1]+Q[1],U[2]=G[2]+Q[2],U}var scaleAndAdd_1=scaleAndAdd;function scaleAndAdd(U,G,Q,q){return U[0]=G[0]+Q[0]*q,U[1]=G[1]+Q[1]*q,U[2]=G[2]+Q[2]*q,U}var copy_1=copy;function copy(U,G){return U[0]=G[0],U[1]=G[1],U[2]=G[2],U}var normalize_1=normalize;function normalize(U,G){var Q=G[0],q=G[1],W=G[2],J=Q*Q+q*q+W*W;return J>0&&(J=1/Math.sqrt(J),U[0]=G[0]*J,U[1]=G[1]*J,U[2]=G[2]*J),U}var identity_1=identity$1;function identity$1(U){return U[0]=1,U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=1,U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[10]=1,U[11]=0,U[12]=0,U[13]=0,U[14]=0,U[15]=1,U}var invert_1=invert;function invert(U,G){var Q=G[0],q=G[1],W=G[2],J=G[3],F=G[4],Y=G[5],X=G[6],te=G[7],re=G[8],ne=G[9],ie=G[10],oe=G[11],ae=G[12],ue=G[13],ce=G[14],se=G[15],le=Q*Y-q*F,de=Q*X-W*F,he=Q*te-J*F,pe=q*X-W*Y,ge=q*te-J*Y,be=W*te-J*X,ve=re*ue-ne*ae,Ee=re*ce-ie*ae,ke=re*se-oe*ae,Pe=ne*ce-ie*ue,Te=ne*se-oe*ue,xe=ie*se-oe*ce,Ne=le*xe-de*Te+he*Pe+pe*ke-ge*Ee+be*ve;return Ne?(Ne=1/Ne,U[0]=(Y*xe-X*Te+te*Pe)*Ne,U[1]=(W*Te-q*xe-J*Pe)*Ne,U[2]=(ue*be-ce*ge+se*pe)*Ne,U[3]=(ie*ge-ne*be-oe*pe)*Ne,U[4]=(X*ke-F*xe-te*Ee)*Ne,U[5]=(Q*xe-W*ke+J*Ee)*Ne,U[6]=(ce*he-ae*be-se*de)*Ne,U[7]=(re*be-ie*he+oe*de)*Ne,U[8]=(F*Te-Y*ke+te*ve)*Ne,U[9]=(q*ke-Q*Te-J*ve)*Ne,U[10]=(ae*ge-ue*he+se*le)*Ne,U[11]=(ne*he-re*ge-oe*le)*Ne,U[12]=(Y*Ee-F*Pe-X*ve)*Ne,U[13]=(Q*Pe-q*Ee+W*ve)*Ne,U[14]=(ue*de-ae*pe-ce*le)*Ne,U[15]=(re*pe-ne*de+ie*le)*Ne,U):null}var translate_1=translate;function translate(U,G,Q){var q=Q[0],W=Q[1],J=Q[2],F,Y,X,te,re,ne,ie,oe,ae,ue,ce,se;return G===U?(U[12]=G[0]*q+G[4]*W+G[8]*J+G[12],U[13]=G[1]*q+G[5]*W+G[9]*J+G[13],U[14]=G[2]*q+G[6]*W+G[10]*J+G[14],U[15]=G[3]*q+G[7]*W+G[11]*J+G[15]):(F=G[0],Y=G[1],X=G[2],te=G[3],re=G[4],ne=G[5],ie=G[6],oe=G[7],ae=G[8],ue=G[9],ce=G[10],se=G[11],U[0]=F,U[1]=Y,U[2]=X,U[3]=te,U[4]=re,U[5]=ne,U[6]=ie,U[7]=oe,U[8]=ae,U[9]=ue,U[10]=ce,U[11]=se,U[12]=F*q+re*W+ae*J+G[12],U[13]=Y*q+ne*W+ue*J+G[13],U[14]=X*q+ie*W+ce*J+G[14],U[15]=te*q+oe*W+se*J+G[15]),U}var scale_1=scale$1;function scale$1(U,G,Q){var q=Q[0],W=Q[1],J=Q[2];return U[0]=G[0]*q,U[1]=G[1]*q,U[2]=G[2]*q,U[3]=G[3]*q,U[4]=G[4]*W,U[5]=G[5]*W,U[6]=G[6]*W,U[7]=G[7]*W,U[8]=G[8]*J,U[9]=G[9]*J,U[10]=G[10]*J,U[11]=G[11]*J,U[12]=G[12],U[13]=G[13],U[14]=G[14],U[15]=G[15],U}var identity=identity_1,lookAt_1=lookAt$1;function lookAt$1(U,G,Q,q){var W,J,F,Y,X,te,re,ne,ie,oe,ae=G[0],ue=G[1],ce=G[2],se=q[0],le=q[1],de=q[2],he=Q[0],pe=Q[1],ge=Q[2];return Math.abs(ae-he)<1e-6&&Math.abs(ue-pe)<1e-6&&Math.abs(ce-ge)<1e-6?identity(U):(re=ae-he,ne=ue-pe,ie=ce-ge,oe=1/Math.sqrt(re*re+ne*ne+ie*ie),re*=oe,ne*=oe,ie*=oe,W=le*ie-de*ne,J=de*re-se*ie,F=se*ne-le*re,oe=Math.sqrt(W*W+J*J+F*F),oe?(oe=1/oe,W*=oe,J*=oe,F*=oe):(W=0,J=0,F=0),Y=ne*F-ie*J,X=ie*W-re*F,te=re*J-ne*W,oe=Math.sqrt(Y*Y+X*X+te*te),oe?(oe=1/oe,Y*=oe,X*=oe,te*=oe):(Y=0,X=0,te=0),U[0]=W,U[1]=Y,U[2]=re,U[3]=0,U[4]=J,U[5]=X,U[6]=ne,U[7]=0,U[8]=F,U[9]=te,U[10]=ie,U[11]=0,U[12]=-(W*ae+J*ue+F*ce),U[13]=-(Y*ae+X*ue+te*ce),U[14]=-(re*ae+ne*ue+ie*ce),U[15]=1,U)}var perspective_1=perspective$1;function perspective$1(U,G,Q,q,W){var J=1/Math.tan(G/2),F=1/(q-W);return U[0]=J/Q,U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[5]=J,U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[10]=(W+q)*F,U[11]=-1,U[12]=0,U[13]=0,U[14]=2*W*q*F,U[15]=0,U}var transformMat4$1=transformMat4_1,vec3RotateY=rotateY_1,vec3RotateX=rotateX_1,vec3Equals=equals_1,vec3Add=add_1,vec3ScaleAndAdd=scaleAndAdd_1,vec3Copy=copy_1,vec3Normalize=normalize_1,mat4Identity=identity_1,mat4Invert=invert_1,mat4Translate=translate_1,mat4Scale=scale_1,lookAt=lookAt_1,perspective=perspective_1,MAX_PHI=Math.PI*.5-1e-4,MIN_PHI=-Math.PI*.5+1e-4,inertialTurntableCamera=function U(G){G=G||{};var Q=!0,q={aspectRatio:G.aspectRatio?G.aspectRatio:1,zoomAboutCursor:G.zoomAboutCursor===void 0?!0:G.zoomAboutCursor,distance:G.distance===void 0?10:G.distance,phi:G.phi===void 0?0:G.phi,theta:G.theta===void 0?0:G.theta,fovY:G.fovY===void 0?Math.PI/4:G.fovY,near:G.near===void 0?.1:G.near,far:G.far===void 0?100:G.far,panDecayTime:G.panDecayTime||100,zoomDecayTime:G.zoomDecayTime||100,rotationDecayTime:G.rotationDecayTime||100,dirty:!0,up:G.up||new Float32Array([0,1,0]),center:G.center||new Float32Array(3),rotationCenter:G.rotationCenter||G.center&&G.center.slice()||new Float32Array(3),zoom:0,panX:0,panY:0,panZ:0,pitch:0,yaw:0,dTheta:0,dPhi:0,mouseX:0,mouseY:0},W=null,J={tick:function(xe){if(be.zoom&&(q.zoom=be.zoom),be.dTheta&&(q.dTheta=be.dTheta),be.dPhi&&(q.dPhi=be.dPhi),be.panX&&(q.panX=be.panX),be.panY&&(q.panY=be.panY),be.panZ&&(q.panZ=be.panZ),be.yaw&&(q.yaw=be.yaw),be.pitch&&(q.pitch=be.pitch),pe(be),xe){var Ne=q.dPhi,Se=q.dTheta,Ge=q.zoom,Ce=q.panX,ze=q.panY,Ve=q.panZ,Ke=q.pitch,Ze=q.yaw;Object.assign(q,xe),xe.dPhi!==void 0&&(q.dPhi+=Ne),xe.dTheta!==void 0&&(q.dTheta+=Se),xe.zoom!==void 0&&(q.zoom+=Ge),xe.panX!==void 0&&(q.panX+=Ce),xe.panY!==void 0&&(q.panY+=ze),xe.panZ!==void 0&&(q.panZ+=Ve),xe.pitch!==void 0&&(q.pitch+=Ke),xe.yaw!==void 0&&(q.yaw+=Ze)}ae()&&ce(),he()?Te(q):pe(q);var et=Date.now();W!==null&&ge(et-W),W=et,J.state.dirty=Q,Q=!1,oe()},taint:le,resize:de,params:q,rotate:Pe,pivot:ke,pan:ve,zoom:Ee};J.state={},J.state.projection=new Float32Array(16),J.state.viewInv=new Float32Array(16),J.state.view=new Float32Array(16),J.state.width=null,J.state.height=null,J.state.eye=new Float32Array(3);var F=new Float32Array(3),Y=new Float32Array(3),X=new Float32Array(3),te=new Float32Array(3),re=new Float32Array(3),ne=new Float32Array(16),ie={up:new Float32Array(3),center:new Float32Array(3)};oe();function oe(){vec3Copy(ie.up,q.up),vec3Copy(ie.center,q.center),ie.near=q.near,ie.far=q.far,ie.distance=q.distance,ie.phi=q.phi,ie.theta=q.theta,ie.fovY=q.fovY}function ae(){return!vec3Equals(q.up,ie.up)||!vec3Equals(q.center,ie.center)||q.near!==ie.near||q.far!==ie.far||q.phi!==ie.phi||q.theta!==ie.theta||q.distance!==ie.distance||q.fovY!==ie.fovY}var ue={};function ce(){ue.dPhi=q.phi-ie.phi,ue.dTheta=q.theta-ie.theta,ue.zoom=q.distance/ie.distance-1,q.theta=ie.theta,q.distance=ie.distance,q.phi=ie.phi,ue.yaw=0,ue.pitch=0,ue.panX=0,ue.panY=0,ue.panZ=0,ue.mouseX=0,ue.mouseY=0,Te(ue)}function se(){J.state.eye[0]=0,J.state.eye[1]=0,J.state.eye[2]=q.distance,vec3RotateX(J.state.eye,J.state.eye,re,-q.phi),vec3RotateY(J.state.eye,J.state.eye,re,q.theta),vec3Add(J.state.eye,J.state.eye,q.center),lookAt(J.state.view,J.state.eye,q.center,q.up),perspective(J.state.projection,q.fovY,J.params.aspectRatio,q.near,q.far),mat4Invert(J.state.viewInv,J.state.view)}function le(){Q=!0}function de(xe){J.params.aspectRatio=xe,se(),le()}function he(){if(Math.abs(q.zoom)>1e-4||Math.abs(q.panX)>1e-4||Math.abs(q.panY)>1e-4||Math.abs(q.panZ)>1e-4||Math.abs(q.dTheta)>1e-4||Math.abs(q.dPhi)>1e-4||Math.abs(q.yaw)>1e-4||Math.abs(q.pitch)>1e-4)return!0}function pe(xe){xe.zoom=0,xe.dTheta=0,xe.dPhi=0,xe.panX=0,xe.panY=0,xe.panZ=0,xe.yaw=0,xe.pitch=0}function ge(xe){var Ne=q.panDecayTime?Math.exp(-xe/q.panDecayTime/Math.LN2):0,Se=q.zoomDecayTime?Math.exp(-xe/q.zoomDecayTime/Math.LN2):0,Ge=q.rotationDecayTime?Math.exp(-xe/q.rotationDecayTime/Math.LN2):0;q.zoom*=Se,q.panX*=Ne,q.panY*=Ne,q.panZ*=Ne,q.dTheta*=Ge,q.dPhi*=Ge,q.yaw*=Ge,q.pitch*=Ge}var be={};pe(be);function ve(xe,Ne){var Se=J.params.distance*Math.tan(J.params.fovY*.5)*2;return be.panX+=xe*q.aspectRatio*Se,be.panY+=Ne*Se,J}function Ee(xe,Ne,Se){return be.zoom+=Se,q.mouseX=xe,q.mouseY=Ne,J}function ke(xe,Ne){var Se=J.params.fovY;be.yaw+=xe*Se*q.aspectRatio,be.pitch+=Ne*Se}function Pe(xe,Ne){be.dTheta+=xe,be.dPhi+=Ne}function Te(xe){var Ne;mat4Identity(ne),q.zoomAboutCursor&&(Ne=q.distance*Math.tan(q.fovY*.5),F[0]=xe.mouseX*q.aspectRatio*Ne,F[1]=xe.mouseY*Ne,F[2]=0,mat4Translate(ne,ne,F)),F[0]=1+xe.zoom,F[1]=1+xe.zoom,F[2]=1,mat4Scale(ne,ne,F),q.zoomAboutCursor&&(Ne=q.distance*Math.tan(q.fovY*.5),F[0]=-xe.mouseX*q.aspectRatio*Ne,F[1]=-xe.mouseY*Ne,F[2]=0,mat4Translate(ne,ne,F)),ne[12]-=xe.panX*.5,ne[13]-=xe.panY*.5,transformMat4$1(q.center,q.center,J.state.view),transformMat4$1(q.center,q.center,ne),transformMat4$1(q.center,q.center,J.state.viewInv),q.rotateAboutCenter&&vec3Copy(q.rotationCenter,q.center),q.distance*=1+xe.zoom;var Se=q.phi;q.phi+=xe.dPhi,q.phi=Math.min(MAX_PHI,Math.max(MIN_PHI,q.phi));var Ge=q.phi-Se,Ce=q.theta;q.theta+=xe.dTheta;var ze=q.theta-Ce;if(vec3RotateY(q.center,q.center,q.rotationCenter,ze-q.theta),vec3RotateX(q.center,q.center,q.rotationCenter,-Ge),vec3RotateY(q.center,q.center,q.rotationCenter,q.theta),xe.yaw!==0||xe.pitch!==0){X[0]=J.state.view[0],X[1]=J.state.view[4],X[2]=J.state.view[8],vec3Normalize(X,X),Y[0]=J.state.view[1],Y[1]=J.state.view[5],Y[2]=J.state.view[9],vec3Normalize(Y,Y),te[0]=J.state.view[2],te[1]=J.state.view[6],te[2]=J.state.view[10],vec3Normalize(te,te);var Ve=Math.min(MAX_PHI,Math.max(MIN_PHI,q.phi+xe.pitch*.5)),Ke=Ve-q.phi;vec3ScaleAndAdd(q.center,q.center,X,-Math.sin(xe.yaw*.5)*q.distance),vec3ScaleAndAdd(q.center,q.center,Y,-Math.sin(Ke)*q.distance),vec3ScaleAndAdd(q.center,q.center,te,(2-Math.cos(xe.yaw*.5)-Math.cos(Ke))*q.distance),q.phi=Ve,q.theta+=xe.yaw*.5}se(),le()}return de(J.params.aspectRatio),J};const createCamera=getDefaultExportFromCjs(inertialTurntableCamera);var ARRAY_TYPE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var U=0,G=arguments.length;G--;)U+=arguments[G]*arguments[G];return Math.sqrt(U)});function create$2(){var U=new ARRAY_TYPE(16);return ARRAY_TYPE!=Float32Array&&(U[1]=0,U[2]=0,U[3]=0,U[4]=0,U[6]=0,U[7]=0,U[8]=0,U[9]=0,U[11]=0,U[12]=0,U[13]=0,U[14]=0),U[0]=1,U[5]=1,U[10]=1,U[15]=1,U}function fromValues$1(U,G,Q,q,W,J,F,Y,X,te,re,ne,ie,oe,ae,ue){var ce=new ARRAY_TYPE(16);return ce[0]=U,ce[1]=G,ce[2]=Q,ce[3]=q,ce[4]=W,ce[5]=J,ce[6]=F,ce[7]=Y,ce[8]=X,ce[9]=te,ce[10]=re,ce[11]=ne,ce[12]=ie,ce[13]=oe,ce[14]=ae,ce[15]=ue,ce}function multiply(U,G,Q){var q=G[0],W=G[1],J=G[2],F=G[3],Y=G[4],X=G[5],te=G[6],re=G[7],ne=G[8],ie=G[9],oe=G[10],ae=G[11],ue=G[12],ce=G[13],se=G[14],le=G[15],de=Q[0],he=Q[1],pe=Q[2],ge=Q[3];return U[0]=de*q+he*Y+pe*ne+ge*ue,U[1]=de*W+he*X+pe*ie+ge*ce,U[2]=de*J+he*te+pe*oe+ge*se,U[3]=de*F+he*re+pe*ae+ge*le,de=Q[4],he=Q[5],pe=Q[6],ge=Q[7],U[4]=de*q+he*Y+pe*ne+ge*ue,U[5]=de*W+he*X+pe*ie+ge*ce,U[6]=de*J+he*te+pe*oe+ge*se,U[7]=de*F+he*re+pe*ae+ge*le,de=Q[8],he=Q[9],pe=Q[10],ge=Q[11],U[8]=de*q+he*Y+pe*ne+ge*ue,U[9]=de*W+he*X+pe*ie+ge*ce,U[10]=de*J+he*te+pe*oe+ge*se,U[11]=de*F+he*re+pe*ae+ge*le,de=Q[12],he=Q[13],pe=Q[14],ge=Q[15],U[12]=de*q+he*Y+pe*ne+ge*ue,U[13]=de*W+he*X+pe*ie+ge*ce,U[14]=de*J+he*te+pe*oe+ge*se,U[15]=de*F+he*re+pe*ae+ge*le,U}function create$1(){var U=new ARRAY_TYPE(4);return ARRAY_TYPE!=Float32Array&&(U[0]=0,U[1]=0,U[2]=0,U[3]=0),U}function fromValues(U,G,Q,q){var W=new ARRAY_TYPE(4);return W[0]=U,W[1]=G,W[2]=Q,W[3]=q,W}function scale(U,G,Q){return U[0]=G[0]*Q,U[1]=G[1]*Q,U[2]=G[2]*Q,U[3]=G[3]*Q,U}function transformMat4(U,G,Q){var q=G[0],W=G[1],J=G[2],F=G[3];return U[0]=Q[0]*q+Q[4]*W+Q[8]*J+Q[12]*F,U[1]=Q[1]*q+Q[5]*W+Q[9]*J+Q[13]*F,U[2]=Q[2]*q+Q[6]*W+Q[10]*J+Q[14]*F,U[3]=Q[3]*q+Q[7]*W+Q[11]*J+Q[15]*F,U}(function(){var U=create$1();return function(G,Q,q,W,J,F){var Y,X;for(Q||(Q=4),q||(q=0),W?X=Math.min(W*Q+q,G.length):X=G.length,Y=q;Y<X;Y+=Q)U[0]=G[Y],U[1]=G[Y+1],U[2]=G[Y+2],U[3]=G[Y+3],J(U,U,F),G[Y]=U[0],G[Y+1]=U[1],G[Y+2]=U[2],G[Y+3]=U[3];return G}})();var raf$2={exports:{}},performanceNow={exports:{}};(function(){var U,G,Q,q,W,J;typeof performance<"u"&&performance!==null&&performance.now?performanceNow.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(performanceNow.exports=function(){return(U()-W)/1e6},G=process.hrtime,U=function(){var F;return F=G(),F[0]*1e9+F[1]},q=U(),J=process.uptime()*1e9,W=q-J):Date.now?(performanceNow.exports=function(){return Date.now()-Q},Q=Date.now()):(performanceNow.exports=function(){return new Date().getTime()-Q},Q=new Date().getTime())}).call(commonjsGlobal);for(var performanceNowExports=performanceNow.exports,now=performanceNowExports,root=typeof window>"u"?commonjsGlobal:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix],i$2=0;!raf&&i$2<vendors.length;i$2++)raf=root[vendors[i$2]+"Request"+suffix],caf=root[vendors[i$2]+"Cancel"+suffix]||root[vendors[i$2]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[],frameDuration=1e3/60;raf=function(U){if(queue.length===0){var G=now(),Q=Math.max(0,frameDuration-(G-last));last=Q+G,setTimeout(function(){var q=queue.slice(0);queue.length=0;for(var W=0;W<q.length;W++)if(!q[W].cancelled)try{q[W].callback(last)}catch(J){setTimeout(function(){throw J},0)}},Math.round(Q))}return queue.push({handle:++id,callback:U,cancelled:!1}),id},caf=function(U){for(var G=0;G<queue.length;G++)queue[G].handle===U&&(queue[G].cancelled=!0)}}raf$2.exports=function(U){return raf.call(root,U)},raf$2.exports.cancel=function(){caf.apply(root,arguments)},raf$2.exports.polyfill=function(U){U||(U=root),U.requestAnimationFrame=raf,U.cancelAnimationFrame=caf};var rafExports=raf$2.exports;const raf$1=getDefaultExportFromCjs(rafExports);class SpringDamper{constructor(G,Q=15,q=15){this.target=G,this.stiffness=Q,this.damping=q,this.velocity=this._initializeVelocity(G),this.animationFrameId=null,this.currentValues=this._clone(G),this.paused=!1,this.logging=!1}_initializeVelocity(G){if(typeof G=="number")return 0;if(Array.isArray(G)||ArrayBuffer.isView(G))return G.map(()=>0);{const Q={};for(const q in G)Q[q]=0;return Q}}_clone(G){return Array.isArray(G)?[...G]:ArrayBuffer.isView(G)?G.slice():typeof G=="object"?{...G}:G}updateTarget(G){this.target=G}updateInitialValues(G){this.currentValues=this._clone(G)}_interpolateSpring(G,Q,q,W,J,F){const Y=Q-G,X=W*Y,te=-J*q,re=X+te,ne=q+re*F;return{newCurrentValue:G+ne*F,newVelocity:ne}}step(G){if(this.paused)return this.currentValues;const Q=(q,W,J)=>this._interpolateSpring(q,W,J,this.stiffness,this.damping,G);if(typeof this.target=="number"){const{newCurrentValue:q,newVelocity:W}=Q(this.currentValues,this.target,this.velocity);this.currentValues=q,this.velocity=W}else if(Array.isArray(this.target)||ArrayBuffer.isView(this.target))for(let q=0;q<this.target.length;q++){const{newCurrentValue:W,newVelocity:J}=Q(this.currentValues[q],this.target[q],this.velocity[q]);this.currentValues[q]=W,this.velocity[q]=J}else for(const q in this.target){const{newCurrentValue:W,newVelocity:J}=Q(this.currentValues[q],this.target[q],this.velocity[q]);this.currentValues[q]=W,this.velocity[q]=J}return this.currentValues}animate(G){const Q=.016666666666666666,q=()=>{this.logging&&console.debug("looping spring...",this.target,this);const W=this.step(Q);G(W),this.animationFrameId=raf$1(q)};this.stop(),this.animationFrameId=raf$1(q)}pause(){this.paused=!0}resume(){this.paused=!1}stop(){raf$1.cancel(this.animationFrameId)}}const asyncState=moize((U,G)=>{let Q=!1,q,W=new Promise(J=>{q=J});return{set:J=>{Q?W=J:(Q=!0,q(J))},get:()=>W}},{maxSize:1/0}),state=moize.maxArgs(2)((U,G,Q=()=>{})=>{let q;return{set:W=>{q=W},get:()=>(q===void 0&&(q=Q()),q)}},{maxSize:1/0});function getTypeInfo(U){const G={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4},Q={float:Float32Array,vec2:Float32Array,vec3:Float32Array,vec4:Float32Array,int:Int32Array,ivec2:Int32Array,ivec3:Int32Array,ivec4:Int32Array};return{itemSize:G[U],arrayType:Q[U]}}const graphBufferState=moize.maxArgs(2)((U,G)=>{let Q=1;const q={edges:null,nodeProps:{},buffers:{}},W=new Set,J=1e4,F=(ne,ie,oe)=>{if(q.buffers[ne])q.buffers[ne].value.array.set(ie),W.add(ne);else{const{itemSize:ae}=getTypeInfo(oe),ue=new ie.constructor(J*ae);ue.set(ie);const ce=new StorageInstancedBufferAttribute(ue,ae);q.buffers[ne]=storage(ce,oe,J)}return q.buffers[ne]},Y=(ne,ie)=>{const{itemSize:oe,arrayType:ae}=getTypeInfo(ie),ue=new ae(J*oe),ce=new StorageInstancedBufferAttribute(ue,oe);q.buffers[ne]=storage(ce,ie,J)},X=ne=>{var ie,oe;if(!q.buffers[ne])if(ne.startsWith("edgeSource_")||ne.startsWith("edgeTarget_")){const ae=ne.slice(11),ue=((ie=q.nodeProps[ae])==null?void 0:ie.type)||"float";Y(ne,ue)}else if(ne==="edgeIndices")Y(ne,"ivec2");else{const ae=ne.startsWith("nodeProps_")&&((oe=q.nodeProps[ne.slice(10)])==null?void 0:oe.type)||"float";Y(ne,ae)}return q.buffers[ne]},te=(ne=null)=>{q.edges&&(ne||Object.keys(q.nodeProps)).forEach(ie=>{const oe=q.nodeProps[ie],{type:ae,data:ue}=oe,{itemSize:ce,arrayType:se}=getTypeInfo(ae),le=new se(J*ce),de=new se(J*ce);for(let he=0;he<q.edges.length;he++){const[pe,ge]=q.edges[he];le.set(ue.subarray(pe*ce,(pe+1)*ce),he*ce),de.set(ue.subarray(ge*ce,(ge+1)*ce),he*ce)}F(`edgeSource_${ie}`,le,ae),F(`edgeTarget_${ie}`,de,ae)})},re=debounce(()=>{W.forEach(ne=>{q.buffers[ne]&&(q.buffers[ne].value.needsUpdate=!0)}),W.clear()},8);return{_state:q,setNodeCount:ne=>{Q=Math.max(ne,1)},getEdgeCount:()=>{var ne;return((ne=q.edges)==null?void 0:ne.length)||0},getNodeCount:()=>Q,setEdges:ne=>{q.edges=ne.length>0?ne:[[0,0]];const ie=new Int32Array(J*2);ie.set(q.edges.flat()),F("edgeIndices",ie,"ivec2"),te(),re()},setNodeProperties:(ne,ie,oe)=>{const{itemSize:ae,arrayType:ue}=getTypeInfo(ie),ce=new ue(J*ae);ce.set(oe),q.nodeProps[ne]={type:ie,data:ce},F(`nodeProps_${ne}`,ce,ie),te([ne]),re()},setNodeProperty:(ne,ie,oe)=>{const ae=q.nodeProps[ne];if(!ae)throw new Error(`Property ${ne} does not exist`);const{itemSize:ue}=getTypeInfo(ae.type),ce=Array.isArray(oe)?oe:[oe];if(ce.length!==ue)throw new Error(`Value length does not match itemSize for property ${ne}`);const se=ie*ue;ae.data.set(ce,se),F(`nodeProps_${ne}`,ae.data,ae.type),te([ne]),re()},getNodeProperties:ne=>X(`nodeProps_${ne}`),getEdgePairs:ne=>({source:X(`edgeSource_${ne}`),target:X(`edgeTarget_${ne}`)}),getEdgeIndices:()=>X("edgeIndices"),getBuffer:X,dispose:()=>{}}},{}),setComponent=(U,G)=>{state(U,"component").set(G)},getComponent=U=>state(U,"component").get(),getGlobalCamera=moize.infinite(U=>createCamera({panDecayTime:200,zoomDecayTime:200,rotationDecayTime:500,distance:2e3})),getOrthographicCamera=moize.infinite((U,G)=>createCamera({phi:Math.PI/4,theta:Math.PI/4,distance:200,center:[0,0,0],fovY:.013888888888888888*(Math.PI/2),near:2,far:400})),updateCameras$1=(U,G,Q,q)=>{const W=getGlobalCamera(U),J={near:W.params.distance*.1,far:W.params.distance*5e4};W.resize(Q/q),W.tick({fovY:Math.PI/3,...J});const F=getOrthographicCamera(U,"zoomed");F.params.distance=W.params.distance,F.params.center=[0,0,0],F.resize(Q/q),F.tick(J);const Y=getOrthographicCamera(U,"fixed");Y.resize(Q/q),Y.tick({near:Y.params.distance*.1,far:Y.params.distance*1e4});const X=new Float32Array(W.state.projection),te=new Float32Array(W.state.view),re=new Float32Array(F.state.projection),ne=new Float32Array(F.state.view),ie=new Float32Array(Y.state.projection),oe=new Float32Array(Y.state.view),ae=new Float32Array([W.params.distance,W.params.rotationCenter[0],W.params.rotationCenter[1],W.params.rotationCenter[2],W.params.center[0],W.params.center[1],W.params.center[2],W.params.phi,W.params.theta]);G(transfer(X,[X.buffer]),transfer(te,[te.buffer]),transfer(re,[re.buffer]),transfer(ne,[ne.buffer]),transfer(ie,[ie.buffer]),transfer(oe,[oe.buffer]),transfer(ae,[ae.buffer]))},getCenterSpringDamper=U=>state(U,"centerSpringDamper",()=>new SpringDamper(getGlobalCamera(U).params.center)).get(),centerUpdate=curry((U,G)=>{const Q=getGlobalCamera(U);Q.params.center=G}),startCenterSpring=moize.infinite(U=>debounce(()=>{const G=getGlobalCamera(U),Q=getCenterSpringDamper(U);Q.updateInitialValues(G.params.center),Q.animate(centerUpdate(U))},2,{maxWait:2,trailing:!0})),setCameraCenter$1=(U,G,Q=!0)=>{const q=getGlobalCamera(U),W=getCenterSpringDamper(U);q.params.rotationCenter=G,W.updateTarget(G),Q&&startCenterSpring(U)()},getDistanceSpringDamper=U=>state(U,"distanceSpringDamper",()=>new SpringDamper(getGlobalCamera(U).params.distance)).get(),distanceUpdate=U=>G=>{const Q=getGlobalCamera(U);Q.params.distance=G},startDistanceSpring=moize.infinite(U=>debounce(()=>{const G=getGlobalCamera(U),Q=getDistanceSpringDamper(U);Q.updateTarget(G.params.distance),Q.updateInitialValues(G.params.distance),Q.animate(distanceUpdate(U))},100,{leading:!0})),setCameraDistance$1=(U,G,Q=5e3)=>{console.debug("setCameraDistance",G),getDistanceSpringDamper(U).updateTarget(G)},startCameraAnimation=U=>{startCenterSpring(U)(),startDistanceSpring(U)()},setPaused=(U,G)=>{const Q=getCenterSpringDamper(U),q=getDistanceSpringDamper(U);Q.paused=G,q.paused=G},getCameraAnimationState=U=>state(U,"cameraAnimationState",()=>({panning:!1,zooming:!1})).get(),startPanning$1=U=>{const G=getCameraAnimationState(U);G.panning=!0,console.debug("quitting pan"),getComponent(U).focus=null,getCenterSpringDamper(U).stop()},stopPanning$1=U=>{const G=getCameraAnimationState(U);G.panning=!1},startZooming$1=U=>{const G=getCameraAnimationState(U);G.zooming=!0,getDistanceSpringDamper(U).stop()},stopZooming$1=U=>{const G=getCameraAnimationState(U);G.zooming=!1,startDistanceSpring(U)()},zoomGlobalCamera$1=(U,G,Q,q)=>{const W=getGlobalCamera(U);(W.params.distance>25||q>0)&&W.zoom(G,Q,q)},panGlobalCamera$1=(U,...G)=>{getGlobalCamera(U).pan(...G)},getGlobalCameraParams$1=U=>getGlobalCamera(U).params,computeScreenPosition$1=(U,[G,Q,q])=>{const{projection:W,view:J}=getGlobalCamera(U).state,F=fromValues(G,Q,q,1),Y=create$1(),X=create$1(),te=fromValues$1(...W),re=fromValues$1(...J),ne=create$2();return multiply(ne,te,re),transformMat4(Y,F,ne),scale(X,Y,1/Y[3]),[X[0],X[1],X[2]]},cameraAnimation=Object.freeze(Object.defineProperty({__proto__:null,computeScreenPosition:computeScreenPosition$1,getGlobalCamera,getGlobalCameraParams:getGlobalCameraParams$1,panGlobalCamera:panGlobalCamera$1,setCameraCenter:setCameraCenter$1,setCameraDistance:setCameraDistance$1,setPaused,startCameraAnimation,startPanning:startPanning$1,startZooming:startZooming$1,stopPanning:stopPanning$1,stopZooming:stopZooming$1,updateCameras:updateCameras$1,zoomGlobalCamera:zoomGlobalCamera$1},Symbol.toStringTag,{value:"Module"}));expose({...db,...layout,...cameraAnimation});var __spreadArray=globalThis&&globalThis.__spreadArray||function(U,G,Q){if(Q||arguments.length===2)for(var q=0,W=G.length,J;q<W;q++)(J||!(q in G))&&(J||(J=Array.prototype.slice.call(G,0,q)),J[q]=G[q]);return U.concat(J||Array.prototype.slice.call(G))},BrowserInfo=function(){function U(G,Q,q){this.name=G,this.version=Q,this.os=q,this.type="browser"}return U}(),NodeInfo=function(){function U(G){this.version=G,this.type="node",this.name="node",this.os=process.platform}return U}(),SearchBotDeviceInfo=function(){function U(G,Q,q,W){this.name=G,this.version=Q,this.os=q,this.bot=W,this.type="bot-device"}return U}(),BotInfo=function(){function U(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return U}(),ReactNativeInfo=function(){function U(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return U}(),SEARCHBOX_UA_REGEX=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,SEARCHBOT_OS_REGEX=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,REQUIRED_VERSION_PARTS=3,userAgentRules=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",SEARCHBOX_UA_REGEX]],operatingSystemRules=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function detect(U){return U?parseUserAgent(U):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new ReactNativeInfo:typeof navigator<"u"?parseUserAgent(navigator.userAgent):getNodeVersion()}function matchUserAgent(U){return U!==""&&userAgentRules.reduce(function(G,Q){var q=Q[0],W=Q[1];if(G)return G;var J=W.exec(U);return!!J&&[q,J]},!1)}function parseUserAgent(U){var G=matchUserAgent(U);if(!G)return null;var Q=G[0],q=G[1];if(Q==="searchbot")return new BotInfo;var W=q[1]&&q[1].split(".").join("_").split("_").slice(0,3);W?W.length<REQUIRED_VERSION_PARTS&&(W=__spreadArray(__spreadArray([],W,!0),createVersionParts(REQUIRED_VERSION_PARTS-W.length),!0)):W=[];var J=W.join("."),F=detectOS(U),Y=SEARCHBOT_OS_REGEX.exec(U);return Y&&Y[1]?new SearchBotDeviceInfo(Q,J,F,Y[1]):new BrowserInfo(Q,J,F)}function detectOS(U){for(var G=0,Q=operatingSystemRules.length;G<Q;G++){var q=operatingSystemRules[G],W=q[0],J=q[1],F=J.exec(U);if(F)return W}return null}function getNodeVersion(){var U=typeof process<"u"&&process.version;return U?new NodeInfo(process.version.slice(1)):null}function createVersionParts(U){for(var G=[],Q=0;Q<U;Q++)G.push("0");return G}const agent=detect(navigator.userAgent),useWorkers=(agent==null?void 0:agent.name)!=="safari"&&(agent==null?void 0:agent.os)!=="iOS";useWorkers?console.debug("Using workers"):console.warn("Not using workers due to an awful memory leak that makes WebKit crash if you use workers");const graphDb=moize.infinite(U=>useWorkers?wrap$1(new WorkerWrapper):db),graphLayout=moize.infinite(U=>useWorkers?wrap$1(new WorkerWrapper):layout),graphCameraAnimation=moize.infinite(U=>cameraAnimation);var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(U,G,Q){if(!G.has(U))throw new TypeError("attempted to set private field on non-instance");return G.set(U,Q),Q},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(U,G){if(!G.has(U))throw new TypeError("attempted to get private field on non-instance");return G.get(U)},_block,_blocks,_bytes,_finalized,_first,_h0,_h1,_h2,_h3,_h4,_h5,_h6,_h7,_hashed,_hBytes,_is224,_lastByteIndex,_start;const BKDRHash=function(U){var G=131,Q=137,q=0;U+="x";var W=Math.floor(9007199254740991/Q);for(let J=0;J<U.length;J++)q>W&&(q=Math.floor(q/Q)),q=q*G+U.charCodeAt(J);return q},HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],blocks=[];class Sha256{constructor(G=!1,Q=!1){_block.set(this,void 0),_blocks.set(this,void 0),_bytes.set(this,void 0),_finalized.set(this,void 0),_first.set(this,void 0),_h0.set(this,void 0),_h1.set(this,void 0),_h2.set(this,void 0),_h3.set(this,void 0),_h4.set(this,void 0),_h5.set(this,void 0),_h6.set(this,void 0),_h7.set(this,void 0),_hashed.set(this,void 0),_hBytes.set(this,void 0),_is224.set(this,void 0),_lastByteIndex.set(this,0),_start.set(this,void 0),this.init(G,Q)}init(G,Q){Q?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,__classPrivateFieldSet(this,_blocks,blocks)):__classPrivateFieldSet(this,_blocks,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),G?(__classPrivateFieldSet(this,_h0,3238371032),__classPrivateFieldSet(this,_h1,914150663),__classPrivateFieldSet(this,_h2,812702999),__classPrivateFieldSet(this,_h3,4144912697),__classPrivateFieldSet(this,_h4,4290775857),__classPrivateFieldSet(this,_h5,1750603025),__classPrivateFieldSet(this,_h6,1694076839),__classPrivateFieldSet(this,_h7,3204075428)):(__classPrivateFieldSet(this,_h0,1779033703),__classPrivateFieldSet(this,_h1,3144134277),__classPrivateFieldSet(this,_h2,1013904242),__classPrivateFieldSet(this,_h3,2773480762),__classPrivateFieldSet(this,_h4,1359893119),__classPrivateFieldSet(this,_h5,2600822924),__classPrivateFieldSet(this,_h6,528734635),__classPrivateFieldSet(this,_h7,1541459225)),__classPrivateFieldSet(this,_block,__classPrivateFieldSet(this,_start,__classPrivateFieldSet(this,_bytes,__classPrivateFieldSet(this,_hBytes,0)))),__classPrivateFieldSet(this,_finalized,__classPrivateFieldSet(this,_hashed,!1)),__classPrivateFieldSet(this,_first,!0),__classPrivateFieldSet(this,_is224,G)}update(G){if(__classPrivateFieldGet(this,_finalized))return this;let Q;G instanceof ArrayBuffer?Q=new Uint8Array(G):Q=G;let q=0;const W=Q.length,J=__classPrivateFieldGet(this,_blocks);for(;q<W;){let F;if(__classPrivateFieldGet(this,_hashed)&&(__classPrivateFieldSet(this,_hashed,!1),J[0]=__classPrivateFieldGet(this,_block),J[16]=J[1]=J[2]=J[3]=J[4]=J[5]=J[6]=J[7]=J[8]=J[9]=J[10]=J[11]=J[12]=J[13]=J[14]=J[15]=0),typeof Q!="string")for(F=__classPrivateFieldGet(this,_start);q<W&&F<64;++q)J[F>>2]|=Q[q]<<SHIFT[F++&3];else for(F=__classPrivateFieldGet(this,_start);q<W&&F<64;++q){let Y=Q.charCodeAt(q);Y<128?J[F>>2]|=Y<<SHIFT[F++&3]:Y<2048?(J[F>>2]|=(192|Y>>6)<<SHIFT[F++&3],J[F>>2]|=(128|Y&63)<<SHIFT[F++&3]):Y<55296||Y>=57344?(J[F>>2]|=(224|Y>>12)<<SHIFT[F++&3],J[F>>2]|=(128|Y>>6&63)<<SHIFT[F++&3],J[F>>2]|=(128|Y&63)<<SHIFT[F++&3]):(Y=65536+((Y&1023)<<10|Q.charCodeAt(++q)&1023),J[F>>2]|=(240|Y>>18)<<SHIFT[F++&3],J[F>>2]|=(128|Y>>12&63)<<SHIFT[F++&3],J[F>>2]|=(128|Y>>6&63)<<SHIFT[F++&3],J[F>>2]|=(128|Y&63)<<SHIFT[F++&3])}__classPrivateFieldSet(this,_lastByteIndex,F),__classPrivateFieldSet(this,_bytes,__classPrivateFieldGet(this,_bytes)+(F-__classPrivateFieldGet(this,_start))),F>=64?(__classPrivateFieldSet(this,_block,J[16]),__classPrivateFieldSet(this,_start,F-64),this.hash(),__classPrivateFieldSet(this,_hashed,!0)):__classPrivateFieldSet(this,_start,F)}return __classPrivateFieldGet(this,_bytes)>4294967295&&(__classPrivateFieldSet(this,_hBytes,__classPrivateFieldGet(this,_hBytes)+(__classPrivateFieldGet(this,_bytes)/4294967296<<0)),__classPrivateFieldSet(this,_bytes,__classPrivateFieldGet(this,_bytes)%4294967296)),this}finalize(){if(__classPrivateFieldGet(this,_finalized))return;__classPrivateFieldSet(this,_finalized,!0);const G=__classPrivateFieldGet(this,_blocks),Q=__classPrivateFieldGet(this,_lastByteIndex);G[16]=__classPrivateFieldGet(this,_block),G[Q>>2]|=EXTRA[Q&3],__classPrivateFieldSet(this,_block,G[16]),Q>=56&&(__classPrivateFieldGet(this,_hashed)||this.hash(),G[0]=__classPrivateFieldGet(this,_block),G[16]=G[1]=G[2]=G[3]=G[4]=G[5]=G[6]=G[7]=G[8]=G[9]=G[10]=G[11]=G[12]=G[13]=G[14]=G[15]=0),G[14]=__classPrivateFieldGet(this,_hBytes)<<3|__classPrivateFieldGet(this,_bytes)>>>29,G[15]=__classPrivateFieldGet(this,_bytes)<<3,this.hash()}hash(){let G=__classPrivateFieldGet(this,_h0),Q=__classPrivateFieldGet(this,_h1),q=__classPrivateFieldGet(this,_h2),W=__classPrivateFieldGet(this,_h3),J=__classPrivateFieldGet(this,_h4),F=__classPrivateFieldGet(this,_h5),Y=__classPrivateFieldGet(this,_h6),X=__classPrivateFieldGet(this,_h7);const te=__classPrivateFieldGet(this,_blocks);let re,ne,ie,oe,ae,ue,ce,se,le,de;for(let he=16;he<64;++he)oe=te[he-15],re=(oe>>>7|oe<<25)^(oe>>>18|oe<<14)^oe>>>3,oe=te[he-2],ne=(oe>>>17|oe<<15)^(oe>>>19|oe<<13)^oe>>>10,te[he]=te[he-16]+re+te[he-7]+ne<<0;de=Q&q;for(let he=0;he<64;he+=4)__classPrivateFieldGet(this,_first)?(__classPrivateFieldGet(this,_is224)?(ce=300032,oe=te[0]-1413257819,X=oe-150054599<<0,W=oe+24177077<<0):(ce=704751109,oe=te[0]-210244248,X=oe-1521486534<<0,W=oe+143694565<<0),__classPrivateFieldSet(this,_first,!1)):(re=(G>>>2|G<<30)^(G>>>13|G<<19)^(G>>>22|G<<10),ne=(J>>>6|J<<26)^(J>>>11|J<<21)^(J>>>25|J<<7),ce=G&Q,ie=ce^G&q^de,ue=J&F^~J&Y,oe=X+ne+ue+K[he]+te[he],ae=re+ie,X=W+oe<<0,W=oe+ae<<0),re=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),ne=(X>>>6|X<<26)^(X>>>11|X<<21)^(X>>>25|X<<7),se=W&G,ie=se^W&Q^ce,ue=X&J^~X&F,oe=Y+ne+ue+K[he+1]+te[he+1],ae=re+ie,Y=q+oe<<0,q=oe+ae<<0,re=(q>>>2|q<<30)^(q>>>13|q<<19)^(q>>>22|q<<10),ne=(Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7),le=q&W,ie=le^q&G^se,ue=Y&X^~Y&J,oe=F+ne+ue+K[he+2]+te[he+2],ae=re+ie,F=Q+oe<<0,Q=oe+ae<<0,re=(Q>>>2|Q<<30)^(Q>>>13|Q<<19)^(Q>>>22|Q<<10),ne=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),de=Q&q,ie=de^Q&W^le,ue=F&Y^~F&X,oe=J+ne+ue+K[he+3]+te[he+3],ae=re+ie,J=G+oe<<0,G=oe+ae<<0;__classPrivateFieldSet(this,_h0,__classPrivateFieldGet(this,_h0)+G<<0),__classPrivateFieldSet(this,_h1,__classPrivateFieldGet(this,_h1)+Q<<0),__classPrivateFieldSet(this,_h2,__classPrivateFieldGet(this,_h2)+q<<0),__classPrivateFieldSet(this,_h3,__classPrivateFieldGet(this,_h3)+W<<0),__classPrivateFieldSet(this,_h4,__classPrivateFieldGet(this,_h4)+J<<0),__classPrivateFieldSet(this,_h5,__classPrivateFieldGet(this,_h5)+F<<0),__classPrivateFieldSet(this,_h6,__classPrivateFieldGet(this,_h6)+Y<<0),__classPrivateFieldSet(this,_h7,__classPrivateFieldGet(this,_h7)+X<<0)}hex(){this.finalize();const G=__classPrivateFieldGet(this,_h0),Q=__classPrivateFieldGet(this,_h1),q=__classPrivateFieldGet(this,_h2),W=__classPrivateFieldGet(this,_h3),J=__classPrivateFieldGet(this,_h4),F=__classPrivateFieldGet(this,_h5),Y=__classPrivateFieldGet(this,_h6),X=__classPrivateFieldGet(this,_h7);let te=HEX_CHARS[G>>28&15]+HEX_CHARS[G>>24&15]+HEX_CHARS[G>>20&15]+HEX_CHARS[G>>16&15]+HEX_CHARS[G>>12&15]+HEX_CHARS[G>>8&15]+HEX_CHARS[G>>4&15]+HEX_CHARS[G&15]+HEX_CHARS[Q>>28&15]+HEX_CHARS[Q>>24&15]+HEX_CHARS[Q>>20&15]+HEX_CHARS[Q>>16&15]+HEX_CHARS[Q>>12&15]+HEX_CHARS[Q>>8&15]+HEX_CHARS[Q>>4&15]+HEX_CHARS[Q&15]+HEX_CHARS[q>>28&15]+HEX_CHARS[q>>24&15]+HEX_CHARS[q>>20&15]+HEX_CHARS[q>>16&15]+HEX_CHARS[q>>12&15]+HEX_CHARS[q>>8&15]+HEX_CHARS[q>>4&15]+HEX_CHARS[q&15]+HEX_CHARS[W>>28&15]+HEX_CHARS[W>>24&15]+HEX_CHARS[W>>20&15]+HEX_CHARS[W>>16&15]+HEX_CHARS[W>>12&15]+HEX_CHARS[W>>8&15]+HEX_CHARS[W>>4&15]+HEX_CHARS[W&15]+HEX_CHARS[J>>28&15]+HEX_CHARS[J>>24&15]+HEX_CHARS[J>>20&15]+HEX_CHARS[J>>16&15]+HEX_CHARS[J>>12&15]+HEX_CHARS[J>>8&15]+HEX_CHARS[J>>4&15]+HEX_CHARS[J&15]+HEX_CHARS[F>>28&15]+HEX_CHARS[F>>24&15]+HEX_CHARS[F>>20&15]+HEX_CHARS[F>>16&15]+HEX_CHARS[F>>12&15]+HEX_CHARS[F>>8&15]+HEX_CHARS[F>>4&15]+HEX_CHARS[F&15]+HEX_CHARS[Y>>28&15]+HEX_CHARS[Y>>24&15]+HEX_CHARS[Y>>20&15]+HEX_CHARS[Y>>16&15]+HEX_CHARS[Y>>12&15]+HEX_CHARS[Y>>8&15]+HEX_CHARS[Y>>4&15]+HEX_CHARS[Y&15];return __classPrivateFieldGet(this,_is224)||(te+=HEX_CHARS[X>>28&15]+HEX_CHARS[X>>24&15]+HEX_CHARS[X>>20&15]+HEX_CHARS[X>>16&15]+HEX_CHARS[X>>12&15]+HEX_CHARS[X>>8&15]+HEX_CHARS[X>>4&15]+HEX_CHARS[X&15]),te}toString(){return this.hex()}digest(){this.finalize();const G=__classPrivateFieldGet(this,_h0),Q=__classPrivateFieldGet(this,_h1),q=__classPrivateFieldGet(this,_h2),W=__classPrivateFieldGet(this,_h3),J=__classPrivateFieldGet(this,_h4),F=__classPrivateFieldGet(this,_h5),Y=__classPrivateFieldGet(this,_h6),X=__classPrivateFieldGet(this,_h7),te=[G>>24&255,G>>16&255,G>>8&255,G&255,Q>>24&255,Q>>16&255,Q>>8&255,Q&255,q>>24&255,q>>16&255,q>>8&255,q&255,W>>24&255,W>>16&255,W>>8&255,W&255,J>>24&255,J>>16&255,J>>8&255,J&255,F>>24&255,F>>16&255,F>>8&255,F&255,Y>>24&255,Y>>16&255,Y>>8&255,Y&255];return __classPrivateFieldGet(this,_is224)||te.push(X>>24&255,X>>16&255,X>>8&255,X&255),te}array(){return this.digest()}arrayBuffer(){this.finalize();const G=new ArrayBuffer(__classPrivateFieldGet(this,_is224)?28:32),Q=new DataView(G);return Q.setUint32(0,__classPrivateFieldGet(this,_h0)),Q.setUint32(4,__classPrivateFieldGet(this,_h1)),Q.setUint32(8,__classPrivateFieldGet(this,_h2)),Q.setUint32(12,__classPrivateFieldGet(this,_h3)),Q.setUint32(16,__classPrivateFieldGet(this,_h4)),Q.setUint32(20,__classPrivateFieldGet(this,_h5)),Q.setUint32(24,__classPrivateFieldGet(this,_h6)),__classPrivateFieldGet(this,_is224)||Q.setUint32(28,__classPrivateFieldGet(this,_h7)),G}}_block=new WeakMap,_blocks=new WeakMap,_bytes=new WeakMap,_finalized=new WeakMap,_first=new WeakMap,_h0=new WeakMap,_h1=new WeakMap,_h2=new WeakMap,_h3=new WeakMap,_h4=new WeakMap,_h5=new WeakMap,_h6=new WeakMap,_h7=new WeakMap,_hashed=new WeakMap,_hBytes=new WeakMap,_is224=new WeakMap,_lastByteIndex=new WeakMap,_start=new WeakMap;function Sha256ToInt(U){const G=new Sha256;return G.update(U),parseInt(G.hex().substring(0,8),16)}const RGB2HEX=function(U){var G="#";return U.forEach(function(Q){Q<16&&(G+=0),G+=Q.toString(16)}),G},HSL2RGB=function(U,G,Q){U/=360;var q=Q<.5?Q*(1+G):Q+G-Q*G,W=2*Q-q;return[U+1/3,U,U-1/3].map(function(J){return J<0&&J++,J>1&&J--,J<1/6?J=W+(q-W)*6*J:J<.5?J=q:J<2/3?J=W+(q-W)*6*(2/3-J):J=W,Math.round(J*255)})};class ColorHash{constructor(G={}){const[Q,q]=[G.lightness,G.saturation].map(function(W){return W=W!==void 0?W:[.35,.5,.65],Array.isArray(W)?W.concat():[W]});this.L=Q,this.S=q,typeof G.hue=="number"&&(G.hue={min:G.hue,max:G.hue}),typeof G.hue=="object"&&!Array.isArray(G.hue)&&(G.hue=[G.hue]),typeof G.hue>"u"&&(G.hue=[]),this.hueRanges=G.hue.map(function(W){return{min:typeof W.min>"u"?0:W.min,max:typeof W.max>"u"?360:W.max}}),this.hash=Sha256ToInt,typeof G.hash=="function"&&(this.hash=G.hash),G.hash==="bkdr"&&(this.hash=BKDRHash)}hsl(G){var Q,q,W,J=this.hash(G),F=727;if(this.hueRanges.length){const Y=this.hueRanges[J%this.hueRanges.length];Q=J/this.hueRanges.length%F*(Y.max-Y.min)/F+Y.min}else Q=J%359;return J=Math.ceil(J/360),q=this.S[J%this.S.length],J=Math.ceil(J/this.S.length),W=this.L[J%this.L.length],[Q,q,W]}rgb(G){var Q=this.hsl(G);return HSL2RGB.apply(this,Q)}hex(G){var Q=this.rgb(G);return RGB2HEX(Q)}}var isImplemented$4=function(){var U=Math.sign;return typeof U!="function"?!1:U(10)===1&&U(-20)===-1},shim$2,hasRequiredShim$2;function requireShim$2(){return hasRequiredShim$2||(hasRequiredShim$2=1,shim$2=function(U){return U=Number(U),isNaN(U)||U===0?U:U>0?1:-1}),shim$2}var sign$1=isImplemented$4()?Math.sign:requireShim$2(),sign=sign$1,abs=Math.abs,floor=Math.floor,toInteger$1=function(U){return isNaN(U)?0:(U=Number(U),U===0||!isFinite(U)?U:sign(U)*floor(abs(U)))},toInteger=toInteger$1,max$1=Math.max,toPosInteger=function(U){return max$1(0,toInteger(U))},toPosInt$1=toPosInteger,resolveLength$2=function(U,G,Q){var q;return isNaN(U)?(q=G,q>=0?Q&&q?q-1:q:1):U===!1?!1:toPosInt$1(U)},callable$3=validCallable,value=validValue,bind=Function.prototype.bind,call$1=Function.prototype.call,keys=Object.keys,objPropertyIsEnumerable=Object.prototype.propertyIsEnumerable,_iterate=function(U,G){return function(Q,q){var W,J=arguments[2],F=arguments[3];return Q=Object(value(Q)),callable$3(q),W=keys(Q),F&&W.sort(typeof F=="function"?bind.call(F,Q):void 0),typeof U!="function"&&(U=W[U]),call$1.call(U,W,function(Y,X){return objPropertyIsEnumerable.call(Q,Y)?call$1.call(q,J,Q[Y],Y,Q,X):G})}},forEach$1=_iterate("forEach"),registeredExtensions={},custom={exports:{}},isValue$1=isValue$5,map$1={function:!0,object:!0},isObject=function(U){return isValue$1(U)&&map$1[typeof U]||!1};(function(U){var G=assign$1,Q=isObject,q=isValue$5,W=Error.captureStackTrace;U.exports=function(J){var F=new Error(J),Y=arguments[1],X=arguments[2];return q(X)||Q(Y)&&(X=Y,Y=null),q(X)&&G(F,X),q(Y)&&(F.code=Y),W&&W(F,U.exports),F}})(custom);var customExports=custom.exports,_defineLength={exports:{}},mixin$1,hasRequiredMixin;function requireMixin(){if(hasRequiredMixin)return mixin$1;hasRequiredMixin=1;var U=validValue,G=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,q=Object.getOwnPropertyNames,W=Object.getOwnPropertySymbols;return mixin$1=function(J,F){var Y,X=Object(U(F));if(J=Object(U(J)),q(X).forEach(function(te){try{G(J,te,Q(F,te))}catch(re){Y=re}}),typeof W=="function"&&W(X).forEach(function(te){try{G(J,te,Q(F,te))}catch(re){Y=re}}),Y!==void 0)throw Y;return J},mixin$1}var toPosInt=toPosInteger,test=function(U,G){return G},desc,defineProperty,generate,mixin;try{Object.defineProperty(test,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch(U){}test.length===1?(desc={configurable:!0,writable:!1,enumerable:!1},defineProperty=Object.defineProperty,_defineLength.exports=function(U,G){return G=toPosInt(G),U.length===G?U:(desc.value=G,defineProperty(U,"length",desc))}):(mixin=requireMixin(),generate=function(){var U=[];return function(G){var Q,q=0;if(U[G])return U[G];for(Q=[];G--;)Q.push("a"+(++q).toString(36));return new Function("fn","return function ("+Q.join(", ")+") { return fn.apply(this, arguments); };")}}(),_defineLength.exports=function(U,G){var Q;if(G=toPosInt(G),U.length===G)return U;Q=generate(G)(U);try{mixin(Q,U)}catch{}return Q});var _defineLengthExports=_defineLength.exports,isImplemented$3,hasRequiredIsImplemented$3;function requireIsImplemented$3(){return hasRequiredIsImplemented$3||(hasRequiredIsImplemented$3=1,isImplemented$3=function(){var U=Array.from,G,Q;return typeof U!="function"?!1:(G=["raz","dwa"],Q=U(G),!!(Q&&Q!==G&&Q[1]==="dwa"))}),isImplemented$3}var isImplemented$2,hasRequiredIsImplemented$2;function requireIsImplemented$2(){return hasRequiredIsImplemented$2||(hasRequiredIsImplemented$2=1,isImplemented$2=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}),isImplemented$2}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var U=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return implementation=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return U()}try{return __global__||U()}finally{delete Object.prototype.__global__}}(),implementation}var globalThis_1,hasRequiredGlobalThis;function requireGlobalThis(){return hasRequiredGlobalThis||(hasRequiredGlobalThis=1,globalThis_1=requireIsImplemented$2()()?globalThis:requireImplementation()),globalThis_1}var isImplemented$1,hasRequiredIsImplemented$1;function requireIsImplemented$1(){if(hasRequiredIsImplemented$1)return isImplemented$1;hasRequiredIsImplemented$1=1;var U=requireGlobalThis(),G={object:!0,symbol:!0};return isImplemented$1=function(){var Q=U.Symbol,q;if(typeof Q!="function")return!1;q=Q("test symbol");try{String(q)}catch{return!1}return!(!G[typeof Q.iterator]||!G[typeof Q.toPrimitive]||!G[typeof Q.toStringTag])},isImplemented$1}var isSymbol,hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,isSymbol=function(U){return U?typeof U=="symbol"?!0:!U.constructor||U.constructor.name!=="Symbol"?!1:U[U.constructor.toStringTag]==="Symbol":!1}),isSymbol}var validateSymbol,hasRequiredValidateSymbol;function requireValidateSymbol(){if(hasRequiredValidateSymbol)return validateSymbol;hasRequiredValidateSymbol=1;var U=requireIsSymbol();return validateSymbol=function(G){if(!U(G))throw new TypeError(G+" is not a symbol");return G},validateSymbol}var generateName,hasRequiredGenerateName;function requireGenerateName(){if(hasRequiredGenerateName)return generateName;hasRequiredGenerateName=1;var U=dExports,G=Object.create,Q=Object.defineProperty,q=Object.prototype,W=G(null);return generateName=function(J){for(var F=0,Y,X;W[J+(F||"")];)++F;return J+=F||"",W[J]=!0,Y="@@"+J,Q(q,Y,U.gs(null,function(te){X||(X=!0,Q(this,Y,U(te)),X=!1)})),Y},generateName}var standardSymbols,hasRequiredStandardSymbols;function requireStandardSymbols(){if(hasRequiredStandardSymbols)return standardSymbols;hasRequiredStandardSymbols=1;var U=dExports,G=requireGlobalThis().Symbol;return standardSymbols=function(Q){return Object.defineProperties(Q,{hasInstance:U("",G&&G.hasInstance||Q("hasInstance")),isConcatSpreadable:U("",G&&G.isConcatSpreadable||Q("isConcatSpreadable")),iterator:U("",G&&G.iterator||Q("iterator")),match:U("",G&&G.match||Q("match")),replace:U("",G&&G.replace||Q("replace")),search:U("",G&&G.search||Q("search")),species:U("",G&&G.species||Q("species")),split:U("",G&&G.split||Q("split")),toPrimitive:U("",G&&G.toPrimitive||Q("toPrimitive")),toStringTag:U("",G&&G.toStringTag||Q("toStringTag")),unscopables:U("",G&&G.unscopables||Q("unscopables"))})},standardSymbols}var symbolRegistry,hasRequiredSymbolRegistry;function requireSymbolRegistry(){if(hasRequiredSymbolRegistry)return symbolRegistry;hasRequiredSymbolRegistry=1;var U=dExports,G=requireValidateSymbol(),Q=Object.create(null);return symbolRegistry=function(q){return Object.defineProperties(q,{for:U(function(W){return Q[W]?Q[W]:Q[W]=q(String(W))}),keyFor:U(function(W){var J;G(W);for(J in Q)if(Q[J]===W)return J})})},symbolRegistry}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var U=dExports,G=requireValidateSymbol(),Q=requireGlobalThis().Symbol,q=requireGenerateName(),W=requireStandardSymbols(),J=requireSymbolRegistry(),F=Object.create,Y=Object.defineProperties,X=Object.defineProperty,te,re,ne;if(typeof Q=="function")try{String(Q()),ne=!0}catch{}else Q=null;return re=function(ie){if(this instanceof re)throw new TypeError("Symbol is not a constructor");return te(ie)},polyfill=te=function ie(oe){var ae;if(this instanceof ie)throw new TypeError("Symbol is not a constructor");return ne?Q(oe):(ae=F(re.prototype),oe=oe===void 0?"":String(oe),Y(ae,{__description__:U("",oe),__name__:U("",q(oe))}))},W(te),J(te),Y(re.prototype,{constructor:U(te),toString:U("",function(){return this.__name__})}),Y(te.prototype,{toString:U(function(){return"Symbol ("+G(this).__description__+")"}),valueOf:U(function(){return G(this)})}),X(te.prototype,te.toPrimitive,U("",function(){var ie=G(this);return typeof ie=="symbol"?ie:ie.toString()})),X(te.prototype,te.toStringTag,U("c","Symbol")),X(re.prototype,te.toStringTag,U("c",te.prototype[te.toStringTag])),X(re.prototype,te.toPrimitive,U("c",te.prototype[te.toPrimitive])),polyfill}var es6Symbol,hasRequiredEs6Symbol;function requireEs6Symbol(){return hasRequiredEs6Symbol||(hasRequiredEs6Symbol=1,es6Symbol=requireIsImplemented$1()()?requireGlobalThis().Symbol:requirePolyfill()),es6Symbol}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var U=Object.prototype.toString,G=U.call(function(){return arguments}());return isArguments=function(Q){return U.call(Q)===G},isArguments}var isFunction,hasRequiredIsFunction;function requireIsFunction(){if(hasRequiredIsFunction)return isFunction;hasRequiredIsFunction=1;var U=Object.prototype.toString,G=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);return isFunction=function(Q){return typeof Q=="function"&&G(U.call(Q))},isFunction}var isString,hasRequiredIsString;function requireIsString(){if(hasRequiredIsString)return isString;hasRequiredIsString=1;var U=Object.prototype.toString,G=U.call("");return isString=function(Q){return typeof Q=="string"||Q&&typeof Q=="object"&&(Q instanceof String||U.call(Q)===G)||!1},isString}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var U=requireEs6Symbol().iterator,G=requireIsArguments(),Q=requireIsFunction(),q=toPosInteger,W=validCallable,J=validValue,F=isValue$5,Y=requireIsString(),X=Array.isArray,te=Function.prototype.call,re={configurable:!0,enumerable:!0,writable:!0,value:null},ne=Object.defineProperty;return shim$1=function(ie){var oe=arguments[1],ae=arguments[2],ue,ce,se,le,de,he,pe,ge,be,ve;if(ie=Object(J(ie)),F(oe)&&W(oe),!this||this===Array||!Q(this)){if(!oe){if(G(ie))return de=ie.length,de!==1?Array.apply(null,ie):(le=new Array(1),le[0]=ie[0],le);if(X(ie)){for(le=new Array(de=ie.length),ce=0;ce<de;++ce)le[ce]=ie[ce];return le}}le=[]}else ue=this;if(!X(ie)){if((be=ie[U])!==void 0){for(pe=W(be).call(ie),ue&&(le=new ue),ge=pe.next(),ce=0;!ge.done;)ve=oe?te.call(oe,ae,ge.value,ce):ge.value,ue?(re.value=ve,ne(le,ce,re)):le[ce]=ve,ge=pe.next(),++ce;de=ce}else if(Y(ie)){for(de=ie.length,ue&&(le=new ue),ce=0,se=0;ce<de;++ce)ve=ie[ce],ce+1<de&&(he=ve.charCodeAt(0),he>=55296&&he<=56319&&(ve+=ie[++ce])),ve=oe?te.call(oe,ae,ve,se):ve,ue?(re.value=ve,ne(le,se,re)):le[se]=ve,++se;de=se}}if(de===void 0)for(de=q(ie.length),ue&&(le=new ue(de)),ce=0;ce<de;++ce)ve=oe?te.call(oe,ae,ie[ce],ce):ie[ce],ue?(re.value=ve,ne(le,ce,re)):le[ce]=ve;return ue&&(re.value=null,le.length=de),le},shim$1}var from$1,hasRequiredFrom;function requireFrom(){return hasRequiredFrom||(hasRequiredFrom=1,from$1=requireIsImplemented$3()()?Array.from:requireShim$1()),from$1}var from=requireFrom(),isArray=Array.isArray,toArray$1=function(U){return isArray(U)?U:from(U)},toArray=toArray$1,isValue=isValue$5,callable$2=validCallable,slice=Array.prototype.slice,resolveArgs;resolveArgs=function(U){return this.map(function(G,Q){return G?G(U[Q]):U[Q]}).concat(slice.call(U,this.length))};var resolveResolve$1=function(U){return U=toArray(U),U.forEach(function(G){isValue(G)&&callable$2(G)}),resolveArgs.bind(U)},callable$1=validCallable,resolveNormalize$1=function(U){var G;return typeof U=="function"?{set:U,get:U}:(G={get:callable$1(U.get)},U.set!==void 0?(G.set=callable$1(U.set),U.delete&&(G.delete=callable$1(U.delete)),U.clear&&(G.clear=callable$1(U.clear)),G):(G.set=G.get,G))},customError=customExports,defineLength=_defineLengthExports,d$4=dExports,ee=eventEmitterExports.methods,resolveResolve=resolveResolve$1,resolveNormalize=resolveNormalize$1,apply=Function.prototype.apply,call=Function.prototype.call,create=Object.create,defineProperties=Object.defineProperties,on$1=ee.on,emit$1=ee.emit,configureMap=function(U,G,Q){var q=create(null),W,J,F,Y,X,te,re,ne,ie,oe,ae,ue,ce,se,le;return G!==!1?J=G:isNaN(U.length)?J=1:J=U.length,Q.normalizer&&(oe=resolveNormalize(Q.normalizer),F=oe.get,Y=oe.set,X=oe.delete,te=oe.clear),Q.resolvers!=null&&(le=resolveResolve(Q.resolvers)),F?se=defineLength(function(de){var he,pe,ge=arguments;if(le&&(ge=le(ge)),he=F(ge),he!==null&&hasOwnProperty.call(q,he))return ae&&W.emit("get",he,ge,this),q[he];if(ge.length===1?pe=call.call(U,this,ge[0]):pe=apply.call(U,this,ge),he===null){if(he=F(ge),he!==null)throw customError("Circular invocation","CIRCULAR_INVOCATION");he=Y(ge)}else if(hasOwnProperty.call(q,he))throw customError("Circular invocation","CIRCULAR_INVOCATION");return q[he]=pe,ue&&W.emit("set",he,null,pe),pe},J):G===0?se=function(){var de;if(hasOwnProperty.call(q,"data"))return ae&&W.emit("get","data",arguments,this),q.data;if(arguments.length?de=apply.call(U,this,arguments):de=call.call(U,this),hasOwnProperty.call(q,"data"))throw customError("Circular invocation","CIRCULAR_INVOCATION");return q.data=de,ue&&W.emit("set","data",null,de),de}:se=function(de){var he,pe=arguments,ge;if(le&&(pe=le(arguments)),ge=String(pe[0]),hasOwnProperty.call(q,ge))return ae&&W.emit("get",ge,pe,this),q[ge];if(pe.length===1?he=call.call(U,this,pe[0]):he=apply.call(U,this,pe),hasOwnProperty.call(q,ge))throw customError("Circular invocation","CIRCULAR_INVOCATION");return q[ge]=he,ue&&W.emit("set",ge,null,he),he},W={original:U,memoized:se,profileName:Q.profileName,get:function(de){return le&&(de=le(de)),F?F(de):String(de[0])},has:function(de){return hasOwnProperty.call(q,de)},delete:function(de){var he;hasOwnProperty.call(q,de)&&(X&&X(de),he=q[de],delete q[de],ce&&W.emit("delete",de,he))},clear:function(){var de=q;te&&te(),q=create(null),W.emit("clear",de)},on:function(de,he){return de==="get"?ae=!0:de==="set"?ue=!0:de==="delete"&&(ce=!0),on$1.call(this,de,he)},emit:emit$1,updateEnv:function(){U=W.original}},F?re=defineLength(function(de){var he,pe=arguments;le&&(pe=le(pe)),he=F(pe),he!==null&&W.delete(he)},J):G===0?re=function(){return W.delete("data")}:re=function(de){return le&&(de=le(arguments)[0]),W.delete(de)},ne=defineLength(function(){var de,he=arguments;return G===0?q.data:(le&&(he=le(he)),F?de=F(he):de=String(he[0]),q[de])}),ie=defineLength(function(){var de,he=arguments;return G===0?W.has("data"):(le&&(he=le(he)),F?de=F(he):de=String(he[0]),de===null?!1:W.has(de))}),defineProperties(se,{__memoized__:d$4(!0),delete:d$4(re),clear:d$4(W.clear),_get:d$4(ne),_has:d$4(ie)}),W},callable=validCallable,forEach=forEach$1,extensions=registeredExtensions,configure=configureMap,resolveLength$1=resolveLength$2,plain$1=function U(G){var Q,q,W;if(callable(G),Q=Object(arguments[1]),Q.async&&Q.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(G,"__memoized__")&&!Q.force?G:(q=resolveLength$1(Q.length,G.length,Q.async&&extensions.async),W=configure(G,q,Q),forEach(extensions,function(J,F){Q[F]&&J(Q[F],W,Q)}),U.__profiler__&&U.__profiler__(W),W.updateEnv(),W.memoized)},primitive,hasRequiredPrimitive;function requirePrimitive(){return hasRequiredPrimitive||(hasRequiredPrimitive=1,primitive=function(U){var G,Q,q=U.length;if(!q)return"";for(G=String(U[Q=0]);--q;)G+=""+U[++Q];return G}),primitive}var getPrimitiveFixed,hasRequiredGetPrimitiveFixed;function requireGetPrimitiveFixed(){return hasRequiredGetPrimitiveFixed||(hasRequiredGetPrimitiveFixed=1,getPrimitiveFixed=function(U){return U?function(G){for(var Q=String(G[0]),q=0,W=U;--W;)Q+=""+G[++q];return Q}:function(){return""}}),getPrimitiveFixed}var isImplemented,hasRequiredIsImplemented;function requireIsImplemented(){return hasRequiredIsImplemented||(hasRequiredIsImplemented=1,isImplemented=function(){var U=Number.isNaN;return typeof U!="function"?!1:!U({})&&U(NaN)&&!U(34)}),isImplemented}var shim,hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim=function(U){return U!==U}),shim}var isNan,hasRequiredIsNan;function requireIsNan(){return hasRequiredIsNan||(hasRequiredIsNan=1,isNan=requireIsImplemented()()?Number.isNaN:requireShim()),isNan}var eIndexOf,hasRequiredEIndexOf;function requireEIndexOf(){if(hasRequiredEIndexOf)return eIndexOf;hasRequiredEIndexOf=1;var U=requireIsNan(),G=toPosInteger,Q=validValue,q=Array.prototype.indexOf,W=Object.prototype.hasOwnProperty,J=Math.abs,F=Math.floor;return eIndexOf=function(Y){var X,te,re,ne;if(!U(Y))return q.apply(this,arguments);for(te=G(Q(this).length),re=arguments[1],isNaN(re)?re=0:re>=0?re=F(re):re=G(this.length)-F(J(re)),X=re;X<te;++X)if(W.call(this,X)&&(ne=this[X],U(ne)))return X;return-1},eIndexOf}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var U=requireEIndexOf(),G=Object.create;return get=function(){var Q=0,q=[],W=G(null);return{get:function(J){var F=0,Y=q,X,te=J.length;if(te===0)return Y[te]||null;if(Y=Y[te]){for(;F<te-1;){if(X=U.call(Y[0],J[F]),X===-1)return null;Y=Y[1][X],++F}return X=U.call(Y[0],J[F]),X===-1?null:Y[1][X]||null}return null},set:function(J){var F=0,Y=q,X,te=J.length;if(te===0)Y[te]=++Q;else{for(Y[te]||(Y[te]=[[],[]]),Y=Y[te];F<te-1;)X=U.call(Y[0],J[F]),X===-1&&(X=Y[0].push(J[F])-1,Y[1].push([[],[]])),Y=Y[1][X],++F;X=U.call(Y[0],J[F]),X===-1&&(X=Y[0].push(J[F])-1),Y[1][X]=++Q}return W[Q]=J,Q},delete:function(J){var F=0,Y=q,X,te=W[J],re=te.length,ne=[];if(re===0)delete Y[re];else if(Y=Y[re]){for(;F<re-1;){if(X=U.call(Y[0],te[F]),X===-1)return;ne.push(Y,X),Y=Y[1][X],++F}if(X=U.call(Y[0],te[F]),X===-1)return;for(J=Y[1][X],Y[0].splice(X,1),Y[1].splice(X,1);!Y[0].length&&ne.length;)X=ne.pop(),Y=ne.pop(),Y[0].splice(X,1),Y[1].splice(X,1)}delete W[J]},clear:function(){q=[],W=G(null)}}},get}var get1,hasRequiredGet1;function requireGet1(){if(hasRequiredGet1)return get1;hasRequiredGet1=1;var U=requireEIndexOf();return get1=function(){var G=0,Q=[],q=[];return{get:function(W){var J=U.call(Q,W[0]);return J===-1?null:q[J]},set:function(W){return Q.push(W[0]),q.push(++G),G},delete:function(W){var J=U.call(q,W);J!==-1&&(Q.splice(J,1),q.splice(J,1))},clear:function(){Q=[],q=[]}}},get1}var getFixed,hasRequiredGetFixed;function requireGetFixed(){if(hasRequiredGetFixed)return getFixed;hasRequiredGetFixed=1;var U=requireEIndexOf(),G=Object.create;return getFixed=function(Q){var q=0,W=[[],[]],J=G(null);return{get:function(F){for(var Y=0,X=W,te;Y<Q-1;){if(te=U.call(X[0],F[Y]),te===-1)return null;X=X[1][te],++Y}return te=U.call(X[0],F[Y]),te===-1?null:X[1][te]||null},set:function(F){for(var Y=0,X=W,te;Y<Q-1;)te=U.call(X[0],F[Y]),te===-1&&(te=X[0].push(F[Y])-1,X[1].push([[],[]])),X=X[1][te],++Y;return te=U.call(X[0],F[Y]),te===-1&&(te=X[0].push(F[Y])-1),X[1][te]=++q,J[q]=F,q},delete:function(F){for(var Y=0,X=W,te,re=[],ne=J[F];Y<Q-1;){if(te=U.call(X[0],ne[Y]),te===-1)return;re.push(X,te),X=X[1][te],++Y}if(te=U.call(X[0],ne[Y]),te!==-1){for(F=X[1][te],X[0].splice(te,1),X[1].splice(te,1);!X[0].length&&re.length;)te=re.pop(),X=re.pop(),X[0].splice(te,1),X[1].splice(te,1);delete J[F]}},clear:function(){W=[[],[]],J=G(null)}}},getFixed}var async={},map,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map;hasRequiredMap=1;var U=validCallable,G=forEach$1,Q=Function.prototype.call;return map=function(q,W){var J={},F=arguments[2];return U(W),G(q,function(Y,X,te,re){J[X]=Q.call(W,F,Y,X,te,re)}),J},map}var nextTick,hasRequiredNextTick;function requireNextTick(){if(hasRequiredNextTick)return nextTick;hasRequiredNextTick=1;var U=function(Q){if(typeof Q!="function")throw new TypeError(Q+" is not a function");return Q},G=function(Q){var q=document.createTextNode(""),W,J,F=0;return new Q(function(){var Y;if(W)J&&(W=J.concat(W));else{if(!J)return;W=J}if(J=W,W=null,typeof J=="function"){Y=J,J=null,Y();return}for(q.data=F=++F%2;J;)Y=J.shift(),J.length||(J=null),Y()}).observe(q,{characterData:!0}),function(Y){if(U(Y),W){typeof W=="function"?W=[W,Y]:W.push(Y);return}W=Y,q.data=F=++F%2}};return nextTick=function(){if(typeof process=="object"&&process&&typeof process.nextTick=="function")return process.nextTick;if(typeof queueMicrotask=="function")return function(Q){queueMicrotask(U(Q))};if(typeof document=="object"&&document){if(typeof MutationObserver=="function")return G(MutationObserver);if(typeof WebKitMutationObserver=="function")return G(WebKitMutationObserver)}return typeof setImmediate=="function"?function(Q){setImmediate(U(Q))}:typeof setTimeout=="function"||typeof setTimeout=="object"?function(Q){setTimeout(U(Q),0)}:null}(),nextTick}var hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var U=requireFrom(),G=requireMap(),Q=requireMixin(),q=_defineLengthExports,W=requireNextTick(),J=Array.prototype.slice,F=Function.prototype.apply,Y=Object.create;return registeredExtensions.async=function(X,te){var re=Y(null),ne=Y(null),ie=te.memoized,oe=te.original,ae,ue,ce;te.memoized=q(function(se){var le=arguments,de=le[le.length-1];return typeof de=="function"&&(ae=de,le=J.call(le,0,-1)),ie.apply(ue=this,ce=le)},ie);try{Q(te.memoized,ie)}catch{}te.on("get",function(se){var le,de,he;if(ae){if(re[se]){typeof re[se]=="function"?re[se]=[re[se],ae]:re[se].push(ae),ae=null;return}le=ae,de=ue,he=ce,ae=ue=ce=null,W(function(){var pe;hasOwnProperty.call(ne,se)?(pe=ne[se],te.emit("getasync",se,he,de),F.call(le,pe.context,pe.args)):(ae=le,ue=de,ce=he,ie.apply(de,he))})}}),te.original=function(){var se,le,de,he;return ae?(se=U(arguments),le=function pe(ge){var be,ve,Ee=pe.id;if(Ee==null){W(F.bind(pe,this,arguments));return}if(delete pe.id,be=re[Ee],delete re[Ee],!!be)return ve=U(arguments),te.has(Ee)&&(ge?te.delete(Ee):(ne[Ee]={context:this,args:ve},te.emit("setasync",Ee,typeof be=="function"?1:be.length))),typeof be=="function"?he=F.call(be,this,ve):be.forEach(function(ke){he=F.call(ke,this,ve)},this),he},de=ae,ae=ue=ce=null,se.push(le),he=F.call(oe,this,se),le.cb=de,ae=le,he):F.call(oe,this,arguments)},te.on("set",function(se){if(!ae){te.delete(se);return}re[se]?typeof re[se]=="function"?re[se]=[re[se],ae.cb]:re[se].push(ae.cb):re[se]=ae.cb,delete ae.cb,ae.id=se,ae=null}),te.on("delete",function(se){var le;hasOwnProperty.call(re,se)||ne[se]&&(le=ne[se],delete ne[se],te.emit("deleteasync",se,J.call(le.args,1)))}),te.on("clear",function(){var se=ne;ne=Y(null),te.emit("clearasync",G(se,function(le){return J.call(le.args,1)}))})},async}var promise={},primitiveSet,hasRequiredPrimitiveSet;function requirePrimitiveSet(){if(hasRequiredPrimitiveSet)return primitiveSet;hasRequiredPrimitiveSet=1;var U=Array.prototype.forEach,G=Object.create;return primitiveSet=function(Q){var q=G(null);return U.call(arguments,function(W){q[W]=!0}),q},primitiveSet}var isCallable,hasRequiredIsCallable;function requireIsCallable(){return hasRequiredIsCallable||(hasRequiredIsCallable=1,isCallable=function(U){return typeof U=="function"}),isCallable}var validateStringifiable,hasRequiredValidateStringifiable;function requireValidateStringifiable(){if(hasRequiredValidateStringifiable)return validateStringifiable;hasRequiredValidateStringifiable=1;var U=requireIsCallable();return validateStringifiable=function(G){try{return G&&U(G.toString)?G.toString():String(G)}catch{throw new TypeError("Passed argument cannot be stringifed")}},validateStringifiable}var validateStringifiableValue,hasRequiredValidateStringifiableValue;function requireValidateStringifiableValue(){if(hasRequiredValidateStringifiableValue)return validateStringifiableValue;hasRequiredValidateStringifiableValue=1;var U=validValue,G=requireValidateStringifiable();return validateStringifiableValue=function(Q){return G(U(Q))},validateStringifiableValue}var safeToString,hasRequiredSafeToString;function requireSafeToString(){if(hasRequiredSafeToString)return safeToString;hasRequiredSafeToString=1;var U=requireIsCallable();return safeToString=function(G){try{return G&&U(G.toString)?G.toString():String(G)}catch{return"<Non-coercible to string value>"}},safeToString}var toShortStringRepresentation,hasRequiredToShortStringRepresentation;function requireToShortStringRepresentation(){if(hasRequiredToShortStringRepresentation)return toShortStringRepresentation;hasRequiredToShortStringRepresentation=1;var U=requireSafeToString(),G=/[\n\r\u2028\u2029]/g;return toShortStringRepresentation=function(Q){var q=U(Q);return q.length>100&&(q=q.slice(0,99)+""),q=q.replace(G,function(W){return JSON.stringify(W).slice(1,-1)}),q},toShortStringRepresentation}var isPromise={exports:{}},hasRequiredIsPromise;function requireIsPromise(){if(hasRequiredIsPromise)return isPromise.exports;hasRequiredIsPromise=1,isPromise.exports=U,isPromise.exports.default=U;function U(G){return!!G&&(typeof G=="object"||typeof G=="function")&&typeof G.then=="function"}return isPromise.exports}var hasRequiredPromise;function requirePromise(){if(hasRequiredPromise)return promise;hasRequiredPromise=1;var U=requireMap(),G=requirePrimitiveSet(),Q=requireValidateStringifiableValue(),q=requireToShortStringRepresentation(),W=requireIsPromise(),J=requireNextTick(),F=Object.create,Y=G("then","then:finally","done","done:finally");return registeredExtensions.promise=function(X,te){var re=F(null),ne=F(null),ie=F(null);if(X===!0)X=null;else if(X=Q(X),!Y[X])throw new TypeError("'"+q(X)+"' is not valid promise mode");te.on("set",function(oe,ae,ue){var ce=!1;if(!W(ue)){ne[oe]=ue,te.emit("setasync",oe,1);return}re[oe]=1,ie[oe]=ue;var se=function(pe){var ge=re[oe];if(ce)throw new Error(`Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)
Consider to rely on 'then' or 'done' mode instead.`);ge&&(delete re[oe],ne[oe]=pe,te.emit("setasync",oe,ge))},le=function(){ce=!0,re[oe]&&(delete re[oe],delete ie[oe],te.delete(oe))},de=X;if(de||(de="then"),de==="then"){var he=function(){J(le)};ue=ue.then(function(pe){J(se.bind(this,pe))},he),typeof ue.finally=="function"&&ue.finally(he)}else if(de==="done"){if(typeof ue.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");ue.done(se,le)}else if(de==="done:finally"){if(typeof ue.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if(typeof ue.finally!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");ue.done(se),ue.finally(le)}}),te.on("get",function(oe,ae,ue){var ce;if(re[oe]){++re[oe];return}ce=ie[oe];var se=function(){te.emit("getasync",oe,ae,ue)};W(ce)?typeof ce.done=="function"?ce.done(se):ce.then(function(){J(se)}):se()}),te.on("delete",function(oe){if(delete ie[oe],re[oe]){delete re[oe];return}if(hasOwnProperty.call(ne,oe)){var ae=ne[oe];delete ne[oe],te.emit("deleteasync",oe,[ae])}}),te.on("clear",function(){var oe=ne;ne=F(null),re=F(null),ie=F(null),te.emit("clearasync",U(oe,function(ae){return[ae]}))})},promise}var dispose={},hasRequiredDispose;function requireDispose(){if(hasRequiredDispose)return dispose;hasRequiredDispose=1;var U=validCallable,G=forEach$1,Q=registeredExtensions,q=Function.prototype.apply;return Q.dispose=function(W,J,F){var Y;if(U(W),F.async&&Q.async||F.promise&&Q.promise){J.on("deleteasync",Y=function(X,te){q.call(W,null,te)}),J.on("clearasync",function(X){G(X,function(te,re){Y(re,te)})});return}J.on("delete",Y=function(X,te){W(te)}),J.on("clear",function(X){G(X,function(te,re){Y(re,te)})})},dispose}var maxAge={},maxTimeout,hasRequiredMaxTimeout;function requireMaxTimeout(){return hasRequiredMaxTimeout||(hasRequiredMaxTimeout=1,maxTimeout=2147483647),maxTimeout}var validTimeout,hasRequiredValidTimeout;function requireValidTimeout(){if(hasRequiredValidTimeout)return validTimeout;hasRequiredValidTimeout=1;var U=toPosInteger,G=requireMaxTimeout();return validTimeout=function(Q){if(Q=U(Q),Q>G)throw new TypeError(Q+" exceeds maximum possible timeout");return Q},validTimeout}var hasRequiredMaxAge;function requireMaxAge(){if(hasRequiredMaxAge)return maxAge;hasRequiredMaxAge=1;var U=requireFrom(),G=forEach$1,Q=requireNextTick(),q=requireIsPromise(),W=requireValidTimeout(),J=registeredExtensions,F=Function.prototype,Y=Math.max,X=Math.min,te=Object.create;return J.maxAge=function(re,ne,ie){var oe,ae,ue,ce;re=W(re),re&&(oe=te(null),ae=ie.async&&J.async||ie.promise&&J.promise?"async":"",ne.on("set"+ae,function(se){oe[se]=setTimeout(function(){ne.delete(se)},re),typeof oe[se].unref=="function"&&oe[se].unref(),ce&&(ce[se]&&ce[se]!=="nextTick"&&clearTimeout(ce[se]),ce[se]=setTimeout(function(){delete ce[se]},ue),typeof ce[se].unref=="function"&&ce[se].unref())}),ne.on("delete"+ae,function(se){clearTimeout(oe[se]),delete oe[se],ce&&(ce[se]!=="nextTick"&&clearTimeout(ce[se]),delete ce[se])}),ie.preFetch&&(ie.preFetch===!0||isNaN(ie.preFetch)?ue=.333:ue=Y(X(Number(ie.preFetch),1),0),ue&&(ce={},ue=(1-ue)*re,ne.on("get"+ae,function(se,le,de){ce[se]||(ce[se]="nextTick",Q(function(){var he;ce[se]==="nextTick"&&(delete ce[se],ne.delete(se),ie.async&&(le=U(le),le.push(F)),he=ne.memoized.apply(de,le),ie.promise&&q(he)&&(typeof he.done=="function"?he.done(F,F):he.then(F,F)))}))}))),ne.on("clear"+ae,function(){G(oe,function(se){clearTimeout(se)}),oe={},ce&&(G(ce,function(se){se!=="nextTick"&&clearTimeout(se)}),ce={})}))},maxAge}var max={},lruQueue,hasRequiredLruQueue;function requireLruQueue(){if(hasRequiredLruQueue)return lruQueue;hasRequiredLruQueue=1;var U=toPosInteger,G=Object.create,Q=Object.prototype.hasOwnProperty;return lruQueue=function(q){var W=0,J=1,F=G(null),Y=G(null),X=0,te;return q=U(q),{hit:function(re){var ne=Y[re],ie=++X;if(F[ie]=re,Y[re]=ie,!ne)return++W,W<=q?void 0:(re=F[J],te(re),re);if(delete F[ne],J===ne)for(;!Q.call(F,++J););},delete:te=function(re){var ne=Y[re];if(ne&&(delete F[ne],delete Y[re],--W,J===ne)){if(!W){X=0,J=1;return}for(;!Q.call(F,++J););}},clear:function(){W=0,J=1,F=G(null),Y=G(null),X=0}}},lruQueue}var hasRequiredMax;function requireMax(){if(hasRequiredMax)return max;hasRequiredMax=1;var U=toPosInteger,G=requireLruQueue(),Q=registeredExtensions;return Q.max=function(q,W,J){var F,Y,X;q=U(q),q&&(Y=G(q),F=J.async&&Q.async||J.promise&&Q.promise?"async":"",W.on("set"+F,X=function(te){te=Y.hit(te),te!==void 0&&W.delete(te)}),W.on("get"+F,X),W.on("delete"+F,Y.delete),W.on("clear"+F,Y.clear))},max}var refCounter={},hasRequiredRefCounter;function requireRefCounter(){if(hasRequiredRefCounter)return refCounter;hasRequiredRefCounter=1;var U=dExports,G=registeredExtensions,Q=Object.create,q=Object.defineProperties;return G.refCounter=function(W,J,F){var Y,X;Y=Q(null),X=F.async&&G.async||F.promise&&G.promise?"async":"",J.on("set"+X,function(te,re){Y[te]=re||1}),J.on("get"+X,function(te){++Y[te]}),J.on("delete"+X,function(te){delete Y[te]}),J.on("clear"+X,function(){Y={}}),q(J.memoized,{deleteRef:U(function(){var te=J.get(arguments);return te===null||!Y[te]?null:--Y[te]?!1:(J.delete(te),!0)}),getRefCount:U(function(){var te=J.get(arguments);return te===null||!Y[te]?0:Y[te]})})},refCounter}var normalizeOpts=normalizeOptions,resolveLength=resolveLength$2,plain=plain$1,memoizee=function(U){var G=normalizeOpts(arguments[1]),Q;return G.normalizer||(Q=G.length=resolveLength(G.length,U.length,G.async),Q!==0&&(G.primitive?Q===!1?G.normalizer=requirePrimitive():Q>1&&(G.normalizer=requireGetPrimitiveFixed()(Q)):Q===!1?G.normalizer=requireGet()():Q===1?G.normalizer=requireGet1()():G.normalizer=requireGetFixed()(Q))),G.async&&requireAsync(),G.promise&&requirePromise(),G.dispose&&requireDispose(),G.maxAge&&requireMaxAge(),G.max&&requireMax(),G.refCounter&&requireRefCounter(),plain(U,G)};const memoize$1=getDefaultExportFromCjs(memoizee),matcapUrl="data:image/png;base64,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";var hue;function s$5(U,G,Q){return Math.min(Math.max(U||0,G),Q)}function h$3(U){return{r:s$5(U.r,0,255),g:s$5(U.g,0,255),b:s$5(U.b,0,255),a:s$5(U.a,0,1)}}function x$2(U){return{r:255*U.r,g:255*U.g,b:255*U.b,a:U.a}}function O(U){return{r:U.r/255,g:U.g/255,b:U.b/255,a:U.a}}function I$1(U,G){G===void 0&&(G=0);var Q=Math.pow(10,G);return{r:Math.round(U.r*Q)/Q,g:Math.round(U.g*Q)/Q,b:Math.round(U.b*Q)/Q,a:U.a}}function M$2(U,G,Q,q,W,J){return(1-G/Q)*q+G/Q*Math.round((1-U)*W+U*J)}function m$2(U,G,Q,q,W){W===void 0&&(W={unitInput:!1,unitOutput:!1,roundOutput:!0}),W.unitInput&&(U=x$2(U),G=x$2(G)),U=h$3(U);var J=(G=h$3(G)).a+U.a-G.a*U.a,F=Q(U,G,q),Y=h$3({r:M$2(U.a,G.a,J,U.r,G.r,F.r),g:M$2(U.a,G.a,J,U.g,G.g,F.g),b:M$2(U.a,G.a,J,U.b,G.b,F.b),a:J});return W.unitOutput?O(Y):W.roundOutput?I$1(Y):I$1(Y,9)}function d$3(U,G,Q){return x$2(Q(O(U),O(G)))}function l$4(U){return .3*U.r+.59*U.g+.11*U.b}function v$2(U,G){var Q=G-l$4(U);return function(q){var W=l$4(q),J=q.r,F=q.g,Y=q.b,X=Math.min(J,F,Y),te=Math.max(J,F,Y);function re(ie){return W+(ie-W)*W/(W-X)}function ne(ie){return W+(ie-W)*(1-W)/(te-W)}return X<0&&(J=re(J),F=re(F),Y=re(Y)),te>1&&(J=ne(J),F=ne(F),Y=ne(Y)),{r:J,g:F,b:Y}}({r:U.r+Q,g:U.g+Q,b:U.b+Q})}function y$2(U){return Math.max(U.r,U.g,U.b)-Math.min(U.r,U.g,U.b)}function L$1(U,G){var Q=["r","g","b"].sort(function(Y,X){return U[Y]-U[X]}),q=Q[0],W=Q[1],J=Q[2],F={r:U.r,g:U.g,b:U.b};return F[J]>F[q]?(F[W]=(F[W]-F[q])*G/(F[J]-F[q]),F[J]=G):F[W]=F[J]=0,F[q]=0,F}function k$2(U,G){return v$2(L$1(G,y$2(U)),l$4(U))}hue=function(U,G){return m$2(U,G,d$3,k$2,{unitInput:!0,unitOutput:!0})};var r$3={grad:.9,turn:360,rad:360/(2*Math.PI)},t$2=function(U){return typeof U=="string"?U.length>0:typeof U=="number"},n$5=function(U,G,Q){return G===void 0&&(G=0),Q===void 0&&(Q=Math.pow(10,G)),Math.round(Q*U)/Q+0},e$3=function(U,G,Q){return G===void 0&&(G=0),Q===void 0&&(Q=1),U>Q?Q:U>G?U:G},u$2=function(U){return(U=isFinite(U)?U%360:0)>0?U:U+360},a$2=function(U){return{r:e$3(U.r,0,255),g:e$3(U.g,0,255),b:e$3(U.b,0,255),a:e$3(U.a)}},o$4=function(U){return{r:n$5(U.r),g:n$5(U.g),b:n$5(U.b),a:n$5(U.a,3)}},i$1=/^#([0-9a-f]{3,8})$/i,s$4=function(U){var G=U.toString(16);return G.length<2?"0"+G:G},h$2=function(U){var G=U.r,Q=U.g,q=U.b,W=U.a,J=Math.max(G,Q,q),F=J-Math.min(G,Q,q),Y=F?J===G?(Q-q)/F:J===Q?2+(q-G)/F:4+(G-Q)/F:0;return{h:60*(Y<0?Y+6:Y),s:J?F/J*100:0,v:J/255*100,a:W}},b=function(U){var G=U.h,Q=U.s,q=U.v,W=U.a;G=G/360*6,Q/=100,q/=100;var J=Math.floor(G),F=q*(1-Q),Y=q*(1-(G-J)*Q),X=q*(1-(1-G+J)*Q),te=J%6;return{r:255*[q,Y,F,F,X,q][te],g:255*[X,q,q,Y,F,F][te],b:255*[F,F,X,q,q,Y][te],a:W}},g$1=function(U){return{h:u$2(U.h),s:e$3(U.s,0,100),l:e$3(U.l,0,100),a:e$3(U.a)}},d$2=function(U){return{h:n$5(U.h),s:n$5(U.s),l:n$5(U.l),a:n$5(U.a,3)}},f$1=function(U){return b((Q=(G=U).s,{h:G.h,s:(Q*=((q=G.l)<50?q:100-q)/100)>0?2*Q/(q+Q)*100:0,v:q+Q,a:G.a}));var G,Q,q},c$2=function(U){return{h:(G=h$2(U)).h,s:(W=(200-(Q=G.s))*(q=G.v)/100)>0&&W<200?Q*q/100/(W<=100?W:200-W)*100:0,l:W/2,a:G.a};var G,Q,q,W},l$3=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$1={string:[[function(U){var G=i$1.exec(U);return G?(U=G[1]).length<=4?{r:parseInt(U[0]+U[0],16),g:parseInt(U[1]+U[1],16),b:parseInt(U[2]+U[2],16),a:U.length===4?n$5(parseInt(U[3]+U[3],16)/255,2):1}:U.length===6||U.length===8?{r:parseInt(U.substr(0,2),16),g:parseInt(U.substr(2,2),16),b:parseInt(U.substr(4,2),16),a:U.length===8?n$5(parseInt(U.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(U){var G=v$1.exec(U)||m$1.exec(U);return G?G[2]!==G[4]||G[4]!==G[6]?null:a$2({r:Number(G[1])/(G[2]?100/255:1),g:Number(G[3])/(G[4]?100/255:1),b:Number(G[5])/(G[6]?100/255:1),a:G[7]===void 0?1:Number(G[7])/(G[8]?100:1)}):null},"rgb"],[function(U){var G=l$3.exec(U)||p$1.exec(U);if(!G)return null;var Q,q,W=g$1({h:(Q=G[1],q=G[2],q===void 0&&(q="deg"),Number(Q)*(r$3[q]||1)),s:Number(G[3]),l:Number(G[4]),a:G[5]===void 0?1:Number(G[5])/(G[6]?100:1)});return f$1(W)},"hsl"]],object:[[function(U){var G=U.r,Q=U.g,q=U.b,W=U.a,J=W===void 0?1:W;return t$2(G)&&t$2(Q)&&t$2(q)?a$2({r:Number(G),g:Number(Q),b:Number(q),a:Number(J)}):null},"rgb"],[function(U){var G=U.h,Q=U.s,q=U.l,W=U.a,J=W===void 0?1:W;if(!t$2(G)||!t$2(Q)||!t$2(q))return null;var F=g$1({h:Number(G),s:Number(Q),l:Number(q),a:Number(J)});return f$1(F)},"hsl"],[function(U){var G=U.h,Q=U.s,q=U.v,W=U.a,J=W===void 0?1:W;if(!t$2(G)||!t$2(Q)||!t$2(q))return null;var F=function(Y){return{h:u$2(Y.h),s:e$3(Y.s,0,100),v:e$3(Y.v,0,100),a:e$3(Y.a)}}({h:Number(G),s:Number(Q),v:Number(q),a:Number(J)});return b(F)},"hsv"]]},N$1=function(U,G){for(var Q=0;Q<G.length;Q++){var q=G[Q][0](U);if(q)return[q,G[Q][1]]}return[null,void 0]},x$1=function(U){return typeof U=="string"?N$1(U.trim(),y$1.string):typeof U=="object"&&U!==null?N$1(U,y$1.object):[null,void 0]},M$1=function(U,G){var Q=c$2(U);return{h:Q.h,s:e$3(Q.s+100*G,0,100),l:Q.l,a:Q.a}},H$1=function(U){return(299*U.r+587*U.g+114*U.b)/1e3/255},$$1=function(U,G){var Q=c$2(U);return{h:Q.h,s:Q.s,l:e$3(Q.l+100*G,0,100),a:Q.a}},j=function(){function U(G){this.parsed=x$1(G)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return U.prototype.isValid=function(){return this.parsed!==null},U.prototype.brightness=function(){return n$5(H$1(this.rgba),2)},U.prototype.isDark=function(){return H$1(this.rgba)<.5},U.prototype.isLight=function(){return H$1(this.rgba)>=.5},U.prototype.toHex=function(){return G=o$4(this.rgba),Q=G.r,q=G.g,W=G.b,F=(J=G.a)<1?s$4(n$5(255*J)):"","#"+s$4(Q)+s$4(q)+s$4(W)+F;var G,Q,q,W,J,F},U.prototype.toRgb=function(){return o$4(this.rgba)},U.prototype.toRgbString=function(){return G=o$4(this.rgba),Q=G.r,q=G.g,W=G.b,(J=G.a)<1?"rgba("+Q+", "+q+", "+W+", "+J+")":"rgb("+Q+", "+q+", "+W+")";var G,Q,q,W,J},U.prototype.toHsl=function(){return d$2(c$2(this.rgba))},U.prototype.toHslString=function(){return G=d$2(c$2(this.rgba)),Q=G.h,q=G.s,W=G.l,(J=G.a)<1?"hsla("+Q+", "+q+"%, "+W+"%, "+J+")":"hsl("+Q+", "+q+"%, "+W+"%)";var G,Q,q,W,J},U.prototype.toHsv=function(){return G=h$2(this.rgba),{h:n$5(G.h),s:n$5(G.s),v:n$5(G.v),a:n$5(G.a,3)};var G},U.prototype.invert=function(){return w$1({r:255-(G=this.rgba).r,g:255-G.g,b:255-G.b,a:G.a});var G},U.prototype.saturate=function(G){return G===void 0&&(G=.1),w$1(M$1(this.rgba,G))},U.prototype.desaturate=function(G){return G===void 0&&(G=.1),w$1(M$1(this.rgba,-G))},U.prototype.grayscale=function(){return w$1(M$1(this.rgba,-1))},U.prototype.lighten=function(G){return G===void 0&&(G=.1),w$1($$1(this.rgba,G))},U.prototype.darken=function(G){return G===void 0&&(G=.1),w$1($$1(this.rgba,-G))},U.prototype.rotate=function(G){return G===void 0&&(G=15),this.hue(this.hue()+G)},U.prototype.alpha=function(G){return typeof G=="number"?w$1({r:(Q=this.rgba).r,g:Q.g,b:Q.b,a:G}):n$5(this.rgba.a,3);var Q},U.prototype.hue=function(G){var Q=c$2(this.rgba);return typeof G=="number"?w$1({h:G,s:Q.s,l:Q.l,a:Q.a}):n$5(Q.h)},U.prototype.isEqual=function(G){return this.toHex()===w$1(G).toHex()},U}(),w$1=function(U){return U instanceof j?U:new j(U)},S$2=[],k$1=function(U){U.forEach(function(G){S$2.indexOf(G)<0&&(G(j,y$1),S$2.push(G))})};function namesPlugin(U,G){var Q={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},q={};for(var W in Q)q[Q[W]]=W;var J={};U.prototype.toName=function(F){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var Y,X,te=q[this.toHex()];if(te)return te;if(F!=null&&F.closest){var re=this.toRgb(),ne=1/0,ie="black";if(!J.length)for(var oe in Q)J[oe]=new U(Q[oe]).toRgb();for(var ae in Q){var ue=(Y=re,X=J[ae],Math.pow(Y.r-X.r,2)+Math.pow(Y.g-X.g,2)+Math.pow(Y.b-X.b,2));ue<ne&&(ne=ue,ie=ae)}return ie}},G.string.push([function(F){var Y=F.toLowerCase(),X=Y==="transparent"?"#0000":Q[Y];return X?new U(X).toRgb():null},"name"])}const defaultColorMap=({color:U})=>U,getDefaultColors=(U,G=identity$2)=>{const{nodes:Q,links:q}=U;return new Float32Array(Q.map(defaultColorMap).flatMap(G))},defaultSizeMap=({size:U})=>U,getDefaultSizes=(U,G=identity$2)=>{const{nodes:Q,links:q}=U;return new Float32Array(Q.map(defaultSizeMap).map(G))},applyVisuals=async(U,{colorMap:G=identity$2,sizeMap:Q=identity$2,immediate:q=!1}={})=>{await getGraphData(U);const W=await getDefaultColors(await getGraphData(U),G),J=await getDefaultSizes(await getGraphData(U),Q),F=graphBuffers(U);F.setNodeProperties("colorTarget","vec4",W),F.setNodeProperties("sizeTarget","float",J),F.setNodeProperties("emphasisTarget","float",new Float32Array(J.length).fill(0)),q&&(F.setNodeProperties("colorInitial","vec4",W),F.setNodeProperties("sizeInitial","float",J),F.setNodeProperties("emphasisInitial","float",new Float32Array(J.length).fill(0)))},applyVisualsToNode=async(U,G,{colorMap:Q=identity$2,sizeMap:q=identity$2,emphasis:W=0,immediate:J=!1}={})=>{const F=Q(defaultColorMap(G)),Y=q(defaultSizeMap(G)),X=graphBuffers(U);X.setNodeProperty("colorTarget",G.index,F),X.setNodeProperty("sizeTarget",G.index,Y),X.setNodeProperty("emphasisTarget",G.index,W),J&&(X.setNodeProperty("colorInitial",G.index,F),X.setNodeProperty("sizeInitial",G.index,Y),X.setNodeProperty("emphasisInitial",G.index,W))},initializationVisualMaps={colorMap:U=>{const G=U.slice(0,3).reduce((Q,q)=>Q+q,0)/3;return[...U.slice(0,3).map(Q=>G),.5]},sizeMap:U=>U},initializeSelectionVisuals=async(U,G=!1)=>{try{await applyVisuals(U,{...initializationVisualMaps,immediate:G})}catch(Q){console.error(Q)}},selectNodeAndDownstreamDependents=async(U,G,Q=!0)=>{if(await graphDBPrepared(U).get(),G){setSelectedIndex(U,G.index),getNodePosition(U,G);const q=directDownstreamQuery(G.id),W=directUpstreamQuery(G.id),{nodesById:J,links:F}=await getGraphData(U),Y=({sizeMap:X=identity$2,emphasis:te=1,colorMap:re=identity$2})=>(ne,ie)=>{ie(["upstream","downstream"]).then(({upstream:oe,downstream:ae})=>{const ue=(oe==null?void 0:oe.value)||(ae==null?void 0:ae.value),ce=J[ue];applyVisualsToNode(U,ce,{sizeMap:X,emphasis:te,colorMap:re})})};initializeSelectionVisuals(U).then(()=>{graphDb(U).doQuery(q,proxy(Y({colorMap:X=>{const te={r:X[0],g:X[1],b:X[2],a:X[3]},re={r:57/255,g:179/255,b:83/255,a:.8},ne=hue(te,re);return[ne.r,ne.g,ne.b,ne.a]}}))),applyVisualsToNode(U,G,{sizeMap:X=>X*1.5,emphasis:1}),graphDb(U).doQuery(W,proxy(Y({colorMap:X=>{const te={r:X[0],g:X[1],b:X[2],a:X[3]},re={r:0,g:102/255,b:209/255,a:.8},ne=hue(te,re);return[ne.r,ne.g,ne.b,ne.a]}})))})}else applyVisuals(U),setSelectedIndex(U,-1)},doFocus=async U=>{const G=await getGraphData(U),{nodesByNavId:Q}=G,q=getComponent(U).focus,W=Q[q];if(W){const J=getNodePosition(U,W);setCameraCenter(U,J,!1)}},startFocus=async U=>{const G=await getGraphData(U),{nodesByNavId:Q}=G,q=getComponent(U),W=q.focus,J=Q[W];if(J){const F=getNodePosition(U,J);setCameraCenter(U,F,!0),setCameraDistance(U,q.focusedZoom||500)}else setCameraDistance(U,q.unfocusedZoom||1500)};window.initializeSelectionVisuals=initializeSelectionVisuals;const getSelectedIndex=U=>state(U,"selectedIndex",()=>-1).get(),setSelectedIndex=(U,G)=>{state(U,"selectedIndex").set(G)},getSelectedNode=async U=>{const G=getSelectedIndex(U),{nodes:Q}=await getGraphData(U);return Q[G]};k$1([namesPlugin]);let getSelectedColor,defaultProperties,getPropertyKeys,getProperties,getUniforms,viewport,updateUniforms,bump,scaleAdjustment,graphNodeGeometryComputerFn,computeFog$1,desaturate,instanceIdToColor,graphNodeMaterials,getEdgeAttributes,edgeGeometry,graphEdgeMaterial,computeFog,wave,getNodeMesh,getNodeVisualizerMesh,getShapeGeo,setNodeGeometry,updateAllNodeMeshVertexArrays,updateNodeMeshVertexArray,getEdgeVisualizerMesh,getCurrentPickerMesh,initializeNodeGeometry,getRenderer,getThreeSetup,getPickerRenderTarget,getNodeDepthRenderTarget,colorHash,graphBuffers,setGraphData,getGraphData,randomNode,randomEdge,graphDBPrepared,prepareGraphDBWorker;getSelectedColor=U=>{const G=getComponent(U),Q=w$1(getComputedStyle(G).getPropertyValue("--selected-color")).toRgb();return[Q.r/255,Q.g/255,Q.b/255,1]},defaultProperties={globalScale:1,nodeScale:1,edgeFog:1,nodeFog:1,edgeScale:1,edgeOvershoot:1.25,edgeFrequency:2,edgePulseSpeed:1,edgeWaveSpeed:1,focus:-1,selected:-1,defaultFogVisibility:.3,defaultFogBoundaryClipZ:700,focusedZoom:100,unfocusedZoom:300,zoomBoundary:150,nodeShape:"box"},getPropertyKeys=U=>Object.keys(getComponent(U).constructor.properties),getProperties=moize.infinite(U=>{const G=getComponent(U);return Object.fromEntries(getPropertyKeys(U).map(Q=>[Q,G[Q]]))}),getUniforms=moize.infinite(U=>{const G={mousePosition:uniform(new Vector2(...getPointerPositionClip(U))),selectedIndex:uniform(-1),selectedColor:uniform(new Vector4(...getSelectedColor(U))),hoveringIndex:uniform(getCurrentlyHoveringIndex(U)),viewport:uniform(new Vector2(0,0)),devicePixelRatio:uniform(window.devicePixelRatio),time:uniform(performance.now()/1e3)},Q=getProperties(U);return Object.entries(Q).forEach(([q,W])=>{G[q]=uniform(W)}),console.debug("initialized uniforms",G),G}),viewport=new Vector2,updateUniforms=U=>{const{renderer:G}=getThreeSetup(U);G.getSize(viewport);let Q=getUniforms(U);Q.mousePosition.value=new Vector2(...getPointerPositionClip(U)),Q.selectedIndex.value=getSelectedIndex(U),Q.selectedColor.value=new Vector4(...getSelectedColor(U)),Q.hoveringIndex.value=getCurrentlyHoveringIndex(U),Q.time.value=performance.now()/1e3,Q.viewport.value=viewport.toArray();const q=getProperties(U);Object.entries(q).forEach(([W,J])=>{Q[W].value=J})},bump=(U,G,Q)=>{const q=clamp(U.div(Q),-.5,.5),W=oneMinus(pow(oneMinus(pow(q.mul(2),2)),-1));return pow(exp(W),G)},scaleAdjustment=float(.15),graphNodeGeometryComputerFn=(U,{nodePosition:G,scale:Q})=>{const{globalProjection:q,globalView:W,zoomedProjection:J,zoomedView:F,fixedProjection:Y,fixedView:X,distance:te,center:re,rotationCenter:ne}=getCamerasUniforms(U),{globalScale:ie,nodeScale:oe}=getUniforms(U),ae=q.mul(W).mul(vec4(G,float(1))),ue=ae.xyz.div(ae.w),ce=positionGeometry.mul(Q).mul(ie.value).mul(oe.value),se=Y.mul(X.mul(vec4(ce,float(1)))),le=se.xyz.div(se.w),de=J.mul(F.mul(vec4(ce,float(1)))),he=de.xyz.div(de.w),pe=mix(he,le,float(.5)),ge=vec3(pe.x.add(ue.x),pe.y.add(ue.y),ue.z.add(pe.z.sub(float(.99)).mul(float(.1)))),be=vec4(ge.mul(ae.w),ae.w);return{globalNDC:ue,globalClipPosition:ae,orthoFixedClipPosition:se,orthoZoomedClipPosition:de,orthographicClipPosition:be}},computeFog$1=({positionClipZ:U,fogBoundaryClipZ:G,distance:Q})=>{const q=float(1).sub(bump(U,float(1),G));return mix(q,float(0),smoothstep(float(400),float(800),Q))},desaturate=(U,G)=>{const Q=U.r.add(U.g).add(U.b).div(3);return mix(U,Q.toVec3(),G)},instanceIdToColor=U=>{const G=U.add(1).bitAnd(255).toFloat().div(255),Q=U.add(1).bitAnd(65280).shiftRight(8).toFloat().div(255),q=U.add(1).bitAnd(16711680).shiftRight(16).toFloat().div(255);return vec4(G,Q,q,1)},graphNodeMaterials=U=>{const G=instanceIndex,{fixedProjection:Q,fixedView:q,distance:W}=getCamerasUniforms(U),{selectedIndex:J,selectedColor:F,defaultFogBoundaryClipZ:Y,nodeFog:X}=getUniforms(U),te=graphBuffers(U),re=te.getNodeProperties("positionInitial"),ne=te.getNodeProperties("positionTarget"),ie=re.element(G).sub(ne.element(G).mul(0));te.getNodeProperties("colorInitial");const oe=te.getNodeProperties("colorTarget");oe.element(G).sub(oe.element(G).mul(0));const ae=te.getNodeProperties("sizeInitial"),ue=te.getNodeProperties("sizeTarget"),ce=ae.element(G).sub(ue.element(G).mul(0)),se=te.getNodeProperties("emphasisInitial"),le=te.getNodeProperties("emphasisTarget"),de=se.element(G).sub(le.element(G).mul(0)),he=J.greaterThan(-1).not().select(oneMinus(de),de),pe=te.getNodeProperties("colorTarget"),ge=G.equal(J),be=ce.mul(scaleAdjustment).mul(mix(.5,1,de)),ve=max$1$1(be.mul(1.1),.05),Ee=graphNodeGeometryComputerFn(U,{nodePosition:ie,scale:be}),ke=graphNodeGeometryComputerFn(U,{nodePosition:ie,scale:ve});vec4(ke.orthographicClipPosition.xyz,ke.orthographicClipPosition.w.mul(1.01)),q.mul(Q).mul(normalLocal).normalize();let Pe=pe.element(G);re.element(J),length(re.element(G));let Te=min$1(computeFog$1({positionClipZ:Ee.globalClipPosition.z,fogBoundaryClipZ:Y,distance:W}),oneMinus(ge.toFloat()));Te=min$1(Te,oneMinus(he)),Te=mix(0,Te,X);let xe=Pe.w;xe=mix(.1,1,he);let Ne=Pe.xyz.mul(mix(1,.5,Te));Ne=desaturate(Ne,max$1$1(oneMinus(.2).mul(Te),oneMinus(he))),Pe=vec4(Ne,xe);const Se=mix(Pe,F,ge.toFloat()),Ge=new TextureLoader().load(matcapUrl);return{graphNodeMaterial:new MeshMatcapNodeMaterial({vertexNode:Ee.orthographicClipPosition,matcap:Ge,colorNode:Se,transparent:!0}),graphNodePickerMaterial:new MeshBasicNodeMaterial({vertexNode:ke.orthographicClipPosition,colorNode:instanceIdToColor(G),depthWrite:!0})}},getEdgeAttributes=U=>{const G=graphBuffers(U),Q=instanceIndex,q=G.getEdgePairs("positionInitial"),W=G.getEdgePairs("positionTarget"),J=G.getEdgePairs("sizeInitial"),F=G.getEdgePairs("sizeTarget"),Y=G.getEdgePairs("colorInitial"),X=G.getEdgePairs("colorTarget");G.getEdgePairs("emphasisInitial");const te=G.getEdgePairs("emphasisTarget");return{sourcePosition:q.source.element(Q).add(W.source.element(Q).mul(0)).toVar("srcPosition"),targetPosition:q.target.element(Q).add(W.target.element(Q).mul(0)).toVar("tgtPosition"),sourceColor:Y.source.element(Q).sub(X.source.element(Q).mul(0)).toVar("srcColor"),targetColor:Y.target.element(Q).sub(X.target.element(Q).mul(0)).toVar("tgtColor"),sourceSize:J.source.element(Q).sub(F.source.element(Q).mul(0)).mul(scaleAdjustment).toVar("srcSize"),targetSize:J.target.element(Q).sub(F.target.element(Q).mul(0)).mul(scaleAdjustment).toVar("tgtSize"),sourceEmphasis:te.source.element(Q).x.toVar("srcEmphasis"),targetEmphasis:te.target.element(Q).y.toVar("tgtEmphasis"),edgeIndices:G.getEdgeIndices().element(Q).toVar("edgeIndices")}},edgeGeometry=({nodePosition:U,vertexPosition:G,edgeDirection:Q,scale:q,flatness:W,globalView:J,globalProjection:F,globalScale:Y,edgeScale:X})=>{const te=normalize$2(Q),re=vec2(te.y.negate(),te.x).toVar("edgePerpendicular").mul(q).mul(Y).mul(X).div(3),ne=F.toVar("projection").mul(J.toVar("view")).mul(vec4(U,1)).toVar("position"),ie=ne.div(ne.w),oe=vec4(ne.xy.add(G.y.mul(re)),ne.zw),ae=ie.add(vec4(G.y.mul(re),0,0)).mul(ne.w);return mix(oe,ae,W)},graphEdgeMaterial=U=>{const{globalProjection:G,globalView:Q,distance:q}=getCamerasUniforms(U),{selectedIndex:W,selectedColor:J,mousePosition:F,hoveringIndex:Y,edgeFrequency:X,edgePulseSpeed:te,edgeWaveSpeed:re,time:ne,devicePixelRatio:ie,nodeDepthTexture:oe,globalScale:ae,edgeScale:ue,edgeOvershoot:ce,defaultFogBoundaryClipZ:se,edgeFog:le,selectedEdgeColor:de}=getUniforms(U),he=attribute("segmentOffset","vec3");let{sourcePosition:pe,targetPosition:ge,sourceColor:be,targetColor:ve,sourceSize:Ee,targetSize:ke,sourceEmphasis:Pe,targetEmphasis:Te,edgeIndices:xe}=getEdgeAttributes(U);const Ne=vec3(he.y.mul(ce),he.x,he.z).add(vec3(ce.mul(.5),0,0)).toVar("segmentPosition"),Se=Ne.x.toVar("isSource"),Ge=oneMinus(Se).toVar("isTarget"),Ce=Ne.toVar("vertexOffset"),ze=pe.mul(Se).add(ge.mul(Ge)).toVar("nodePosition"),Ve=G.toVar("projection").mul(Q.toVar("view")).mul(vec4(pe,1)).toVar("sourcePositionClip"),Ke=G.toVar("projection").mul(Q.toVar("view")).mul(vec4(ge,1)).toVar("targetPositionClip"),Ze=normalize$2(Ke.xyz.div(Ke.w).sub(Ve.xyz.div(Ve.w))).xy.toVar("edgeDirection"),et=Ee.mul(Se).add(ke.mul(Ge)).mul(.4).toVar("size"),ot=float(1).toVar("flatness"),nt=edgeGeometry({nodePosition:ze,vertexPosition:Ce,edgeDirection:Ze,scale:et,flatness:ot,globalView:Q,globalProjection:G,globalScale:ae,edgeScale:ue}).toVar("positionClip");let dt=be.mul(Se).add(ve.mul(Ge)).toVar("color");const Fe=xe.x,Xe=xe.y,pt=equal$1(W,Fe).toFloat(),yt=equal$1(W,Xe).toFloat(),vt=pt.mul(Se).add(yt.mul(Ge));max$1$1(pt,yt).toFloat();const mt=float(greaterThan(W,-1)).toVar("isAnySelected"),Tt=max$1$1(Pe,Te).toVar("emphasis"),we=vt;let Re=dt.xyz,_e=float(1);_e=_e.mul(mix(.4,1,mix(1,Tt,mt))),_e=_e.mul(mix(1,mix(.3,1,Tt),smoothstep(400,1200,q))),dt=vec4(Re,_e);const Me=computeFog(nt.z,se.div(2)).toVar("fog"),Ie=varying(dt);varying(Me),varying(Tt),varying(et),varying(Ge);const De=varying(Ve.xy.div(Ve.w).toVar("sourcePosition2DNDC")),qe=Ke.xy.div(Ke.w).toVar("targetPosition2DNDC"),Le=varying(De.reflect(vec2(0,1)).add(vec2(1,1)).mul(.5).mul(viewportSize)),Qe=varying(qe.reflect(vec2(0,1)).add(vec2(1,1)).mul(.5).mul(viewportSize)),We=varying(length(ge.sub(pe))),$e=varying(length(Qe.sub(Le)));varying(Ce.y);const Ye=varying(Ne.y),rt=()=>{const at=distance(Le,screenCoordinate).div($e),me=Ge;let fe=Ie,ye=fe.w.mul(mix(bump(Ye,float(2).mul(oneMinus(Me)),1),1,Me));getEdgeAttributes(U);const Ae=$e.mul(X).mul(.1),Be=float(4).mul(re).div($e),He=wave(at.sub(ne.mul(Be)),Ae),Je=We.div(4).mul(X),st=float(20).div(We).mul(te),ut=clamp(pow(wave(at.sub(ne.mul(st)),1),$e.div(2)),0,1);let ft=fe.xyz;ft=mix(fe.xyz,vec3(1,1,0),mix(0,ut,.1)),ye=fe.w.mul(mix(1,He,oneMinus(ut))),ye=ye.mul(bump(Ye,1,ut.mul(mix(.2,.4,Tt)).mul(wave(me,Je)).add(.6))),ye=ye.mul(mix(.4,1,we)),ye=ye.mul(bump(me.sub(.5),2,ce));const At=distance(screenCoordinate,Le),bt=float(100);return smoothstep(bt,float(0),At),ft=mix(ft,J.xyz,vt),vec4(ft,ye)};return new MeshBasicNodeMaterial({vertexNode:nt,colorNode:rt(),depthTest:!1,transparent:!0})},computeFog=(U,G)=>smoothstep(0,1,U.sub(G).div(G)),wave=(U,G)=>pow(sin(U.mul(G).mul(Math.PI)),2),getNodeMesh=memoize$1((U,G)=>{const Q=new InstancedBufferGeometry,q=new Mesh(Q,G);return setNodeGeometry(U,q),q}),getNodeVisualizerMesh=memoize$1(U=>{const{graphNodeMaterial:G,graphNodePickerMaterial:Q}=graphNodeMaterials(U),q=new InstancedBufferGeometry,W=new Mesh(q,G),J=getComponent(U)._nodeGeometryBuffer||getShapeGeo("box");setNodeGeometry(J,W);const F=new Mesh(q,Q);return{mesh:W,pickerMesh:F}},{dispose:function(U,G,Q){console.debug("dispose node visualizer mesh",U)}}),getShapeGeo=U=>{let G;try{return U=="sphere"?G=new SphereGeometry(1,32,32):U=="cone"?G=new ConeGeometry(1,2,128):U=="icosahedron"?G=new IcosahedronGeometry(1.5,0):U==="box"?G=new BoxGeometry(1,1,1):U==="torusKnot"&&(G=new TorusKnotGeometry(1,.3,128,64,2,3)),G.computeVertexNormals(),G.computeBoundingSphere(),G}catch(Q){return console.warn("Error setting node geometry:",Q),null}},setNodeGeometry=(U,G)=>{G.geometry.setAttribute("position",U.attributes.position),G.geometry.setAttribute("normal",U.attributes.normal),G.geometry.setIndex(U.index),G.material.needsUpdate=!0},updateAllNodeMeshVertexArrays=(U,G)=>{const{scene:Q}=getThreeSetup(U);Q.nodeMeshes.forEach(W=>{updateNodeMeshVertexArray(G,W)});const q=getCurrentPickerMesh(U);updateNodeMeshVertexArray(G,q)},updateNodeMeshVertexArray=(U,G)=>{G.geometry.instanceCount=U},getEdgeVisualizerMesh=moize.infinite(U=>{const G=new CylinderGeometry(.5,.5,1,4,4,!0),Q=new InstancedBufferGeometry;return Q.setAttribute("segmentOffset",G.attributes.position),Q.setIndex(G.index),new Mesh(Q,graphEdgeMaterial(U))}),getCurrentPickerMesh=U=>{const{pickerScene:G}=getThreeSetup(U);return G.children[0]},initializeNodeGeometry=memoize$1(async U=>{const{nodes:G}=await getGraphData(U),{scene:Q,pickerScene:q,renderer:W,camera:J}=getThreeSetup(U),{graphNodeMaterial:F,graphNodePickerMaterial:Y}=graphNodeMaterials(U),X=getComponent(U)._nodeGeometryBuffer||getShapeGeo("box"),te=getNodeMesh(X,F);updateNodeMeshVertexArray(G.length,te),te.material.needsUpdate=!0;const re=Array.from(Q.nodeMeshes);for(await W.compileAsync(Q,J,te),Q.nodeMeshes.add(te),Q.add(te),re.forEach(oe=>{Q.remove(oe),Q.nodeMeshes.delete(oe)});q.children.length>0;)q.remove(q.children[0]);te.geometry.computeBoundingSphere();const ne=new IcosahedronGeometry(te.geometry.boundingSphere.radius,1),ie=new Mesh(new InstancedBufferGeometry,Y);setNodeGeometry(ne,ie),ie.material.needsUpdate=!0,updateNodeMeshVertexArray(G.length,ie),await W.compileAsync(ie,J),await q.add(ie)}),getRenderer=moize.infinite(U=>{const{canvas:G}=getCanvasAndGLContext(U),Q=new WebGPURenderer({canvas:G,forceWebGL:!0});return Q.setClearColor(new Color("#000000"),0),Q.setSize(window.innerWidth,window.innerHeight),Q.setPixelRatio(window.devicePixelRatio),Q}),getThreeSetup=memoize$1(U=>{const G=new Scene,Q=new Scene,q=new Scene,W=new Scene;W.add(q),W.add(G);const J=new PerspectiveCamera(75,window.innerWidth/window.innerHeight,.5,1e3);J.position.z=10;const F=new DirectionalLight(16777215,2);G.add(F);const Y=getRenderer(U),X=getEdgeVisualizerMesh(U);G.add(X);const te=getNodeVisualizerMesh(U).mesh;G.add(te),G.nodeMeshes=new Set([te]);const re=getNodeVisualizerMesh(U).pickerMesh;return q.add(re),{scene:G,depthScene:Q,pickerScene:q,camera:J,renderer:Y,nodeVisualizerMesh:te,edgeVisualizerMesh:X,nodePickerMesh:re,debugPickerScene:W}},{}),getPickerRenderTarget=moize.infinite(U=>{const{canvas:G}=getCanvasAndGLContext(U);return new WebGLRenderTarget(G.width,G.height,{stencilBuffer:!1})}),getNodeDepthRenderTarget=moize.infinite(U=>{const{canvas:G}=getCanvasAndGLContext(U);return new WebGLRenderTarget(G.width,G.height,{depthTexture:new DepthTexture(G.width,G.height),depthBuffer:!0,stencilBuffer:!1})}),colorHash=new ColorHash({saturation:.7,lightness:.6}),makeNavId=U=>U.replace(/^(https?:\/\/)?(www\.)?([a-z0-9-]+\.)+[a-z0-9-]+/i,"").replace(/\/$/,"").replace(/^\//,"").replace(/[^A-Za-z0-9\.]/gi,"-").replace(/-+/g,"-").replace(/^package-/,"").replace(/-v-/,"-"),graphBuffers=moize.infinite(U=>{const G=graphBufferState(U);return window.bufferState=G,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"emphasis",type:"float"},{name:"size",type:"float"}].forEach(({name:Q,type:q})=>{const W=new Float32Array(0),J=new Float32Array(0);G.setNodeProperties(`${Q}Initial`,q,W),G.setNodeProperties(`${Q}Target`,q,J)}),G}),setGraphData=async(U,G,Q=!0)=>{const{set:q}=asyncState(U,"graphData");q(G),(await getLayoutSimulator(U,G)).setData(G);const{nodes:W,linkIndexPairs:J}=G,F=graphBuffers(U),Y=Q?F.getNodeCount():0;Q&&F.getEdgeCount(),F.setNodeCount(W.length),F.setEdges(J);const X=40,te=()=>[Math.random()*X-X/2,Math.random()*X-X/2,Math.random()*X-X/2],re=new Float32Array(W.length*3);if(Q){const ae=F.getNodeProperties("positionTarget","vec3").value.array;re.set(ae.subarray(0,Y*3));for(let ue=Y;ue<W.length;ue++){const ce=te();re.set(ce,ue*3)}}else for(let ae=0;ae<W.length;ae++){const ue=te();re.set(ue,ae*3)}F.setNodeProperties("positionInitial","vec3",re),F.setNodeProperties("positionTarget","vec3",re);const ne=new Float32Array(W.length*4);if(Q){const ae=F.getNodeProperties("colorTarget","vec4").value.array;ne.set(ae.subarray(0,Y*4));for(let ue=Y;ue<W.length;ue++)ne.set(W[ue].color,ue*4)}else for(let ae=0;ae<W.length;ae++)ne.set(W[ae].color,ae*4);F.setNodeProperties("colorInitial","vec4",ne),F.setNodeProperties("colorTarget","vec4",ne);const ie=new Float32Array(W.length);if(Q){const ae=F.getNodeProperties("sizeTarget","float").value.array;ie.set(ae.subarray(0,Y));for(let ue=Y;ue<W.length;ue++)ie[ue]=W[ue].size}else for(let ae=0;ae<W.length;ae++)ie[ae]=W[ae].size;F.setNodeProperties("sizeInitial","float",ie),F.setNodeProperties("sizeTarget","float",ie);const oe=new Float32Array(W.length);if(Q){const ae=F.getNodeProperties("emphasisTarget","float").value.array;oe.set(ae.subarray(0,Y)),oe.fill(0,Y)}else oe.fill(0);F.setNodeProperties("emphasisTarget","float",oe),updateAllNodeMeshVertexArrays(U,W.length),getEdgeVisualizerMesh(U).geometry.instanceCount=J.length,prepareGraphDBWorker(U,G)},getGraphData=async U=>await asyncState(U,"graphData").get(),randomNode=U=>({index:U,id:`node://${U}`,size:1,color:[...colorHash.rgb(String(U)).map(G=>G/255),1],navId:makeNavId(`node-${U}`)}),randomEdge=U=>()=>{const G=Math.floor(Math.random()*U.length),Q=Math.floor(Math.random()*U.length);return{sourceIndex:G,targetIndex:Q,source:U[G],target:U[Q]}},randomGraphData=(U,G,Q=0)=>{const q=[...Array(U).keys()].map(X=>X+Q).map(randomNode),W=[...Array(G).keys()].map(randomEdge(q)),J=W.map(({sourceIndex:X,targetIndex:te})=>[X,te]),F=fromPairs(q.map(X=>[X.navId,X])),Y=fromPairs(q.map(X=>[X.id,X]));return{nodes:q,links:W,linkIndexPairs:J,nodesByNavId:F,nodesById:Y}},dataFromGraph=({nodes:U,links:G})=>{const Q=U.map(({id:Y},X)=>({index:X,id:`node://${Y}`,size:1,color:[...colorHash.rgb(String(Y)).map(te=>te/255),1],navId:makeNavId(`node-${Y}`)})),q=G.map(Y=>{const X=Q.findIndex(re=>re.id===`node://${Y.source}`),te=Q.findIndex(re=>re.id===`node://${Y.target}`);return{sourceIndex:X,targetIndex:te,source:Q[X],target:Q[te]}}),W=q.map(({sourceIndex:Y,targetIndex:X})=>[Y,X]),J=fromPairs(Q.map(Y=>[Y.navId,Y])),F=fromPairs(Q.map(Y=>[Y.id,Y]));return{nodes:Q,links:q,linkIndexPairs:W,nodesByNavId:J,nodesById:F}},graphDBPrepared=U=>asyncState(U,"graphDbPrepared"),prepareGraphDBWorker=async(U,G)=>{const{set:Q}=asyncState(U,"graphDbPrepared"),q=await graphDb(U).buildGraph(G);return Q(!0),q};let engine;const getLayoutSimulator=moize.infinite(async(U,G)=>{const Q=(await graphLayout(U)).D3ForceLayout;return engine=await new Q(G),engine.start(),engine},{onExpire:()=>{engine.stop()},transformArgs:([U,G])=>[U]}),getLatestTargetPositions=U=>graphBuffers(U).getNodeProperties("positionTarget","vec3").value.array,updateNodePositionTargets=async U=>{const G=await getGraphData(U);(await getLayoutSimulator(U,G)).getPositions(proxy(Q=>{Q.length>0&&graphBuffers(U).setNodeProperties("positionTarget","vec3",Q)}))},getNodePosition=(U,G)=>{const Q=getLatestTargetPositions(U)?getLatestTargetPositions(U):[],q=G.index;return[Q[q*3],Q[q*3+1],Q[q*3+2]]};var t$1;const i=window,s$3=i.trustedTypes,e$2=s$3?s$3.createPolicy("lit-html",{createHTML:U=>U}):void 0,o$3="$lit$",n$4=`lit$${(Math.random()+"").slice(9)}$`,l$2="?"+n$4,h$1=`<${l$2}>`,r$2=document,u$1=()=>r$2.createComment(""),d$1=U=>U===null||typeof U!="object"&&typeof U!="function",c$1=Array.isArray,v=U=>c$1(U)||typeof(U==null?void 0:U[Symbol.iterator])=="function",a$1=`[ 	
\f\r]`,f=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,_=/-->/g,m=/>/g,p=RegExp(`>|${a$1}(?:([^\\s"'>=/]+)(${a$1}*=${a$1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),g=/'/g,$=/"/g,y=/^(?:script|style|textarea|title)$/i,w=U=>(G,...Q)=>({_$litType$:U,strings:G,values:Q}),x=w(1),T=Symbol.for("lit-noChange"),A=Symbol.for("lit-nothing"),E=new WeakMap,C=r$2.createTreeWalker(r$2,129,null,!1);function P(U,G){if(!Array.isArray(U)||!U.hasOwnProperty("raw"))throw Error("invalid template strings array");return e$2!==void 0?e$2.createHTML(G):G}const V=(U,G)=>{const Q=U.length-1,q=[];let W,J=G===2?"<svg>":"",F=f;for(let Y=0;Y<Q;Y++){const X=U[Y];let te,re,ne=-1,ie=0;for(;ie<X.length&&(F.lastIndex=ie,re=F.exec(X),re!==null);)ie=F.lastIndex,F===f?re[1]==="!--"?F=_:re[1]!==void 0?F=m:re[2]!==void 0?(y.test(re[2])&&(W=RegExp("</"+re[2],"g")),F=p):re[3]!==void 0&&(F=p):F===p?re[0]===">"?(F=W??f,ne=-1):re[1]===void 0?ne=-2:(ne=F.lastIndex-re[2].length,te=re[1],F=re[3]===void 0?p:re[3]==='"'?$:g):F===$||F===g?F=p:F===_||F===m?F=f:(F=p,W=void 0);const oe=F===p&&U[Y+1].startsWith("/>")?" ":"";J+=F===f?X+h$1:ne>=0?(q.push(te),X.slice(0,ne)+o$3+X.slice(ne)+n$4+oe):X+n$4+(ne===-2?(q.push(void 0),Y):oe)}return[P(U,J+(U[Q]||"<?>")+(G===2?"</svg>":"")),q]};class N{constructor({strings:G,_$litType$:Q},q){let W;this.parts=[];let J=0,F=0;const Y=G.length-1,X=this.parts,[te,re]=V(G,Q);if(this.el=N.createElement(te,q),C.currentNode=this.el.content,Q===2){const ne=this.el.content,ie=ne.firstChild;ie.remove(),ne.append(...ie.childNodes)}for(;(W=C.nextNode())!==null&&X.length<Y;){if(W.nodeType===1){if(W.hasAttributes()){const ne=[];for(const ie of W.getAttributeNames())if(ie.endsWith(o$3)||ie.startsWith(n$4)){const oe=re[F++];if(ne.push(ie),oe!==void 0){const ae=W.getAttribute(oe.toLowerCase()+o$3).split(n$4),ue=/([.?@])?(.*)/.exec(oe);X.push({type:1,index:J,name:ue[2],strings:ae,ctor:ue[1]==="."?H:ue[1]==="?"?L:ue[1]==="@"?z:k})}else X.push({type:6,index:J})}for(const ie of ne)W.removeAttribute(ie)}if(y.test(W.tagName)){const ne=W.textContent.split(n$4),ie=ne.length-1;if(ie>0){W.textContent=s$3?s$3.emptyScript:"";for(let oe=0;oe<ie;oe++)W.append(ne[oe],u$1()),C.nextNode(),X.push({type:2,index:++J});W.append(ne[ie],u$1())}}}else if(W.nodeType===8)if(W.data===l$2)X.push({type:2,index:J});else{let ne=-1;for(;(ne=W.data.indexOf(n$4,ne+1))!==-1;)X.push({type:7,index:J}),ne+=n$4.length-1}J++}}static createElement(G,Q){const q=r$2.createElement("template");return q.innerHTML=G,q}}function S$1(U,G,Q=U,q){var W,J,F,Y;if(G===T)return G;let X=q!==void 0?(W=Q._$Co)===null||W===void 0?void 0:W[q]:Q._$Cl;const te=d$1(G)?void 0:G._$litDirective$;return(X==null?void 0:X.constructor)!==te&&((J=X==null?void 0:X._$AO)===null||J===void 0||J.call(X,!1),te===void 0?X=void 0:(X=new te(U),X._$AT(U,Q,q)),q!==void 0?((F=(Y=Q)._$Co)!==null&&F!==void 0?F:Y._$Co=[])[q]=X:Q._$Cl=X),X!==void 0&&(G=S$1(U,X._$AS(U,G.values),X,q)),G}class M{constructor(G,Q){this._$AV=[],this._$AN=void 0,this._$AD=G,this._$AM=Q}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(G){var Q;const{el:{content:q},parts:W}=this._$AD,J=((Q=G==null?void 0:G.creationScope)!==null&&Q!==void 0?Q:r$2).importNode(q,!0);C.currentNode=J;let F=C.nextNode(),Y=0,X=0,te=W[0];for(;te!==void 0;){if(Y===te.index){let re;te.type===2?re=new R(F,F.nextSibling,this,G):te.type===1?re=new te.ctor(F,te.name,te.strings,this,G):te.type===6&&(re=new Z(F,this,G)),this._$AV.push(re),te=W[++X]}Y!==(te==null?void 0:te.index)&&(F=C.nextNode(),Y++)}return C.currentNode=r$2,J}v(G){let Q=0;for(const q of this._$AV)q!==void 0&&(q.strings!==void 0?(q._$AI(G,q,Q),Q+=q.strings.length-2):q._$AI(G[Q])),Q++}}class R{constructor(G,Q,q,W){var J;this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=G,this._$AB=Q,this._$AM=q,this.options=W,this._$Cp=(J=W==null?void 0:W.isConnected)===null||J===void 0||J}get _$AU(){var G,Q;return(Q=(G=this._$AM)===null||G===void 0?void 0:G._$AU)!==null&&Q!==void 0?Q:this._$Cp}get parentNode(){let G=this._$AA.parentNode;const Q=this._$AM;return Q!==void 0&&(G==null?void 0:G.nodeType)===11&&(G=Q.parentNode),G}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(G,Q=this){G=S$1(this,G,Q),d$1(G)?G===A||G==null||G===""?(this._$AH!==A&&this._$AR(),this._$AH=A):G!==this._$AH&&G!==T&&this._(G):G._$litType$!==void 0?this.g(G):G.nodeType!==void 0?this.$(G):v(G)?this.T(G):this._(G)}k(G){return this._$AA.parentNode.insertBefore(G,this._$AB)}$(G){this._$AH!==G&&(this._$AR(),this._$AH=this.k(G))}_(G){this._$AH!==A&&d$1(this._$AH)?this._$AA.nextSibling.data=G:this.$(r$2.createTextNode(G)),this._$AH=G}g(G){var Q;const{values:q,_$litType$:W}=G,J=typeof W=="number"?this._$AC(G):(W.el===void 0&&(W.el=N.createElement(P(W.h,W.h[0]),this.options)),W);if(((Q=this._$AH)===null||Q===void 0?void 0:Q._$AD)===J)this._$AH.v(q);else{const F=new M(J,this),Y=F.u(this.options);F.v(q),this.$(Y),this._$AH=F}}_$AC(G){let Q=E.get(G.strings);return Q===void 0&&E.set(G.strings,Q=new N(G)),Q}T(G){c$1(this._$AH)||(this._$AH=[],this._$AR());const Q=this._$AH;let q,W=0;for(const J of G)W===Q.length?Q.push(q=new R(this.k(u$1()),this.k(u$1()),this,this.options)):q=Q[W],q._$AI(J),W++;W<Q.length&&(this._$AR(q&&q._$AB.nextSibling,W),Q.length=W)}_$AR(G=this._$AA.nextSibling,Q){var q;for((q=this._$AP)===null||q===void 0||q.call(this,!1,!0,Q);G&&G!==this._$AB;){const W=G.nextSibling;G.remove(),G=W}}setConnected(G){var Q;this._$AM===void 0&&(this._$Cp=G,(Q=this._$AP)===null||Q===void 0||Q.call(this,G))}}class k{constructor(G,Q,q,W,J){this.type=1,this._$AH=A,this._$AN=void 0,this.element=G,this.name=Q,this._$AM=W,this.options=J,q.length>2||q[0]!==""||q[1]!==""?(this._$AH=Array(q.length-1).fill(new String),this.strings=q):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(G,Q=this,q,W){const J=this.strings;let F=!1;if(J===void 0)G=S$1(this,G,Q,0),F=!d$1(G)||G!==this._$AH&&G!==T,F&&(this._$AH=G);else{const Y=G;let X,te;for(G=J[0],X=0;X<J.length-1;X++)te=S$1(this,Y[q+X],Q,X),te===T&&(te=this._$AH[X]),F||(F=!d$1(te)||te!==this._$AH[X]),te===A?G=A:G!==A&&(G+=(te??"")+J[X+1]),this._$AH[X]=te}F&&!W&&this.j(G)}j(G){G===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,G??"")}}class H extends k{constructor(){super(...arguments),this.type=3}j(G){this.element[this.name]=G===A?void 0:G}}const I=s$3?s$3.emptyScript:"";class L extends k{constructor(){super(...arguments),this.type=4}j(G){G&&G!==A?this.element.setAttribute(this.name,I):this.element.removeAttribute(this.name)}}class z extends k{constructor(G,Q,q,W,J){super(G,Q,q,W,J),this.type=5}_$AI(G,Q=this){var q;if((G=(q=S$1(this,G,Q,0))!==null&&q!==void 0?q:A)===T)return;const W=this._$AH,J=G===A&&W!==A||G.capture!==W.capture||G.once!==W.once||G.passive!==W.passive,F=G!==A&&(W===A||J);J&&this.element.removeEventListener(this.name,this,W),F&&this.element.addEventListener(this.name,this,G),this._$AH=G}handleEvent(G){var Q,q;typeof this._$AH=="function"?this._$AH.call((q=(Q=this.options)===null||Q===void 0?void 0:Q.host)!==null&&q!==void 0?q:this.element,G):this._$AH.handleEvent(G)}}class Z{constructor(G,Q,q){this.element=G,this.type=6,this._$AN=void 0,this._$AM=Q,this.options=q}get _$AU(){return this._$AM._$AU}_$AI(G){S$1(this,G)}}const B=i.litHtmlPolyfillSupport;B==null||B(N,R),((t$1=i.litHtmlVersions)!==null&&t$1!==void 0?t$1:i.litHtmlVersions=[]).push("2.8.0");const D=(U,G,Q)=>{var q,W;const J=(q=Q==null?void 0:Q.renderBefore)!==null&&q!==void 0?q:G;let F=J._$litPart$;if(F===void 0){const Y=(W=Q==null?void 0:Q.renderBefore)!==null&&W!==void 0?W:null;J._$litPart$=F=new R(G.insertBefore(u$1(),Y),Y,void 0,Q??{})}return F._$AI(U),F},normalizedEventCoordinates=(U,G)=>{const{canvas:Q}=getCanvasAndGLContext(U),q=Q.getBoundingClientRect(),W=(G.clientX-q.left)/q.width,J=(G.clientY-q.top)/q.height;return{x:W*2-1,y:-(J*2-1)}},globalCamera=(U,...G)=>graphCameraAnimation(U).getGlobalCamera(U,...G),updateCameras=(U,...G)=>graphCameraAnimation(U).updateCameras(U,...G),getGlobalCameraParams=(U,...G)=>graphCameraAnimation(U).getGlobalCameraParams(U,...G),setCameraCenter=(U,...G)=>graphCameraAnimation(U).setCameraCenter(U,...G),setCameraDistance=(U,...G)=>graphCameraAnimation(U).setCameraDistance(U,...G),zoomGlobalCamera=(U,...G)=>graphCameraAnimation(U).zoomGlobalCamera(U,...G),panGlobalCamera=(U,...G)=>graphCameraAnimation(U).panGlobalCamera(U,...G),startZooming=(U,...G)=>graphCameraAnimation(U).startZooming(U,...G),stopZooming=(U,...G)=>graphCameraAnimation(U).stopZooming(U,...G),startPanning=(U,...G)=>graphCameraAnimation(U).startPanning(U,...G),stopPanning=(U,...G)=>graphCameraAnimation(U).stopPanning(U,...G),computeScreenPosition=(U,...G)=>graphCameraAnimation(U).computeScreenPosition(U,...G),deviceHasMouse=()=>window.matchMedia("(pointer:fine)").matches,zoomingStopped=async U=>{const G=getComponent(U);stopZooming(U);const Q=getSelectedIndex(U),q=(await getGlobalCameraParams(U)).distance;Q>-1?(G.focusedZoom=Math.min(q,G.zoomBoundary),console.debug("setting selected zoom",G.focusedZoom)):(G.unfocusedZoom=Math.max(q,G.zoomBoundary),console.debug("setting deselected zoom",G.unfocusedZoom))},getPointerPositionInfo=U=>state(U,"pointerPositionInfo",()=>({x:0,y:0,canvasX:0,canvasY:0,pickerX:0,pickerY:0})).get(),pickedColor=new Uint8Array(4).fill(0);let countLastDragEvents=0,cumulativeDragDistance=0;const incrementDragEvents=()=>{countLastDragEvents++},notifyTapped=async(U,G)=>{const{nodes:Q}=await getGraphData(U),q=Q[G];getComponent(U).dispatchEvent(new CustomEvent("tap",{detail:{tappedIndex:G,info:q}}))},getPointerPositionClip=U=>[getPointerPositionInfo(U).x,getPointerPositionInfo(U).y],getPointerPositionPicker=U=>[getPointerPositionInfo(U).pickerX,getPointerPositionInfo(U).pickerY],collectPointerPositionInfo=curry((U,{x:G,y:Q})=>{const{canvas:q}=getCanvasAndGLContext(U),W=getPointerPositionInfo(U);W.x=G,W.y=Q,W.canvasX=(G+1)/2*q.width,W.canvasY=(Q+1)/2*q.height;const J=window.devicePixelRatio||1;W.pickerX=Math.floor(W.canvasX/J),W.pickerY=Math.floor(W.canvasY/J)}),getCurrentlyHoveringIndex=U=>state(U,"currentlyHoveringIndex",()=>-1).get(),getCurrentlyHoveringNode=async U=>{const{nodes:G}=await getGraphData(U),Q=getCurrentlyHoveringIndex(U);return G[Q]},setupSelection=moize.infinite(U=>{const G=U.context,{canvas:Q}=getCanvasAndGLContext(G);interactionEvents(Q).on("touchmove",collectPointerPositionInfo(G)).on("mousemove",collectPointerPositionInfo(G)),interactionEvents(Q).on("mousemove",()=>{}),interactionEvents(Q).on("touchmove",incrementDragEvents).on("pinchmove",incrementDragEvents).on("mousemove",incrementDragEvents),Q.addEventListener("pointerdown",async q=>{console.debug("pointer down");const W=async([Y,X])=>{console.debug("pointer clickHandler",Y,X);const te=cumulativeDragDistance>.03||countLastDragEvents>5;if(console.debug("was drag",te,cumulativeDragDistance,countLastDragEvents),!te){const re=getCurrentlyHoveringIndex(G);notifyTapped(G,re).catch(ne=>{console.error("Error in notifyTapped:",ne)})}},J=new Promise((Y,X)=>{Q.addEventListener("pointerup",Y,{once:!0}),setTimeout(()=>X("pointer event timed out after 100ms"),200)});countLastDragEvents=0,cumulativeDragDistance=0;const F=[J];deviceHasMouse()&&F.push(getNextHoverOnUpdate(G)),Promise.all(F).then(W).catch(Y=>console.debug(Y)),setTimeout(()=>{cumulativeDragDistance>.03||countLastDragEvents>5||updatePickerColor(G)()},5),collectPointerPositionInfo(G,normalizedEventCoordinates(G,q))}),Q.addEventListener("selected",q=>{}),Q.addEventListener("hover",async q=>{const{nodes:W}=await getGraphData(G),J=q.detail.wasHoveredIndex;J>-1&&W[J];const F=q.detail.nowHoveredIndex,Y=F>-1?W[F]:null;getSelectedIndex(G)>-1&&W[getSelectedIndex(G)],Y?state(G,"currentlyHoveringIndex").set((Y==null?void 0:Y.index)!=null?Y.index:-1):state(G,"currentlyHoveringIndex").set(-1)})}),radiansPerHalfScreenWidth=Math.PI/3,setupCameraInteraction=U=>{const{canvas:G}=getCanvasAndGLContext(U);G.addEventListener("wheel",Q=>{const q=Math.exp(Q.deltaY/G.clientHeight*2)-1,W=Math.sign(q);startZooming(U),zoomGlobalCamera(U,0,0,W*Math.min(Math.abs(q),.06)),Q.preventDefault(),zoomingStopped(U)},{passive:!1}),interactionEvents(G).on("mousemove",function(Q){!Q.active||Q.buttons!==1||(cumulativeDragDistance+=Math.sqrt(Math.pow(Q.dx,2)+Math.pow(Q.dy,2)),Q.mods.shift?(startPanning(U),panGlobalCamera(U,Q.dx,Q.dy)):Q.mods.meta?globalCamera(U).pivot(Q.dx,Q.dy):(globalCamera(U).rotate(-Q.dx*radiansPerHalfScreenWidth,-Q.dy*radiansPerHalfScreenWidth),stopPanning(U)),Q.originalEvent.preventDefault())}).on("touchmove",function(Q){collectPointerPositionInfo(Q),Q.active&&(cumulativeDragDistance+=Math.sqrt(Math.pow(Q.dx,2)+Math.pow(Q.dy,2)),globalCamera(U).rotate(-Q.dx*radiansPerHalfScreenWidth,-Q.dy*radiansPerHalfScreenWidth))}).on("pinchmove",function(Q){Q.active&&(startPanning(U),startZooming(U),zoomGlobalCamera(U,0,0,1-Q.zoomx),panGlobalCamera(U,Q.dx,Q.dy))}).on("pinchstart",Q=>Q.originalEvent.preventDefault()).on("pinchend",()=>{stopPanning(U),zoomingStopped(U)})},pickerState=moize.infinite(U=>({lastOverIndex:-1,pickerTime:0,pickerSync:null,pickerFailures:0,pickerGuardFailed:!1})),getNodeIndexFromPickerColor=U=>U[0]+U[1]*256+U[2]*256*256-1,checkPickerSync=U=>{const G=pickerState(U),Q=getCanvasAndGLContext(U).gl,q=()=>Q.fenceSync(Q.SYNC_GPU_COMMANDS_COMPLETE,0);return G.pickerSync?(Q==null?void 0:Q.clientWaitSync(G.pickerSync,0,0))===(Q==null?void 0:Q.CONDITION_SATISFIED)?(Q.deleteSync(G.pickerSync),G.pickerSync=q(),!0):!1:(G.pickerSync=q(),!1)},updatePickerColor=moize.infinite(U=>async()=>{const G=pickerState(U),Q=checkPickerSync(U),{canvas:q}=getCanvasAndGLContext(U),W=getCanvasAndGLContext(U).gl;if(G.pickerFailures>10&&(G.pickerGuardFailed=!0,console.warn("picker guard failed")),!Q&&!G.pickerGuardFailed)console.debug("not ready to read picker pixel yet"),G.pickerFailures+=1;else{G.pickerFailures=0;const{renderer:J}=getThreeSetup(U),F=getPointerPositionPicker(U),Y=getPickerRenderTarget(U);F[0]>=0&&F[0]<Y.width&&F[1]>=0&&F[1]<Y.height&&await J.readRenderTargetPixelsAsync(Y,...F,1,1).then(X=>{W.flush();for(let re=0;re<4;re++)pickedColor[re]=X[re];const te=getNodeIndexFromPickerColor(pickedColor);return G.lastOverIndex=te,te}).then(X=>{q.dispatchEvent(new CustomEvent("hover",{detail:{wasHoveredIndex:G.lastOverIndex,nowHoveredIndex:X}})),console.debug("hover",X,G.lastOverIndex),X>-1&&(q.dispatchEvent(new CustomEvent("hoveron",{detail:{wasHoveredIndex:G.lastOverIndex,nowHoveredIndex:X}})),console.debug("hoveron",X,G.lastOverIndex))})}}),updatePickerColorThrottled=U=>throttle(updatePickerColor(U),1e3),getNextHoverOnUpdate=async U=>(console.debug("waiting for hover event"),new Promise(G=>{const Q=getCanvasAndGLContext(U).canvas,q=W=>{console.debug("got hover event",W.detail),G(W.detail)};Q.addEventListener("hover",q,{once:!0})})),makeCursor=moize.deep((U,{classes:G,htmlTemplate:Q,applyScreenPositionStyle:q}={})=>{var re;const W=getComponent(U);q=q||((ne,ie)=>{ie.style.left=`${ne[0]}vw`,ie.style.bottom=`${ne[1]}vh`});const J=document.createElement("div");J==null||J.classList.add("cursor"),G==null||G.forEach(ne=>J==null?void 0:J.classList.add(ne)),(re=W==null?void 0:W.shadowRoot)==null||re.appendChild(J);const F=ne=>{q(ne,J)},Y=ne=>{const ie=[(ne[0]+1)/2*100,(ne[1]+1)/2*100];F(ie)},X=throttle(async ne=>{const ie=getNodePosition(U,ne),oe=await computeScreenPosition(U,ie);Y(oe)},1e3/10),te=throttle(async ne=>{ne?(await X(ne),J.classList.add("focused")):J.classList.remove("focused"),ne&&Q&&D(Q(ne),J)},50);return{element:J,alignToScreenPosition:F,alignToNDCPosition:Y,alignToNode:X,highlightNode:te,destroy:()=>J.remove()}}),selectedCursor=moize.infinite(U=>makeCursor(U,{classes:["selected-cursor"]})),hoveredTooltip=moize.infinite(U=>makeCursor(U,{classes:["hovered-tooltip"],htmlTemplate:G=>{var Q;return x`
      <div class="node-name">${(Q=G.data)==null?void 0:Q.name}</div>
    `},applyScreenPositionStyle(G,Q){Q.style.left=`calc(min(${G[0]}vw, calc(100vw - 15em)))`,Q.style.bottom=`${G[1]}vh`}})),hoveredCursor=moize.infinite(U=>makeCursor(U,{classes:["hovered-cursor"]}));var src={exports:{}};function memoize(U,G){var Q=G&&G.cache?G.cache:cacheDefault,q=G&&G.serializer?G.serializer:serializerDefault,W=G&&G.strategy?G.strategy:strategyDefault;return W(U,{cache:Q,serializer:q})}function isPrimitive(U){return U==null||typeof U=="number"||typeof U=="boolean"}function monadic(U,G,Q,q){var W=isPrimitive(q)?q:Q(q),J=G.get(W);return typeof J>"u"&&(J=U.call(this,q),G.set(W,J)),J}function variadic(U,G,Q){var q=Array.prototype.slice.call(arguments,3),W=Q(q),J=G.get(W);return typeof J>"u"&&(J=U.apply(this,q),G.set(W,J)),J}function assemble(U,G,Q,q,W){return Q.bind(G,U,q,W)}function strategyDefault(U,G){var Q=U.length===1?monadic:variadic;return assemble(U,this,Q,G.cache.create(),G.serializer)}function strategyVariadic(U,G){var Q=variadic;return assemble(U,this,Q,G.cache.create(),G.serializer)}function strategyMonadic(U,G){var Q=monadic;return assemble(U,this,Q,G.cache.create(),G.serializer)}function serializerDefault(){return JSON.stringify(arguments)}function ObjectWithoutPrototypeCache(){this.cache=Object.create(null)}ObjectWithoutPrototypeCache.prototype.has=function(U){return U in this.cache},ObjectWithoutPrototypeCache.prototype.get=function(U){return this.cache[U]},ObjectWithoutPrototypeCache.prototype.set=function(U,G){this.cache[U]=G};var cacheDefault={create:function U(){return new ObjectWithoutPrototypeCache}};src.exports=memoize,src.exports.strategies={variadic:strategyVariadic,monadic:strategyMonadic};var srcExports=src.exports;const fastMemoize=getDefaultExportFromCjs(srcExports),interpolator=fastMemoize((U,G)=>{var W;const Q=Fn(()=>{for(const{current:J,target:F}of G){let Y=J.element(instanceIndex),X=F.element(instanceIndex);Y.assign(Y.add(X.sub(Y).mul(.05)))}}),q=(W=G[0])==null?void 0:W.target.value.count;return Q().compute(q)},{serializer:([U,G])=>{let Q=G;const q=graphBuffers(U);return Q=JSON.stringify(G.flatMap(W=>{var J,F;return[q.getNodeCount(),(J=W==null?void 0:W.target)==null?void 0:J.uuid,q.getEdgeCount(),(F=W==null?void 0:W.current)==null?void 0:F.uuid]})),Q}}),interpolate=async(U,G)=>{const{renderer:Q}=getThreeSetup(U),q=interpolator(U,G);getThreeSetup(U),await Q.computeAsync(q)},doInterpolation=async U=>{const G=graphBuffers(U);Promise.all([interpolate(U,[{current:G.getNodeProperties("positionInitial"),target:G.getNodeProperties("positionTarget")},{current:G.getNodeProperties("sizeInitial"),target:G.getNodeProperties("sizeTarget")}]),interpolate(U,[{current:G.getNodeProperties("emphasisInitial"),target:G.getNodeProperties("emphasisTarget")}]),interpolate(U,[{current:G.getNodeProperties("colorInitial"),target:G.getNodeProperties("colorTarget")}]),interpolate(U,[{current:G.getEdgePairs("positionInitial").source,target:G.getEdgePairs("positionTarget").source},{current:G.getEdgePairs("positionInitial").target,target:G.getEdgePairs("positionTarget").target}]),interpolate(U,[{current:G.getEdgePairs("sizeInitial").source,target:G.getEdgePairs("sizeTarget").source},{current:G.getEdgePairs("sizeInitial").target,target:G.getEdgePairs("sizeTarget").target}]),interpolate(U,[{current:G.getEdgePairs("colorInitial").source,target:G.getEdgePairs("colorTarget").source},{current:G.getEdgePairs("colorInitial").target,target:G.getEdgePairs("colorTarget").target}]),interpolate(U,[{current:G.getEdgePairs("emphasisInitial").source,target:G.getEdgePairs("emphasisTarget").source},{current:G.getEdgePairs("emphasisInitial").target,target:G.getEdgePairs("emphasisTarget").target}])])},togglePickerDebug=U=>state(U,"togglePickerDebug",()=>!1);window.addEventListener("keydown",U=>{U.key,U.key});const getWidthAndHeight=moize.infinite(U=>{const G=getComponent(U),Q=window.devicePixelRatio||1,q=G.clientWidth,W=G.clientHeight,J=Math.floor(q*Q),F=Math.floor(W*Q);return{width:J,height:F,clientWidth:q,clientHeight:W}}),setCanvas=(U,G=null)=>{const{set:Q,get:q}=state(U,"canvas"),W=q();Q(G?W||G:W||document.createElement("canvas"))},getCanvasAndGLContext=moize.infinite(U=>{const G=state(U,"canvas").get(),Q=G.getContext("webgl2",{powerPreference:"high-performance"});return Q?console.debug("WebGL2 initialized"):console.error("WebGL2 failed to initialize"),{canvas:G,gl:Q}}),fillCanvasToWindow=U=>{getCanvasAndGLContext(U);const{renderer:G,camera:Q}=getThreeSetup(U),{width:q,height:W,clientWidth:J,clientHeight:F}=getWidthAndHeight(U);getComponent(U),G.setSize(J,F),Q.aspect=J/F,getPickerRenderTarget(U).setSize(J,F),getNodeDepthRenderTarget(U).setSize(J,F),globalCamera(U).resize(q/W)},initializeRenderer=U=>{getUniforms(U)},animateGraph=async U=>{const G=state(U,"visible").get(),Q=await getLayoutSimulator(U);if(G?Q.start():Q.pause(),G){updateUniforms(U),updateNodePositionTargets(U),getSelectedNode(U).then(ne=>{selectedCursor(U).highlightNode(ne)}),deviceHasMouse()&&getCurrentlyHoveringNode(U).then(ne=>{hoveredTooltip(U).highlightNode(ne),hoveredCursor(U).highlightNode(ne)});const{width:q,height:W}=getWidthAndHeight(U);updateCameras(U,cameraUniformsGroupUpdater(U),q,W),getCanvasAndGLContext(U);const{renderer:J,scene:F,camera:Y,pickerScene:X,debugPickerScene:te}=getThreeSetup(U);doFocus(U),doInterpolation(U);const re=togglePickerDebug(U).get();J.setRenderTarget(null),re?J.render(te,Y):J.render(F,Y),J.setRenderTarget(getPickerRenderTarget(U)),J.render(X,Y),initializeNodeGeometry(U),deviceHasMouse()&&await updatePickerColorThrottled(U)()}requestAnimationFrame(()=>animateGraph(U))};var handlers={},on=(U,G)=>{handlers[U]??(handlers[U]=[]),handlers[U].push(G)},off=(U,G)=>{var Q;(Q=handlers[U])==null||Q.splice(handlers[U].indexOf(G),1)},emit=async(U,G,Q)=>{for(const q of handlers[U]??[])await q(G,Q)},stripTrailingSlash=U=>U.length>1&&U.endsWith("/")?U.slice(0,-1):U,parsePattern=U=>{var G;const Q=(G=U.match(/(:[^/]+)/g))==null?void 0:G.map(q=>q.substring(1));return Q&&{keys:Q,regExp:new RegExp("^"+U.replace(/(:[^/]+)/g,"([^/]+)")+"$")}},getParams=(U,G)=>Object.fromEntries(G.map((Q,q)=>[Q,U[q+1]])),routeDefinitions=[],currentRoute,findDefinition=U=>{for(const G of routeDefinitions){const{pattern:Q,regExp:q,keys:W}=G,J=q?U.match(q):Q==="*"||Q===U;if(J){const F=Array.isArray(J)?getParams(J,W):void 0;return{definition:G,params:F}}}},handleChange=async(U,G)=>{const Q=findDefinition(U),q=!!Q,W=(Q==null?void 0:Q.params)??{},J=currentRoute;currentRoute={path:U,params:W,matches:q,trigger:G},await emit("before-route",currentRoute,J),await(Q==null?void 0:Q.definition.action(W,currentRoute,J)),await emit("route",currentRoute,J)},src_default={get currentRoute(){return currentRoute},on,off,start({handleInitial:U=!0}={}){const G=window.location.hash!=""&&window.location.hash;U&&handleChange(G||window.location.pathname||"/","init"),window.addEventListener("popstate",()=>handleChange(window.location.pathname,"popstate")),window.addEventListener("hashchange",()=>{handleChange(window.location.hash,"hashchange")})},route(U,G){const Q=stripTrailingSlash(U),{regExp:q,keys:W=[]}=parsePattern(U)||{};routeDefinitions.push({pattern:Q,action:G,regExp:q,keys:W})},push(U){window.history.pushState(null,"",stripTrailingSlash(U)),handleChange(U,"push")},replace(U){window.history.replaceState(null,"",stripTrailingSlash(U)),handleChange(U,"replace")}};src_default.route("#-",()=>{console.debug("navigating to nothing")}),src_default.route("#node/:id",async(U,{trigger:G})=>{});const t=window,e$1=t.ShadowRoot&&(t.ShadyCSS===void 0||t.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$2=Symbol(),n$3=new WeakMap;let o$2=class{constructor(U,G,Q){if(this._$cssResult$=!0,Q!==s$2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=U,this.t=G}get styleSheet(){let U=this.o;const G=this.t;if(e$1&&U===void 0){const Q=G!==void 0&&G.length===1;Q&&(U=n$3.get(G)),U===void 0&&((this.o=U=new CSSStyleSheet).replaceSync(this.cssText),Q&&n$3.set(G,U))}return U}toString(){return this.cssText}};const r$1=U=>new o$2(typeof U=="string"?U:U+"",void 0,s$2),S=(U,G)=>{e$1?U.adoptedStyleSheets=G.map(Q=>Q instanceof CSSStyleSheet?Q:Q.styleSheet):G.forEach(Q=>{const q=document.createElement("style"),W=t.litNonce;W!==void 0&&q.setAttribute("nonce",W),q.textContent=Q.cssText,U.appendChild(q)})},c=e$1?U=>U:U=>U instanceof CSSStyleSheet?(G=>{let Q="";for(const q of G.cssRules)Q+=q.cssText;return r$1(Q)})(U):U;var s$1;const e=window,r=e.trustedTypes,h=r?r.emptyScript:"",o$1=e.reactiveElementPolyfillSupport,n$2={toAttribute(U,G){switch(G){case Boolean:U=U?h:null;break;case Object:case Array:U=U==null?U:JSON.stringify(U)}return U},fromAttribute(U,G){let Q=U;switch(G){case Boolean:Q=U!==null;break;case Number:Q=U===null?null:Number(U);break;case Object:case Array:try{Q=JSON.parse(U)}catch{Q=null}}return Q}},a=(U,G)=>G!==U&&(G==G||U==U),l$1={attribute:!0,type:String,converter:n$2,reflect:!1,hasChanged:a},d="finalized";class u extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(G){var Q;this.finalize(),((Q=this.h)!==null&&Q!==void 0?Q:this.h=[]).push(G)}static get observedAttributes(){this.finalize();const G=[];return this.elementProperties.forEach((Q,q)=>{const W=this._$Ep(q,Q);W!==void 0&&(this._$Ev.set(W,q),G.push(W))}),G}static createProperty(G,Q=l$1){if(Q.state&&(Q.attribute=!1),this.finalize(),this.elementProperties.set(G,Q),!Q.noAccessor&&!this.prototype.hasOwnProperty(G)){const q=typeof G=="symbol"?Symbol():"__"+G,W=this.getPropertyDescriptor(G,q,Q);W!==void 0&&Object.defineProperty(this.prototype,G,W)}}static getPropertyDescriptor(G,Q,q){return{get(){return this[Q]},set(W){const J=this[G];this[Q]=W,this.requestUpdate(G,J,q)},configurable:!0,enumerable:!0}}static getPropertyOptions(G){return this.elementProperties.get(G)||l$1}static finalize(){if(this.hasOwnProperty(d))return!1;this[d]=!0;const G=Object.getPrototypeOf(this);if(G.finalize(),G.h!==void 0&&(this.h=[...G.h]),this.elementProperties=new Map(G.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const Q=this.properties,q=[...Object.getOwnPropertyNames(Q),...Object.getOwnPropertySymbols(Q)];for(const W of q)this.createProperty(W,Q[W])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(G){const Q=[];if(Array.isArray(G)){const q=new Set(G.flat(1/0).reverse());for(const W of q)Q.unshift(c(W))}else G!==void 0&&Q.push(c(G));return Q}static _$Ep(G,Q){const q=Q.attribute;return q===!1?void 0:typeof q=="string"?q:typeof G=="string"?G.toLowerCase():void 0}_$Eu(){var G;this._$E_=new Promise(Q=>this.enableUpdating=Q),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(G=this.constructor.h)===null||G===void 0||G.forEach(Q=>Q(this))}addController(G){var Q,q;((Q=this._$ES)!==null&&Q!==void 0?Q:this._$ES=[]).push(G),this.renderRoot!==void 0&&this.isConnected&&((q=G.hostConnected)===null||q===void 0||q.call(G))}removeController(G){var Q;(Q=this._$ES)===null||Q===void 0||Q.splice(this._$ES.indexOf(G)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((G,Q)=>{this.hasOwnProperty(Q)&&(this._$Ei.set(Q,this[Q]),delete this[Q])})}createRenderRoot(){var G;const Q=(G=this.shadowRoot)!==null&&G!==void 0?G:this.attachShadow(this.constructor.shadowRootOptions);return S(Q,this.constructor.elementStyles),Q}connectedCallback(){var G;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(G=this._$ES)===null||G===void 0||G.forEach(Q=>{var q;return(q=Q.hostConnected)===null||q===void 0?void 0:q.call(Q)})}enableUpdating(G){}disconnectedCallback(){var G;(G=this._$ES)===null||G===void 0||G.forEach(Q=>{var q;return(q=Q.hostDisconnected)===null||q===void 0?void 0:q.call(Q)})}attributeChangedCallback(G,Q,q){this._$AK(G,q)}_$EO(G,Q,q=l$1){var W;const J=this.constructor._$Ep(G,q);if(J!==void 0&&q.reflect===!0){const F=(((W=q.converter)===null||W===void 0?void 0:W.toAttribute)!==void 0?q.converter:n$2).toAttribute(Q,q.type);this._$El=G,F==null?this.removeAttribute(J):this.setAttribute(J,F),this._$El=null}}_$AK(G,Q){var q;const W=this.constructor,J=W._$Ev.get(G);if(J!==void 0&&this._$El!==J){const F=W.getPropertyOptions(J),Y=typeof F.converter=="function"?{fromAttribute:F.converter}:((q=F.converter)===null||q===void 0?void 0:q.fromAttribute)!==void 0?F.converter:n$2;this._$El=J,this[J]=Y.fromAttribute(Q,F.type),this._$El=null}}requestUpdate(G,Q,q){let W=!0;G!==void 0&&(((q=q||this.constructor.getPropertyOptions(G)).hasChanged||a)(this[G],Q)?(this._$AL.has(G)||this._$AL.set(G,Q),q.reflect===!0&&this._$El!==G&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(G,q))):W=!1),!this.isUpdatePending&&W&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(Q){Promise.reject(Q)}const G=this.scheduleUpdate();return G!=null&&await G,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var G;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((W,J)=>this[J]=W),this._$Ei=void 0);let Q=!1;const q=this._$AL;try{Q=this.shouldUpdate(q),Q?(this.willUpdate(q),(G=this._$ES)===null||G===void 0||G.forEach(W=>{var J;return(J=W.hostUpdate)===null||J===void 0?void 0:J.call(W)}),this.update(q)):this._$Ek()}catch(W){throw Q=!1,this._$Ek(),W}Q&&this._$AE(q)}willUpdate(G){}_$AE(G){var Q;(Q=this._$ES)===null||Q===void 0||Q.forEach(q=>{var W;return(W=q.hostUpdated)===null||W===void 0?void 0:W.call(q)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(G)),this.updated(G)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(G){return!0}update(G){this._$EC!==void 0&&(this._$EC.forEach((Q,q)=>this._$EO(q,this[q],Q)),this._$EC=void 0),this._$Ek()}updated(G){}firstUpdated(G){}}u[d]=!0,u.elementProperties=new Map,u.elementStyles=[],u.shadowRootOptions={mode:"open"},o$1==null||o$1({ReactiveElement:u}),((s$1=e.reactiveElementVersions)!==null&&s$1!==void 0?s$1:e.reactiveElementVersions=[]).push("1.6.3");var l,o;class s extends u{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var G,Q;const q=super.createRenderRoot();return(G=(Q=this.renderOptions).renderBefore)!==null&&G!==void 0||(Q.renderBefore=q.firstChild),q}update(G){const Q=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(G),this._$Do=D(Q,this.renderRoot,this.renderOptions)}connectedCallback(){var G;super.connectedCallback(),(G=this._$Do)===null||G===void 0||G.setConnected(!0)}disconnectedCallback(){var G;super.disconnectedCallback(),(G=this._$Do)===null||G===void 0||G.setConnected(!1)}render(){return T}}s.finalized=!0,s._$litElement$=!0,(l=globalThis.litElementHydrateSupport)===null||l===void 0||l.call(globalThis,{LitElement:s});const n$1=globalThis.litElementPolyfillSupport;n$1==null||n$1({LitElement:s}),((o=globalThis.litElementVersions)!==null&&o!==void 0?o:globalThis.litElementVersions=[]).push("3.3.3");var n;((n=window.HTMLSlotElement)===null||n===void 0?void 0:n.prototype.assignedElements)!=null,console.warn("The main 'lit-element' module entrypoint is deprecated. Please update your imports to use the 'lit' package: 'lit' and 'lit/decorators.ts' or import from 'lit-element/lit-element.ts'. See https://lit.dev/msg/deprecated-import-path for more information.");const _object_pattern=/^[og]\s*(.+)?/,_material_library_pattern=/^mtllib /,_material_use_pattern=/^usemtl /,_map_use_pattern=/^usemap /,_face_vertex_data_separator_pattern=/\s+/,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_ab=new Vector3,_cb=new Vector3,_color=new Color;function ParserState(){const U={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(G,Q){if(this.object&&this.object.fromDeclaration===!1){this.object.name=G,this.object.fromDeclaration=Q!==!1;return}const q=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:G||"",fromDeclaration:Q!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(W,J){const F=this._finalize(!1);F&&(F.inherited||F.groupCount<=0)&&this.materials.splice(F.index,1);const Y={index:this.materials.length,name:W||"",mtllib:Array.isArray(J)&&J.length>0?J[J.length-1]:"",smooth:F!==void 0?F.smooth:this.smooth,groupStart:F!==void 0?F.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(X){const te={index:typeof X=="number"?X:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return te.clone=this.clone.bind(te),te}};return this.materials.push(Y),Y},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(W){const J=this.currentMaterial();if(J&&J.groupEnd===-1&&(J.groupEnd=this.geometry.vertices.length/3,J.groupCount=J.groupEnd-J.groupStart,J.inherited=!1),W&&this.materials.length>1)for(let F=this.materials.length-1;F>=0;F--)this.materials[F].groupCount<=0&&this.materials.splice(F,1);return W&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),J}},q&&q.name&&typeof q.clone=="function"){const W=q.clone(0);W.inherited=!0,this.object.materials.push(W)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(G,Q){const q=parseInt(G,10);return(q>=0?q-1:q+Q/3)*3},parseNormalIndex:function(G,Q){const q=parseInt(G,10);return(q>=0?q-1:q+Q/3)*3},parseUVIndex:function(G,Q){const q=parseInt(G,10);return(q>=0?q-1:q+Q/2)*2},addVertex:function(G,Q,q){const W=this.vertices,J=this.object.geometry.vertices;J.push(W[G+0],W[G+1],W[G+2]),J.push(W[Q+0],W[Q+1],W[Q+2]),J.push(W[q+0],W[q+1],W[q+2])},addVertexPoint:function(G){const Q=this.vertices;this.object.geometry.vertices.push(Q[G+0],Q[G+1],Q[G+2])},addVertexLine:function(G){const Q=this.vertices;this.object.geometry.vertices.push(Q[G+0],Q[G+1],Q[G+2])},addNormal:function(G,Q,q){const W=this.normals,J=this.object.geometry.normals;J.push(W[G+0],W[G+1],W[G+2]),J.push(W[Q+0],W[Q+1],W[Q+2]),J.push(W[q+0],W[q+1],W[q+2])},addFaceNormal:function(G,Q,q){const W=this.vertices,J=this.object.geometry.normals;_vA.fromArray(W,G),_vB.fromArray(W,Q),_vC.fromArray(W,q),_cb.subVectors(_vC,_vB),_ab.subVectors(_vA,_vB),_cb.cross(_ab),_cb.normalize(),J.push(_cb.x,_cb.y,_cb.z),J.push(_cb.x,_cb.y,_cb.z),J.push(_cb.x,_cb.y,_cb.z)},addColor:function(G,Q,q){const W=this.colors,J=this.object.geometry.colors;W[G]!==void 0&&J.push(W[G+0],W[G+1],W[G+2]),W[Q]!==void 0&&J.push(W[Q+0],W[Q+1],W[Q+2]),W[q]!==void 0&&J.push(W[q+0],W[q+1],W[q+2])},addUV:function(G,Q,q){const W=this.uvs,J=this.object.geometry.uvs;J.push(W[G+0],W[G+1]),J.push(W[Q+0],W[Q+1]),J.push(W[q+0],W[q+1])},addDefaultUV:function(){const G=this.object.geometry.uvs;G.push(0,0),G.push(0,0),G.push(0,0)},addUVLine:function(G){const Q=this.uvs;this.object.geometry.uvs.push(Q[G+0],Q[G+1])},addFace:function(G,Q,q,W,J,F,Y,X,te){const re=this.vertices.length;let ne=this.parseVertexIndex(G,re),ie=this.parseVertexIndex(Q,re),oe=this.parseVertexIndex(q,re);if(this.addVertex(ne,ie,oe),this.addColor(ne,ie,oe),Y!==void 0&&Y!==""){const ae=this.normals.length;ne=this.parseNormalIndex(Y,ae),ie=this.parseNormalIndex(X,ae),oe=this.parseNormalIndex(te,ae),this.addNormal(ne,ie,oe)}else this.addFaceNormal(ne,ie,oe);if(W!==void 0&&W!==""){const ae=this.uvs.length;ne=this.parseUVIndex(W,ae),ie=this.parseUVIndex(J,ae),oe=this.parseUVIndex(F,ae),this.addUV(ne,ie,oe),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(G){this.object.geometry.type="Points";const Q=this.vertices.length;for(let q=0,W=G.length;q<W;q++){const J=this.parseVertexIndex(G[q],Q);this.addVertexPoint(J),this.addColor(J)}},addLineGeometry:function(G,Q){this.object.geometry.type="Line";const q=this.vertices.length,W=this.uvs.length;for(let J=0,F=G.length;J<F;J++)this.addVertexLine(this.parseVertexIndex(G[J],q));for(let J=0,F=Q.length;J<F;J++)this.addUVLine(this.parseUVIndex(Q[J],W))}};return U.startObject("",!1),U}class OBJLoader extends Loader{constructor(G){super(G),this.materials=null}load(G,Q,q,W){const J=this,F=new FileLoader(this.manager);F.setPath(this.path),F.setRequestHeader(this.requestHeader),F.setWithCredentials(this.withCredentials),F.load(G,function(Y){try{Q(J.parse(Y))}catch(X){W?W(X):console.error(X),J.manager.itemError(G)}},q,W)}setMaterials(G){return this.materials=G,this}parse(G){const Q=new ParserState;G.indexOf(`\r
`)!==-1&&(G=G.replace(/\r\n/g,`
`)),G.indexOf(`\\
`)!==-1&&(G=G.replace(/\\\n/g,""));const q=G.split(`
`);let W=[];for(let F=0,Y=q.length;F<Y;F++){const X=q[F].trimStart();if(X.length===0)continue;const te=X.charAt(0);if(te!=="#")if(te==="v"){const re=X.split(_face_vertex_data_separator_pattern);switch(re[0]){case"v":Q.vertices.push(parseFloat(re[1]),parseFloat(re[2]),parseFloat(re[3])),re.length>=7?(_color.setRGB(parseFloat(re[4]),parseFloat(re[5]),parseFloat(re[6]),SRGBColorSpace),Q.colors.push(_color.r,_color.g,_color.b)):Q.colors.push(void 0,void 0,void 0);break;case"vn":Q.normals.push(parseFloat(re[1]),parseFloat(re[2]),parseFloat(re[3]));break;case"vt":Q.uvs.push(parseFloat(re[1]),parseFloat(re[2]));break}}else if(te==="f"){const re=X.slice(1).trim().split(_face_vertex_data_separator_pattern),ne=[];for(let oe=0,ae=re.length;oe<ae;oe++){const ue=re[oe];if(ue.length>0){const ce=ue.split("/");ne.push(ce)}}const ie=ne[0];for(let oe=1,ae=ne.length-1;oe<ae;oe++){const ue=ne[oe],ce=ne[oe+1];Q.addFace(ie[0],ue[0],ce[0],ie[1],ue[1],ce[1],ie[2],ue[2],ce[2])}}else if(te==="l"){const re=X.substring(1).trim().split(" ");let ne=[];const ie=[];if(X.indexOf("/")===-1)ne=re;else for(let oe=0,ae=re.length;oe<ae;oe++){const ue=re[oe].split("/");ue[0]!==""&&ne.push(ue[0]),ue[1]!==""&&ie.push(ue[1])}Q.addLineGeometry(ne,ie)}else if(te==="p"){const re=X.slice(1).trim().split(" ");Q.addPointGeometry(re)}else if((W=_object_pattern.exec(X))!==null){const re=(" "+W[0].slice(1).trim()).slice(1);Q.startObject(re)}else if(_material_use_pattern.test(X))Q.object.startMaterial(X.substring(7).trim(),Q.materialLibraries);else if(_material_library_pattern.test(X))Q.materialLibraries.push(X.substring(7).trim());else if(_map_use_pattern.test(X))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(te==="s"){if(W=X.split(" "),W.length>1){const ne=W[1].trim().toLowerCase();Q.object.smooth=ne!=="0"&&ne!=="off"}else Q.object.smooth=!0;const re=Q.object.currentMaterial();re&&(re.smooth=Q.object.smooth)}else{if(X==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+X+'"')}}Q.finalize();const J=new Group;if(J.materialLibraries=[].concat(Q.materialLibraries),!(Q.objects.length===1&&Q.objects[0].geometry.vertices.length===0))for(let F=0,Y=Q.objects.length;F<Y;F++){const X=Q.objects[F],te=X.geometry,re=X.materials,ne=te.type==="Line",ie=te.type==="Points";let oe=!1;if(te.vertices.length===0)continue;const ae=new BufferGeometry;ae.setAttribute("position",new Float32BufferAttribute(te.vertices,3)),te.normals.length>0&&ae.setAttribute("normal",new Float32BufferAttribute(te.normals,3)),te.colors.length>0&&(oe=!0,ae.setAttribute("color",new Float32BufferAttribute(te.colors,3))),te.hasUVIndices===!0&&ae.setAttribute("uv",new Float32BufferAttribute(te.uvs,2));const ue=[];for(let se=0,le=re.length;se<le;se++){const de=re[se],he=de.name+"_"+de.smooth+"_"+oe;let pe=Q.materials[he];if(this.materials!==null){if(pe=this.materials.create(de.name),ne&&pe&&!(pe instanceof LineBasicMaterial)){const ge=new LineBasicMaterial;Material.prototype.copy.call(ge,pe),ge.color.copy(pe.color),pe=ge}else if(ie&&pe&&!(pe instanceof PointsMaterial)){const ge=new PointsMaterial({size:10,sizeAttenuation:!1});Material.prototype.copy.call(ge,pe),ge.color.copy(pe.color),ge.map=pe.map,pe=ge}}pe===void 0&&(ne?pe=new LineBasicMaterial:ie?pe=new PointsMaterial({size:1,sizeAttenuation:!1}):pe=new MeshPhongMaterial,pe.name=de.name,pe.flatShading=!de.smooth,pe.vertexColors=oe,Q.materials[he]=pe),ue.push(pe)}let ce;if(ue.length>1){for(let se=0,le=re.length;se<le;se++){const de=re[se];ae.addGroup(de.groupStart,de.groupCount,se)}ne?ce=new LineSegments(ae,ue):ie?ce=new Points(ae,ue):ce=new Mesh(ae,ue)}else ne?ce=new LineSegments(ae,ue[0]):ie?ce=new Points(ae,ue[0]):ce=new Mesh(ae,ue[0]);ce.name=X.name,J.add(ce)}else if(Q.vertices.length>0){const F=new PointsMaterial({size:1,sizeAttenuation:!1}),Y=new BufferGeometry;Y.setAttribute("position",new Float32BufferAttribute(Q.vertices,3)),Q.colors.length>0&&Q.colors[0]!==void 0&&(Y.setAttribute("color",new Float32BufferAttribute(Q.colors,3)),F.vertexColors=!0);const X=new Points(Y,F);J.add(X)}return J}}class WebscapeWanderer extends s{constructor(){super();for(const[G,Q]of Object.entries(defaultProperties))this[G]=defaultProperties[G];if(this.context=Symbol(),setComponent(this.context,this),getComponent(this.context)!==this)throw new Error("What the heck");this.resizeObserver=new ResizeObserver(G=>{getWidthAndHeight.clear(this.context),fillCanvasToWindow(this.context)}),this.intersectionObserver=new IntersectionObserver(G=>{const Q=G[0],{set:q,get:W}=state(this.context,"visible");Q.isIntersecting?q(!0):q(!1),console.log("Intersection observer",W())},{root:null,rootMargin:"0px",threshold:.3}),this.onTapHandler=G=>{var Q,q,W,J;this.setAttribute("selected",(q=(Q=G.detail)==null?void 0:Q.info)==null?void 0:q.navId),this.focus=(J=(W=G.detail)==null?void 0:W.info)==null?void 0:J.navId}}static get properties(){return{globalScale:{type:Number,attribute:"global-scale"},nodeScale:{type:Number,attribute:"node-scale"},edgeFog:{type:Number,attribute:"edge-fog"},nodeFog:{type:Number,attribute:"node-fog"},edgeScale:{type:Number,attribute:"edge-scale"},edgeOvershoot:{type:Number,attribute:"edge-overshoot"},edgeFrequency:{type:Number,attribute:"edge-frequency"},edgePulseSpeed:{type:Number,attribute:"edge-pulse-speed"},edgeWaveSpeed:{type:Number,attribute:"edge-wave-speed"},selected:{type:String},focus:{type:String,attribute:!1},focusedZoom:{type:Number},unfocusedZoom:{type:Number},zoomBoundary:{type:Number},defaultFogVisibility:{type:Number,attribute:"default-fog-visibility"},defaultFogBoundaryClipZ:{type:Number,attribute:"default-fog-boundary-clip-z"},nodeShape:{type:String,attribute:"node-shape"},nodeGeometryBuffer:{attribute:!1},graphData:{attribute:!1}}}onTap(G){this.onTapHandler=G}connectedCallback(){var J;super.connectedCallback();const G=this.context,Q=this.shadowRoot,q=document.createElement("style");q.textContent=`
      :host {
        display: block;
        width: 100%;
        height: 100%;
        overflow: hidden;
      }
      canvas {
        max-width: 100%;
        max-height: fit-content;
        display: block;
        touch-action: none;
        background-color: black 0%;
      }
    `,Q.appendChild(q);const W=document.createElement("canvas");Q.appendChild(W),setCanvas(G,W),console.debug("Canvas created and set"),initializeRenderer(G),console.debug("Renderer initialized"),getThreeSetup(G),console.debug("Three.js setup complete"),setupCameraInteraction(G),console.debug("Camera interaction set up"),setupSelection(this),console.debug("Selection setup complete"),(J=document.querySelector("html"))==null||J.classList.add("loading"),console.debug("Added loading class to HTML"),getGraphData(this.context).then(F=>{console.debug("Graph data retrieved",F),document.querySelector("html").classList.remove("loading"),console.debug("Removed loading class from HTML"),animateGraph(this.context),console.debug("Graph animation started"),src_default.start(),console.debug("Navigation started")}),startCameraAnimation(this.context),this.resizeObserver.observe(this),this.intersectionObserver.observe(this),this.addEventListener("tap",F=>{F&&this.onTapHandler(F)})}get visible(){return state(this.context,"visible").get()&&this.isVisible()}disconnectedCallback(){this.resizeObserver.unobserve(this),this.intersectionObserver.unobserve(this)}adoptedCallback(){}updateCommon(G){for(const[Q,q]of G){const W=this[Q];switch(Q){case"graphData":setGraphData(this.context,W),startFocus(this.context);break;case"selected":getGraphData(this.context).then(({nodesByNavId:F})=>{const Y=F[W];selectNodeAndDownstreamDependents(this.context,Y,!0)});break;case"focus":startFocus(this.context);break;case"nodeShape":let J=getShapeGeo(this.nodeShape);if(J)this._nodeGeometryBuffer=J,initializeNodeGeometry.delete(this.context);else try{new OBJLoader().load(this.nodeShape,F=>{var Y;this._nodeGeometryBuffer=(Y=F==null?void 0:F.children[0])==null?void 0:Y.geometry,initializeNodeGeometry.delete(this.context)})}catch(F){console.warn("Failed to load node shape as an obj url",F)}break}}}firstUpdated(G){this.updateCommon(G)}updated(G){this.updateCommon(G)}getNodeFromEvent(G){return null}}startWebscapeWanderer=function(U="webscape-wanderer"){customElements.get(U)||customElements.define(U,WebscapeWanderer)}})();function prepareGraphData(U){const G=new Set,Q=[],q=[];for(const{source:W,target:J,timestamp:F}of U)G.has(W)||(G.add(W),Q.push({id:W})),G.has(J)||(G.add(J),Q.push({id:J})),q.push({source:W,target:J,timestamp:F});return dataFromGraph({nodes:Q,links:q})}function fetchEdgeList(U=5,G=7){return((q,W)=>{const J=Array.from({length:q},()=>crypto.randomUUID()),F=[];for(let Y=0;Y<W;Y++){const X=Math.floor(Math.random()*q);let te;for(te=Math.floor(Math.random()*q);te===X;)te=Math.floor(Math.random()*q);F.push({source:J[X],target:J[te],timestamp:Date.now()-Y*6e4})}return F})(U,G)}document.addEventListener("DOMContentLoaded",()=>{startWebscapeWanderer();const U=document.querySelector("webscape-wanderer"),G=fetchEdgeList(10,20);prepareGraphData(G);const Q=randomGraphData(50,50);U.graphData=Q});export{commonjsGlobal as c,getDefaultExportFromCjs as g};
