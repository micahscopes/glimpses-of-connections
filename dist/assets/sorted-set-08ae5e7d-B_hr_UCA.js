import{c as B,g as D}from"./index-DwzxLtSB.js";function F(c,w){for(var u=0;u<w.length;u++){const o=w[u];if(typeof o!="string"&&!Array.isArray(o)){for(const h in o)if(h!=="default"&&!(h in c)){const d=Object.getOwnPropertyDescriptor(o,h);d&&Object.defineProperty(c,h,d.get?d:{enumerable:!0,get:()=>o[h]})}}}return Object.freeze(Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}))}var j={exports:{}};(function(c,w){(function(u,o){c.exports=o()})(B,function(){class u{constructor(r){if((r==null?void 0:r.strategy)==null)throw"Must pass options.strategy, a strategy";if((r==null?void 0:r.comparator)==null)throw"Must pass options.comparator, a comparator";if((r==null?void 0:r.onInsertConflict)==null)throw"Must pass options.onInsertConflict, a function";this.priv=new r.strategy(r),this.length=0}insert(r){return this.priv.insert(r),this.length+=1,this}remove(r){return this.priv.remove(r),this.length-=1,this}clear(){return this.priv.clear(),this.length=0,this}contains(r){return this.priv.contains(r)}toArray(){return this.priv.toArray()}forEach(r,e){return this.priv.forEachImpl(r,this,e),this}map(r,e){const n=[];return this.forEach(function(i,l,s){return n.push(r.call(e,i,l,s))}),n}filter(r,e){const n=[];return this.forEach(function(i,l,s){if(r.call(e,i,l,s))return n.push(i)}),n}every(r,e){let n=!0;return this.forEach(function(i,l,s){n&&!r.call(e,i,l,s)&&(n=!1)}),n}some(r,e){let n=!1;return this.forEach(function(i,l,s){!n&&r.call(e,i,l,s)&&(n=!0)}),n}findIterator(r){return this.priv.findIterator(r)}beginIterator(){return this.priv.beginIterator()}endIterator(){return this.priv.endIterator()}}class o{constructor(r,e){this.priv=r,this.index=e,this.data=this.priv.data}hasNext(){return this.index<this.data.length}hasPrevious(){return this.index>0}value(){return this.index<this.data.length?this.data[this.index]:null}setValue(r){if(!this.priv.options.allowSetValue)throw"Must set options.allowSetValue";if(!this.hasNext())throw"Cannot set value at end of set";return this.data[this.index]=r}next(){return this.index>=this.data.length?null:new o(this.priv,this.index+1)}previous(){return this.index<=0?null:new o(this.priv,this.index-1)}}const h=(t,r,e)=>{let n=0,i=t.length;for(;n<i;){const l=n+i>>>1;e(t[l],r)<0?n=l+1:i=l}return n};class d{constructor(r){this.options=r,this.onInsertConflict=this.options.onInsertConflict,this.comparator=this.options.comparator,this.data=[]}toArray(){return this.data}insert(r){const e=h(this.data,r,this.comparator);return this.data[e]!==void 0&&this.comparator(this.data[e],r)===0?this.data.splice(e,1,this.onInsertConflict(this.data[e],r)):this.data.splice(e,0,r)}remove(r){const e=h(this.data,r,this.comparator);if(this.comparator(this.data[e],r)!==0)throw"Value not in set";return this.data.splice(e,1)}clear(){return this.data.length=0}contains(r){const e=h(this.data,r,this.comparator);return this.index!==this.data.length&&this.comparator(this.data[e],r)===0}forEachImpl(r,e,n){const i=this.data,l=i.length;for(let s=0;s<l;s++)r.call(n,i[s],s,e)}findIterator(r){const e=h(this.data,r,this.comparator);return new o(this,e)}beginIterator(){return new o(this,0)}endIterator(){return new o(this,this.data.length)}}const R=(t,r)=>{for(;r[t]!==null;){const e=r;r=r[t],r._iteratorParentNode=e}return r},C=(t,r)=>{let e,n;if(r[t]!==null)e=r,r=r[t],r._iteratorParentNode=e,n=t==="left"?"right":"left",r=R(n,r);else{for(;(e=r._iteratorParentNode)!==null&&e[t]===r;)r=e;r=e}return r};class a{constructor(r,e){this.tree=r,this.node=e}next(){if(this.node===null)return null;{const r=C("right",this.node);return new a(this.tree,r)}}previous(){if(this.node===null){if(this.tree.root===null)return null;{this.tree.root._iteratorParentNode=null;const r=R("right",this.tree.root);return new a(this.tree,r)}}else{const r=C("left",this.node);return r===null?null:new a(this.tree,r)}}hasNext(){return this.node!==null}hasPrevious(){return this.previous()!==null}value(){return this.node===null?null:this.node.value}setValue(r){if(!this.tree.options.allowSetValue)throw"Must set options.allowSetValue";if(!this.hasNext())throw"Cannot set value at end of set";return this.node.value=r}}a.find=function(t,r,e){const n=t.root;n!=null&&(n._iteratorParentNode=null);let i=n,l=null;for(;i!==null;){const s=e(r,i.value);if(s===0)break;if(s<0){if(i.left===null)break;l=i,i.left._iteratorParentNode=i,i=i.left}else if(i.right!==null)i.right._iteratorParentNode=i,i=i.right;else{i=l;break}}return new a(t,i)},a.left=t=>{if(t.root===null)return new a(t,null);{t.root._iteratorParentNode=null;const r=R("left",t.root);return new a(t,r)}},a.right=t=>new a(t,null);const v=(t,r)=>{t!==null&&(v(t.left,r),r(t.value),v(t.right,r))};class b{toArray(){const r=[];return v(this.root,function(e){return r.push(e)}),r}clear(){return this.root=null}forEachImpl(r,e,n){let i=0;v(this.root,function(l){r.call(n,l,i,e),i+=1})}contains(r){const e=this.comparator;let n=this.root;for(;n!==null;){const i=e(r,n.value);if(i===0)break;i<0?n=n.left:n=n.right}return n!==null&&e(n.value,r)===0}findIterator(r){return a.find(this,r,this.comparator)}beginIterator(){return a.left(this)}endIterator(){return a.right(this)}}class P{constructor(r){this.value=r,this.left=null,this.right=null}}const _=(t,r)=>{for(;t[r]!==null;)t=t[r];return t},m=(t,r,e)=>{if(t===null)throw"Value not in set";const n=e(r,t.value);if(n<0)t.left=m(t.left,r,e);else if(n>0)t.right=m(t.right,r,e);else if(t.left===null&&t.right===null)t=null;else if(t.right===null)t=t.left;else if(t.left===null)t=t.right;else{const i=_(t.right,"left");t.value=i.value,t.right=m(t.right,i.value,e)}return t};class k extends b{constructor(r){super(),this.options=r,this.comparator=this.options.comparator,this.onInsertConflict=this.options.onInsertConflict,this.root=null}insert(r){const e=this.comparator;if(this.root!==null){let n=this.root,i=null;for(;;){const l=e(r,n.value);if(l===0){n.value=this.onInsertConflict(n.value,r);return}else{if(i=l<0?"left":"right",n[i]===null)break;n=n[i]}}return n[i]=new P(r)}else return this.root=new P(r)}remove(r){return this.root=m(this.root,r,this.comparator)}}class M{constructor(r){this.value=r,this.left=null,this.right=null,this.isRed=!0}}const I=t=>{const r=t.right;return t.right=r.left,r.left=t,r.isRed=t.isRed,t.isRed=!0,r},g=t=>{const r=t.left;return t.left=r.right,r.right=t,r.isRed=t.isRed,t.isRed=!0,r},f=t=>{t.isRed=!t.isRed,t.left.isRed=!t.left.isRed,t.right.isRed=!t.right.isRed},N=t=>(f(t),t.right!==null&&t.right.left!==null&&t.right.left.isRed&&(t.right=g(t.right),t=I(t),f(t)),t),T=t=>(f(t),t.left!==null&&t.left.left!==null&&t.left.left.isRed&&(t=g(t),f(t)),t),x=(t,r,e,n)=>{if(t===null)return new M(r);const i=e(r,t.value);return i===0?t.value=n(t.value,r):i<0?t.left=x(t.left,r,e,n):t.right=x(t.right,r,e,n),t.right!==null&&t.right.isRed&&!(t.left!==null&&t.left.isRed)&&(t=I(t)),t.left!==null&&t.left.isRed&&t.left.left!==null&&t.left.left.isRed&&(t=g(t)),t.left!==null&&t.left.isRed&&t.right!==null&&t.right.isRed&&f(t),t},z=t=>{for(;t.left!==null;)t=t.left;return t},V=t=>(t.right!==null&&t.right.isRed&&(t=I(t)),t.left!==null&&t.left.isRed&&t.left.left!==null&&t.left.left.isRed&&(t=g(t)),t.left!==null&&t.left.isRed&&t.right!==null&&t.right.isRed&&f(t),t),E=t=>t.left===null?null:(!t.left.isRed&&!(t.left.left!==null&&t.left.left.isRed)&&(t=N(t)),t.left=E(t.left),V(t)),y=(t,r,e)=>{if(t===null)throw"Value not in set";if(e(r,t.value)<0){if(t.left===null)throw"Value not in set";!t.left.isRed&&!(t.left.left!==null&&t.left.left.isRed)&&(t=N(t)),t.left=y(t.left,r,e)}else{if(t.left!==null&&t.left.isRed&&(t=g(t)),t.right===null){if(e(r,t.value)===0)return null;throw"Value not in set"}!t.right.isRed&&!(t.right.left!==null&&t.right.left.isRed)&&(t=T(t)),e(r,t.value)===0?(t.value=z(t.right).value,t.right=E(t.right)):t.right=y(t.right,r,e)}return t!==null&&(t=V(t)),t};class O extends b{constructor(r){super(),this.options=r,this.comparator=this.options.comparator,this.onInsertConflict=this.options.onInsertConflict,this.root=null}insert(r){this.root=x(this.root,r,this.comparator,this.onInsertConflict),this.root.isRed=!1}remove(r){this.root=y(this.root,r,this.comparator),this.root!==null&&(this.root.isRed=!1)}}const S={OnInsertConflictThrow:(t,r)=>{throw new Error("Value already in set")},OnInsertConflictReplace:(t,r)=>r,OnInsertConflictIgnore:(t,r)=>t};class p extends u{constructor(r){r||(r={}),r.strategy||(r.strategy=O),r.comparator||(r.comparator=function(e,n){return(e||0)-(n||0)}),r.onInsertConflict||(r.onInsertConflict=S.OnInsertConflictThrow),super(r)}}return p.ArrayStrategy=d,p.BinaryTreeStrategy=k,p.RedBlackTreeStrategy=O,Object.assign(p,S),p})})(j);var A=j.exports;const G=D(A),$=F({__proto__:null,default:G},[A]);export{$ as s};
